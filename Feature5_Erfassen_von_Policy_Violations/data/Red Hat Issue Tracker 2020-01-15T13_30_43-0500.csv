Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Component/s,Component/s,Component/s,Component/s,Component/s,Component/s,Due Date,Votes,Labels,Labels,Labels,Labels,Labels,Labels,Description,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Outward issue link (Causality),Outward issue link (Causality),Outward issue link (Cloners),Outward issue link (Cloners (old)),Outward issue link (Dependency),Outward issue link (Dependency),Outward issue link (Dependency),Outward issue link (Dependency),Outward issue link (Dependency),Outward issue link (Dependency),Outward issue link (Documentation),Outward issue link (Duplicate),Outward issue link (Related),Outward issue link (Related),Outward issue link (Related),Outward issue link (Sequence),Outward issue link (Sequence),Outward issue link (Sequence),Outward issue link (Sequence),Outward issue link (Sequence),Outward issue link (Sequence),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Acceptance Criteria),Custom field (Affects),Custom field (Affects),Custom field (Affects),Custom field (Affects Testing),Custom field (Bugzilla References),Custom field (CDW blocker),Custom field (CDW devel_ack),Custom field (CDW docs_ack),Custom field (CDW exception),Custom field (CDW pm_ack),Custom field (CDW qa_ack),Custom field (CDW release),Custom field (Cascading Select),Custom field (Date of First Comment),Custom field (Delivery Owner),Custom field (Effort),Custom field (Epic Colour),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Estimated Difficulty),Custom field (Forum Reference),Custom field (Git Pull Request),Custom field (Git Pull Request),Custom field (Git Pull Request),Custom field (Git Pull Request),Custom field (Git Pull Request),Custom field (Git Pull Request),Custom field (Help Desk Ticket Reference),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Notes),Custom field (Number of attachments),Custom field (Number of comments),Custom field (Original story points),Custom field (Parent Link),Custom field (Patch Instructions),Custom field (Patch Repository Link),Custom field (Percent complete),Custom field (Percent confident),Custom field (Product),Custom field (QA Contact),Custom field (QE Acceptance Test Link),Custom field (Rank),Custom field (Rank (Obsolete)),Custom field (Release Notes Text),Custom field (SFDC Cases Counter),Custom field (SFDC Cases Links),Custom field (SVN / CVS Isolated Branch),Custom field (SourceForge Reference),Custom field (Stackoverflow ID),Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (Support Case Reference),Custom field (Target Release),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Tester),Custom field (User Story),Custom field (Workaround),Custom field (Workaround Description),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
[CVE-2016-3720]: Usage of vulnarable Jackson 1.9.13 libraries,WFLY-11887,12798361,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,brian.stansberry,rady66,rady66,20/Mar/19 8:09 PM,06/Jan/20 4:34 PM,15/Jan/20 1:24 PM,02/Oct/19 2:32 PM,14.0.0.Final,,,,,18.0.0.Final,,,REST,,,,,,,0,,,,,,,"We have a couple of high prio vulnerabilities reported around usage of Jackson libraries on WildFly with regards to CVE-2016-3720:

{code:java}
jackson-core-asl-1.9.13.jar	
jackson-jaxrs-1.9.13.jar	
jackson-mapper-asl-1.9.13.jar	
jackson-xc-1.9.13.jar
{code}

Could you please review and remove/update them?
",,,,,,,,,,,,,,,,,,,,,WFLY-6713,WFLY-12670,,,,,,,,WFLY-12907,,,,,,,"02/Oct/19 2:34 PM;brian.stansberry;redhat-0006.txt;https://issues.redhat.com/secure/attachment/12456086/redhat-0006.txt",,,,,,,,,,,,,,,,,,,2019-03-25 22:39:47.0,,,,,,,,,,,,,,,,asoldano,jamezp,kabirkhan,mkopecky,msvehla,ron_sigal,tomjenkinson,wolfc,,1.0,9.0,,,,,,,,,,"1|z04530:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Mar/19 10:39 PM;brian.stansberry;[~rsigal] [~asoldano] FYI.

I believe that CVE does not actually apply to the artifacts in the description and was only about jackson-dataformat-xml, which was updated via https://issues.jboss.org/browse/WFLY-6713.

See https://github.com/jeremylong/DependencyCheck/issues/517 for a discussion of how the CVE was published in such a way that it wrongly appears to impact unrelated libraries.","29/Apr/19 10:07 PM;rady66;Any plans on those here?","01/May/19 1:22 PM;brian.stansberry;[~rady66] We're evaluating whether CVE-2016-3720 actually applies to Jackson 1.9.13. The specific classes in question don't exist in Jackson 1.

This is taking some time, but we're definitely not ignoring this.

Oh, and my saying this is long overdue... Thanks for the report!","05/May/19 9:25 PM;rady66;Thanks, Brian. That's my initial thoughts, so confirming that is false positive would be enough. 
BTW is that the right path (creating Jira items) to ask for false positives?","07/Jun/19 4:37 PM;brian.stansberry;[~rady66] I wanted to let you know that we've determined CVE-2016-3720 does not apply to Codehaus Jackson 1.9.13. The relevant classes are not present. ","10/Jun/19 8:28 PM;rady66;Thanks, [~brian.stansberry].","11/Jun/19 8:55 AM;jamezp;Can we get a status update on this?","02/Oct/19 2:32 PM;brian.stansberry;Thank you for your report of this!

After investigating the applicability to Codehaus Jackson 1.x of various CVEs reported against FasterXML Jackson 2.x, particularly the jackson-databind project, we determined that while the code in the two projects is quite different, the basic issue of the jackson polymorphic deserialization feature being vulnerable to attacks applied to Codehaus Jackson 1.9.x as well.

Red Hat chose to file a CVE for this[1,] which became public this week.

Red Hat produced a patched version of 1.9.13 for use in its products. See [2].

As the binaries and source for that patched version are publicly available[3], use of that version is suitable for WildFly in order to resolve this issue.

The basic solution to the issue is to prevent the polymorphic deserialization feature from deserializing classes in packages that have not be explicitly allowed via a whitelist. The whitelist is configured using the system property 'jackson.deserialization.whitelist.packages'.

I'll attach a file showing the detail of the change.

[1] https://access.redhat.com/security/cve/cve-2019-10202
[2] https://access.redhat.com/errata/RHSA-2019:2937
[3] https://maven.repository.redhat.com/ga/org/codehaus/jackson/jackson-mapper-asl/1.9.13.redhat-00006/","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,
Upgrade org.slf4j.ext from 1.7.22 to 1.7.22.jbossorg-1,WFLY-10017,12739227,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,13/Mar/18 2:54 PM,06/Jan/20 11:12 AM,15/Jan/20 1:31 PM,14/Mar/18 6:34 AM,,,,,,13.0.0.Beta1,13.0.0.Final,,Logging,,,,,,,0,,,,,,,The {{org.slf4j:slf4j-ext}} component needs to be upgraded from 1.7.22 to 1.7.22.jbossorg-1.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JBEAP-14313,JBEAP-14466,WFLY-12906,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 21:14:52.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/11005,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hzw6bz:",9223372036854775807,"The {{org.slf4j.ext.EventData(String)}} constructor now throws a {{SecurityException}} if invoked. This constructor is not used in slf4j, in other WildFly modules and likely not in deployments.",0.0,,,,,,,,,,,,,,,,"02/Oct/19 9:14 PM;brian.stansberry;Bulk closing issues resolved as Done for WF 13 Fix Version",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade RESTEasy to 3.10.0.Final,WFLY-12912,12895265,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,asoldano,istudens,ron_sigal,26/Dec/19 1:33 PM,26/Dec/19 1:34 PM,15/Jan/20 1:31 PM,26/Dec/19 1:34 PM,,,,,,19.0.0.Beta1,,,REST,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-12575,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12814,https://github.com/wildfly/wildfly/pull/12818,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z0k284:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improper handling of application exceptions on asynchronous ejb invocations,WFLY-9624,12725690,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,,andrejkolontai,andrejkolontai,20/Dec/17 4:57 AM,23/Dec/19 11:57 AM,15/Jan/20 1:31 PM,02/Jan/18 9:04 AM,11.0.0.Final,,,,,12.0.0.Beta1,12.0.0.Final,,EJB,,,,,,,0,,,,,,,"If an asynchronous invocation of an ejb method throws an application exception (declared exception) then the returned future will always return false on isDone(). That means: the client will never know that the operation has finished (unscuccessfully) unless get() is called which would rethrow the original exception.

This behavior has changed from wildfly 10.1.0.Final to 11.0.0.Final. 

I pretty sure that the problem is in org.jboss.as.ejb3.component.interceptors.AsyncInvocationTask.

The isDone Method is implemented like this:

{noformat}
    @Override
    public boolean isDone() {
        return status == ST_DONE;
    }
{noformat}

But status can be one of:
{noformat}
    private static final int ST_RUNNING = 0;
    private static final int ST_DONE = 1;
    private static final int ST_CANCELLED = 2;
    private static final int ST_FAILED = 3;
{noformat}

And and exception sets the status to 

{noformat}
    private synchronized void setFailed(final Exception e) {
        this.failed = e;
        status = ST_FAILED;
        done();
    }
{noformat}

So it's pretty obvious. 

The javadoc on java.util.concurrent.Future states:

{quote}
Completion may be due to normal termination, an exception, or cancellation -- in all of these cases, this method will return true.
{quote}

So the isDone() method should  look more like this:
{noformat}
    @Override
    public boolean isDone() {
        return status == ST_DONE || status == ST_FAILED || status == ST_CANCELLED;
    }
{noformat}

In wildfly 10, there was a single boolean variable ""done"" which was set to true in all three cases:
* cancel()
* setResult(...) and
* setFailed(...)

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Compatibility/Configuration,,,,,,,,,,,,,2019-10-02 21:17:53.0,,,,,,,Low,,https://github.com/wildfly/wildfly/pull/10722,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hzu6lz:",9223372036854775807,,0.0,,,,,"Create the following ejb:
{noformat}
@Singleton
public class AsyncBean {

	@Asynchronous
	public Future<Void> doSomeStuff() throws MyException {
		throw new MyException();
	}
}
{noformat}

Call ths bean and poll the result via isDone(). It will never return true.

On wildfly 10, it would immidiatly return true.",,,,,,,,,,,"02/Oct/19 9:17 PM;brian.stansberry;Bulk closing issues resolved as Done with a WF 12 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,
Support JMS Java EE resources definition for remote Artemis-based broker ,WFLY-10493,12753219,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,jmesnil,jmesnil,04/Jun/18 5:56 AM,23/Dec/19 4:53 AM,15/Jan/20 1:31 PM,23/Jan/19 3:40 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,JMS,,,,,,,0,,,,,,,"The Java EE7 specifies annotation and XML configuration to define JMS resources (connection factories, queues and topics), for example the application can use https://docs.oracle.com/javaee/7/api/javax/jms/JMSDestinationDefinition.html to define a JMS destination.

This support is provided by the messaging-activemq subsystem.
If the resourceAdapter property is not specified, the resources are created by the Artemis broker embedded in WildFly.
If the resourceAdapter property is specified, the messaging-activemq subsystem delegates to IronJacamar that uses the Resource Adapter's admin objects to create the JMS resources.

There is one use case that is not supported by the current state: define JMS resources to communicate with a remote Artemis-based broker (such as AMQ 7).

This RFE addresses this missing use case.",,,,,,,,,,,EAP7-1006,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Documentation (Ref Guide, User Guide, etc.)",Release Notes,,,,,,,,,,,,2019-10-02 19:01:10.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hzy98n:",9223372036854775807,,0.0,,,,,,,,,,,,mnovak,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,
WELD-000119: Not generating any bean definitions from..class loading error: Type java.net.http.HttpClient,WFLY-12886,12843101,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Explained,manovotn,nimo22,nimo22,13/Dec/19 7:50 PM,20/Dec/19 4:15 AM,15/Jan/20 1:31 PM,20/Dec/19 4:15 AM,17.0.1.Final,,,,,,,,CDI / Weld,,,,,,,0,,,,,,,"I get this info when starting wildfly server:

{code:java}
01:33:09,168 INFO  [org.jboss.weld.Bootstrap] WELD-000119: Not generating any bean definitions from com.utils.WebUtils because of underlying class loading error: Type java.net.http.HttpClient from [Module ""deployment.myapp.war"" from Service Module Loader] not found. 
{code}


My WebUtils.class imports:

{code:java}
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse.BodyHandlers;
{code}


Should I include java se module by myself in wildfly to remove this log?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-12-19 04:28:59.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,7.0,,,,,,,,,,"1|z0b55o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Dec/19 4:28 AM;manovotn;Hi [~nimo22]

Weld give you this error whenever it tries (and fails) to load a class with missing dependencies. E.g. when your class references a class Y and Y is not found on classpath.
I think the module is actually there, if it weren't, you wouldn't be able to start the server. Looks like it's not ""visible"" to your application for some reason.
Does adding it yourself help anyhow?

Also, if you have a reproducer, I could take a look at it.","19/Dec/19 5:23 AM;nimo22;Put the following class in a typcial war and start wildfly

{code:java}
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse.BodyHandlers;
import java.time.Duration;
import java.util.Map;

import javax.ws.rs.client.Client;
import javax.ws.rs.client.ClientBuilder;
import javax.ws.rs.client.Entity;
import javax.ws.rs.client.Invocation;
import javax.ws.rs.client.WebTarget;
import javax.ws.rs.core.MultivaluedHashMap;
import javax.ws.rs.core.MultivaluedMap;
import javax.ws.rs.core.Response;

import org.jboss.logging.Logger;

public final class WebTool {

	private WebTool(){}
	
	private static Logger log = Logger.getLogger(WebTool.class);

	public static Response doPostRequest(Client httpClient, String uri, Entity<?> entity) {
		WebTarget target = httpClient.target(uri);
		Invocation request = target.request().buildPost(entity);
		return request.invoke();
	}

}
{code}

, then 
{code:java}
WELD-000119
{code}
 is shown in the log. If not, then use any static methods of WebTool.class within a cdi scoped bean.





I dont know why weld is needed for a normal static class. The class does not make use of cdi. However, the methods of the WebTool.class is used within cdi scoped beans. ","19/Dec/19 6:30 AM;manovotn;bq. I dont know why weld is needed for a normal static class. 

Aren't you using empty {{beans.xml}}? Because in that case a CDI discovery mode {{all}} is used and Weld will try to convert all possible classes into beans meaning it will attempt to do just that for your {{WebTool}} class as well.","19/Dec/19 7:26 AM;manovotn;Hmm, I cannot reproduce the problem.
I took a [WFLY quickstart|https://github.com/wildfly/quickstart/tree/18.0.1.Final/payment-cdi-event] that uses CDI bean with discovery mode {{all}}, added your class in, added a method that somehow utilized {{HttpClient}} (else it was just an empty import), then called this method from a bean.
And I still don't see {{WELD-000119}} in the log...","19/Dec/19 5:02 PM;nimo22;>Aren't you using empty beans.xml?

yes, my beans.xml is emtpy.

>Hmm, I cannot reproduce the problem.

Actually, I use wildfly 17..and I see ""WELD-000119"" *on every log on restart.*.I cannot confirm this on wf 18..I also enabled DEBUG log to see more:

{code:java}

..
03:22:14,144 INFO  [io.smallrye.metrics] MicroProfile: Metrics activated
03:22:14,185 WARN  [org.jboss.weld.Bootstrap] WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType<?>) used for class com.sun.faces.flow.FlowDiscoveryCDIHelper is deprecated from CDI 1.1!
03:22:14,485 INFO  [org.jboss.weld.Bootstrap] WELD-000119: Not generating any bean definitions from com.utils.WebUtils because of underlying class loading error: Type java.net.http.HttpClient from [Module ""deployment.myapp.war"" from Service Module Loader] not found. If this is unexpected, enable DEBUG logging to see the full error.
03:22:15,508 DEBUG [org.jboss.as.jpa] ServerService Thread Pool -- 81:transaction scoped EntityManager [ki.war#PU_QI]: created entity manager session Local transaction (delegate=TransactionImple < ac, BasicAction: 0:ffff7f000001:50467e87:5dfadec2:11 status: ActionStatus.RUNNING >, owner=Local transaction context for provider JBoss JTA transaction provider)
..
{code}

However, all works, I dont see any errors. I dont think it`s important..
","20/Dec/19 3:15 AM;manovotn;bq. Actually, I use wildfly 17

I did try With 18 and 17 and didn't see that in either.

bq. However, all works, I dont see any errors. I dont think it`s important..

Yea, that's what I was trying to explain above. The log just tells you that your util class won't become a CDI bean but you aren't really using it as CDI bean anywhere, so you are safe.
You could also annotate that class with {{@Vetoed}} which will prevent Weld from trying to make it a bean. ","20/Dec/19 3:56 AM;nimo22;Thanks! With @Vetoed the log of WELD-000119 is not shown anymore. I think the issue can be closed as there is no bug.",,,,,,,,,,,,,,,,,,,,
Upgrade JAXB from 2.3.1 to 2.3.3,WFLY-12873,12842668,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Duplicate Issue,gaol,ivassile,ivassile,11/Dec/19 4:36 PM,18/Dec/19 2:37 AM,15/Jan/20 1:31 PM,17/Dec/19 9:15 PM,,,,,,,,,Build System,,,,,,,0,,,,,,,https://github.com/eclipse-ee4j/jaxb-ri/,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12874,,,,,,,,,,,,,,,,,,,,,,,,,,2019-12-17 21:15:03.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0b2l8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Dec/19 9:15 PM;gaol;[~ivassile] Sorry that I oversight this issue and made a PR to another: WFLY-12892, so I close this  as duplicated. :)",,,,,,,,,,,,,,,,,,,,,,,,,,
JAXB Unmarshaller tries to instantiate abstract class ignoring xsi:type if it is a list element,WFLY-12874,12842669,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,vrlgohel,ivassile,ivassile,11/Dec/19 4:37 PM,17/Dec/19 9:17 PM,15/Jan/20 1:31 PM,17/Dec/19 9:16 PM,,,,,,,,,,,,,,,,0,downstream_dependency,,,,,,"Upstream Issue: https://github.com/eclipse-ee4j/jaxb-ri/issues/1135
Upstream PR: https://github.com/eclipse-ee4j/jaxb-ri/pull/1294",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-12-17 21:16:40.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0b2lg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Dec/19 9:16 PM;gaol;[~ivassile] Also this one ;)",,,,,,,,,,,,,,,,,,,,,,,,,,
Clustering: java.lang.ClassCastException when SYBASE is used as invalidation-cache,WFLY-12889,12893518,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Rejected,pferraro,tommaso-borgato,tommaso-borgato,17/Dec/19 4:56 AM,17/Dec/19 10:49 AM,15/Jan/20 1:25 PM,17/Dec/19 10:49 AM,19.0.0.Beta1,,,,,,,,Clustering,,,,,,,0,,,,,,,"The error happens when using relational database SYBASE as invalidation cache for storing HTTP session data;
EAP is configured as follows:

{noformat}
embed-server --server-config=standalone-ha.xml
/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=tcp)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload:add()
/subsystem=infinispan/cache-container=web/invalidation-cache==offload/component=transaction:write-attribute(name=mode, value=BATCH)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/component=locking:write-attribute(name=isolation, value=REPEATABLE_READ)
data-source add --name=testDS --jndi-name=java:jboss/datasources/testDS --driver-name=sybase-connector.jar --connection-url=jdbc:sybase:Tds:sybase-160.hosts.mwqe.eng.bos.redhat.com:5000/dballo03 --enabled=true --jta=true --use-java-context=true --transaction-isolation=TRANSACTION_READ_COMMITTED --min-pool-size=1 --max-pool-size=5 --pool-prefill=true --user-name=dballo03 --password=dballo03 --prepared-statements-cache-size=32 --share-prepared-statements=true
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc:add(data-source=testDS,fetch-state=false,passivation=false,purge=false,shared=true,dialect=SYBASE){allow-resource-service-restart=true}
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=prefix,value=s)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=id-column.name,value=id)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=id-column.type,value=VARCHAR(255))
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=data-column.name,value=datum)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=data-column.type,value=IMAGE)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=timestamp-column.name,value=version)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=timestamp-column.type,value=BIGINT)
/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache, value=offload)
/subsystem=transactions:write-attribute(name=node-identifier,value=wildfly3)
{noformat}

As soon as the first HTTP request is sent to server we get the following:

{noformat}
2019-12-17 08:36:13,821 INFO  [org.jboss.test.clusterbench.common.session.CommonHttpSessionServlet] (default task-1) New session created: mVGeUKuqqi-DZJdRTEiT7hxq9XVu_beIprUvi3to with 4kB cargo
2019-12-17 08:36:14,156 WARN  [org.jboss.jca.core.connectionmanager.listener.TxConnectionListener] (default task-1) IJ000305: Connection error occured: org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@26270b42[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@11ee2446 connection handles=1 lastReturned=1576571773800 lastValidated=1576571714494 lastCheckedOut=1576571774106 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@48ad5723 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@38a84373[pool=testDS] xaResource=LocalXAResourceImpl@56beec82[connectionListener=26270b42 connectionManager=26eda85 warned=false currentXid=null productName=Adaptive Server Enterprise productVersion=16.0.02.05 jndiName=java:jboss/datasources/testDS] txSync=null]: java.lang.ClassCastException: class java.io.ByteArrayInputStream cannot be cast to class com.sybase.jdbc4.jdbc.SybLob (java.io.ByteArrayInputStream is in module java.base of loader 'bootstrap'; com.sybase.jdbc4.jdbc.SybLob is in unnamed module of loader 'deployment.sybase-connector.jar' @4b04036f)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.TdsParam.prepareForSend(TdsParam.java:229)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.ParamManager.checkParams(ParamManager.java:1179)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.Tds.sendDynamicExecuteParams(Tds.java:1499)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.Tds.dynamicExecute(Tds.java:1403)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybPreparedStatement.sendQuery(SybPreparedStatement.java:2887)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.sendBatch(SybStatement.java:1922)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.executeBatch(SybStatement.java:1881)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.executeBatch(SybStatement.java:1799)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybPreparedStatement.executeBatch(SybPreparedStatement.java:1831)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.CachedPreparedStatement.executeBatch(CachedPreparedStatement.java:714)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.WrappedStatement.executeBatch(WrappedStatement.java:1180)
	at org.infinispan.persistence.jdbc@9.4.16.Final-redhat-00002//org.infinispan.persistence.jdbc.stringbased.JdbcStringBasedStore.writeBatch(JdbcStringBasedStore.java:302)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.persistence.manager.PersistenceManagerImpl.lambda$writeBatchToAllNonTxStores$17(PersistenceManagerImpl.java:718)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.persistence.manager.PersistenceManagerImpl.writeBatchToAllNonTxStores(PersistenceManagerImpl.java:718)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.store(CacheWriterInterceptor.java:410)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.commitCommand(CacheWriterInterceptor.java:128)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitPrepareCommand(CacheWriterInterceptor.java:114)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.prepareHandler(EntryWrappingInterceptor.java:178)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.wrapEntriesForPrepareAndApply(EntryWrappingInterceptor.java:847)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:173)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:41)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:120)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.TxInterceptor.handlePrepareCommand(TxInterceptor.java:158)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.TxInterceptor.visitPrepareCommand(TxInterceptor.java:127)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:183)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:203)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:69)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.BatchingInterceptor.handleDefault(BatchingInterceptor.java:69)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:156)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.impl.TransactionTable.afterCompletion(TransactionTable.java:861)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:33)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.notifyAfterCompletion(TransactionImpl.java:512)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:338)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
	at org.wildfly.clustering.ee.cache@7.3.0.GA-redhat-00001//org.wildfly.clustering.ee.cache.tx.TransactionalBatch.close(TransactionalBatch.java:98)
	at org.wildfly.clustering.web.undertow@7.3.0.GA-redhat-00001//org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:87)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:950)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:627)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)
	at io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-12-17 08:36:15,174 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (default task-1) ISPN000136: Error executing command PrepareCommand on Cache 'cbnc.ear.a.war', writing keys [SessionAccessMetaDataKey(mVGeUKuqqi-DZJdRTEiT7hxq9XVu_beIprUvi3to), SessionCreationMetaDataKey(mVGeUKuqqi-DZJdRTEiT7hxq9XVu_beIprUvi3to), SessionAttributesKey(mVGeUKuqqi-DZJdRTEiT7hxq9XVu_beIprUvi3to)]: org.infinispan.persistence.spi.PersistenceException: ISPN008037: Error while writing entries in batch to the database:
	at org.infinispan.persistence.jdbc@9.4.16.Final-redhat-00002//org.infinispan.persistence.jdbc.stringbased.JdbcStringBasedStore.writeBatch(JdbcStringBasedStore.java:305)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.persistence.manager.PersistenceManagerImpl.lambda$writeBatchToAllNonTxStores$17(PersistenceManagerImpl.java:718)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.persistence.manager.PersistenceManagerImpl.writeBatchToAllNonTxStores(PersistenceManagerImpl.java:718)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.store(CacheWriterInterceptor.java:410)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.commitCommand(CacheWriterInterceptor.java:128)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitPrepareCommand(CacheWriterInterceptor.java:114)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.prepareHandler(EntryWrappingInterceptor.java:178)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.wrapEntriesForPrepareAndApply(EntryWrappingInterceptor.java:847)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:173)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:41)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:120)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.TxInterceptor.handlePrepareCommand(TxInterceptor.java:158)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.TxInterceptor.visitPrepareCommand(TxInterceptor.java:127)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:183)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:203)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:69)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.BatchingInterceptor.handleDefault(BatchingInterceptor.java:69)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:156)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.impl.TransactionTable.afterCompletion(TransactionTable.java:861)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:33)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.notifyAfterCompletion(TransactionImpl.java:512)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:338)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
	at org.wildfly.clustering.ee.cache@7.3.0.GA-redhat-00001//org.wildfly.clustering.ee.cache.tx.TransactionalBatch.close(TransactionalBatch.java:98)
	at org.wildfly.clustering.web.undertow@7.3.0.GA-redhat-00001//org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:87)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:950)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:627)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)
	at io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.sql.SQLException: Error
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.WrappedConnection.checkException(WrappedConnection.java:2046)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.WrappedStatement.checkException(WrappedStatement.java:1436)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.WrappedStatement.executeBatch(WrappedStatement.java:1184)
	at org.infinispan.persistence.jdbc@9.4.16.Final-redhat-00002//org.infinispan.persistence.jdbc.stringbased.JdbcStringBasedStore.writeBatch(JdbcStringBasedStore.java:302)
	... 82 more
Caused by: java.lang.ClassCastException: class java.io.ByteArrayInputStream cannot be cast to class com.sybase.jdbc4.jdbc.SybLob (java.io.ByteArrayInputStream is in module java.base of loader 'bootstrap'; com.sybase.jdbc4.jdbc.SybLob is in unnamed module of loader 'deployment.sybase-connector.jar' @4b04036f)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.TdsParam.prepareForSend(TdsParam.java:229)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.ParamManager.checkParams(ParamManager.java:1179)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.Tds.sendDynamicExecuteParams(Tds.java:1499)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.Tds.dynamicExecute(Tds.java:1403)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybPreparedStatement.sendQuery(SybPreparedStatement.java:2887)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.sendBatch(SybStatement.java:1922)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.executeBatch(SybStatement.java:1881)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.executeBatch(SybStatement.java:1799)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybPreparedStatement.executeBatch(SybPreparedStatement.java:1831)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.CachedPreparedStatement.executeBatch(CachedPreparedStatement.java:714)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.WrappedStatement.executeBatch(WrappedStatement.java:1180)
	... 83 more
{noformat}

We used Java 11.0.4:
{noformat}
[hudson@eap-clustering-net3-7 ~]$ java -version
java version ""11.0.4"" 2019-07-16 LTS
Java(TM) SE Runtime Environment 18.9 (build 11.0.4+10-LTS)
Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.4+10-LTS, mixed mode)
{noformat}

We used the following driver and database:
* JDBC driver [jconn4.jar|http://10.19.64.31/jdbc-drivers-products/EAP/7.2.0/sybase157/jdbc4/jconn4.jar]
* Database sybase160

The table objects are present in the DB, e.g.:
{noformat}
CREATE TABLE ""dballo03"".""s_cbnc_ear_a_war""
(
   id varchar(255) PRIMARY KEY NOT NULL,
   datum image NOT NULL,
   version numeric(19) NOT NULL
)
GO
CREATE UNIQUE INDEX s_cbnc_ear_17249837532 ON ""dballo03"".""s_cbnc_ear_a_war""(id)
GO
CREATE INDEX s_cbnc_ear_a_war_timestamp_index ON ""dballo03"".""s_cbnc_ear_a_war""(version)
GO
{noformat}


Complete logs attached in the liked issue.

The issue has been files as blocker because we don't have a workaround at the moment and SYBASE is one of the supported databases",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-12-17 10:13:14.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0js38:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Dec/19 10:13 AM;pferraro;Can you try using VARBINARY for the datum column type?
Otherwise, this looks like a bug in (or a misalignment with) the jconnect JDBC driver.  According to the jconnect documentation, getBinaryStream(...) should be compatible with the image column type.",,,,,,,,,,,,,,,,,,,,,,,,,,
7.0.x ejb-security-interceptors quickstart does not work on 7.1,WFLY-9134,12704731,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,fjuma,fjuma,fjuma,25/Jul/17 6:28 PM,12/Dec/19 4:51 PM,15/Jan/20 1:25 PM,27/Jul/17 7:44 PM,,,,,,11.0.0.Beta1,,,Quickstarts,Security,,,,,,0,,,,,,,"The quickstart should be re-added and fixed to demonstrate identity switching on EJB client with legacy security.

As of JBoss EAP 7.1.0.ER2, this quickstart fails with the following message:
{code}* * * * * * * * * * * * * * * * * * * * * * * * * * * * * *


Jul 10, 2017 6:24:39 PM org.jboss.ejb.client.EJBClient <clinit>
INFO: JBoss EJB Client version 2.1.4.Final-redhat-1
This first round of tests is using the (PicketBox) SecurityContextAssociation API to set the desired Principal.


-------------------------------------------------
* * About to perform test as ConnectionUser * *


* Making Direct Calls to the SecuredEJB

Jul 10, 2017 6:24:39 PM org.xnio.Xnio <clinit>
INFO: XNIO version 3.3.6.Final-redhat-1
Jul 10, 2017 6:24:39 PM org.xnio.nio.NioXnio <clinit>
INFO: XNIO NIO Implementation Version 3.3.6.Final-redhat-1
Jul 10, 2017 6:24:39 PM org.jboss.remoting3.EndpointImpl <clinit>
INFO: JBoss Remoting version 4.0.18.Final-redhat-1
Jul 10, 2017 6:24:40 PM org.jboss.ejb.client.remoting.VersionReceiver handleMessage
INFO: EJBCLIENT000017: Received server version 3 and marshalling strategies [river]
Jul 10, 2017 6:24:40 PM org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver associate
INFO: EJBCLIENT000013: Successful version handshake completed for receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@57855c9a, receiver=Remoting connection EJB receiver [connection=org.jboss.ejb.client.remoting.ConnectionPool$PooledConnection@3b084709,channel=jboss.ejb,nodename=dev109]} on channel Channel ID d2a606da (outbound) of Remoting connection 5f282abb to localhost/127.0.0.1:8080
* getSecurityInformation()=[Principal={ConnectionUser}, In role {User}=true, In role {RoleOne}=false, In role {RoleTwo}=false]
* Can call roleOneMethod()=false
* Can call roleTwoMethod()=false

* Calling the IntermediateEJB to repeat the test server to server 

* * IntermediateEJB - Begin Testing * * 
SecuredEJBRemote.getSecurityInformation()=[Principal={ConnectionUser}, In role {User}=true, In role {RoleOne}=false, In role {RoleTwo}=false]
Can call roleOneMethod=false
Can call roleTwoMethod=false
* * IntermediateEJB - End Testing * * 
* * Test Complete * * 



-------------------------------------------------
-------------------------------------------------
* * About to perform test as AppUserOne * *


* Making Direct Calls to the SecuredEJB

* * Test Complete * * 



-------------------------------------------------
Exception in thread ""main"" javax.ejb.EJBAccessException: WFLYSEC0027: Invalid User
	at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:69)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:49)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:97)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.quickstarts.ejb_security_interceptors.ServerSecurityInterceptor.aroundInvoke(ServerSecurityInterceptor.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ejb3.component.ContainerInterceptorMethodInterceptorFactory$ContainerInterceptorMethodInterceptor.processInvocation(ContainerInterceptorMethodInterceptorFactory.java:91)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:50)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:609)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:380)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeWithIdentity(AssociationImpl.java:483)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeMethod(AssociationImpl.java:478)
	at org.jboss.as.ejb3.remote.AssociationImpl.lambda$receiveInvocationRequest$0(AssociationImpl.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
	at ...asynchronous invocation...(Unknown Source)
	at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:96)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:276)
	at org.jboss.as.quickstarts.ejb_security_interceptors.ClientSecurityInterceptor.handleInvocationResult(ClientSecurityInterceptor.java:44)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)
	at org.jboss.ejb.client.EJBObjectInterceptor.handleInvocationResult(EJBObjectInterceptor.java:64)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)
	at org.jboss.ejb.client.EJBHomeInterceptor.handleInvocationResult(EJBHomeInterceptor.java:88)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)
	at org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:46)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)
	at org.jboss.ejb.client.ReceiverInterceptor.handleInvocationResult(ReceiverInterceptor.java:142)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:265)
	at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:453)
	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:204)
	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)
	at com.sun.proxy.$Proxy0.getSecurityInformation(Unknown Source)
	at org.jboss.as.quickstarts.ejb_security_interceptors.RemoteClient.makeCalls(RemoteClient.java:135)
	at org.jboss.as.quickstarts.ejb_security_interceptors.RemoteClient.performTestingSecurityContext(RemoteClient.java:62)
	at org.jboss.as.quickstarts.ejb_security_interceptors.RemoteClient.main(RemoteClient.java:171){code}",,,,,,,,,,,JBEAP-12290,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,+,,,,,,,,2017-12-06 11:48:35.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|hzqxb3:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"27/Jul/17 2:47 PM;fjuma;Reopening since the corresponding JBEAP issue was also reopened.","06/Dec/17 11:48 AM;kabirkhan;Bulk closing issues ",,,,,,,,,,,,,,,,,,,,,,,,,
Memory leak when deployment is redeployed multiple times,WFLY-10991,12768766,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,juraci.costa,jstourac,jstourac,07/Sep/18 9:25 AM,12/Dec/19 3:42 AM,15/Jan/20 1:25 PM,10/Sep/18 10:45 AM,14.0.0.Beta2,,,,,15.0.0.Beta1,15.0.0.Final,,MP OpenTracing,,,,,,,0,,,,,,,"It looks like redeploying attached deployment [^memoryLeaks.war] multiple times (our automated test does it 100 times), there seems to be some memory leak in the WildFly. Using git bisect, the commit that started to fail is [651dc8a2f0d4ccad6a35f7b1d28626b43ebb2a5d in WildFly repository|https://github.com/wildfly/wildfly/commits/651dc8a2f0d4ccad6a35f7b1d28626b43ebb2a5d]. That is why I selected MP OpenTracing component for this issue. Actual testing deployment is very simple and contains just some jsp file with some EJB classes that are used to call GC and check current heap usage.

Brief description of the test:
# attached deployment is deployed
# System.gc() is called via EJB call
# it checks initial heap usage at the beginning of the test via EJB call that checks all instances of ManagementFactory.getMemoryPoolMXBeans()
# deployment is redeployed 100 times
# calls System.gc() via EJP call again and checks heap usage again via EJB call and compares the results

Size of the extra heap in use is about 25MB plus when compared to the initial size.

I tried to check manually via [visualVM|https://visualvm.github.io/] tool. You can create a heapdump at the beginning of the test and at the end of the test. Then compare them easily and check the differences. Using a filter I can see quite a huge increase of instances of the {{org.jboss.modules.*}} classes. However, biggest memory footprint is huge increase of the instances of the {{java.util.HashMap$Node}}, {{char[]}}, {{java.util.HashMap$Node[]}} and few others. I don't see such huge increase of the instances of these classes when I use older build of WildFly prior to the problematic commit. To be honest I don't see direct link with the problematic commit I linked before. As the heapdumps are too big to be attached here, I am attaching some screenshots.

Also, when microprofile-opentracing-smallrye subsystem is removed via:
{code}
/subsystem=microprofile-opentracing-smallrye:remove()
{code}
then no more memory leak is detected, after adding the subsystem back, the leak is present again. Thus opentracing is involved somehow into this indeed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/18 8:39 AM;jstourac;memoryLeaks.war;https://issues.redhat.com/secure/attachment/12440285/memoryLeaks.war","07/Sep/18 9:23 AM;jstourac;problematic-wf-build-heap-diff-start-end-org-filter.png;https://issues.redhat.com/secure/attachment/12440283/problematic-wf-build-heap-diff-start-end-org-filter.png","07/Sep/18 9:23 AM;jstourac;problematic-wf-build-heap-diff-start-end.png;https://issues.redhat.com/secure/attachment/12440284/problematic-wf-build-heap-diff-start-end.png","07/Sep/18 9:24 AM;jstourac;sane-wf-build-heap-diff-start-end-org-filter.png;https://issues.redhat.com/secure/attachment/12440281/sane-wf-build-heap-diff-start-end-org-filter.png","07/Sep/18 9:23 AM;jstourac;sane-wf-build-heap-diff-start-end.png;https://issues.redhat.com/secure/attachment/12440282/sane-wf-build-heap-diff-start-end.png",,,,,,,,,,,,,,,2018-09-07 09:31:16.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/11654,,,,,,,,,,,,,,,,5.0,7.0,,,,,,,,,,"1|w0036w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"07/Sep/18 9:31 AM;juraci.costa;Could you try adding a TracerFactory service to your deployment, to get Jaeger out of the picture? We have examples of how to do that in the test suite and the NoopTracer could be used instead of the MockTracer.

https://github.com/wildfly/wildfly/blob/master/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/microprofile/opentracing/DeploymentWithTracerProducerTestCase.java#L30-L32

IIRC, no new Jaeger instances are created when a custom TraceFactory is provided, so, if the memory leak is related to Jaeger, it should disappear once you use NoopTracer.","07/Sep/18 10:59 AM;jstourac;Thanks for the tip, [~juraci.costa].

I've tried to add {{MockTracer}}, {{MockTracer}} and {{MockTracerFactory}} into deployment as is done in the example you posted. Now the leak is suddenly fixed. The very same applies also in case when I replace {{MockTracer}} with {{NoopTracer}} - no leak is present anymore.","07/Sep/18 11:02 AM;juraci.costa;So, we probably have a leak in Jaeger itself. I'll investigate this as part of TRACING-231","10/Sep/18 5:48 AM;juraci.costa;[~jstourac], are you getting 25MB extra for each deployment, or 25 MB after 100 re-deployments? I submitted a PR that solves a memory leak that I could find, but this is probably not the right fix if we are talking about 25 MB per deployment.

https://github.com/wildfly/wildfly/pull/11654","10/Sep/18 6:30 AM;juraci.costa;I was able to run the test and it seems it passes when the fix is applied:

{code}
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 120.088 s - in org.jboss.qa.management.web.UndeployMemoryLeakIT
...
[INFO] jbossqe-eap-tests-management-parent ................ SUCCESS [  0.217 s]
[INFO] jbossqe-eap-tests-management-common ................ SUCCESS [  8.609 s]
[INFO] jbossqe-eap-tests-management-integration-tests ..... SUCCESS [02:28 min]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 02:37 min
{code}

Without this fix, I get:

{code}
[ERROR]   UndeployMemoryLeakIT.undeployWithELTest:105 There was an increase in used heap size of 26521296 bytes. There is probably a leak, investigate. This might be caused by https://issues.jboss.org/browse/JBEAP-14901 
{code}","10/Sep/18 6:52 AM;jstourac;[~juraci.costa], yeah - the leak was 25MB for 100 re-deployments, so the fix you provided is probably the right-one.

Thank you for running our test against that version. I'll do that myself manually too but as test passed for you I believe that the fix is correct :)

EDIT: Already commented on MR on GitHub, but just for the reference - attached MR fixes the issue. Thanks Juraci!","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,
ConnectionSecurityContext.getConnectionPrincipals leads to IllegalStateException getConnectionPrincipals,WFLY-12518,12827193,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dastraub,dastraub,dastraub,09/Sep/19 5:58 AM,11/Dec/19 9:12 AM,15/Jan/20 1:31 PM,17/Sep/19 8:13 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Security,,,,,,,0,,,,,,,"The commit https://github.com/wildfly/wildfly/commit/121c02b004adaca76e306bf3e8c16b3056bd0db1#diff-554f8ec76c02b6cbacc688356f164fe8 leads direct to an IllegalStateException during anonymous login.
In this case is no Realm available and the constructor of new RealmUser(realm, principal.getName()) throws an IllegalStateException.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:50.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12612,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08nnw:",9223372036854775807,,0.0,,,,,"Our application use an ejb-interceptor to switch the user context of an remote invocation. The interceptor uses ConnectionSecurityContext.getConnectionPrincipals() to check the current connected user. But some server instances are configured without an SecurityRealm, to allow anonymous access. At this instances a IllegalStateException ""realm is null' stops the remote call.

Breakpoint hit: ""thread=default task-12"", org.jboss.as.security.api.ConnectionSecurityContext.getConnectionPrincipals(), line=75 bci=54

default task-12[1] locals
Method arguments:
Local variables:
con = instance of org.jboss.as.security.remoting.RemotingContext$RemotingRemoteConnection(id=39556)
principals = instance of java.util.HashSet(id=39557)
localIdentity = instance of org.wildfly.security.auth.server.SecurityIdentity(id=39558)
principal = instance of org.wildfly.security.auth.principal.AnonymousPrincipal(id=39559)
realm = null
",,,,,,,,,,,"09/Sep/19 6:21 AM;dastraub;Fix to prevent IllegalStateException
","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Clean up CMTTxInterceptor,WFLY-10146,12742324,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dmlloyd,dmlloyd,dmlloyd,29/Mar/18 1:51 PM,06/Dec/19 4:50 PM,15/Jan/20 1:31 PM,06/Apr/18 2:55 AM,,,,,,13.0.0.Beta1,13.0.0.Final,,EJB,,,,,,,0,,,,,,,"There are a lot of issues with CMTTxInterceptor which make the code hard to read, hard to debug, and hard to modify.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-6885,WFLY-3600,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 21:14:25.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/11097,https://github.com/wildfly/wildfly/pull/11086,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hzwmsv:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 9:14 PM;brian.stansberry;Bulk closing issues resolved as Done for WF 13 Fix Version",,,,,,,,,,,,,,,,,,,,,,,,,,
messaging subsystem bridge fails on differents Ip orders,WFLY-6747,12633687,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,ehugonnet,lpirazzini,lpirazzini,20/Jun/16 9:19 AM,04/Dec/19 6:22 AM,15/Jan/20 1:31 PM,04/Dec/19 6:22 AM,8.2.0.Final,,,,,,,,JMS,,,,,,,0,,,,,,,"While trying to setup a clustered environment with Wildfly 8.2.0.Final I needed a shared topic between servers (I have two Linux machines on AWS).
Everything works fine (domain creation, datasources/persistence unit, infinispan shared caches and Wildfly Console) except for HornetQ messaging subsystem.
I can't use discovery because I don't have a multicast address, so I defined a *domain.xml* like this:

            <subsystem xmlns=""urn:jboss:domain:messaging:2.0"">
                <hornetq-server>
                    <cluster-password>myPassword</cluster-password>
                    <backup>false</backup>
                    <shared-store>false</shared-store>
                    <journal-file-size>102400</journal-file-size>

                    <connectors>
                        <http-connector name=""http-connector"" socket-binding=""http"">
                            <param key=""http-upgrade-endpoint"" value=""http-acceptor""/>
                        </http-connector>
                        <http-connector name=""http-connector-throughput"" socket-binding=""http"">
                            <param key=""http-upgrade-endpoint"" value=""http-acceptor-throughput""/>
                            <param key=""batch-delay"" value=""50""/>
                        </http-connector>
                        <http-connector name=""cnode1"" socket-binding=""node1"">
                            <param key=""http-upgrade-endpoint"" value=""http-acceptor""/>
                        </http-connector>
                        <http-connector name=""cnode2"" socket-binding=""node2"">
                            <param key=""http-upgrade-endpoint"" value=""http-acceptor""/>
                        </http-connector>
                        <in-vm-connector name=""in-vm"" server-id=""0""/>
                    </connectors>

                    <acceptors>
                        <http-acceptor http-listener=""default"" name=""http-acceptor""/>
                        <http-acceptor http-listener=""default"" name=""http-acceptor-throughput"">
                            <param key=""batch-delay"" value=""50""/>
                            <param key=""direct-deliver"" value=""false""/>
                        </http-acceptor>
                        <in-vm-acceptor name=""in-vm"" server-id=""0""/>
                    </acceptors>

                    <cluster-connections>
                        <cluster-connection name=""my-cluster"">
                            <address>jms</address>
                            <connector-ref>http-connector</connector-ref>
                            <static-connectors>
                                <connector-ref>
                                    cnode1
                                </connector-ref>
                                <connector-ref>
                                    cnode2
                                </connector-ref>
                            </static-connectors>
                        </cluster-connection>
                    </cluster-connections>

                    <security-settings>
                        <security-setting match=""#"">
                            <permission type=""send"" roles=""guest""/>
                            <permission type=""consume"" roles=""guest""/>
                            <permission type=""createNonDurableQueue"" roles=""guest""/>
                            <permission type=""deleteNonDurableQueue"" roles=""guest""/>
                        </security-setting>
                    </security-settings>

                    <address-settings>
                        <address-setting match=""#"">
                            <dead-letter-address>jms.queue.DLQ</dead-letter-address>
                            <expiry-address>jms.queue.ExpiryQueue</expiry-address>
                            <max-size-bytes>10485760</max-size-bytes>
                            <page-size-bytes>2097152</page-size-bytes>
                            <message-counter-history-day-limit>10</message-counter-history-day-limit>
                            <redistribution-delay>1000</redistribution-delay>
                        </address-setting>
                    </address-settings>

                    <jms-connection-factories>
                        <connection-factory name=""InVmConnectionFactory"">
                            <connectors>
                                <connector-ref connector-name=""in-vm""/>
                            </connectors>
                            <entries>
                                <entry name=""java:/ConnectionFactory""/>
                            </entries>
                        </connection-factory>
                        <connection-factory name=""RemoteConnectionFactory"">
                            <connectors>
                                <connector-ref connector-name=""http-connector""/>
                            </connectors>
                            <entries>
                                <entry name=""java:jboss/exported/jms/RemoteConnectionFactory""/>
                            </entries>
                            <ha>true</ha>
                            <block-on-acknowledge>true</block-on-acknowledge>
                            <reconnect-attempts>-1</reconnect-attempts>
                        </connection-factory>
                        <pooled-connection-factory name=""hornetq-ra"">
                            <transaction mode=""xa""/>
                            <connectors>
                                <connector-ref connector-name=""in-vm""/>
                            </connectors>
                            <entries>
                                <entry name=""java:/JmsXA""/>
                                <entry name=""java:jboss/DefaultJMSConnectionFactory""/>
                            </entries>
                        </pooled-connection-factory>
                    </jms-connection-factories>

                    <jms-destinations>
                        ...
                        <jms-topic name=""MyTopic"">
                            <entry name=""java:/jms/topic/MyTopic""/>
                        </jms-topic>
                        ...
                    </jms-destinations>
                </hornetq-server>
            </subsystem>

            ...

        <socket-binding-group name=""full-ha-sockets"" default-interface=""public"">
            <socket-binding name=""ajp"" port=""${jboss.ajp.port:8009}""/>
            <socket-binding name=""http"" port=""${jboss.http.port:8080}""/>
            <socket-binding name=""https"" port=""${jboss.https.port:8443}""/>
            <socket-binding name=""jacorb"" interface=""unsecure"" port=""3528""/>
            <socket-binding name=""jacorb-ssl"" interface=""unsecure"" port=""3529""/>
            <socket-binding name=""jgroups-mping"" port=""0"" multicast-address=""${jboss.default.multicast.address:230.0.0.4}"" multicast-port=""45700""/>
            <socket-binding name=""jgroups-tcp"" port=""7600""/>
            <socket-binding name=""jgroups-tcp-fd"" port=""57600""/>
            <socket-binding name=""jgroups-udp"" port=""55200"" multicast-address=""${jboss.default.multicast.address:230.0.0.4}"" multicast-port=""45688""/>
            <socket-binding name=""jgroups-udp-fd"" port=""54200""/>
            <socket-binding name=""messaging-group"" port=""0"" multicast-address=""${jboss.messaging.group.address:231.7.7.7}"" multicast-port=""${jboss.messaging.group.port:9876}""/>
            <socket-binding name=""txn-recovery-environment"" port=""4712""/>
            <socket-binding name=""txn-status-manager"" port=""4713""/>
            <outbound-socket-binding name=""mail-smtp"">
                <remote-destination host=""localhost"" port=""25""/>
            </outbound-socket-binding>
            <outbound-socket-binding name=""node1"">
                <remote-destination host=""IP-A"" port=""8080""/>
            </outbound-socket-binding>
            <outbound-socket-binding name=""node2"">
                <remote-destination host=""IP-B"" port=""8080""/>
            </outbound-socket-binding>
        </socket-binding-group>
    </socket-binding-groups>

where IP-A is the Ip of the host with domain controller and a server, and IP-B is the address of the host with only a server instance.

If I invert those two IPs HornetQ doesn't create the bridge! The topic isn't shared, every message is processed only by the topic owned by the current server.
Why the order of sucjh addresses determines the correct behaviour of the messaging subsystem? I haven't found anything useful on the documentation, am I missing something??

This is the line which is written only in the order proposed which starts the HornetQ shared topics:

2016-06-20 12:18:17,943 INFO  [org.hornetq.core.server] (Thread-29 (HornetQ-server-HornetQServerImpl::serverUUID=ead3e226-2c7c-11e6-81c9-1fb90d688ead-2097612799)) HQ221027: Bridge ClusterConnectionBridge@4862c348 [name=sf.my-cluster.25728e77-2c02-11e6-8d49-3995f9ecf159, queue=QueueImpl[name=sf.my-cluster.25728e77-2c02-11e6-8d49-3995f9ecf159, postOffice=PostOfficeImpl [server=HornetQServerImpl::serverUUID=ead3e226-2c7c-11e6-81c9-1fb90d688ead]]@4ceda5a4 targetConnector=ServerLocatorImpl (identity=(Cluster-connection-bridge::ClusterConnectionBridge@4862c348 [name=sf.my-cluster.25728e77-2c02-11e6-8d49-3995f9ecf159, queue=QueueImpl[name=sf.my-cluster.25728e77-2c02-11e6-8d49-3995f9ecf159, postOffice=PostOfficeImpl [server=HornetQServerImpl::serverUUID=ead3e226-2c7c-11e6-81c9-1fb90d688ead]]@4ceda5a4 targetConnector=ServerLocatorImpl [initialConnectors=[TransportConfiguration(name=http-connector, factory=org-hornetq-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&http-upgrade-endpoint=http-acceptor&host=IP_B&http-upgrade-enabled=true], discoveryGroupConfiguration=null]]::ClusterConnectionImpl@1383156397[nodeUUID=ead3e226-2c7c-11e6-81c9-1fb90d688ead, connector=TransportConfiguration(name=http-connector, factory=org-hornetq-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&host=IP-A&http-upgrade-endpoint=http-acceptor&http-upgrade-enabled=true, address=jms, server=HornetQServerImpl::serverUUID=ead3e226-2c7c-11e6-81c9-1fb90d688ead])) [initialConnectors=[TransportConfiguration(name=http-connector, factory=org-hornetq-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&http-upgrade-endpoint=http-acceptor&host=IP-B&http-upgrade-enabled=true], discoveryGroupConfiguration=null]] is connected
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Documentation (Ref Guide, User Guide, etc.)",,,,,,,,,,,,,2019-02-13 06:06:08.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|hzhm6v:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Nov/16 10:06 AM;lpirazzini;Hello, I'm still not aware why the IPs order is important in the HornetQ configuration, and this leads me to another issue: if I have a wildfly domain and the domain controller shuts down, when I start it after the failure the hornetQ bridge is not created again. Why?","13/Feb/19 6:06 AM;rhusar;I think this is for Emmanuel now - reassigning.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jgroups-kubernetes to 1.0.10.Final,WFLY-12117,12808709,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,23/May/19 6:47 AM,04/Dec/19 6:22 AM,15/Jan/20 1:31 PM,04/Dec/19 6:21 AM,,,,,,18.0.0.Beta1,,,Clustering,,,,,,,0,,,,,,,Currently a placeholder for release containing fixes around CA parsing.,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12113,,,,,,WFLY-12118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05rgc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Dec/19 6:21 AM;rhusar;Included via WFLY-12347.",,,,,,,,,,,,,,,,,,,,,,,,,,
kubernetes.KUBE_PING using token auth does not verify CA and always defaults to insecure stream,WFLY-12118,12808757,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,23/May/19 9:40 AM,04/Dec/19 6:22 AM,15/Jan/20 1:31 PM,04/Dec/19 6:22 AM,16.0.0.Final,17.0.0.Alpha1,,,,18.0.0.Beta1,,,Clustering,,,,,,,0,,,,,,,"The recommendation is to do verify is file is available:

{quote}If available, a certificate bundle is placed into the filesystem tree of each container at /var/run/secrets/kubernetes.io/serviceaccount/ca.crt, and should be used to verify the serving certificate of the apiserver.{quote}

https://kubernetes.io/docs/tasks/access-application-cluster/access-cluster/#accessing-the-api-from-a-pod",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z05rrg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Jun/19 8:39 AM;rhusar;PR submitted upstream https://github.com/jgroups-extras/jgroups-kubernetes/pull/69","15/Jun/19 8:29 AM;rhusar;Merged upstream, requires 1.0.10.Final upgrade.","04/Dec/19 6:22 AM;rhusar;Included via WFLY-12347.",,,,,,,,,,,,,,,,,,,,,,,,
Upgrade HAL to 3.2.1.Final,WFLY-12399,12823859,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,harald.pehl,harald.pehl,harald.pehl,20/Aug/19 8:36 PM,28/Nov/19 4:23 AM,15/Jan/20 1:31 PM,23/Aug/19 9:52 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Web Console,,,,,,,0,,,,,,,Diff: https://github.com/hal/console/compare/3.2.0.Final...3.2.1.Final,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12001,,,,,,HAL-1603,HAL-1604,HAL-1609,HAL-1601,HAL-1608,HAL-1607,HAL-1588,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12524,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0845w:",9223372036854775807,,0.0,,,,,,,,,,,,spriadka,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Naming alias to datasource in deployment,WFLY-4244,12560800,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Out of Date,khermano,k5__,k5__,12/Jan/15 5:12 PM,27/Nov/19 2:50 AM,15/Jan/20 1:31 PM,27/Nov/19 2:50 AM,8.2.0.Final,,,,,,,,Naming,,,,,,,0,,,,,,,"Using a name alias to a datasource that is defined in the deployment (with a *-ds.xml in the .war) causes a npe when jpa tries to resolve that datasource with the alias. 

 <lookup name=""java:/de/datasource/sub"" lookup=""java:/de/datasource/main""/>

When both the datasource and name-alias are defined in the standalone.xml it works as expected.
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hz6x0f:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Jan/15 5:46 AM;k5__;Relevant Stacktrace

Caused by: java.lang.Exception: {""JBAS014671: Failed services"" => {""jboss.persistenceunit.\""532c25d4-4815-49f4-a80e-7490f7d7865c.war#spxUnit\"".__FIRST_PHASE__"" => ""org.jboss.msc.service.StartException in service jboss.persistenceunit.\""532c25d4-4815-49f4-a80e-7490f7d7865c.war#spxUnit\"".__FIRST_PHASE__: Failed to start service
    Caused by: java.lang.NullPointerException""}}
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getActionResult(ServerDeploymentPlanResultFuture.java:134)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getResultFromNode(ServerDeploymentPlanResultFuture.java:123)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:85)
	at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:42)
	at org.jboss.as.controller.client.helpers.standalone.ServerDeploymentHelper.deploy(ServerDeploymentHelper.java:55)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:77)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:64)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:46)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:146)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:161)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:128)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:271)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:50)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:95)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:80)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachDeployment(ContainerDeployController.java:263)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachManagedDeployment(ContainerDeployController.java:239)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deployManaged(ContainerDeployController.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.execute(ContainerEventController.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.beforeClass(EventTestRunnerAdaptor.java:80)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:190)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:345)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:49)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:207)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:155)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
",,,,,,,,,,,,,,,,,,,,,,,,,,
Authentication is not propagated to EJB in the login request,WFLY-4385,12564192,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,casmeiron,casmeiron,25/Feb/15 7:18 AM,26/Nov/19 9:48 AM,15/Jan/20 1:31 PM,26/Nov/19 9:48 AM,8.2.0.Final,,,,,,,,EJB,,,,,,,1,authentication,ejb,http,login,roles,web,"I'm migrating from glassfish to wildfly and noticed few weird things.

When you perform login through web container (request.login(user, pwd)), the principal is not propagated to EJB Container, only for web container.
To test that, this is what I did:
  . BASIC AUTH
  . EJB receives HttpServletRequest with user data and perform login
  . Print request.getUserPrincipal() => ok, logged in
  . Print EJBContext.getCallerPrincipal() => anonymous

This happens in the same request that user logged in. In the subsequent requests (using Set-Cookie response and cookie with JSESSIONID in request), the EJB is aware of the authentication.

Is that the right behavior? 'Cause in glassfish is different, the principal is propagated immediately to EJB.

Thanks in advance.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Feb/15 10:24 AM;casmeiron;wildfly-4385.zip;https://issues.redhat.com/secure/attachment/12387974/wildfly-4385.zip",,,,,,,,,,,,,,,,,,,2015-02-25 07:40:00.0,,,,,,,,,,,,,,,,,,,,,,,,,1.0,4.0,,,,,,,,,,"1|hz7hhr:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Feb/15 7:40 AM;dlofthouse;Any chance of attaching a reproducer here?  The behaviour sounds wrong but at this point it could also be a problem in your own deployment.","25/Feb/15 10:24 AM;casmeiron;Follow what you've requested.

Please, run setup.groovy to configure datasource, security, install mysql module etc.

Sorry but I've tried to make it really easy for you to run, I hope it helps.

After that, you must invoke the follow url: http://localhost:8080/login

The server will print the principal from request and ejb and then the same information should return to you as JSON but you will see this instead:

{""httpRequestPrincipal"":""test"",""ejbCallerPrincipal"":""anonymous""}


If I remove AuthBusiness and perform the login directly in the REST Resource class, ejb context is aware of the principal, but as Im using another EJB to do the login job, things get ugly!!

Let me know if you have any doubt.

Thanks in advance!","02/Mar/15 7:27 AM;casmeiron;Hi Darran,

Did you have time to check it out?

Thanks.","14/Apr/15 8:18 AM;casmeiron;Good morning,

Do we have any news about this? Could you reproduce the problem?
I'm still facing this issue with 8.2.0.Final. Let me know if theres anything that I can do to help you out.

Thanks.",,,,,,,,,,,,,,,,,,,,,,,
Wildfly doesn't fail on deployment EJB with CDI @Transactional,WFLY-4169,12559099,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,,kamil.zbikowski.7,kamil.zbikowski.7,09/Dec/14 6:35 PM,26/Nov/19 9:46 AM,15/Jan/20 1:31 PM,26/Nov/19 9:46 AM,8.2.0.Final,,,,,,,,EJB,,,,,,,0,,,,,,,When javax.transaction.@Transactional CDI is put on EJB application is able to be correctly deployed on the server. According to JSR345 it should not be possible. ??It is illegal to associate JTA transactional interceptors \[8\] with Enterprise JavaBeans. The EJB  Container should fail deployment of such applications.??,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2015-03-28 12:49:03.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|hz6nqv:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Mar/15 12:49 PM;esantana;In the ejb-3_2 specification :
It is illegal to associate JTA transactional interceptors (see [8]) with Enterprise JavaBeans. The EJB Container should fail deployment of such applications.[39]

@Transaction annotation was introduced in JTA 1.2, 

As Narayana 5.0.0.M3 is now JTA 1.2 compliant, and it was introduced on Wildfly since version WildFly 8.0.0.Beta1

Because this restriction could be removed in the future versions:
[39] This restriction may be removed in a future release of this specification

","30/Mar/15 10:22 AM;esantana;Implementation of WFLY-4169 - Wildfly doesn't fail on deployment EJB with CDI @Transactional

In the ejb-3_2 specification :
It is illegal to associate JTA transactional interceptors (see [8]) with Enterprise JavaBeans. The EJB Container should fail deployment of such applications.[39]

@Transaction annotation was introduced in JTA 1.2,

As Narayana 5.0.0.M3 is now JTA 1.2 compliant, and it was introduced on Wildfly since version WildFly 8.0.0.Beta1 this needed to be done on EJB dups.","02/Apr/15 8:16 AM;wolfc;Technically speaking using Transactional interceptors on EJBs *is* allowed. See https://java.net/projects/javaee-spec/lists/jsr342-experts/archive/2013-03/message/23

The truth is that nobody wanted to figure out the impact of having JTA interceptors and CMT interceptors in place.
So you could for example use BMT and JTA interceptors.

I think this may need to become a configuration option.","26/Apr/15 7:07 AM;esantana;This should not be closed or other status? Since it  was decided that were are not going to do that?",,,,,,,,,,,,,,,,,,,,,,,
EJB Security Context lost when doing cross context includes,WFLY-4166,12559038,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,jviebig,jviebig,09/Dec/14 9:28 AM,26/Nov/19 9:39 AM,15/Jan/20 1:31 PM,26/Nov/19 9:39 AM,8.2.0.Final,,,,,,,,EJB,Web (Undertow),,,,,,0,,,,,,,"I'm getting a javax.ejb.EJBAccessException: JBAS014502 Exception when doing cross context includes across two secured webapps calling a secured EJB.

Imagine two Servlets ServletOne and ServletTwo. ServletOne is a basic servlet that only prints ""OK"" and ServletTwo that is a basic servlet that prints ""EJB OK"" if ejb method could be accessed and ""EJB EXCEPTION"" when the call fails. This is packaged into a war that is deployed on the server twice with different names ""simple-webapp.war"" and ""simple-webapp2.war""

The war also includes a jsp index.jsp:

<%@ taglib prefix=""c""   uri=""http://java.sun.com/jsp/jstl/core"" %>
<p>/simple-webapp/ServletOne</p>
<c:import url=""/ServletOne"" context=""/simple-webapp""/>
<p>/simple-webapp/ServletTwo</p>
<c:import url=""/ServletTwo"" context=""/simple-webapp""/>
<p>/simple-webapp2/ServletOne</p>
<c:import url=""/ServletOne"" context=""/simple-webapp2""/>
<p>/simple-webapp/ServletTwo</p>
<c:import url=""/ServletTwo"" context=""/simple-webapp""/>
<p>/simple-webapp2/ServletTwo</p>
<c:import url=""/ServletTwo"" context=""/simple-webapp2""/>

The Output is:
<p>/simple-webapp/ServletOne</p>
OK
<p>/simple-webapp/ServletTwo</p>
EJB OK
<p>/simple-webapp2/ServletOne</p>
OK
<p>/simple-webapp/ServletTwo</p>
EJB EXCEPTION
<p>/simple-webapp2/ServletTwo</p>
EJB OK

It seems that a cross context call to another app was made, it is not possible to call secured ejbs in the same request from the first webapp. This does not affect new requests, only requests that do the cross context include. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|hz6nen:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ability to add an alias for ejb invocations,WFLY-4090,12557539,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,wdfink,wdfink,17/Nov/14 3:58 AM,26/Nov/19 9:38 AM,15/Jan/20 1:31 PM,26/Nov/19 9:38 AM,8.1.0.Final,,,,,,,,EJB,,,,,,,0,,,,,,,"By default a EJB will install standards a JNDI name like
 <application>/<modul>/<Bean name>!<View name>
Additional JNDI entries, i.e. for internal use or remote naming , could be installed by @Resource annotation or jboss-ejb3.xml descriptor.

But it is not possiblet to use the ejb-client approach with an ""ejb:"" lookup to retrieve a remote-reference to this EJB.

For applicaion backward compatibility it should be possible to install aliases like
 ejb/MyBean
 myapp/mymodule/MyBean/myView
with different values than the unique installed one and useable by the ""ejb:"" context.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|hz6ep3:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Show more details for the EJB SessionBean statistic,WFLY-4055,12556751,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,wdfink,wdfink,05/Nov/14 12:15 PM,26/Nov/19 9:37 AM,15/Jan/20 1:31 PM,26/Nov/19 9:37 AM,8.1.0.Final,9.0.0.Alpha1,,,,,,,EJB,,,,,,,0,,,,,,,"The JMX MBeans in former versions <7 show more statistics.
As this counters can be important they should be collected in WildFly as well.

SLSB:
Current- Available- Max- (pool), Remove, Create
SFSB:
CacheSize, CreateSize, InvocStat, PassivatedCount, Current, RemoveCount, Available, Max, Total

As there is no pool possible for SFSB there is no Create and Remove counter for pooling and no counter of current instances.
These counters should be added",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|hz6a6n:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add a configuration attribute to @WebContext to handle EJB3 loadOnStartup > -1 situations,WFLY-4026,12556189,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,rsearls,rsearls,28/Oct/14 11:37 AM,26/Nov/19 9:37 AM,15/Jan/20 1:31 PM,26/Nov/19 9:37 AM,9.0.0.Alpha1,,,,,,,,EJB,,,,,,,0,,,,,,,"
An app with a servlet that is loadOnStartup = 1 that references an EJB3 webservice not defined by a WSDL fails because the EJB3 servlet does not have the same loadOnStartup designator.  There is an existing wildFly integration test that demonstrates this.  (see org.jboss.as.test.integration.ws.serviceref.ServiceRefWithoutExplicitWsdlServletTestCase)
Also see the original bug filed against this behavior and the comments on the
cause, https://issues.jboss.org/browse/WFLY-3262.
A suggested solution is to add a configuration attribute to @WebContext.

",,,,,,,,,,,,,,,,,,,,,JBEAP-13014,WFLY-9303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2017-05-03 04:13:38.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|hz66lj:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"03/May/17 4:13 AM;rsvoboda;any plans for this issue ?","03/May/17 7:08 AM;rsearls;not at this time",,,,,,,,,,,,,,,,,,,,,,,,,
XA_RBROLLBACK returned upon a XA forget branch request,WFLY-3985,12555361,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,jolee,jolee,16/Oct/14 2:19 PM,26/Nov/19 9:36 AM,15/Jan/20 1:31 PM,26/Nov/19 9:36 AM,,,,,,,,,EJB,,,,,,,0,,,,,,,"The stacktraces [1] show ejb remoting looking up the transaction on a recovery pass and finding that the transaction has rolled back.
Recovery tells ejb remoting (it is enlisting an XA resource) to forget about a branch.
Ejb remoting on the remote node gets the forget request and tries to import the transaction and gets an exception because the txn has rolled back.

Since the forget request is to tell remoting that it no longer needs to keep any state associated with the branch the expectation would be for remoting to catch the exception and handle it gracefully. Per the stacktrace, it looks like remoting should catch the XAException.XA_RBROLLBACK from the getImportedTransaction() call (do whatever they need to do internally) and then return one of the valid codes: XA_OK is probably the correct one as returning XA_RBROLLBACK would be out of spec.

[1]
WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016037: Could not find new XAResource to use for recovering non-serializable XAResource XAResourceRecord < resource:null, txid:< formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a1ef4ed:4e73c967:526fc3c7:b1, node_name=1, branch_uid=0:ffff0a1ef4ed:4e73c967:526fc3c7:b2, subordinatenodename=null, eis_name=unknown eis name >, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord@1c3c1d18 >
WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016038: No XAResource to recover < formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a1ef4ed:4e73c967:526fc3c7:b1, node_name=1, branch_uid=0:ffff0a1ef4ed:4e73c967:526fc3c7:b2, subordinatenodename=null, eis_name=unknown eis name >
WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016037: Could not find new XAResource to use for recovering non-serializable XAResource XAResourceRecord < resource:null, txid:< formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a1ef4ed:4e73c967:526fc3c7:8f, node_name=1, branch_uid=0:ffff0a1ef4ed:4e73c967:526fc3c7:90, subordinatenodename=null, eis_name=unknown eis name >, heuristic: TwoPhaseOutcome.FINISH_OK com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord@4ff5d522 >
WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016038: No XAResource to recover < formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a1ef4ed:4e73c967:526fc3c7:8f, node_name=1, branch_uid=0:ffff0a1ef4ed:4e73c967:526fc3c7:90, subordinatenodename=null, eis_name=unknown eis name >
ERROR [stderr] (Periodic Recovery) javax.transaction.xa.XAException
INFO  [stdout] (Periodic Recovery) ret:false for msg:javax.transaction.xa.XAException
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.jta.transaction.arjunacore.jca.TransactionImporterImple.getImportedTransaction(TransactionImporterImple.java:178)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.jta.transaction.arjunacore.jca.TransactionImporterImple.getImportedTransaction(TransactionImporterImple.java:178)
ERROR [stderr] (Periodic Recovery)     at org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository.getImportedTransaction(EJBRemoteTransactionsRepository.java:150)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository.getImportedTransaction(EJBRemoteTransactionsRepository.java:150)
ERROR [stderr] (Periodic Recovery)     at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionRollbackTask.manageTransaction(XidTransactionRollbackTask.java:53)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionRollbackTask.manageTransaction(XidTransactionRollbackTask.java:53)
ERROR [stderr] (Periodic Recovery)     at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.run(XidTransactionManagementTask.java:68)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.run(XidTransactionManagementTask.java:68)
ERROR [stderr] (Periodic Recovery)     at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
ERROR [stderr] (Periodic Recovery)     at java.util.concurrent.FutureTask.run(FutureTask.java:262)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at java.util.concurrent.FutureTask.run(FutureTask.java:262)
ERROR [stderr] (Periodic Recovery)     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
ERROR [stderr] (Periodic Recovery)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
ERROR [stderr] (Periodic Recovery)     at java.lang.Thread.run(Thread.java:744)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at java.lang.Thread.run(Thread.java:744)
ERROR [stderr] (Periodic Recovery)     at org.jboss.threads.JBossThread.run(JBossThread.java:122)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.threads.JBossThread.run(JBossThread.java:122)
ERROR [stderr] (Periodic Recovery)     at ...asynchronous invocation...(Unknown Source)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at ...asynchronous invocation...(Unknown Source)
ERROR [stderr] (Periodic Recovery)     at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:99)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:99)
ERROR [stderr] (Periodic Recovery)     at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.sendRollback(RemotingConnectionEJBReceiver.java:360)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.sendRollback(RemotingConnectionEJBReceiver.java:360)
ERROR [stderr] (Periodic Recovery)     at org.jboss.ejb.client.RecoveryOnlyEJBXAResource.rollback(RecoveryOnlyEJBXAResource.java:103)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.ejb.client.RecoveryOnlyEJBXAResource.rollback(RecoveryOnlyEJBXAResource.java:103)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.handleOrphan(XARecoveryModule.java:741)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.handleOrphan(XARecoveryModule.java:741)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoverySecondPass(XARecoveryModule.java:647)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoverySecondPass(XARecoveryModule.java:647)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.bottomUpRecovery(XARecoveryModule.java:419)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.bottomUpRecovery(XARecoveryModule.java:419)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkSecondPass(XARecoveryModule.java:194)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkSecondPass(XARecoveryModule.java:194)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:789)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:789)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:371)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:371)
WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016006: Local XARecoveryModule.xaRecovery - forget threw exception: javax.transaction.xa.XAException
    at com.arjuna.ats.internal.jta.transaction.arjunacore.jca.TransactionImporterImple.getImportedTransaction(TransactionImporterImple.java:178) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]
    at org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository.getImportedTransaction(EJBRemoteTransactionsRepository.java:150)
    at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionForgetTask.manageTransaction(XidTransactionForgetTask.java:50)
    at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.run(XidTransactionManagementTask.java:68)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_45]
    at java.util.concurrent.FutureTask.run(FutureTask.java:262) [rt.jar:1.7.0_45]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]
    at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]
    at org.jboss.threads.JBossThread.run(JBossThread.java:122)
    at ...asynchronous invocation...(Unknown Source)
    at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:99)
    at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.sendForget(RemotingConnectionEJBReceiver.java:430)
    at org.jboss.ejb.client.RecoveryOnlyEJBXAResource.forget(RecoveryOnlyEJBXAResource.java:68)
    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoverySecondPass(XARecoveryModule.java:675) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]
    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.bottomUpRecovery(XARecoveryModule.java:419) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]
    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkSecondPass(XARecoveryModule.java:194) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]
    at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:789) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]
    at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:371) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]

ERROR [stderr] (Periodic Recovery) javax.transaction.xa.XAException
INFO  [stdout] (Periodic Recovery) ret:false for msg:javax.transaction.xa.XAException
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.jta.transaction.arjunacore.jca.TransactionImporterImple.getImportedTransaction(TransactionImporterImple.java:178)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.jta.transaction.arjunacore.jca.TransactionImporterImple.getImportedTransaction(TransactionImporterImple.java:178)
ERROR [stderr] (Periodic Recovery)     at org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository.getImportedTransaction(EJBRemoteTransactionsRepository.java:150)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository.getImportedTransaction(EJBRemoteTransactionsRepository.java:150)
ERROR [stderr] (Periodic Recovery)     at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionRollbackTask.manageTransaction(XidTransactionRollbackTask.java:53)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionRollbackTask.manageTransaction(XidTransactionRollbackTask.java:53)
ERROR [stderr] (Periodic Recovery)     at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.run(XidTransactionManagementTask.java:68)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.run(XidTransactionManagementTask.java:68)
ERROR [stderr] (Periodic Recovery)     at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
ERROR [stderr] (Periodic Recovery)     at java.util.concurrent.FutureTask.run(FutureTask.java:262)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at java.util.concurrent.FutureTask.run(FutureTask.java:262)
ERROR [stderr] (Periodic Recovery)     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
ERROR [stderr] (Periodic Recovery)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
ERROR [stderr] (Periodic Recovery)     at java.lang.Thread.run(Thread.java:744)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at java.lang.Thread.run(Thread.java:744)
ERROR [stderr] (Periodic Recovery)     at org.jboss.threads.JBossThread.run(JBossThread.java:122)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.threads.JBossThread.run(JBossThread.java:122)
ERROR [stderr] (Periodic Recovery)     at ...asynchronous invocation...(Unknown Source)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at ...asynchronous invocation...(Unknown Source)
ERROR [stderr] (Periodic Recovery)     at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:99)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:99)
ERROR [stderr] (Periodic Recovery)     at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.sendRollback(RemotingConnectionEJBReceiver.java:360)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.sendRollback(RemotingConnectionEJBReceiver.java:360)
ERROR [stderr] (Periodic Recovery)     at org.jboss.ejb.client.RecoveryOnlyEJBXAResource.rollback(RecoveryOnlyEJBXAResource.java:103)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at org.jboss.ejb.client.RecoveryOnlyEJBXAResource.rollback(RecoveryOnlyEJBXAResource.java:103)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.handleOrphan(XARecoveryModule.java:741)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.handleOrphan(XARecoveryModule.java:741)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoverySecondPass(XARecoveryModule.java:647)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoverySecondPass(XARecoveryModule.java:647)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.bottomUpRecovery(XARecoveryModule.java:419)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.bottomUpRecovery(XARecoveryModule.java:419)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkSecondPass(XARecoveryModule.java:194)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkSecondPass(XARecoveryModule.java:194)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:789)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:789)
ERROR [stderr] (Periodic Recovery)     at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:371)
INFO  [stdout] (Periodic Recovery) ret:false for msg:    at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:371)
WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016006: Local XARecoveryModule.xaRecovery - forget threw exception: javax.transaction.xa.XAException
    at com.arjuna.ats.internal.jta.transaction.arjunacore.jca.TransactionImporterImple.getImportedTransaction(TransactionImporterImple.java:178) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]
    at org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository.getImportedTransaction(EJBRemoteTransactionsRepository.java:150)
    at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionForgetTask.manageTransaction(XidTransactionForgetTask.java:50)
    at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.run(XidTransactionManagementTask.java:68)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_45]
    at java.util.concurrent.FutureTask.run(FutureTask.java:262) [rt.jar:1.7.0_45]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]
    at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]
    at org.jboss.threads.JBossThread.run(JBossThread.java:122)
    at ...asynchronous invocation...(Unknown Source)
    at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:99)
    at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.sendForget(RemotingConnectionEJBReceiver.java:430)
    at org.jboss.ejb.client.RecoveryOnlyEJBXAResource.forget(RecoveryOnlyEJBXAResource.java:68)
    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoverySecondPass(XARecoveryModule.java:675) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]
    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.bottomUpRecovery(XARecoveryModule.java:419) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]
    at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkSecondPass(XARecoveryModule.java:194) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]
    at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:789) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]
    at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:371) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2015-11-30 11:20:05.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|hz61on:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unnecessary transactions for non-existent lifecycle event callbacks.,WFLY-3936,12554225,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,slawomir.wojtasiak,slawomir.wojtasiak,06/Oct/14 3:38 AM,26/Nov/19 9:35 AM,15/Jan/20 1:31 PM,26/Nov/19 9:35 AM,8.1.0.Final,8.2.0.Final,,,,,,,EJB,,,,,,,0,,,,,,,"I have found an issue in the semantic of the stateless and stateful session beans initialization policy. Every time a component is configured regardless of the existence of the lifecycle event callbacks, lifecycle interceptors responsible for transactions management are registered and they create new transactions suspending the current ones every time components are created and destroyed. Wildfly does not use the component pool for stateless session beans by default, so whenever we call a method on a stateless component which does not have any lifecycle callback handlers two unneccessary transactions (REQUIRES_NEW semantic) are created. The first one is created when the component is initialized and the second one when the component is destroyed. In other words, even if there is no @PostConstruct/@PreDestroy callback new transactions are created just to support them.

The PostConstruct/PreDestroy lifecycle callback interceptor methods for a stateless session bean execute in an unspecified transaction context, so purely theoretical these interceptors could even be completely ignored what would yield in significant performance improvements over the stateless session beans invocations. Anyway using the transaction interceptors in conjunction with the lifecycle event handlers for stateless session beans is probably intended, so I have prepared a fix which just ignores these interceptors as long as there are no lifecycle event handlers for a given component. I have tested the fix with @PostConstruct, @PreDestroy and SessionBean interface related lifecycle event callbacks.

Provided pull request fixes the same problem for stateful session beans too.

In addition I also found a minor inconsistency in the way components are configured. There is a flag ""description.isIgnoreLifecycleInterceptors()"" used in order to ignore lifecycle interceptors when needed. It is consequently used in the default components initialization procedure, but specialized configurators for stateful and stateless session beans silently ignore it. I have also added a fix for that.

I have prepared a simple performance report by executing one stateless method with TransactionAttribute.NEVER, about 1000000 times in a loop:
Before the fix:
Three calls in a row: 33 sec, 31 sec, 31 sec.
After the fix: 
Three calls in a row: 24 sec, 22 sec, 22 sec.

It is not a common use case for stateless beans, but it shows that the call is about 41% slower before the fix.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/6780,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hz5v47:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"06/Oct/14 3:55 AM;slawomir.wojtasiak;Wildfly 9.0.0-Alfa1 seems to be also affected. I will test it soon. As far as I've checked so far, the fix can be also applied for 9.0.0 as it is.",,,,,,,,,,,,,,,,,,,,,,,,,,
Can not inject MP Config property to a custom MP metric,WFLY-12828,12839901,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Rejected,jmesnil,istraka,istraka,26/Nov/19 6:49 AM,26/Nov/19 8:16 AM,15/Jan/20 1:31 PM,26/Nov/19 8:16 AM,18.0.1.Final,,,,,,,,CDI / Weld,MP Config,MP Health,,,,,0,,,,,,,"Injecting MP Config property into a custom metric results to NPE.


{code:java}
12:46:25,521 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /sample-1.0/metric: java.lang.NullPointerException
	at configurable.CustomCounterMetric.inc(CustomCounterMetric.java:21)
	at configurable.CustomMetricService.hello(CustomMetricService.java:29)
	at configurable.CustomMetricService$Proxy$_$$_WeldSubclass.hello$$super(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.proxy.TerminalAroundInvokeInvocationContext.proceedInternal(TerminalAroundInvokeInvocationContext.java:51)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at io.smallrye.metrics.interceptors.CountedInterceptor.countedCallable(CountedInterceptor.java:95)
	at io.smallrye.metrics.interceptors.CountedInterceptor.countedMethod(CountedInterceptor.java:70)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeAroundInvoke(InterceptorMethodHandler.java:84)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:72)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:56)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:79)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:68)
	at configurable.CustomMetricService$Proxy$_$$_WeldSubclass.hello(Unknown Source)
	at configurable.CustomMetricService$Proxy$_$$_WeldClientProxy.hello(Unknown Source)
	at configurable.CustomMetricServlet.doGet(CustomMetricServlet.java:39)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:503)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
	at java.lang.Thread.run(Thread.java:748)
{code}


*web servlet*
{code:java}
    @Inject
    @RegistryType(type = MetricRegistry.Type.APPLICATION)
    MetricRegistry metricRegistry;
    
    @Inject
    private CustomMetricService hello;

    @Override
    public void init() throws ServletException {
        Metadata metadata = new MetadataBuilder()
                .withName(""custom-metric"")
                .withType(MetricType.COUNTER)
                .withUnit(MetricUnits.NONE)
                .build();
        metricRegistry.register(metadata, new CustomCounterMetric());
    }


    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException, ServletException {
        resp.getWriter().print(hello.hello());
    }
{code}

*CDI bean*

{code:java}
    @Inject
    @ConfigProperty(name=""dummy_increment"")
    int increment;

    @Inject
    @RegistryType(type = MetricRegistry.Type.APPLICATION)
    MetricRegistry metricRegistry;

    @Counted
    public String hello() {
        metricRegistry.counter(""custom-metric"").inc();
        return ""Hello! "" + metricRegistry.counter(""custom-metric"").getCount() + ""\n"";
    }
{code}

*custom metric*

{code:java}
    @Inject
    @ConfigProperty(name=""dummy_increment"")
    Provider<Long> increment;

    private long counter = 0;

    @Override
    public void inc() {
        counter = counter + increment.get();
    }

    @Override
    public void inc(long l) {
        counter = counter + l + increment.get() ;
    }

    @Override
    public long getCount() {
        return counter;
    }
{code}

I have tested environment proprety _-Ddummy_increment=1_ and _props config source_. _Provider<..>_ is set to null. If _int_ is used 0 is set.

Sample source: https://github.com/istraka/microprofile-samples/tree/master/metrics-config",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0aoas:",9223372036854775807,,0.0,,,,,"build app
deploy
run server
configure MP Config config source
access localhost:8080/sample-1.0/metric",,,,,,,,,,,"26/Nov/19 8:16 AM;istraka;There is a bug in the reproducer. The scenario works.",,,,,,,,,,,,,,,,,,,,,,,,,,
EJB @Schedule interleaves timer calls with @AccessTimeout(0),WFLY-3852,12552019,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,tibor17,tibor17,12/Sep/14 2:46 PM,26/Nov/19 8:11 AM,15/Jan/20 1:31 PM,26/Nov/19 8:11 AM,8.1.0.Final,,,,,,,,EJB,,,,,,,0,,,,,,,"Note: The value in @AccessTimeout(value = 0) is not a real timeout. It's a marker skipping scheduler on concurrent Thread.


Actual: 

The scheduled method is annotated with @AccessTimeout(0) and @Lock(READ). Very long calls interleave concurrently.


Expected: 

The calls should not interleave if and only if @AccessTimeout(0) is used. Does not matter which LockType is used.
According to the Javadoc
 ""A value of 0 means concurrent access is not permitted.""
In other words the timer should give it up on concurrent Thread. 
The timer should not wait for read/write lock due to the value in the annotation is not -1.

In the internal implementation of TomEE server the timer skips scheduling if Lock.tryLock() returns false in this usecase. This can be Read or Write lock - does not matter.

Don't be confused with WFLY-3430. 
I think the fix in WFLY-3430 should only go with the annotation @AccessTimeout(0) with whatever LockType. If this annotation is not used then the next call should be concurrent / blocked depending on READ / WRITE LockType, respectively.


My code:

@Startup
@Singleton
@Lock(READ)
public class MyTimer {

 @Schedule(minute = ""*"", hour = ""*"", persistent = false, info = ""My Timer"")
  @AccessTimeout(0)
  public void updateByMinutes() {}

}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Documentation (Ref Guide, User Guide, etc.)",Release Notes,User Experience,,,,,,,,,,,2014-09-14 18:23:52.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|hz5ivb:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Sep/14 6:23 PM;swd847;This wording in the spec seems really odd to me, I am going to ask the EG what the actual intention was. If you only have a read lock you will never fail to acquire the lock, so I would not expect the timeout to have any effect. The current wording in the spec basically implies that @AccessTimeout(0) turns a READ lock into a WRITE lock, which just seems plain wrong to me.  ","14/Sep/14 7:14 PM;tibor17;Hi Stuart,

The @AccessTimeout(0) is an exceptional status in the behavior of Write/Read lock, where 0 does not mean timeout.
The Javadoc in annotation AccessTimeout does not say anything about any lock.
This means that @AccessTimeout(0) != (Read or Write) lock.
Here the point is that the timer's method should not be called if some other thread is currently in it.

>> The current wording in the spec basically implies that @AccessTimeout(0) turns a READ lock into a WRITE lock
If you do it like that, then it's another bug. The idea behind @AccessTimeout(0) is different. No need to interchange the locks.
The @AccessTimeout(0) is not supposed to set concurrent Thread to BLOCKED status in Write lock.
Simply just use tryLock() method instead of lock() if @AccessTimeout(0) is used on the timer's method.
That's all we need to do.
When you observe false from tryLock(), then you should ignore calling timer's method because other thread is currently executing it; Otherwise (returned true) you have observed lock pretty much like with the lock() method on ReentrantReadWriteLock.

","14/Sep/14 9:05 PM;swd847;I'm saying that the current behaviour is silly. If you want no concurrent access + immediate timeout the spec should require WRITE+AccessTimeout(0), it should not (IMHO) change the behaviour of a read lock if the timeout is set to zero (the whole point of a READ lock is that it does allow concurrent access from multiple threads as long as the WRITE lock is not held). 

I am going to find out if this was actually the intention of the expert group, or if the current version of the spec is just badly worded. ","15/Sep/14 4:51 AM;tibor17;Yes please make a reseach in the expert group.
Both annotations @Lock and @AccessTimeout were introduced in EJB 3.1, so none of them should have higher priority.
IMHO the @AT only changes the management of thread resources. It would not change the behavior of locks.

This means that @Lock(WRITE) will hold another concurrent Thread, 
but @AT + @Lock(WRITE) does not block the concurrent thread and therefore such thread comes back to the thread-pool and can be reused by the thread-pool to execute other async tasks.

That's very important because without @AT the j2ee wouldn't have a way to prevent from deadlock.

Imaging what would happen if thread-pool size is too small and all threads are waiting for eachother - deadlock. 
This happened to me with asynchronous REST client. Therefore the blocked threads can be reused in EJB 3.1, and the @AT would do it for me.","15/Sep/14 10:33 AM;wolfc;Raised at https://java.net/projects/ejb-spec/lists/users/archive/2014-09/message/0",,,,,,,,,,,,,,,,,,,,,,
Allow custom EJB pools,WFLY-3489,12543707,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,jameslivingston,jameslivingston,13/Jun/14 1:06 AM,26/Nov/19 8:06 AM,15/Jan/20 1:31 PM,26/Nov/19 8:06 AM,8.1.0.Final,,,,,,,,EJB,,,,,,,1,,,,,,,"The only type of EJB pool that can currently be specified is strict-max-pool. It would be useful to be able to specify a custom pool class similar to other subsystems.

For example:
<custom-pool module=""my.module"" class=""example.SomePool"">
  <properties>
    <property name=""x"" value=""y""/>
  </properties>
</custom-pool>",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|hz47wn:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JBAS014194 Extended Implementation of 'import javax.jms.MessageListener' not accepted,WFLY-2939,12532303,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,,eugeis,eugeis,15/Feb/14 3:57 AM,26/Nov/19 8:05 AM,15/Jan/20 1:31 PM,26/Nov/19 8:05 AM,8.0.0.Final,,,,,,,,EJB,,,,,,,0,,,,,,,"I am trying to deploy working Weblogic EAR  to WildFly and it is not working, because a MDB (ExampleTopic1Mdb) can not be deployed, what extends a super class(SingleTypeEventListenerBridgeByJms) which implements MessageListener, but the MDB itself does not have ""implements javax.jms.MessageListener"".

Error Message:
JBAS014194: EJB 3.1 FR 5.4.2 MessageDrivenBean does not implement 1 interface nor specifies message listener interface.


@SuppressWarnings(""unused"")
@MessageDriven(mappedName = ExampleConstants.JMS_TOPIC1,
               activationConfig = { @ActivationConfigProperty(propertyName = ""destinationType"", propertyValue = ""javax.jms.Topic""),
                   @ActivationConfigProperty(propertyName = ""topicMessagesDistributionMode"", propertyValue = ""One-Copy-Per-Application"") })
@Traceable
public class ExampleTopic1Mdb extends SingleTypeEventListenerBridgeByJms<Task> {

  @Inject
  public void setExampleSynchronizer(EventListener<Task> exampleSynchronizer) {
    super.setEventListener(exampleSynchronizer);
  }
}

public class SingleTypeEventListenerBridgeByJms<T> implements javax.jms.MessageListener {
....

The class SingleTypeEventListenerBridgeByJms is in different ejb module of the EAR.



",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2015-06-29 20:13:25.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hyykqn:",190371,,0.0,,,,,,,,,,,,,,Workaround Exists,"Add ""implements javax.jms.MessageListener"" to the MDB","29/Jun/15 8:13 PM;esantana;I think that it has the same problem of WFLY-4200 :

I believe that the problem is because AnnotatedEJBComponentDescriptionDeploymentUnitProcessor executes in the parse phase:
Phase.PARSE,Phase.PARSE_CREATE_COMPONENT_DESCRIPTIONS
Since the dependencies will be resolved at Phase.DEPENDENCIES, your build will not work. 
Regarding WFLY, my suggestion is not throw the EjbLogger.ROOT_LOGGER.mdbDoesNotImplementNorSpecifyMessageListener(beanClass) only bring up some flag that the required interfaces were not yet resolved, some attachment could be useful, just to retain the super class name. When the dependencies were solved, the class will be present on the class index and the test against the annotation should be performed again. Since that work will be done twice, to verify the required interfaces, this requires some experts advice.",,,,,,,,,,,,,,,,,,,,,,,,,,
jboss-ejb3.xml faults fail silently and result in a hanging thread,WFLY-917,12479253,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,emmartins,sfcoy,sfcoy,14/Nov/12 7:49 PM,26/Nov/19 8:03 AM,15/Jan/20 1:31 PM,26/Nov/19 8:03 AM,,,,,,,,,EE,EJB,,,,,,0,,,,,,,"The attached maven application project has a subtle typo in a JNDI name in the jboss-ejb3.xml file.

The deployment process results in a hanging thread shown below. There are no diagnostic log messages at all to indicate what the problem could be.

A second consequence of this hung thread is that the server process can only be terminated with a ""kill -9 <pid>"".

Note that it is deliberately a JEE5 compatible application.

""management-handler-thread - 4"" prio=5 tid=7f843c0bf000 nid=0x10a866000 in Object.wait() [10a864000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <7d42d05f8> (a org.jboss.as.controller.ContainerStateMonitor)
	at java.lang.Object.wait(Object.java:485)
	at org.jboss.as.controller.ContainerStateMonitor.awaitContainerStateChangeReport(ContainerStateMonitor.java:158)
	- locked <7d42d05f8> (a org.jboss.as.controller.ContainerStateMonitor)
	at org.jboss.as.controller.ModelControllerImpl.awaitContainerStateChangeReport(ModelControllerImpl.java:442)
	at org.jboss.as.controller.OperationContextImpl.awaitModelControllerContainerMonitor(OperationContextImpl.java:147)
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:261)
	at org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:211)
	at org.jboss.as.server.deployment.DeploymentHandlerUtil$1.execute(DeploymentHandlerUtil.java:123)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:397)
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:284)
	at org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:211)
	at org.jboss.as.server.deployment.DeploymentDeployHandler.execute(DeploymentDeployHandler.java:75)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:397)
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:284)
	at org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:211)
	at org.jboss.as.server.deployment.DeploymentAddHandler.execute(DeploymentAddHandler.java:168)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:397)
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:284)
	at org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:211)
	at org.jboss.as.controller.CompositeOperationHandler.execute(CompositeOperationHandler.java:85)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:397)
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:284)
	at org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:211)
	at org.jboss.as.controller.ModelControllerImpl$DefaultPrepareStepHandler.execute(ModelControllerImpl.java:473)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:397)
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:284)
	at org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:211)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:126)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:111)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:139)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:108)
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:296)
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:680)
	at org.jboss.threads.JBossThread.run(JBossThread.java:122)

   Locked ownable synchronizers:
	- <7d42a5150> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)
	- <7d4f3b598> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)

",,,,,,,,,,,,,,,,,,,,,AS7-5969,WFLY-2692,,,,,,,,,,,,,,,"14/Nov/12 7:50 PM;sfcoy;migration-demo.tar.gz;https://issues.redhat.com/secure/attachment/12358516/migration-demo.tar.gz",,,,,,,,,,,,,,,,,,,2012-11-29 08:55:48.0,,,,,,,,https://community.jboss.org/message/825700#825700,,,,,,,,,,,,,,,,,1.0,4.0,,,,,,,,,,"1|hykgn3:",108303,,0.0,,,,,"Build the attached project with Maven 3.0.4 or better.

Deploy the resulting EAR to a JBossAS 7.x instance",,,,,,,,,,,"29/Nov/12 8:55 AM;jaikiran;Adding the discussion I and David had about this over IRC on #jboss-as7 channel (complete log available here http://echelog.com/logs/browse/jboss-as7/1353020400 November 16th 2012)

{quote}
[15:41:05] <dmlloyd> what's up Jaikiran?
[15:41:12] <dmlloyd> (didn't see your ping there...)
[15:41:59] <Jaikiran> dmlloyd: if you have some time, i would like to understand a bit about why servicelisteners are considered evil . and if they are evil in all cases or specific cases
[15:42:18] <dmlloyd> sure, it's really simple
[15:42:40] <dmlloyd> basically a service listener means that the state machine for every service it's attached to has to pause in between each state to call the listener
[15:42:52] <dmlloyd> without service listeners, in many cases states can be instantly bypassed
[15:42:57] <dmlloyd> that's the perf issue
[15:43:17] <dmlloyd> the conceptual issue is that performing actions - especially service-impacting actions - in a listener can result in unpredictable effects
[15:43:20] *** igarashitm has quit IRC
[15:43:45] <dmlloyd> for example, imagine a service listener which toggles the service mode between ACTIVE and NEVER when the service becomes down and up
[15:43:59] <dmlloyd> it would cause an indefinite rippling oscillation in the service graph
[15:44:11] <dmlloyd> consume lots of CPU and never terminate
[15:44:34] <dmlloyd> that's a boiled-down case; of course nobody would ever do that, but they might do something similar on accident
[15:45:01] <Jaikiran> i see. so from what i understand the real concern is that the badly written servicelisteners can impact MSC
[15:45:08] <Jaikiran> and MSC has no real control over those
[15:46:06] <Jaikiran> now that i understand that concern, i would like to explain the issue that i was thinking of solving via a servicelistener
[15:46:32] <Jaikiran> so i'm looking into this JIRA AS7-5946
[15:46:33] <jbossbot> jira [AS7-5946] jboss-ejb3.xml faults fail silently and result in a hanging thread [Open (Unresolved) Bug, Major, David Lloyd] https://issues.jboss.org/browse/AS7-5946
[15:46:39] <Jaikiran> there are 2 problems in that JIRA
[15:46:45] <Jaikiran> the first one is simple of fix
[15:47:04] <Jaikiran> the WebDeploymentService does some blocking tasks in start/stop from a MSC thread
[15:47:15] <Jaikiran> and that needs to be fixed to use a server executor
[15:47:19] <Jaikiran> that part is easy to fix
[15:47:28] <jfclere> about https://github.com/jbossas/jboss-as/pull/3326 I think it makes sense to remove the jar file logic, comments?
[15:47:45] <bstansberry> jfclere: +1
[15:48:02] <Jaikiran> now the real problem is that that service triggers web app context initialization which leads to a startup servlet to be invoked in the user app
[15:48:28] <jfclere> bstansberry: ok I will clean the code then ;-)
[15:48:30] <Jaikiran> that servlet invokes an EJB whose backing component has a dependency problem and is never expected to start
[15:49:01] <Jaikiran> the invocation on the view of that component leads to a call to component instance creation which literally waits for the component to start
[15:49:21] <Jaikiran> and since the component start service associated with that bean is DOWN, it never starts
[15:49:25] <Jaikiran> and leads to a deadlock
[15:49:56] *** baranowb has quit IRC
[15:50:07] <Jaikiran> IMO, what that part of code in BasicComponent#waitForComponent is misisng is a way to convey the service startup failure
[15:50:32] *** ousmaneo has joined #jboss-as7
[15:50:36] <Jaikiran> so i was thinking  of using a service listener on the component start service to listen to transition of the service going DOWN
[15:50:50] <Jaikiran> so that we can break that indefinite ""wait""
[15:50:57] *** AndyTaylor has left #jboss-as7
[15:51:17] <ousmaneo> i'm having  ""org.datanucleus.api.jpa"" is already registered error on jbossas-
[15:51:34] <Jaikiran> does that sound like a good use of the service listener? this is more EE so i'll be running it past stuart too, but i was to understand your concerns (if any) with this proposal
[15:52:37] *** tcrawley is now known as tcrawley|away
[15:53:45] <Jaikiran> btw here's the thread dump of the deadlock if it helps understand the issue http://pastebin.com/4QT5EVf1
[15:54:08] <dmlloyd> the difficulty is that a service can transition to DOWN for a lot of reasons
[15:54:46] <dmlloyd> I agree it's a problem though
[15:55:02] <dmlloyd> I think we have (had?) a solution for a similar issue in the naming subsystem
[15:55:22] <dmlloyd> it used the service substate to determine whether a lookup can ever succeed
[15:55:45] <dmlloyd> I would think that this should be used in this case as well, but I may be oversimplifying
[15:56:17] <Jaikiran> i'll take a look at the naming subsystem and see what was done there
[15:56:23] <dmlloyd> the problem is that even known dependency problems *might* be transient
[15:57:38] <jmesnil> dmlloyd, I was thinking about using service listeners to fix https://issues.jboss.org/browse/AS7-5929 and I see now why that'd a *bad* idea :)
[15:57:39] <jbossbot> jira [AS7-5929] :reload operation clears up the restart-required process-state [Open (Unresolved) Bug, Major, Unassigned] https://issues.jboss.org/browse/AS7-5929
[15:58:27] <Jaikiran> yeah, that's another question i had - a state of DOWN probably doesn't really represent that the dep problem can't be fixed ""later"", isn't it
[15:58:30] <Jaikiran> ?
[15:58:58] <dmlloyd> no.  In fact no single service's state can tell you definitively whether that service ever might successfully start in the future
[16:00:22] <Jaikiran> yeah, it's the ""future"" which i think is important. i mean a deployment completion (either failure/success) probably should be an indication that the component instance creation sshould no longer ""wait""
[16:00:41] <Jaikiran> *should no longer ""wait"" for the future/later transitions
[16:00:52] <dmlloyd> yes, but if there are still services starting then the deployment cannot be ""complete""
[16:00:56] *** ssadeghi has quit IRC
[16:00:57] <Jaikiran> and instead just report a failure to create the component instance
[16:01:00] <dmlloyd> in this case the startup servlet
[16:01:02] *** milestone has quit IRC
[16:01:36] <Jaikiran> yeah, true.
[16:01:48] <dmlloyd> is this a hard problem? yes :)
[16:01:49] *** jdoyle has joined #jboss-as7
[16:01:57] *** mkouba has quit IRC
[16:02:00] <Jaikiran> this one's going to be interesting and tricky :)
[16:02:03] <Jaikiran> yeah!
[16:03:14] *** rbenevides1 has joined #jboss-as7
[16:04:34] *** tdiesler has quit IRC
[16:04:52] *** rbenevides has quit IRC
[16:05:06] <dmlloyd> there are a couple vectors from which we can approach the problem
[16:05:17] <dmlloyd> 1) approach the equality between service start and component start
[16:06:00] <dmlloyd> 2) approach the two-phase JNDI binding methodology that results in no direct dependencies between components which programmatically look up names and those that bind the names
[16:07:09] <dmlloyd> instinctively I think #2 is the more solid approach, but I have no ideas how to achieve any useful alternative
[16:07:55] *** lfryc has quit IRC
[16:07:57] <dmlloyd> we could simply cause the lookup to fail if the target service is in any kind of problem state (regardless of transitivity) and require the user to use @Resource (or similar) to establish the dependency for safety
[16:08:19] <dmlloyd> requiring code changes to user code is non-ideal, but maybe in this case it's OK
[16:08:39] <dmlloyd> (especially given that the changes are portable)
[16:08:50] <dmlloyd> not sure what the backwards compat impact would be though
[16:09:05] <dmlloyd> s/transitivity/transience/
[16:09:07] <Jaikiran> actually the dependency is already established by the user code
[16:09:13] <Jaikiran> it has a @EJB in the startup servlet
[16:09:19] <dmlloyd> ah, in that case it's a simple bug!
[16:09:21] <Jaikiran> but that @EJB adds a dependency on a view
[16:09:25] <Jaikiran> not the component
[16:09:26] *** csams has joined #jboss-as7
[16:09:35] <dmlloyd> the view should in turn have a dep on the component iirc
[16:09:39] *** maeste2 has joined #jboss-as7
[16:09:39] *** ChanServ sets mode: +v maeste2
[16:09:49] * Jaikiran takes a look at the view service
[16:09:59] <dmlloyd> it's been a long time since I've been in that code :)
[16:12:20] <Jaikiran> ok so here's what's going on
[16:12:33] <Jaikiran> the view service has a dep on Create service of the component
[16:12:43] <Jaikiran> which is just responsible for creating the Component
[16:13:02] *** maeste has quit IRC
[16:13:06] *** braoru has joined #jboss-as7
[16:13:27] <Jaikiran> a ""started"" component is controlled via a separate ComponentStartService on which this view service has no dep
[16:13:50] <Jaikiran> so effectively the invocation uses the view service to get to hold of the created component
[16:13:51] <dmlloyd> ah yes, the two phase problem
[16:14:08] <Jaikiran> and ""waits"" for the component to be ""started"" by that other service
[16:14:18] *** mkouba has joined #jboss-as7
[16:14:29] <Jaikiran> yep
[16:14:31] <dmlloyd> you know we have a better solution to that problem in the jboss modules linker - maybe it is applicable here as well
[16:15:19] <dmlloyd> the simplest form of the problem is that any component A that depends on component B needs all of B's dependencies as well, even though there's no way to directly express that without a graph cycle
[16:15:42] *** lance|afk has quit IRC
[16:16:04] <dmlloyd> the current solution as you say is to have services A1 and A2, and B1 and B2, and have A2 depend on B1 so that when A starts, all of its immediate deps are satisfied
[16:16:19] <dmlloyd> of course if there is an unsatisfied transient dep, A might end up in the very blocking situation we see now
[16:16:22] *** jharting has quit IRC
[16:16:47] *** pfrobinson has quit IRC
[16:17:12] <dmlloyd> the solution would be for A1 and B1 to include *information* about all of their immediate dependencies, and have the definitions of A2 and B2 be built from the traversal of their immediate dependencies into the transitive closure of all dependencies
[16:17:31] <dmlloyd> it might require three phases to carry off properly in MSC but the basic idea should work
[16:17:56] <dmlloyd> but then A2 would have a dependency on the complete set of components required to make it go
[16:18:06] <dmlloyd> instead of just the first level of the graph
[16:18:20] * dmlloyd complex solution first!
[16:18:34] <Jaikiran> i kind of understand the solution you are proposing but i'll have to spend some more time to fully understand what its implications are
[16:18:44] <dmlloyd> yeah I expect I'll have to draw some pictures to be sure
[16:18:55] *** clebert has joined #jboss-as7
[16:18:56] *** ChanServ sets mode: +v clebert
[16:18:57] <Jaikiran> actually it's kind of along the lines of what we did in AS6 for the same problem via ""switchboard""
[16:19:29] <dmlloyd> yeah I think it'd require a ""definition"" phase, a ""resolve"" phase, and a ""start"" phase...
[16:19:36] <dmlloyd> instead of create/start
[16:20:12] *** tcrawley|away is now known as tcrawley
[16:20:15] <Jaikiran> yeah
{quote}","11/Dec/12 9:34 AM;paul.robinson;I think we are also seeing this issue in: JBTM-1386. Can you take a quick look and confirm the likelihood to be caused by this?

Is there a workaround we can use whilst waiting for a fix?

Cheers!","07/Feb/13 5:15 AM;wolfc;With jconsole a connection can be made to the jboss.msc/container/jboss-as MBean which has an operation dumpServices. This will generate a report outlining the status of all services. Probably some service will be reported as down. Tracing back through the dependencies will give you the service that is not starting up.","07/Feb/13 6:37 PM;wolfc;https://issues.jboss.org/browse/AS7-6470?focusedCommentId=12752924&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12752924",,,,,,,,,,,,,,,,,,,,,,,
EJBComponentDescription#isSecurityEnabled() is incorrect,WFLY-2486,12524779,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,swd847,swd847,11/Nov/13 9:12 AM,26/Nov/19 7:58 AM,15/Jan/20 1:31 PM,26/Nov/19 7:58 AM,,,,,,,,,EJB,,,,,,,0,,,,,,,"This assumes that if the security domain is null, then the there is no security. This is incorrect, as there could be a default security domain. There could also be a security domain set, but not security annotations/metadata that is applicable to the bean. On the whole I think we should remove this method, as its use is problematic, and move any code that relies on it to org.jboss.as.ejb3.security.EJBSecurityViewConfigurator, so all the security stuff is setup in one place.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|hyx0xr:",181365,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NonPersistentIntervalTimerManagementTestCase fails sometimes,WFLY-3630,12546488,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,lafr,lafr,15/Jul/14 9:58 AM,26/Nov/19 7:56 AM,15/Jan/20 1:31 PM,26/Nov/19 7:56 AM,9.0.0.Alpha1,,,,,,,,EJB,Test Suite,,,,,,0,,,,,,,"Testcase org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase fails sometimes for me when running build with all tests on Windows machine. I never saw this failure on my Solaris box using the same JDK version. And somehow the appearance of the failure seem to be related to the execution time.
Executing the testsuite during the day does not show me this error. Only in the very late evening / early morning hours the error appeared. (All related to Central European Summer time in my case.)

I added some debug output an saw, that, in case of failure, after ""activateTimer"" the timer fires immediately so that there is one timeout too much then. The initial timeout time of the timer is passed, when it's suspended. When activated it seems to make good for the missed timeout sometimes.
The persistent version of this testcase located in the same package with exactly same logic never fails for me.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/6597,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|hz4ntj:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"15/Jul/14 10:20 AM;lafr;Running org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase
Tests run: 5, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 23.322 sec <<< FAILURE! - in org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase
testSuspendAndTrigger(org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase)  Time elapsed: 7.051 sec  <<< FAILURE!
java.lang.AssertionError: Timer should fire twice! expected:<2> but was:<3>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:555)
	at org.jboss.as.test.integration.ejb.timerservice.mgmt.AbstractTimerManagementTestCase.testSuspendAndTrigger(AbstractTimerManagementTestCase.java:148)
	at org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase.testSuspendAndTrigger(NonPersistentIntervalTimerManagementTestCase.java:73)
","08/Aug/14 4:46 AM;lafr;More information:
I added some log statements to the testcase, in method testSuspendAndTrigger and in Timeout method of the bean.
Usually I see something like this:
07:38:53,024 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) createTimer
07:38:53,040 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) triggerTimer
07:38:53,054 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.IntervalTimerBean] (management-handler-thread - 4) booom: [id=6397e6f9-e7f7-4a84-aa58-d3f9d02d8b43 timedObjectId=ejb-mgmt-timers.ejb-mgmt-timers.IntervalTimerBean auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@1734190 initialExpiration=Fri Aug 08 07:38:56 CEST 2014 intervalDuration(in milli sec)=3000 nextExpiration=Fri Aug 08 07:38:59 CEST 2014 timerState=IN_TIMEOUT info=NonPersistentIntervalTimerCLITestCase
07:38:53,063 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) suspendTimer
07:38:53,070 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) waitOverTimer
07:38:57,080 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) activateTimer
07:38:57,089 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) waitOnTimeout
07:38:59,038 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.IntervalTimerBean] (EJB default - 7) booom: [id=6397e6f9-e7f7-4a84-aa58-d3f9d02d8b43 timedObjectId=ejb-mgmt-timers.ejb-mgmt-timers.IntervalTimerBean auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@1734190 initialExpiration=Fri Aug 08 07:38:56 CEST 2014 intervalDuration(in milli sec)=3000 nextExpiration=Fri Aug 08 07:39:02 CEST 2014 timerState=IN_TIMEOUT info=NonPersistentIntervalTimerCLITestCase

But for a failed test I see:
01:08:11,368 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) createTimer
01:08:11,368 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) triggerTimer
01:08:11,368 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.IntervalTimerBean] (management-handler-thread - 3) booom: [id=467f7f53-a6c7-4abe-9d28-63da530eeda6 timedObjectId=ejb-mgmt-timers.ejb-mgmt-timers.IntervalTimerBean auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@5931ef88 initialExpiration=Fri Aug 08 01:08:14 CEST 2014 intervalDuration(in milli sec)=3000 nextExpiration=Fri Aug 08 01:08:14 CEST 2014 timerState=IN_TIMEOUT info=NonPersistentIntervalTimerCLITestCase
01:08:11,368 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) suspendTimer
01:08:11,368 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) waitOverTimer
01:08:15,410 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) activateTimer
01:08:15,410 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.IntervalTimerBean] (EJB default - 3) booom: [id=467f7f53-a6c7-4abe-9d28-63da530eeda6 timedObjectId=ejb-mgmt-timers.ejb-mgmt-timers.IntervalTimerBean auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@5931ef88 initialExpiration=Fri Aug 08 01:08:14 CEST 2014 intervalDuration(in milli sec)=3000 nextExpiration=Fri Aug 08 01:08:17 CEST 2014 timerState=IN_TIMEOUT info=NonPersistentIntervalTimerCLITestCase
8:15,410 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.NonPersistentIntervalTimerManagementTestCase] (main) waitOnTimeout
01:08:18,446 INFO  [org.jboss.as.test.integration.ejb.timerservice.mgmt.IntervalTimerBean] (EJB default - 8) booom: [id=467f7f53-a6c7-4abe-9d28-63da530eeda6 timedObjectId=ejb-mgmt-timers.ejb-mgmt-timers.IntervalTimerBean auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@5931ef88 initialExpiration=Fri Aug 08 01:08:14 CEST 2014 intervalDuration(in milli sec)=3000 nextExpiration=Fri Aug 08 01:08:20 CEST 2014 timerState=IN_TIMEOUT info=NonPersistentIntervalTimerCLITestCase

Note the initialExpiration and the nextExpiration. When in Timeout, the nextExpiration is already incremented by intervalDuration. But in failing case it's not. Then, when activate happens nextExpiration is in the past and timer fires directly, which makes the testcase fail.",,,,,,,,,,,,,,,,,,,,,,,,,
Implement CommonJ API on top of JSR-236,WFLY-1855,12498277,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Out of Date,,ilx,ilx,08/Aug/13 12:31 PM,26/Nov/19 7:55 AM,15/Jan/20 1:31 PM,26/Nov/19 7:55 AM,8.0.0.Alpha3,,,,,Awaiting Volunteers,,,EE,,,,,,,0,commonj,concurrency,JSR-236,,,,"Please implement CommonJ API on top of JSR-236. Once 236 support is finished it shouldn't be too much work to implement CommonJ API.

This might help migrate WAS/Weblogic customers and older legacy applications (the ones that use Spring).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Compatibility/Configuration,"Documentation (Ref Guide, User Guide, etc.)",Release Notes,,,,,,,,,,,2013-09-25 11:13:59.0,,,,,,,Medium,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|hyum2v:",167681,,0.0,,,,,,,,,,,,,,,,"25/Sep/13 11:13 AM;dmlloyd;Given that JSR-237 is withdrawn, I don't think we can justify prioritizing this.  However, if someone contributes an enhancement to do this, we will consider it.","20/Nov/13 9:27 AM;adietish;The title is talking about the active JSR-236 which covers the concurrency utilities. IMHO this was a typo, JSR-237 which covers the work manager was meant. JSR.-237 was withdrawn as stated above.","21/Nov/13 10:43 AM;ilx;[~adietish]  The title was correct - I proposed implementation of workmanager api from JSR-237 on top of new JSR-236 implementation.","21/Nov/13 12:47 PM;adietish;sorry, my fault then. thought was a typo I'd help by fixing. reverting.","08/Dec/13 8:57 AM;pldayo;JSR-237 is no longer available as a spec and the references to this function in JSR-236 are few and far between. I'd like to take a look but need some details on requirements. Is it essentially implementing the interfaces http://commonj.myfoo.de/jsr237-api/ using the 236 apis?",,,,,,,,,,,,,,,,,,,,,,
Add a management operation to let remote EJB clients know that a particular server is no longer capable of handling a EJB request,WFLY-1314,12491045,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,jaikiran,jaikiran,03/May/13 12:25 PM,26/Nov/19 7:54 AM,15/Jan/20 1:31 PM,26/Nov/19 7:54 AM,,,,,,,,,EJB,,,,,,,0,,,,,,,"While looking into another issue WFLY-1313 we realized that it might be a good idea to allow admins to have some kind of management operation where they could say that a particular server will no longer accept EJB invocations (for all deployments or maybe just a specific deployment). This would then allow the admins to issue such a operation and the remote EJB clients (via the EJB client library) would then realize that, they should no longer send out requests to that server node. This way the admins can then even undeploy the deployment or shutdown the server without having to worry about EJB invocations coming in and failing in-flight due to deployment being currently undeployed.

From a EJB client library point of view, this essentially is a explicit ""module unavailable"" notification that the server will trigger to its connected clients.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2013-09-23 11:58:22.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hyszjb:",158133,,0.0,,,,,,,,,,,,,,,,"23/Sep/13 11:58 AM;dmlloyd;This could be part of a more general ""application ready"" service that would tie into graceful shutdown.",,,,,,,,,,,,,,,,,,,,,,,,,,
On failed secured connection during EJB invocations from a remote server instance an incorrect error message is shown,WFLY-863,12460788,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Out of Date,,ochaloup,ochaloup,05/Mar/12 3:49 PM,26/Nov/19 7:53 AM,15/Jan/20 1:31 PM,26/Nov/19 7:53 AM,,,,,,,,,EJB,,,,,,,0,,,,,,,"When EJB invocations from a remote server instance is used and remoting connector of the remote server is secured and the attempt to connection fails an incorrect exception is thrown. 
In case of version 7.1.0.Final when authentication si not correctly defined then during deployment following exception is thrown:
{code}
ERROR [org.jboss.remoting.remote.connection] (Remoting ""clientnode"" read-1) JBREM000200: Remote connection failed: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed
ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.ejb3.dd-based-ejb-client-context.""client-ear.ear"": org.jboss.msc.service.StartException in service jboss.ejb3.dd-based-ejb-client-context.""client-ear.ear"": Failed to start service
            at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1767) [jboss-msc-1.0.2.GA-redhat-1.jar:1.0.2.GA-redhat-1]
            at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_23]
            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_23]
            at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_23]
    Caused by: java.lang.RuntimeException: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed
            at org.jboss.ejb.client.remoting.IoFutureHelper.get(IoFutureHelper.java:91)
            at org.jboss.as.ejb3.remote.DescriptorBasedEJBClientContextService.createRemotingConnections(DescriptorBasedEJBClientContextService.java:124)
            at org.jboss.as.ejb3.remote.DescriptorBasedEJBClientContextService.start(DescriptorBasedEJBClientContextService.java:86)
            at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA-redhat-1.jar:1.0.2.GA-redhat-1]
            at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA-redhat-1.jar:1.0.2.GA-redhat-1]
            ... 3 more
    Caused by: javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed
            at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:315) [jboss-remoting-3.2.2.GA-redhat-1.jar:3.2.2.GA-redhat-1]
            at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:214) [jboss-remoting-3.2.2.GA-redhat-1.jar:3.2.2.GA-redhat-1]
            at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:72) [xnio-api-3.0.3.GA-redhat-1.jar:3.0.3.GA-redhat-1]
            at org.xnio.channels.TranslatingSuspendableChannel.handleReadable(TranslatingSuspendableChannel.java:189) [xnio-api-3.0.3.GA-redhat-1.jar:3.0.3.GA-redhat-1]
            at org.xnio.channels.TranslatingSuspendableChannel$1.handleEvent(TranslatingSuspendableChannel.java:103) [xnio-api-3.0.3.GA-redhat-1.jar:3.0.3.GA-redhat-1]
            at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:72) [xnio-api-3.0.3.GA-redhat-1.jar:3.0.3.GA-redhat-1]
            at org.xnio.channels.TranslatingSuspendableChannel.handleReadable(TranslatingSuspendableChannel.java:189) [xnio-api-3.0.3.GA-redhat-1.jar:3.0.3.GA-redhat-1]
            at org.xnio.ssl.JsseConnectedSslStreamChannel.handleReadable(JsseConnectedSslStreamChannel.java:180) [xnio-api-3.0.3.GA-redhat-1.jar:3.0.3.GA-redhat-1]
            at org.xnio.channels.TranslatingSuspendableChannel$1.handleEvent(TranslatingSuspendableChannel.java:103) [xnio-api-3.0.3.GA-redhat-1.jar:3.0.3.GA-redhat-1]
            at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:72) [xnio-api-3.0.3.GA-redhat-1.jar:3.0.3.GA-redhat-1]
            at org.xnio.nio.NioHandle.run(NioHandle.java:90)
            at org.xnio.nio.WorkerThread.run(WorkerThread.java:184)
            at ...asynchronous invocation...(Unknown Source)
            at org.jboss.remoting3.EndpointImpl.doConnect(EndpointImpl.java:270) [jboss-remoting-3.2.2.GA-redhat-1.jar:3.2.2.GA-redhat-1]
            at org.jboss.remoting3.EndpointImpl.doConnect(EndpointImpl.java:251) [jboss-remoting-3.2.2.GA-redhat-1.jar:3.2.2.GA-redhat-1]
            at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:349) [jboss-remoting-3.2.2.GA-redhat-1.jar:3.2.2.GA-redhat-1]
            at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:337) [jboss-remoting-3.2.2.GA-redhat-1.jar:3.2.2.GA-redhat-1]
            at org.jboss.as.remoting.RemoteOutboundConnectionService.connect(RemoteOutboundConnectionService.java:130) [jboss-as-remoting-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
{code}
which is correct. But in case that the remote server is shut down, configuration is changed to use security connection then incorrect and confusing exception is thrown:

{code}
ERROR [org.jboss.ejb3.invocation] (EJB default - 2) JBAS014134: EJB Invocation failed on component CallingBean for method public abstract java.lang.String serverclient.CallingBeanRemote.call(): javax.ejb.EJBException: java.lang.RuntimeException: java.lang.IllegalStateException: No EJB receiver available for handling [appName:,modulename:myejb,distinctname:] combination
            at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:166) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:230) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropogatingInterceptor.processInvocation(EJBRemoteTransactionPropogatingInterceptor.java:80) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:43) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:300) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$200(MethodInvocationMessageHandler.java:64) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:194) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) [rt.jar:1.6.0_23]
            at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) [rt.jar:1.6.0_23]
            at java.util.concurrent.FutureTask.run(FutureTask.java:138) [rt.jar:1.6.0_23]
            at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_23]
            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_23]
            at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_23]
            at org.jboss.threads.JBossThread.run(JBossThread.java:122)
    Caused by: java.lang.RuntimeException: java.lang.IllegalStateException: No EJB receiver available for handling [appName:,modulename:myejb,distinctname:] combination
            at serverclient.CallingBean.call(CallingBean.java:39) [serverclient-ejb.jar:]
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_23]
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [rt.jar:1.6.0_23]
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [rt.jar:1.6.0_23]
            at java.lang.reflect.Method.invoke(Method.java:597) [rt.jar:1.6.0_23]
            at org.jboss.as.ee.component.ManagedReferenceMethodInterceptorFactory$ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptorFactory.java:72) [jboss-as-ee-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:36) [jboss-as-ee-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:53) [jboss-as-ee-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final-redhat-1.jar:1.1.1.Final-redhat-1]
            at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:228) [jboss-as-ejb3-7.1.0.Final-redhat-1.jar:7.1.0.Final-redhat-1]
            ... 27 more
    Caused by: java.lang.IllegalStateException: No EJB receiver available for handling [appName:,modulename:myejb,distinctname:] combination
            at org.jboss.ejb.client.EJBClientContext.requireEJBReceiver(EJBClientContext.java:516) [jboss-ejb-client-1.0.4.Final.jar:1.0.4.Final]
            at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:84) [jboss-ejb-client-1.0.4.Final.jar:1.0.4.Final]
            at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:175) [jboss-ejb-client-1.0.4.Final.jar:1.0.4.Final]
            at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:136) [jboss-ejb-client-1.0.4.Final.jar:1.0.4.Final]
            at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:121) [jboss-ejb-client-1.0.4.Final.jar:1.0.4.Final]
            at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:104) [jboss-ejb-client-1.0.4.Final.jar:1.0.4.Final]
            at $Proxy15.sayHello(Unknown Source)    at serverclient.CallingBean.call(CallingBean.java:34) [serverclient-ejb.jar:]
            ... 46 more  
{code}
The exception seems that everything was connected correctly only module does not exist in remote context.

In case of the AS7 Final version is not so problematic but when you take source codes from git then after deploying of application to client server which would like to connect to a secured remote server then no exception is thrown during deployment. Everything looks fine but after execution of remote call the confusing exception is thrown and it's hard to understand that the problem is in not connected context because of security.",,,,,,,,,,,,JBPAPP6-1538,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2012-08-01 11:49:23.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|hyatkf:",52136,,0.0,,,,,,,,,,,,,,,,"05/Mar/12 4:36 PM;ochaloup;The same problem occurs with ""standalone"" client. When it's connecting to secured server without auth. definition then it says only and nothing about incorrect authentication.
{code}
Exception in thread ""main"" java.lang.IllegalStateException: No EJB receiver available for handling [appName:,modulename:myejb,distinctname:] combination
	at org.jboss.ejb.client.EJBClientContext.requireEJBReceiver(EJBClientContext.java:516)
	at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:84)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:175)
	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:136)
	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:121)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:104)
	at $Proxy0.callRemote(Unknown Source)
	at client.ClientRemoteCall.main(ClientRemoteCall.java:27)
{code}","22/May/12 4:37 AM;ochaloup;I've checked it whether the current upstream version has the same ""problem"" and it has.
In my point of view there should be some information that the connection failed. 
I guess that when I spot exception ""No EJB receiver available for handling [...]"" that it means that the connection succeeded but I put incorrect ejb name to search for. In case that the connection was not successful at all I think that would be nice to have some another more informative exception.","31/Jan/13 2:52 PM;8f4xd7qigkwkp;This bug, along with the aggressive EJB caching, also seems to prevent a consuming server from failing over to another server since the consuming server sees the down server as not having the EJB and never checks it again; even if the other server is started up later.","01/Feb/13 6:25 AM;jaikiran;P R, this JIRA is just about a cosmetic change to the logging. If you are running into specific issue then please create a forum discussion here https://community.jboss.org/community/jbossas7?view=discussions with the relevant details.",,,,,,,,,,,,,,,,,,,,,,,
env-entry-type should not be mandatory,WFLY-830,12473366,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,,cfang,cfang,29/Aug/12 10:08 PM,26/Nov/19 7:41 AM,15/Jan/20 1:31 PM,26/Nov/19 7:41 AM,,,,,,Awaiting Volunteers,,,EE,,,,,,,0,,,,,,,"similar to issue AS7-1876, but I couldn't reopen it.

My app declares <env-entry> without <env-entry-type>, but also injects the same resource into java class with the correct field type.  It failed to deploy:

{noformat}
21:57:58,318 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-10) MSC00001: Failed to start service jboss.deployment.unit.""ENVTestAS7.jar"".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.""ENVTestAS7.jar"".POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of deployment ""ENVTestAS7.jar""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:123) [jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [classes.jar:1.6.0_33]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [classes.jar:1.6.0_33]
	at java.lang.Thread.run(Thread.java:680) [classes.jar:1.6.0_33]
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011032: Could not determine type for <env-entry> java:comp/env/myEntry please specify the <env-entry-type>.
	at org.jboss.as.ee.component.deployers.ResourceReferenceProcessor.getEnvironmentEntries(ResourceReferenceProcessor.java:267)
	at org.jboss.as.ee.component.deployers.ResourceReferenceProcessor.processDescriptorEntries(ResourceReferenceProcessor.java:71)
	at org.jboss.as.ee.component.deployers.AbstractDeploymentDescriptorBindingsProcessor.deploy(AbstractDeploymentDescriptorBindingsProcessor.java:100)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:116) [jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT]
	... 5 more
{noformat}",,,,,,,,,,,,AS7-1876,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2012-08-29 22:18:55.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|hyhon3:",92089,,0.0,,,,,,,,,,,,,,,,"29/Aug/12 10:18 PM;dmlloyd;Can you include the descriptor?","29/Aug/12 10:48 PM;swd847;I do not believe this is a bug, according to http://java.sun.com/xml/ns/javaee/javaee_6.xsd:

{noformat}
            The env-entry-type element contains the Java language
            type of the environment entry.  If an injection target
            is specified for the environment entry, the type may
            be omitted, or must match the type of the injection
            target.  If no injection target is specified, the type
            is required.
            
            Example:
            
            <env-entry-type>java.lang.Integer</env-entry-type>

{noformat}","30/Aug/12 7:21 AM;cfang;{code:xml}
  <env-entry>
    <env-entry-name>java:module/env/xxx</env-entry-name>
    <env-entry-type>java.lang.String</env-entry-type>
    <env-entry-value>xxx</env-entry-value>
  </env-entry>
{code}

{code:java}
    @Resource(name = ""java:module/env/xxx"")
    private String xxx;
{code}","30/Aug/12 7:39 AM;cfang;This is from the same javaee_6.xsd ( http://java.sun.com/xml/ns/javaee/javaee_6.xsd ),  the description of element <env-entry>:
{quote}
        The env-entryType is used to declare an application's
        environment entry. The declaration consists of an optional
        description, the name of the environment entry, a type
        (optional if the value is injected, otherwise required), and
        an optional value.
{quote}

This is consistent with what you've quoted above for <env-entry-type>.

This is the same issue as AS7-1876, which was fixed before.  So we need to keep this fix in new versions as well.

AS7-1876 has a test app attached and can be used to reproduce the problem.","20/Sep/13 3:08 PM;dmlloyd;Stuart, when you're back please revisit this issue.  It's clear what the problem is (conceptually at least) but I either need you to talk me through the code or just outright fix it (it's probably not too tough to fix).

Thanks.",,,,,,,,,,,,,,,,,,,,,,
Using JTA transaction's node_name attribute is set to an old value after node-identifier is changed,WFLY-12317,12819399,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,istraka,istraka,23/Jul/19 9:48 AM,22/Nov/19 11:16 AM,15/Jan/20 1:31 PM,20/Aug/19 4:29 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,0,,,,,,,"We have following test scenario (3 servers) that fails:
# node-identifier of server1, 2 & 3 is set to 'vkcd', 'FdOu' and 'GocW' (ts.jbosstsX.node.identifier property)
# server2 is started,  node-identifier is set to txdifferentnodeid and server2 is stopped
# server1 is started, node-identifier is set to txdifferentnodeid and server1 is reloaded
# server3 is running
# client call an EJB bean (where a transaction is started) on the server1
# the EJB sends JMS message to  the server3 (broker)
# the EJB enlists dummy xa resource
# during 2PC the Server1 is halted when prepare on dummy xa resource is invoked
# we move server1 object store directory to the server2
# server2 is started
# the server2 is expected to rollback whole transaction

Transaction is unfinished because server2 has not performed rollback.

{code:java}
prepareHalt(org.jboss.as.test.jbossts.crashrec.differentnode.test.TxDifferentNodeCrashRecoveryTestCase)  Time elapsed: 810.354 sec  <<< FAILURE!
java.lang.AssertionError: Some unfinished xids on messaging server - expected 0 but was 1
	at org.junit.Assert.fail(Assert.java:88)
	at org.jboss.as.test.jbossts.crashrec.differentnode.test.TxDifferentNodeCrashRecoveryTestCase.checkAfterTestExecution(TxDifferentNodeCrashRecoveryTestCase.java:792)
	at org.jboss.as.test.jbossts.crashrec.differentnode.test.TxDifferentNodeCrashRecoveryTestCase.prepareHalt(TxDifferentNodeCrashRecoveryTestCase.java:565)
{code}


In the beginning servers' node-identifier are set to some value (lets say A,B,C). Before test execution node-identifier of server1 and server2 is set to the same value, let's say X.

I see in logs that the transaction's node_name is set to the old value (vkcd vs txdifferentnodeid in the example below) on server1. Thus the server2 has not performed rollback.

See node_name
Server1:
{code:java}
2019-07-22 17:40:54,616 DEBUG [com.arjuna.ats.jta] (MSC service thread 1-5) Setting up node identifiers '[txdifferentnodeid]' for which recovery will be performed
{code}

{code:java}
2019-07-22 17:41:11,931 TRACE [com.arjuna.ats.jta] (default task-2) XAResourceRecord.XAResourceRecord ( < formatId=131077, gtrid_length=32, bqual_length=36, tx_uid=0:ffff0a2804ed:26165251:5d35d902:3c, node_name=vkcd, branch_uid=0:ffff0a2804ed:26165251:5d35d902:46, subordinatenodename=null, eis_name=java:/JmsXA NodeId:05b492ae-ac97-11e9-a446-2016b912eaa8 >, XAResourceWrapperImpl@4158c7ec[xaResource=org.jboss.activemq.artemis.wildfly.integration.WildFlyActiveMQXAResourceWrapper@4a21a45f pad=false overrideRmValue=null productName=ActiveMQ Artemis productVersion=2.0 jndiName=java:/JmsXA NodeId:05b492ae-ac97-11e9-a446-2016b912eaa8] ), record id=0:ffff0a2804ed:26165251:5d35d902:47

{code}

Server2:
 
{code:java}
2019-07-22 17:41:15,397 DEBUG [com.arjuna.ats.jta] (MSC service thread 1-3) Setting up node identifiers '[txdifferentnodeid]' for which recovery will be performed
{code}

{code:java}
2019-07-22 17:43:56,062 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) node name of < formatId=131077, gtrid_length=32, bqual_length=36, tx_uid=0:ffff0a2804ed:26165251:5d35d902:3c, node_name=vkcd, branch_uid=0:ffff0a2804ed:26165251:5d35d902:46, subordinatenodename=null, eis_name=forgot eis name for: 1 > is vkcd
2019-07-22 17:43:56,062 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) XAResourceOrphanFilter com.arjuna.ats.internal.jta.recovery.arjunacore.JTANodeNameXAResourceOrphanFilter voted ABSTAIN
{code}

*When does the scenario pass*

When I run the TS with 
{code:java}
-Dts.jbossts1.node.identifier=txdifferentnodeid -Dts.jbossts2.node.identifier=txdifferentnodeid
{code}
the test passes (old and new node-identifier on both servers are same)

When step 3 slightly differs: 
When restart is performed instead of reload op.
Server1 is reloaded. If it is restarted, node name is set correctly to txdifferentnodeid

*tldr;*
The problem is that server1 set TX node name to old value after node identifier is changed and server is reloaded. If the server is restarted, everything is OK. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jul/19 9:42 AM;istraka;server1_TxDifferentNodeCrashRecoveryTestCase_prepareHalt_jta_server.log;https://issues.redhat.com/secure/attachment/12453521/server1_TxDifferentNodeCrashRecoveryTestCase_prepareHalt_jta_server.log","23/Jul/19 9:43 AM;istraka;server2_TxDifferentNodeCrashRecoveryTestCase_prepareHalt_jta_server.log;https://issues.redhat.com/secure/attachment/12453520/server2_TxDifferentNodeCrashRecoveryTestCase_prepareHalt_jta_server.log",,,,,,,,,,,,,,,,,,2019-07-27 16:13:14.0,,,,,,,,https://developer.jboss.org/thread/280430,https://github.com/wildfly/wildfly/pull/12480,,,,,,,,,,,,,,,,2.0,10.0,,,,,,,,,,"1|hztzti:",9223372036854775807,,0.0,,,,,"git clone git@gitlab.mw.lab.eng.bos.redhat.com:jbossqe-eap/tests-transactions.git
get wildfly dist
mvn clean verify -Djboss.dist=__PATH_TO_DIST__ -Dtest=TxDifferentNodeCrashRecoveryTestCase#prepareHalt -DfailIfNoTests=false -Djbossts.noJTS -Dts.jbossts1.node.identifier=vkcd -Dts.jbossts2.node.identifier=FdOu -Dts.jbossts3.node.identifier=GocW
",,,,,,,,,,,"27/Jul/19 4:13 PM;mmusgrov;The problem is that many of our properties are statically initialised and are read once at boot time. The ""node-identifier"" is one such property and it is statically initialised (https://github.com/jbosstm/narayana/blob/master/ArjunaCore/arjuna/classes/com/arjuna/ats/arjuna/coordinator/TxControl.java#L238).

We cannot just make every property dynamic since some properties are dependent on each other and setting one can introduce race conditions (with for example periodic recovery) so we could only do that through careful analysis and I doubt the benefits are worth while.

The node-identifier model attribute (https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/subsystem/TransactionSubsystemRootResourceDefinition.java#L115) should be set to RESTART_JVM not reload.

The failing test is testing that another server is able to recover logs from another server. We do support this type of ""proxy recovery"" but the relevant attribute is not exposed in the management model (https://github.com/jbosstm/narayana/blob/master/ArjunaJTA/jta/classes/com/arjuna/ats/jta/common/JTAEnvironmentBean.java#L412),

My recommendation is to:
- change the test to perform a JVM restart instead of a reload.
- update the WildFly management model attribute to require a JVM restart when it is set","29/Jul/19 4:20 AM;ochaloup;What I remember (the test was written by Hayk) the reason for the test was a customer case where the customer wanted to be able to restore the transaction data on a different node and start there the server with the same setting as the previous one had. That way the test case should be valid. And I assume the test probably restarts the JVM as it starts it.

Agree, the txn subsystem model attribute should be fixed to announce the `RESTART_JVM` if it's necessary.

I can look at it if you want? [~mmusgrov]","29/Jul/19 4:22 AM;istraka;I see [~mmusgrov], however this is not an issue in WF14 or WF16 - test passes. Node-identifier is set in the same way in 5.9.3 (used in WF16) and master (your link). ","29/Jul/19 5:55 AM;mmusgrov;[~ochaloup] yes it you want to a look that would be useful. [~istraka] reports that he test does a reload not a reboot","29/Jul/19 6:25 AM;istraka;[~mmusgrov] yes, reload operation is performed. When I perform reboot op, test pass. However the original scenario passes with WF16.","29/Jul/19 7:00 AM;ochaloup;[~mmusgrov] ok, I see. Then the main failure is the attribute change is not defined as {{RESTART_JVM}} needed. Per design the {{:reload}} is not sufficient. Despite that it's just strange that it worked with reload with WFLY16. I will try to take a look.","01/Aug/19 8:35 AM;ochaloup;Summation of effort on this issue.
* The cause of the issue is described in the Mike's comment above (https://issues.jboss.org/browse/WFLY-12317?focusedCommentId=13763985#comment-13763985).
* Even the test worked before with {{:reload}} it was not correct and the correct behaviour needed (even in WFLY16) restart. The counterexample is - start WFLY with node-id {{1}}. Fill the object store with some transaction data (orphan detection needs to be triggered). Wait a 2 minutes for recovery to start. Try to change the node-id to {{2}} with cli operation and reload. Even the model and jboss cli shows the node-id is {{2}} Narayana still effectivelly uses the node-id with value {{1}}. To fix this restart of the JVM is needed.
* Question is what is the right fix. There is a discussion at the forum https://developer.jboss.org/thread/280430 what is the right fix. I personally incline to permit to change the node-id just with reload (the fix would be then like this https://github.com/ochaloup/wildfly/commit/c39536f621dd3be38fdc605cd3b8844c6f0099ff). The other option is to enforce JVM restart (the fix would be then like this https://github.com/ochaloup/wildfly/commit/42d098a41e1f9e9854d080491849aa8ce6c7057d).

So, for the test this means that it's wrongly written for WFLY16. It's not the problem of the test as it follows the attribute description in the model. But as the model description presents a wrong flag (reload requires instead of necessary restart requires) it's the issue of the model that the flag was set wrongly. (The fix for this issue can allow only the reload.)","07/Aug/19 7:33 AM;ochaloup;We are going with the fix for JVM restart.","17/Sep/19 9:19 AM;istraka;I am lowering the priority to major due to the discussion.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,
Upgrade Jackson2 to 2.9.10,WFLY-12585,12830018,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,asoldano,asoldano,asoldano,24/Sep/19 12:24 PM,20/Nov/19 3:25 PM,15/Jan/20 1:31 PM,24/Sep/19 9:47 PM,,,,,,18.0.0.Final,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:06.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12670,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z093jo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
JBAS014544: No EJB found with interface of type,WFLY-3455,12542930,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,elguardian,kovica1,kovica1,05/Jun/14 9:03 AM,20/Nov/19 11:51 AM,15/Jan/20 1:31 PM,01/Sep/14 11:27 PM,8.1.0.Final,,,,,,,,EJB,,,,,,,0,,,,,,,"I have an EAR with an Stateless EJB that implements a Remote interface.
In another application (WAR) I access his EJB like this: @EJB(beanInterface=RemoteBean.class) RemoteBean bean; When I deploy EAR I can see the JNDI name of the EJB, but when I deploy WAR I get error: JBAS014544: No EJB found with interface of type .....

I have attached an example application.
You can build it with Maven, deploy and see that error.",,,,,,,,,,,,,,,,,,,,,EAPSUP-11,,,,,,,,,,,,,,,,"05/Jun/14 9:05 AM;kovica1;WildflyTest.zip;https://issues.redhat.com/secure/attachment/12382963/WildflyTest.zip",,,,,,,,,,,,,,,,,,,2014-09-01 23:27:46.0,,,,,,,,https://community.jboss.org/message/876220,,,,,,,,,,,,,,,,,1.0,1.0,,,,,,,,,,"1|hz0e4f:",200843,,0.0,,,,,,,,,,,,,,,,"01/Sep/14 11:27 PM;swd847;EJB's are not resolved across applications. You need to specify the global JNDI name of the ejb, e.g. @EJB(lookup=""java:global/myapp/mymodule/MyEjb"")",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Weld to 3.1.2.Final,WFLY-12351,12821411,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,manovotn,manovotn,manovotn,06/Aug/19 3:44 AM,19/Nov/19 7:27 PM,15/Jan/20 1:31 PM,07/Aug/19 3:03 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,CDI / Weld,,,,,,,0,,,,,,,"Upgrade Weld to 3.1.2.Final and Weld API to 3.1.SP1.
More details on updates are here - http://weld.cdi-spec.org/news/2019/08/06/weld-312Final/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:50.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12473,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07qjo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Rename BOMs artifactIds with javaee8-* to jakartaee8-*,WFLY-12468,12825574,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,emmartins,emmartins,emmartins,31/Aug/19 10:43 PM,18/Nov/19 6:28 AM,15/Jan/20 1:31 PM,12/Nov/19 5:47 AM,,,,,,18.0.0.Final,,,BOM,Quickstarts,,,,,,0,,,,,,,"The following WildFly BOM artifactIds should be renamed to not include javaee, replacing it with jakartaee8:
 * wildfly-javaee8
 * wildfly-javaee8-with-tools

Reference to renamed BOMs in Quickstarts project should also be updated.",,,,,,,,,,,,,WFLY-12490,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Documentation (Ref Guide, User Guide, etc.)",,,,,,,,,,,,,2019-09-10 03:27:13.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z08e04:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/Sep/19 6:34 AM;mkopecky;[~emmartins] (cc [~smarlow]): Do you plan to have two variants of clients bom? For example, something like ""wildfly-ejb-client-bom"" for JavaEE artifacts and ""wildfly-ejb-client-jakarta-bom"" for JakartaEE artifacts?","26/Sep/19 3:41 AM;emmartins;Since it's a task that should not block WFLY I did ""extract"" the JBoss BOMs final update into a new JIRA JBEE-246, since it should be managed at JBEE project.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.","23/Oct/19 7:15 AM;mkopecky;{quote}When both JIRA done there will be the following WildFly/EAP BOMs only, which will include only the spec artifacts managed at server i.e. jakarta:
* ejb-client
* ejb-legacy-client
* jaxws-client
* jms-client
* jakartaee8
* jakartaee8-with-tools
* jakartaee8-with-spring4 (EAP only)
{quote}

[~emmartins]: Both WFLY-12468 and WFLY-12490 jiras are done. So what about jakartaee8-with-tools and other boms? Are these boms ready? Can you please link jira/PR for these boms?

bq. Last subtask that will be done here

What about this last subtask?","11/Nov/19 3:15 AM;mkopecky;Reopening, question from my previous comment is still not answered",,,,,,,,,,,,,,,,,,,,,,
Marshalling.river No standard field found for reverse order comparator,WFLY-12793,12838232,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,pferraro,emiliocuberos,emiliocuberos,14/Nov/19 10:27 AM,18/Nov/19 2:54 AM,15/Jan/20 1:31 PM,15/Nov/19 8:59 AM,17.0.1.Final,,,,,,,,Clustering,,,,,,,0,,,,,,,"There are lots of reports of this issue, and they were closed with the workaround of including jboss-marshalling and jboss-marshalling-river 2.6.0.

I still get the same error, even in Wildfly 17.0.1.Final, where jboss-marshalling 2.0.6 should be already included.

The full error-stack is:

{code}
14:16:53,582 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (ServerService Thread Pool -- 99) ISPN000136: Error executing command PutKeyValueCommand, writing keys [1]: java.lang.ExceptionInInitializerError
	at deployment.healthtrender-cloud-1.0.0.war//org.jboss.marshalling.river.RiverMarshaller.<clinit>(RiverMarshaller.java:1233)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commons.marshall.jboss.JBossMarshallerFactory.createMarshaller(JBossMarshallerFactory.java:49)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commons.marshall.jboss.AbstractJBossMarshaller$PerThreadInstanceHolder.getMarshaller(AbstractJBossMarshaller.java:314)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commons.marshall.jboss.AbstractJBossMarshaller.startObjectOutput(AbstractJBossMarshaller.java:90)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.marshall.core.VersionAwareMarshaller.startObjectOutput(VersionAwareMarshaller.java:110)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commons.marshall.AbstractDelegatingMarshaller.startObjectOutput(AbstractDelegatingMarshaller.java:30)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.marshall.core.MarshalledValue.serialize(MarshalledValue.java:92)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.marshall.core.MarshalledValue.<init>(MarshalledValue.java:79)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.MarshalledValueInterceptor.createMarshalledValue(MarshalledValueInterceptor.java:318)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.MarshalledValueInterceptor.visitPutKeyValueCommand(MarshalledValueInterceptor.java:133)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:78)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:191)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.CacheMgmtInterceptor.visitPutKeyValueCommand(CacheMgmtInterceptor.java:177)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:78)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:114)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:83)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commands.AbstractVisitor.visitPutKeyValueCommand(AbstractVisitor.java:43)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:78)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:335)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.cache.impl.CacheImpl.putInternal(CacheImpl.java:1121)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:1111)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:453)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.jcache.AbstractJCache.put(AbstractJCache.java:241)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.jcache.embedded.JCache.doPut(JCache.java:431)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.jcache.embedded.JCache.put(JCache.java:400)
	at deployment.healthtrender-cloud-1.0.0.war//com.hemocue.cloud.config.CacheSetup.lambda$loadCaches$10(CacheSetup.java:94)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at deployment.healthtrender-cloud-1.0.0.war//com.hemocue.cloud.config.CacheSetup.loadCaches(CacheSetup.java:92)
	at deployment.healthtrender-cloud-1.0.0.war//com.hemocue.cloud.config.CacheSetup.init(CacheSetup.java:85)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.ManagedReferenceLifecycleMethodInterceptor.processInvocation(ManagedReferenceLifecycleMethodInterceptor.java:96)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.common@17.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
	at org.jboss.as.weld.common@17.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doLifecycleInterception(Jsr299BindingsInterceptor.java:126)
	at org.jboss.as.weld.common@17.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:112)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.core@3.1.1.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.common@17.0.1.Final//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld@17.0.1.Final//org.jboss.as.weld.injection.WeldInjectionInterceptor.processInvocation(WeldInjectionInterceptor.java:53)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:28)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld@17.0.1.Final//org.jboss.as.weld.injection.WeldInterceptorInjectionInterceptor.processInvocation(WeldInterceptorInjectionInterceptor.java:56)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld@17.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsCreateInterceptor.processInvocation(Jsr299BindingsCreateInterceptor.java:111)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:237)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.requiresNew(CMTTxInterceptor.java:388)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.processInvocation(LifecycleCMTTxInterceptor.java:68)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld@17.0.1.Final//org.jboss.as.weld.injection.WeldInjectionContextInterceptor.processInvocation(WeldInjectionContextInterceptor.java:43)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.component.singleton.StartupCountDownInterceptor.processInvocation(StartupCountDownInterceptor.java:25)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:161)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:134)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:88)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.getComponentInstance(SingletonComponent.java:127)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.start(SingletonComponent.java:141)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:834)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: java.lang.IllegalStateException: No standard field found for reverse order comparator!
	at deployment.healthtrender-cloud-1.0.0.war//org.jboss.marshalling.river.Protocol.<clinit>(Protocol.java:220)
	... 87 more
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-11-14 11:22:07.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z0aeuk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Nov/19 11:22 AM;brian.stansberry;[~emiliocuberos] What JVM version was used?","15/Nov/19 3:38 AM;ropalka;From stack trace I see [~emiliocuberos] the marshalling is bundled in war file.
It shouldn't be there. Did you try to remove marshalling classes from your war archive?
","15/Nov/19 8:59 AM;pferraro;[~ropalka] His application bundles infinispan-jcache and its dependencies.  Thus, his application should bundle the marshalling library appropriate for that particular version of Infinispan.  WildFly's jboss-marshalling module is not actually being used. 
[~emiliocuberos] Given the above, I'm going to close this, as this isn't a WildFly issue, but rather an issue with the libraries bundled with your application.  If you are still stuck, open an issue against the ISPN project.","18/Nov/19 2:54 AM;emiliocuberos;Thanks for the quick and complete response.",,,,,,,,,,,,,,,,,,,,,,,
"JBoss_Keycloak_""404 - Not Found""",WFLY-12776,12837725,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,nvwipmvca,nvwipmvca,11/Nov/19 4:35 PM,15/Nov/19 10:28 AM,15/Jan/20 1:31 PM,15/Nov/19 10:28 AM,,,,,,,,,,,,,,,,0,,,,,,,"==============
Environment -
==============

. OS -

$ sw_vers
ProductName: Mac OS X
ProductVersion: 10.14.5
BuildVersion: 18F132

. JBoss EAP 7.1

. Keycloak 7.0.1

==============
Issue -
==============

Getting ""404 - Not Found"" for a simple hello.war (with KEYCLOAK as the auth-method in its web.xml) when accessing http://localhost:8080/hello",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Nov/19 4:41 PM;nvwipmvca;hello.war;https://issues.redhat.com/secure/attachment/12457365/hello.war","11/Nov/19 8:35 PM;nvwipmvca;kc.json;https://issues.redhat.com/secure/attachment/12457367/kc.json",,,,,,,,,,,,,,,,,,2019-11-12 16:31:36.0,,,,,,,,,,,,,,,,,,,,,,,,,2.0,3.0,,,,,,,,,,"1|z0abws:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Nov/19 4:36 PM;nvwipmvca;==============
Environment -
==============

1. OS -

$ sw_vers                                                                                                     
ProductName:	Mac OS X
ProductVersion:	10.14.5
BuildVersion:	18F132

2. JBoss EAP 7.1

3. Keycloak 7.0.1

==============
Issue -
==============

. Getting ""404 - Not Found"" for a simple hello.war (with KEYCLOAK as the auth-method in its web.xml) when accessing http://localhost:8080/hello 

==============
Attachments -
==============

# kc.json - export dump of keycloak database/configuration
# hello.war - the simple war tested with

Let me know if you need any other info.
","12/Nov/19 4:31 PM;brian.stansberry;Hi [~nvwipmvca]. If you have JBoss EAP support, you should open a support case via https://access.redhat.com/support/cases/ as it's hard to say when a request for help filed through the WildFly community will get attention.  If you don't have a support subscription you might get help faster from other users via the forums or the wildfly-user room in zulip: https://wildfly.org/gethelp/","15/Nov/19 10:28 AM;nvwipmvca;Resolved by making the module name in web.xml match the webapp name ...

<module-name>hello</module-name>
",,,,,,,,,,,,,,,,,,,,,,,,
wildfly-jts-application-component-2 quickstart fails to validate in eclipse,WFLY-5250,12583394,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jason.greene,rob.stryker,rob.stryker,01/Sep/15 4:01 AM,15/Nov/19 7:02 AM,15/Jan/20 1:31 PM,17/Sep/15 1:47 AM,,,,,,10.0.0.CR2,,,,,,,,,,0,,,,,,,"The above quickstart fails to validate in eclipse. It has the following lines in it:

{code}
<jboss:ejb-jar xmlns:jboss=""http://www.jboss.com/xml/ns/javaee""
               xmlns=""http://java.sun.com/xml/ns/javaee""
               xmlns:iiop=""urn:iiop""
               xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
               xsi:schemaLocation=""http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-ejb3-2_0.xsd
                  http://java.sun.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-ejb3-spec-2_0.xsd
                  urn:iiop jboss-ejb-iiop_1_0.xsd""
               version=""3.1""
               impl-version=""2.0"">
    <assembly-descriptor>
        <iiop:iiop>
            <ejb-name>InvoiceManagerEJBImpl</ejb-name>
            <iiop:binding-name>jts-quickstart/InvoiceManagerEJBImpl</iiop:binding-name>
        </iiop:iiop>
    </assembly-descriptor>
</jboss:ejb-jar>
{code}


The key line to note is:

{code}
                  urn:iiop jboss-ejb-iiop_1_0.xsd""
{code}

Using relative paths cannot guarantee the resolution of a dependent schema. I suggest you replace this with:

{code}
urn:iiop http://www.jboss.org/schema/jbossas/jboss-ejb-iiop_1_0.xsd""
{code}

However, even once that is fixed, the quickstart still has other problems. For one example:

{code}
cvc-complex-type.2.4.a: Invalid content was found starting with element 'iiop:iiop'. One of '{""http://
 java.sun.com/xml/ns/javaee"":security-role, ""http://java.sun.com/xml/ns/javaee"":method-
 permission, ""http://java.sun.com/xml/ns/javaee"":container-transaction, ""http://java.sun.com/xml/ns/
 javaee"":interceptor-binding, ""http://java.sun.com/xml/ns/javaee"":message-destination, ""http://
 java.sun.com/xml/ns/javaee"":exclude-list, ""http://java.sun.com/xml/ns/javaee"":application-
 exception}' is expected.
{code}

I strongly suggest someone test the quickstart in JBossTools and help come up with a descriptor that passes validation. ",,,,,,,,,,,,,,,,,,,,,WFLY-12797,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2017-12-06 11:30:54.0,,,,,,,,,https://github.com/wildfly/quickstart/pull/74,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|hzai3j:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"16/Sep/15 2:12 AM;rob.stryker;Linking PR:  https://github.com/wildfly/quickstart/pull/74","06/Dec/17 11:30 AM;kabirkhan;Bulk closing issues resolved against old releases",,,,,,,,,,,,,,,,,,,,,,,,,
no logmessage if @RolesAllowed is not present on @WebService inside a secure ejb-jar,WFLY-839,12458556,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Out of Date,khermano,thargor,thargor,07/Feb/12 6:56 PM,13/Nov/19 3:10 AM,15/Jan/20 1:31 PM,13/Nov/19 3:10 AM,,,,,,,,,Web Services,,,,,,,0,,,,,,,"If a webserive with a webcontext-annotation is deployed inside a secure ejb-jar (security domain in jboss-ejb3.xml), where no web.xml is present, access to the webservice is denied without a logmessage.
org.apache.catalina.realm.RealmBas#hasResourcePermission doesn't handle this case at all.

There should be a logmessage if access to a resource is impossible because of this configuration error.
Or a constraint at deployment time if a resource without a role is registered/deployed.

This problem also occures if the @RolesAllowed-Annotation has """" as argument.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|hy779b:",31288,,0.0,,,,,"Deploy an application with a secure ejb-jar (jboss-ejb3.xml with security-domain) without a web.xml and a webservice like this one:

@WebService(..)
@WebContext(..)
public class TestWebservice {
}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorporate MicroProfile Config in RESTEasy,WFLY-12780,12837882,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,ron_sigal,ron_sigal,ron_sigal,12/Nov/19 3:02 PM,12/Nov/19 3:04 PM,15/Jan/20 1:31 PM,12/Nov/19 3:04 PM,,,,,,,,,,,,,,,,0,,,,,,,"Currently, RESTEasy 3.x (targeted to Wildfly) uses servlet context-params to obtain configuration information. In RESTEasy 4.x, we have updated configuration to access all standard MicroProfile Config sources. Also, we have added three additional ConfigSources:

* servlet init-params (ordinal 60)
* filter init-params (ordinal 50)
* servlet context-params (ordinal 40)

In this feature request, we propose to port the relevant changes from RESTEasy 4.x to RESTEasy 3.x.

In RESTEasy 4.x, all parameters, both RESTEasy parameters and application parameters, are available from all ConfigSources to both RESTEasy and application code. In RESTEasy 3.x, we propose to add a RESTEasy parameter, ""resteasy.config.resteasy.parameters.only"", which, when set to ""true"", will limit the three RESTEasy ConfigSources to returning RESTEasy parameters only. It will default to ""true"".",,,,,,,,,,,WFLY-12779,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Compatibility/Configuration,"Documentation (Ref Guide, User Guide, etc.)",,,,,,,,,,,,,,,,,,,Low,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z0acv0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy. It's not clear what's the reason of the problem from the log,WFLY-4409,12565046,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,avsokolov,avsokolov,06/Mar/15 3:49 AM,12/Nov/19 1:02 AM,15/Jan/20 1:31 PM,09/Mar/15 9:51 PM,8.2.0.Final,,,,,9.0.0.Beta1,,,,,,,,,,0,,,,,,,"In the log during the application server startup we see in the log file:
{code}
[0m[31m15:10:25,997 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.deployment.subunit.""mms.ear"".""webservices.jar"".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""mms.ear"".""webservices.jar"".POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of subdeployment ""webservices.jar"" of deployment ""mms.ear""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.2.0.Final.jar:8.2.0.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_25]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_25]
Caused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy
	at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:724) [rt.jar:1.8.0_25]
	at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:531) [rt.jar:1.8.0_25]
	at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:355) [rt.jar:1.8.0_25]
	at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:286) [rt.jar:1.8.0_25]
	at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120) [rt.jar:1.8.0_25]
	at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72) [rt.jar:1.8.0_25]
	at java.lang.Class.createAnnotationData(Class.java:3513) [rt.jar:1.8.0_25]
	at java.lang.Class.annotationData(Class.java:3502) [rt.jar:1.8.0_25]
	at java.lang.Class.getAnnotation(Class.java:3407) [rt.jar:1.8.0_25]
	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.getRemoteBusinessInterfaces(BusinessViewAnnotationProcessor.java:148)
	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.processViewAnnotations(BusinessViewAnnotationProcessor.java:116)
	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.deploy(BusinessViewAnnotationProcessor.java:90)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.2.0.Final.jar:8.2.0.Final]
	... 5 more
...
[0m[31m15:10:27,315 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) JBAS014613: Operation (""deploy"") failed - address: ([(""deployment"" => ""mms.ear"")]) - failure description: {
    ""JBAS014671: Failed services"" => {""jboss.deployment.subunit.\""mms.ear\"".\""webservices.jar\"".POST_MODULE"" => ""org.jboss.msc.service.StartException in service jboss.deployment.subunit.\""mms.ear\"".\""webservices.jar\"".POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of subdeployment \""webservices.jar\"" of deployment \""mms.ear\""
    Caused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy""},
    ""JBAS014771: Services with missing/unavailable dependencies"" => [
        ""jboss.deployment.unit.\""mms.ear\"".weld.weldClassIntrospector is missing [jboss.deployment.unit.\""mms.ear\"".beanmanager]"",
        ""jboss.naming.context.java.comp.mms.wp.TemplateVariableService.Validator is missing [jboss.naming.context.java.comp.mms.wp.TemplateVariableService]"",
        ""jboss.naming.context.java.comp.mms.configuration.GenericDao.InAppClientContainer is missing [jboss.naming.context.java.comp.mms.configuration.GenericDao]"",
        ""jboss.naming.context.java.comp.mms.mmsServiceEJB.MMSMagnoliaSSOService.ORB is missing [jboss.naming.context.java.comp.mms.mmsServiceEJB.MMSMagnoliaSSOService]"",
...
{code}
From this  output it's not clear what exactly is absent in the ear file. 
Could you refactor logging for this error. In order to display which exactly annotation was not found.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2015-03-06 18:06:05.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/7238,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|hz7m4f:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"06/Mar/15 6:06 PM;swd847;PR includes the class name in the error message. Unfortunately it is not possible to get the actual annotation details, as the JVM error message does not provide it (you could try filing a JVM bug). ","06/Dec/17 11:28 AM;kabirkhan;Bulk closing issues resolved against old releases","12/Nov/19 1:02 AM;anandfury;Hi, I am too facing this same issues. Please guide me.",,,,,,,,,,,,,,,,,,,,,,,,
Remove org.jboss.spec.javax.rmi:jboss-rmi-api_1.0_spec from dependency management,WFLY-12416,12824259,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,22/Aug/19 6:16 PM,11/Nov/19 8:08 PM,15/Jan/20 1:31 PM,31/Aug/19 10:18 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Server,,,,,,,0,,,,,,,"It appears the only use of org.jboss.spec.javax.rmi:jboss-rmi-api_1.0_spec is in Ejb3TransformersTestCase, where it can handled without a pom entry, and in the galleon-pack and feature-pack poms, where it is cruft. So it can be removed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z086ik:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
multi-line log output makes munging logs difficult,WFLY-694,12450361,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Rejected,,rlucente-se-jboss,rlucente-se-jboss,25/Oct/11 4:01 PM,11/Nov/19 7:43 PM,15/Jan/20 1:31 PM,11/Nov/19 7:43 PM,,,,,,Awaiting Volunteers,,,EJB,,,,,,,0,eap6-ux,,,,,,"Multi-line log entry, as shown below, complicates use of scripts to munge the log.

15:50:30,986 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-4) JNDI bindings for session bean named MemberRegistration in deployment unit subdeployment ""multi-ejb-0.0.1-SNAPSHOT.jar"" of deployment ""multi-ear.ear"" are as follows:

	java:global/multi-ear/multi-ejb-0.0.1-SNAPSHOT/MemberRegistration!org.jboss.as.quickstarts.example.qs.controller.MemberRegistration
	java:app/multi-ejb-0.0.1-SNAPSHOT/MemberRegistration!org.jboss.as.quickstarts.example.qs.controller.MemberRegistration
	java:module/MemberRegistration!org.jboss.as.quickstarts.example.qs.controller.MemberRegistration
	java:global/multi-ear/multi-ejb-0.0.1-SNAPSHOT/MemberRegistration
	java:app/multi-ejb-0.0.1-SNAPSHOT/MemberRegistration
	java:module/MemberRegistration

15:50:30,991 INFO  [org.jboss.weld] (MSC service thread 1-5) Starting Services for CDI deployment: multi-ear.ear",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2011-10-27 13:28:29.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|hy4e5z:",14914,,0.0,,,,,,,,,,,,,,,,"27/Oct/11 1:28 PM;wolfc;The objective of those log statements is to provide a human readable view of applicable JNDI names, not something for scripts.","27/Oct/11 1:31 PM;rlucente-se-jboss;Can the human-readable output be put in the CLI and web console?  Customers do munge logs for information.  Having multi-line output can complicate that.","27/Oct/11 1:48 PM;dmlloyd;Here's a good approach: open an enhancement request in the LOGMGR project for a script-consumable log format which could flatten multiline messages with an alternative delimiter.

Edited - accidentally put LOGTOOL rather than LOGMGR, my mistake.","01/Nov/11 8:20 AM;wolfc;Using a proper expression should work as well:
{noformat}
#!/usr/bin/gawk -f
BEGIN {
   # Note: interval expressions are only supported by gawk 4+
   RS=""\n?^[0-9][0-9]:[0-9][0-9]:[0-9][0-9],[0-9][0-9][0-9]""
}
{
   print ""Record: "" $0;
   print ""Next time: "" RT;
}
{noformat}",,,,,,,,,,,,,,,,,,,,,,,
Memory leak in StatelessSessionComponent,WFLY-12446,12825068,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Explained,cfang,jbaesner,jbaesner,28/Aug/19 11:02 AM,11/Nov/19 9:27 AM,15/Jan/20 1:31 PM,11/Nov/19 9:27 AM,17.0.1.Final,,,,,,,,CDI / Weld,EJB,,,,,,0,,,,,,,"When running the attached reproducer application and doing a memory analysis afterwards, it looks like a memory leak, e. g.

{code}
One instance of ""org.jboss.as.ejb3.component.stateless.StatelessSessionComponent"" loaded by ""org.jboss.modules.ModuleClassLoader @ 0x5e0fbc2e0"" occupies 936,593,520 (96.13%) bytes. The memory is accumulated in one instance of ""java.util.concurrent.ConcurrentLinkedQueue$Node"" loaded by ""<system class loader>"".
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/19 7:47 AM;cfang;dump-weld.png;https://issues.redhat.com/secure/attachment/12455218/dump-weld.png","28/Aug/19 10:55 AM;jbaesner;playground-jee8.zip;https://issues.redhat.com/secure/attachment/12454867/playground-jee8.zip","04/Sep/19 9:27 AM;jbaesner;server.log.gz;https://issues.redhat.com/secure/attachment/12455047/server.log.gz","10/Sep/19 12:36 AM;jaikiran;wfly-12446-heap-dump.png;https://issues.redhat.com/secure/attachment/12455199/wfly-12446-heap-dump.png",,,,,,,,,,,,,,,,2019-08-28 13:42:29.0,,,,,,,,,,,,,,,,,,,,,,,,,4.0,13.0,,,,,,,,,,"1|z08b24:",9223372036854775807,,0.0,,,,,Look at the {{README.md}} of the attached reproducer application.,,,,,,,,,Workaround Exists,"Disable:
{code:xml}
<stateless>
    <bean-instance-pool-ref pool-name=""slsb-strict-max-pool""></bean-instance-pool-ref>
</stateless>
{code}","28/Aug/19 1:42 PM;brian.stansberry;Perhaps the problem is here:

https://github.com/wildfly/wildfly/blob/master/ejb3/src/main/java/org/jboss/as/ejb3/component/pool/PooledInstanceInterceptor.java#L64

combined with here:

https://github.com/wildfly/wildfly/blob/master/ejb3/src/main/java/org/jboss/as/ejb3/component/pool/PooledInstanceInterceptor.java#L73

The inner catch block discards and then the outer one discards again. Only one bean got removed from the pool (i.e. the StrictMaxPool.pool ConcurrentLinkedQueue) but the semaphore gets decremented twice. ","28/Aug/19 1:54 PM;brian.stansberry;Note that that duplicate discard call problem would have the effect of slowly increasing the max size of the pool. It doesn't leak 'bad' beans into the pool though. So I believe the size of the queue would be limited to the max # of concurrent requests, so not a never ending leak. So perhaps that is not the cause of the reported problem.","03/Sep/19 11:54 PM;jaikiran;[~jbaesner], would you be able to enable TRACE level logging for ""org.jboss.as.ejb3"" package and then attach the generated logs to this issue? If you have access to the generated heap dump file, attaching that too will help. I would have tried your reproducer, but it requires SOAP UI, which I don't have access to and I'm being lazy to set it up.","04/Sep/19 9:30 AM;jbaesner;[~jaikiran], sure, this is no problem, I have attached the  [^server.log.gz] ","09/Sep/19 9:50 AM;cfang;Added the screenshot of the object reference tree based on the dump file.","10/Sep/19 12:36 AM;jaikiran;A quick look at (my locally generated) heap dump suggests that this might need some investigation from the Weld team. I have attached wfly-12446.png which shows the heap usage. So a stateless session component (bean) uses a strict-max bean instance pool. That bean instance pool has 128 entries (which correspond to 128 instances of the stateless bean). This number is correct since it's the max number of bean instances allowed (by default) in that pool. So far so good. However, the total memory usage of this strict max pool (containing 128 entries) translates to 1.5 GB (as shown in the image). This is not good. Digging further, it shows that _each entry_ holds on to a 12 MB List through the org.jboss.weld.contexts.CreationalContextImpl#dependentInstances field. So 12 MB * 128 = 1.5 GB (approximately) which matches the reported numbers.
It's odd that the List is that huge, but I haven't yet looked why or what it holds on to. Someone from Weld might be able to understand this, a bit more quickly. 
FWIW, the stateless component in this attached application which has these 128 entries is the ""CommandServiceBean"".","10/Sep/19 7:45 AM;cfang;Thanks [~jaikiran] for the detailed analysis.  [~manovotn]  can you take a look from Weld side, in particular why ejb bean instance holds {{CreationalContextImpl}}, which holds huge list containing thousands of {{org.jboss.weld.contexts.SerializableContextualInstanceImpl}}?  I've updated the previously attached dump screenshot to show more weld classes.","10/Sep/19 4:44 PM;brian.stansberry;This input may be completely useless so don't assume otherwise. :)

In the source of the playground-jee8.zip in CommandServiceBean:

{code}
            // avoid memory leak
            logger.info(""destroying commands to avoid memory leak!"");
            for (Command command : commands) {
                commands.destroy(command);
            }
{code}

The Commands themselves are all SLSBs, injected via

@Any
@Inject
Instance<Command> commands;

Maybe irrelevant, or maybe it's a normal practice I just don't know about, or maybe it was an attempt to cure this leak that failed. But it seemed like an odd thing to do when the Command impls are all SLSBs.","11/Sep/19 4:57 AM;manovotn;[~brian.stansberry] in CDI + EJB integration, all stateless beans are {{@Dependent}} from CDI perspective. And in this case there is {{Instance<X>}} used to resolve these dependent instances. In such case user is responsible for disposing them properly. So some of this logic should be there, not sure it's correct though, looking at it now.
I am running the reproducer locally right now.","11/Sep/19 7:24 AM;manovotn;Alright, I think I see the issue -  *doesn't look like a bug but a user error* . Like I said above, when you retrieve {{@Dependent}} instances via {{Instance}}, you need to keep reference to them and destroy them. Note that every invocation of {{Instance.get()}} gives you new, different instance of the bean that you need to destroy and a for cycle over {{Instance}} means you invoke {{get()}} in order to grab each of those beans.
Therefore in the following code(from example), two sets of {{Command}} instances are created but only one is destroyed (mind the NOTEs I added to the code):

{code}
public CommandResult executeCommand(String commandName, String parameter) {

        CommandResult result = null;

        logger.infof(""CommandService: searching for command -> %s"", commandName);

        if (commands != null) {

            // search command
            for (Command command : commands) {

                // NOTE - this instantiates the command beans but no destroy is invoked within this for cycle!

                String name = command.getName();
                logger.infof(""   ... %s"", name);

                // execute if found
                if (commandName.equals(name)) {

                    logger.infof(""   ... found command, executing %s"", name);
                    result = command.execute(name + "": "" + parameter);

                    break;
                } 
            }

            // command found?
            if (result == null) {
                logger.infof(""CommandService: command not found -> %s"", commandName);
                result = new CommandResult(0L, ""Undefined"");
            }

            // avoid memory leak
            logger.info(""destroying commands to avoid memory leak!"");
            for (Command command : commands) {
                // NOTE - this is redundant, it created new/different instances of Command and destroys those only!
                commands.destroy(command);
            }

        } else {
            logger.info(""CommandService: no commands available!"");
        }

        return result;
    }
{code}

You can fix this easily by changing the first for cycle as follows and dropping the second one:

{code}
            for (Command command : commands) {

                String name = command.getName();
                logger.infof(""   ... %s"", name);

                // execute if found
                if (commandName.equals(name)) {

                    logger.infof(""   ... found command, executing %s"", name);
                    result = command.execute(name + "": "" + parameter);

                    // destroy the instance
                    commands.destroy(command);
                    break;
                }  else {
                    // destroy the instance
                    commands.destroy(command);
                }
            }
{code}

Fixing the code like this, jconsole shows me much less memory used during the load test and especially not hanging around afterwards.","21/Sep/19 12:16 AM;jaikiran;Thank you [~manovotn] for these details. This indeed makes sense now. The only surprising part to me (as someone who isn't familiar with CDI spec) is that using the same {{Iterable}} (which is the {{Instance}}) multiple times, creates new instances of the underlying bean returned by that Iterable/Instance.","23/Sep/19 1:53 AM;manovotn;[~jaikiran] you are welcome, hope you have it running smoothly now.

Handling dynamic resolution with dependent instances can get rough indeed.
To confirm that this is expected flow, here is a spec quote, namely [5.6.1 The {{Instance}} interface|https://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#dynamic_lookup]:

{quote}
The iterator() method must:

    Identify the set of beans that have the required type and required qualifiers and are eligible for injection into the class into which the parent Instance was injected, according to the rules of typesafe resolution, as defined in Performing typesafe resolution, resolving ambiguities according to Unsatisfied and ambiguous dependencies.

    Return an Iterator, that iterates over the set of contextual references for the resulting beans and required type, as defined in Contextual reference for a bean.
{quote}

And getting a contextual reference for a dependent bean means creating new instance every time, hence the behaviour we are seeing in this issue.","23/Sep/19 10:34 AM;jaikiran;> Jaikiran Pai you are welcome, hope you have it running smoothly now.

I'm just a lurker :) The issue was noticed and reported by [~jbaesner].

> To confirm that this is expected flow, here is a spec quote, namely 5.6.1 

That does indeed help. Thank you for providing these details.
",,,,,,,,,,,,,,
Upgrade jboss-saaj-api and saaj-impl from 1.3 to  1.4,WFLY-12442,12824963,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jim.ma,jim.ma,jim.ma,28/Aug/19 5:23 AM,08/Nov/19 1:31 AM,15/Jan/20 1:31 PM,19/Sep/19 7:38 PM,,,,,,18.0.0.Final,,,Web Services,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-28 05:27:19.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z08afg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Aug/19 5:27 AM;dlofthouse;Maybe check with [~asoldano] but I believed the idea was to do a major version bump if part of this migration effort.","28/Aug/19 5:52 AM;asoldano;[~dlofthouse], my understanding here is that the 1.3 and 1.4 versions Jim is referring to are the actual spec versions, so nothing we control. ","28/Aug/19 5:55 AM;dlofthouse;Ah ok - I saw this was a sub task to the migration effort so thought it was in relation to the forks.","19/Sep/19 7:38 PM;jamezp;While this upgrade is complete the JIRA's in the followed up by need to be upgraded before WildFly 18 Final. If they are not this PR needs to be reverted. There should also be a follow up of re-enabling the ignored test.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,
Upgrade jberet-core from 1.3.4.Final to 1.3.5.Final,WFLY-12767,12836978,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,cfang,cfang,cfang,06/Nov/19 9:52 AM,06/Nov/19 10:17 AM,15/Jan/20 1:31 PM,06/Nov/19 10:17 AM,17.0.1.Final,,,,,18.0.1.Final,,,Batch,,,,,,,0,,,,,,,"jberet-core 1.3.5.Final was released on 2019-11-06:
https://github.com/jberet/jsr352/releases

diff between 1.3.4.Final and 1.3.5.Final:
https://github.com/jberet/jsr352/compare/1.3.4.Final...1.3.5.Final

This issue is the only change in this release:
JBERET-458 getRunningExecutions() should look in cache as fallback
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z0a7hg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Wildfly fails if wrapper class calls MemoryMXBean due to ""logging manager"" conflict (IBM JDK and YAJSW)",WFLY-8595,12688049,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Explained,jamezp,milspec,milspec,18/Apr/17 11:10 AM,04/Nov/19 2:38 PM,15/Jan/20 1:31 PM,04/Nov/19 2:38 PM,10.1.0.Final,,,,,,,,Logging,,,,,,,0,,,,,,,"*Upshot*
Wildfly 10.1 fails to run when called from YAJSW (Yet Another Service Wrapper) on the IBM JDK.

It fails because YAJSW instantiates/calls MemoryMXBean prior to running the wildfly classes.

IBM's implementation of MemoryMXBean instantiates the Logging manager, i.e. class identified by -Djava.util.logging.manager.

A ""class/classloader"" conflict exists for the logging manager. Because IBM JDK's MemoryMXBean ""got to the log manager"" first, wildfly presuppositions are undermined, i.e. the ""system classloader"" loaded the log manager, not the ""jboss module classloader"". A 'class identify check' (see below) fails.

*More Details*

This test returns false for Oracle JDK, true for IBM when run under yajsw. i.e. Under OracleJDK, LogManager.getLogManager() has a different classloader (the jboss module classoader ) than does the LogManager.class (system classloader)

jboss-modules.git/src/main/java/org/jboss/modules/Main.java

 {{      final String logManagerName = getServiceName(bootClassLoader, ""java.util.logging.LogMa
nager"");
        if (logManagerName != null) {
            System.setProperty(""java.util.logging.manager"", logManagerName);
*            if (LogManager.getLogManager().getClass() == LogManager.class) {
*                System.err.println(""WARNING: Failed to load the specified log manager class "" + logManagerName);
            } else {
                Module.setModuleLogger(new JDKModuleLogger());
            }
        }
}}

*Workaround Gets Farther but Undermines Presuppositions of App Server*

If I add this jar to the Xbootclasspath/p, the ""ibm system classes"" loads org.jboss.logmanager.LogManager, but a downstream check in the jboss code throws an exception because the wrong classloader loaded org.jboss.logmanager.LogManager.


*Steps to Reproduce*
-Download IBM JDK
-Download yajsw. Run its ""genconfig"" tool to generate a configration file
-Start wildfly




*Resource Xref*
When I first came across this issue, I had trouble discerning ""where the problem lay"", i.e. in what source code. I posted on the ibm developer works, yajsw and wildfly forums.

https://sourceforge.net/p/yajsw/discussion/810311/thread/e730451b/
ibm developer works forum:
https://www.ibm.com/developerworks/community/forums/html/topic?id=8e9e4ae2-53a7-42e8-8086-6208b80e2910

jboss developer forum:
https://developer.jboss.org/thread/272840",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2017-04-18 11:50:10.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|hzofpj:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Apr/17 11:50 AM;jamezp;You probably need to add the jboss-logmanager JAR to the {{-Xbootclasspath}}, {{-Xbootclasspath/p:$JBOSS_HOME/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.0.4.Final}}. Assuming a standalone server here you'd need to modify the {{JBOSS_MODULES_SYSTEM_PKGS}} environment variable in the {{standalone.conf}} (or {{standalone.conf.bat}} for Windows) and add {{org.jboss.logmanager}}. You'll also need to make sure the {{-Djava.util.logging.manager=org.jboss.logmanager.LogManager}} is included in the {{JAVA_OPTS}}.

Other than that there is not much WildFly can actually do.","08/Sep/17 4:32 AM;baranowb;[~milspec] ^^","04/Nov/19 2:38 PM;jamezp;I'm closing this as explained. The log manager must be on the boot class path, along with it's dependencies, and the {{java.util.logging.manager}} system property needs to be set in the JVM options.

The {{JBOSS_MODULES_SYSTEM_PKGS}} environment variable also needs to be set. Here are some snippets on how this could be done with WildFly 18+
{code:title=standalone.conf}
JBOSS_MODULES_SYSTEM_PKGS=""org.jboss.logmanager,org.wildfly.common,$JBOSS_MODULES_SYSTEM_PKGS""
...
LOGMANAGER_JAR=$(find $JBOSS_HOME/modules -name ""jboss-logmanager*.jar"" -type f | xargs readlink -m)
WILDFLY_COMMON_JAR=$(find $JBOSS_HOME/modules -name ""wildfly-common*.jar"" -type f | xargs readlink -m)
JSON_API_JAR=$(find $JBOSS_HOME/modules -name ""jakarta.json-api*.jar"" -type f | xargs readlink -m)
JSON_IMPL_JAR=$(find $JBOSS_HOME/modules -name ""jakarta.json-1*.jar"" -type f | xargs readlink -m)

BOOT_CP=""$LOGMANAGER_JAR:$WILDFLY_COMMON_JAR:$JSON_API_JAR:$JSON_IMPL_JAR""

JAVA_OPTS=""-Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/a:$BOOT_CP -Xhealthcenter $JAVA_OPTS""
{code}",,,,,,,,,,,,,,,,,,,,,,,,
org.apache.cxf.wsdl11.WSDLManagerImpl needs read access to the jre wsdl.properties,WFLY-3463,12543100,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,asoldano,smarlow,smarlow,06/Jun/14 1:04 PM,04/Nov/19 2:35 PM,15/Jan/20 1:31 PM,04/Nov/19 2:35 PM,9.0.0.CR1,,,,,,,,Security Manager,,,,,,,1,,,,,,,"During TCK testing (with security-manager enabled), I am seeing a java.security.AccessControlException: WFSM000001: Permission check failed for (""java.io.FilePermission"" ""/qa/tools/opt/x86_64/jdk1.7.0_60/jre/lib/wsdl.properties"" ""read"")
from org.apache.cxf.wsdl11.WSDLManagerImpl.

Some related comments from irc:
{quote}
http://sourceforge.net/p/wsdl4j/patches/1/
<asoldano> smarlow, I'm currently working around the problem (when running with security manager on) by setting ""-Djavax.wsdl.factory.WSDLFactory=com.ibm.wsdl.factory.WSDLFactoryImpl"" when starting the jvm
{quote}

Seems related to [https://issues.apache.org/jira/browse/TUSCANY-3925] which also has a patch.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2014-06-09 05:03:38.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|hz0fc7:",201010,,0.0,,,,,,,,,,,,,,,,"09/Jun/14 5:03 AM;asoldano;It's not CXF WSDLManagerImpl who needs read access to JRE wsdl.properties, but WSDL4J javax.wsdl.factory.WSDLFactory#findFactoryImplName(). That method goes through multiple options for figuring out the actual wsdl factory impl to use and eventually defaults to ""com.ibm.wsdl.factory.WSDLFactoryImpl"" if no preference is set (which is the most common scenario). While the lookup of the ""javax.wsdl.factory.WSDLFactory"" system property is performed properly by catching a possibly SecurityException, the last mechanism (which is accessing the JRE wsdl.properties) does not consider a possible SecurityException. That makes the findFactoryImplName() method fail and not return the default factory name.
That's why I mentioned the workaround, which is basically asking in advance to use the default factory.

Now, to me this is a bug in WSDL4J. We could ""workaround"" it in CXF by catching the SecurityException and using the ""com.ibm.wsdl.factory.WSDLFactoryImpl"" factory name in that case, but it would really be ugly (not something I'm going to to).","11/May/15 2:07 PM;brian.stansberry;If this is a Bug, not a Feature Request, can one of you change the issue type? Alos, please reschedule to 10 unless  it really must go in 9 and there's a fix available. Thanks.","04/Nov/19 2:35 PM;jamezp;I suspect this is out of date. If I'm incorrect please feel free to reopen.",,,,,,,,,,,,,,,,,,,,,,,,
Deadlock on AbstractHandleableCloseable close() method (AIX - IBM JDK/JRE),WFLY-9169,12705928,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,,blassmegod,blassmegod,03/Aug/17 3:17 AM,04/Nov/19 2:33 PM,15/Jan/20 1:31 PM,04/Nov/19 2:33 PM,10.1.0.Final,,,,,,,,Remoting,,,,,,,0,deadlock,regression,remoting,,,,"Deadlock on AbstractHandleableCloseable close() method (AIX - IBM JDK/JRE):

{code}
3XMTHREADINFO      ""p0"" J9VMThread:0x00000000304BD100, j9thread_t:0x0000010029E423D0, java/lang/Thread:0x0000000408F664F8, state:CW, prio=5
3XMJAVALTHREAD            (java/lang/Thread getId:0x8C96, isDaemon:false)
3XMTHREADINFO1            (native thread ID:0x20401E7, native priority:0x5, native policy:UNKNOWN, vmstate:CW, vm thread flags:0x00000101)
3XMCPUTIME               CPU usage total: 0.379679000 secs, user: 0.354485000 secs, system: 0.025194000 secs, current category=""Application""
3XMTHREADBLOCK     Waiting on: java/lang/Object@0x000000040ECC59A0 Owned by: <unowned>
3XMHEAPALLOC             Heap bytes allocated since last GC cycle=0 (0x0)
3XMTHREADINFO3           Java callstack:
4XESTACKTRACE                at java/lang/Object.wait(Native Method)
4XESTACKTRACE                at java/lang/Object.wait(Object.java:172(Compiled Code))
4XESTACKTRACE                at org/jboss/remoting3/spi/AbstractHandleableCloseable.close(AbstractHandleableCloseable.java:190(Compiled Code))
5XESTACKTRACE                   (entered lock: java/lang/Object@0x000000040ECC59A0, entry count: 1)
4XESTACKTRACE                at org/jboss/naming/remote/client/EndpointCache.release(EndpointCache.java:67(Compiled Code))
5XESTACKTRACE                   (entered lock: org/jboss/naming/remote/client/EndpointCache@0x00000004002F3830, entry count: 1)
4XESTACKTRACE                at org/jboss/naming/remote/client/EndpointCache$EndpointWrapper.close(EndpointCache.java:183(Compiled Code))
4XESTACKTRACE                at org/jboss/naming/remote/client/InitialContextFactory$1.close(InitialContextFactory.java:233(Compiled Code))
4XESTACKTRACE                at org/jboss/naming/remote/client/RemoteContext.close(RemoteContext.java:290(Compiled Code))
4XESTACKTRACE                at javax/naming/InitialContext.close(InitialContext.java:567(Compiled Code))
...
{code}

This might happen when using remoting client with XNIO version 3.3.4",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-11-04 14:33:14.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hzr4db:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Nov/19 2:33 PM;jamezp;I'm closing this as out of date. If this is still an issue with WildFly 18 please feel free to reopen.",,,,,,,,,,,,,,,,,,,,,,,,,,
Classloading issues on IBM JDK 8 when JProfiler agent is enabled,WFLY-11451,12781718,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,jamezp,tkyjovsky,tkyjovsky,30/Nov/18 8:17 AM,04/Nov/19 2:27 PM,15/Jan/20 1:31 PM,04/Nov/19 2:27 PM,14.0.1.Final,,,,,,,,Logging,,,,,,,0,,,,,,,"When I enable JProfiler agent for the server running on IBM JDK 8 the server doesn't start, throwing classloading exceptions.

{noformat}
=========================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: /home/tkyjovsk/workspace/KEYCLOAK-8983/wildfly-14.0.1.Final

  JAVA: /home/tkyjovsk/software/java/ibm-java-80/bin/java

  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true -agentpath:/home/tkyjovsk/software/tools/jprofiler9/bin/linux-x64/libjprofilerti.so=port=6766 -Xshareclasses:none 

=========================================================================

JProfiler> Protocol version 55
JProfiler> Using JVMTI
JProfiler> Thread status info workaround enabled.
JProfiler> Restricted JVMTI version 1.1 detected.
JProfiler> 64-bit library
JProfiler> Listening on port: 6766.
JProfiler> Instrumenting native methods.
JProfiler> Native library initialized
JProfiler> VM initialized
JProfiler> Waiting for a connection from the JProfiler GUI ...
JProfiler> Using dynamic instrumentation
JProfiler> Time measurement: elapsed time
JProfiler> CPU profiling enabled
WARNING: Failed to load the specified log manager class org.jboss.logmanager.LogManager
Nov 30, 2018 1:48:31 PM org.jboss.msc.service.ServiceContainerImpl <clinit>
INFO: JBoss MSC version 1.4.3.Final
Nov 30, 2018 1:48:31 PM org.jboss.threads.Version <clinit>
INFO: JBoss Threads version 2.3.2.Final
Nov 30, 2018 1:48:31 PM org.jboss.as.server.BootstrapImpl internalBootstrap
WARN: WFLYSRV0071: The operating system has limited the number of open files to 1024 for this process; a value of at least 4096 is recommended
Nov 30, 2018 1:48:31 PM org.jboss.as.server.ApplicationServerService start
INFO: WFLYSRV0049: WildFly Full 14.0.1.Final (WildFly Core 6.0.2.Final) starting
Nov 30, 2018 1:48:33 PM org.wildfly.security.Version <clinit>
INFO: ELY00001: WildFly Elytron version 1.6.0.Final
Nov 30, 2018 1:48:34 PM org.jboss.as.controller.AbstractOperationContext executeStep
ERROR: WFLYCTL0013: Operation (""parallel-extension-add"") failed - address: ([])
java.lang.RuntimeException: WFLYCTL0079: Failed initializing module org.jboss.as.logging
	at org.jboss.as.controller.extension.ParallelExtensionAddHandler$1.execute(ParallelExtensionAddHandler.java:115)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1411)
	at org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:495)
	at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:470)
	at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:432)
	at org.jboss.as.server.ServerService.boot(ServerService.java:427)
	at org.jboss.as.server.ServerService.boot(ServerService.java:386)
	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:372)
	at java.lang.Thread.run(Thread.java:812)
Caused by: java.util.concurrent.ExecutionException: java.lang.IllegalStateException: WFLYLOG0078: The logging subsystem requires the log manager to be org.jboss.logmanager.LogManager. The subsystem has not be initialized and cannot be used. To use JBoss Log Manager you must add the system property ""java.util.logging.manager"" and set it to ""org.jboss.logmanager.LogManager""
	at java.util.concurrent.FutureTask.report(FutureTask.java:133)
	at java.util.concurrent.FutureTask.get(FutureTask.java:203)
	at org.jboss.as.controller.extension.ParallelExtensionAddHandler$1.execute(ParallelExtensionAddHandler.java:107)
	... 11 more
Caused by: java.lang.IllegalStateException: WFLYLOG0078: The logging subsystem requires the log manager to be org.jboss.logmanager.LogManager. The subsystem has not be initialized and cannot be used. To use JBoss Log Manager you must add the system property ""java.util.logging.manager"" and set it to ""org.jboss.logmanager.LogManager""
	at org.jboss.as.logging.LoggingExtension.initialize(LoggingExtension.java:194)
	at org.jboss.as.controller.extension.ExtensionAddHandler.initializeExtension(ExtensionAddHandler.java:131)
	at org.jboss.as.controller.extension.ExtensionAddHandler.initializeExtension(ExtensionAddHandler.java:104)
	at org.jboss.as.controller.extension.ParallelExtensionAddHandler$ExtensionInitializeTask.call(ParallelExtensionAddHandler.java:144)
	at org.jboss.as.controller.extension.ParallelExtensionAddHandler$ExtensionInitializeTask.call(ParallelExtensionAddHandler.java:127)
	at java.util.concurrent.FutureTask.run(FutureTask.java:277)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:812)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)

Nov 30, 2018 1:48:34 PM org.jboss.as.server.ServerService$4 logExit
FATAL: WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.
{noformat}

I tried to work around this by adding ""{{org.jboss.logmanager}}"" to {{JBOSS_MODULES_SYSTEM_PKGS}} and adding ""{{-Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:...}}"" in {{JAVA_OPTS}} but that just results in another class-loading error:
{noformat}
=========================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: /home/tkyjovsk/workspace/KEYCLOAK-8983/wildfly-14.0.1.Final

  JAVA: /home/tkyjovsk/software/java/ibm-java-80/bin/java

  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Djava.awt.headless=true -agentpath:/home/tkyjovsk/software/tools/jprofiler9/bin/linux-x64/libjprofilerti.so=port=6766 -Xshareclasses:none -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:/home/tkyjovsk/workspace/KEYCLOAK-8983/wildfly-14.0.1.Final/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.4.Final.jar 

=========================================================================

JProfiler> Protocol version 55
JProfiler> Using JVMTI
JProfiler> Thread status info workaround enabled.
JProfiler> Restricted JVMTI version 1.1 detected.
JProfiler> 64-bit library
JProfiler> Listening on port: 6766.
JProfiler> Instrumenting native methods.
JProfiler> Native library initialized
JProfiler> VM initialized
JProfiler> Waiting for a connection from the JProfiler GUI ...
JProfiler> Using dynamic instrumentation
JProfiler> Time measurement: elapsed time
JProfiler> CPU profiling enabled
java.lang.NoClassDefFoundError: org/wildfly/common/net/HostName
	at org.jboss.logmanager.ExtLogRecord.<init>(ExtLogRecord.java:87)
	at org.jboss.logmanager.Logger.log(Logger.java:796)
	at org.jboss.logging.JBossLogManagerLogger.doLogf(JBossLogManagerLogger.java:53)
	at org.jboss.logging.Logger.logf(Logger.java:2398)
	at org.jboss.msc.service.ServiceLogger_$logger.greeting(ServiceLogger_$logger.java:40)
	at org.jboss.msc.service.ServiceContainerImpl.<clinit>(ServiceContainerImpl.java:91)
	at org.jboss.msc.service.ServiceContainer$Factory.create(ServiceContainer.java:250)
	at org.jboss.as.server.BootstrapImpl$ShutdownHook.register(BootstrapImpl.java:229)
	at org.jboss.as.server.BootstrapImpl$ShutdownHook.access$100(BootstrapImpl.java:219)
	at org.jboss.as.server.BootstrapImpl.<init>(BootstrapImpl.java:70)
	at org.jboss.as.server.Bootstrap$Factory.newInstance(Bootstrap.java:278)
	at org.jboss.as.server.Main.main(Main.java:106)
	at org.jboss.modules.Module.run(Module.java:352)
	at org.jboss.modules.Module.run(Module.java:320)
	at org.jboss.modules.Main.main(Main.java:593)
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-27 04:35:27.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z01nfs:",9223372036854775807,,0.0,,,,,"# Edit {{standalone.conf}}:
** set {{JAVA_HOME}} to point to IBM JDK 8 home
** set {{JPROFILER_HOME}} to point to local JProfiler installation
** add ""{{-agentpath:$JPROFILER_HOME/bin/linux-x64/libjprofilerti.so=port=6766 -Xshareclasses:none}}"" to {{JAVA_OPTS}}
# start server
# attach JProfiler to a remote process at localhost:6766",,,,,,,,,,,"05/Dec/18 10:32 AM;tkyjovsky;Same problem when I try to enable the IBM Healthcenter agent: {{-Xhealthcenter}}.","27/Jan/19 4:35 AM;jamezp;Try using the append option and setting those arguments first. There is something, can't remember the exact details, in the IBM JVM that loads logging very early. In unit tests setting the arguments first and with the append option seemed to work.

{code}
JAVA_OPTS=""-Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/a:/home/tkyjovsk/workspace/KEYCLOAK-8983/wildfly-14.0.1.Final/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.4.Final.jar $JAVA_OPTS""
{code}","04/Nov/19 2:27 PM;jamezp;This can be resolved by adding the log manager to the boot class path and defining the {{java.util.logging.manager}} in the {{JAVA_OPTS}}.

The following example works for WildFly 18+ for lower versions you'd use the ""javax"" prefix where ""jakarta"" is used below.
{code:title=standalone.conf}
LOGMANAGER_JAR=$(find $JBOSS_HOME/modules -name ""jboss-logmanager*.jar"" -type f | xargs readlink -m)
WILDFLY_COMMON_JAR=$(find $JBOSS_HOME/modules -name ""wildfly-common*.jar"" -type f | xargs readlink -m)
JSON_API_JAR=$(find $JBOSS_HOME/modules -name ""jakarta.json-api*.jar"" -type f | xargs readlink -m)
JSON_IMPL_JAR=$(find $JBOSS_HOME/modules -name ""jakarta.json-1*.jar"" -type f | xargs readlink -m)

BOOT_CP=""$LOGMANAGER_JAR:$WILDFLY_COMMON_JAR:$JSON_API_JAR:$JSON_IMPL_JAR""
JAVA_OPTS=""-Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/a:$BOOT_CP -Xhealthcenter $JAVA_OPTS""
{code}",,,,,,,,,,,,,,,,,,,,,,,,
XercesUsageInWebServiceTestCase fails with security manager on IBM Java 8,WFLY-11505,12784252,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,baranowb,okotek,okotek,12/Dec/18 9:01 AM,04/Nov/19 1:44 PM,15/Jan/20 1:31 PM,04/Nov/19 1:44 PM,16.0.0.Beta1,,,,,,,,Test Suite,Web Services,,,,,,0,,,,,,,"{{org.jboss.as.test.integration.xerces.ws.unit.XercesUsageInWebServiceTestCase#testXercesUsageInWebService}} fails with security manager on IBM Java 8 due to missing permissions:

{noformat}
SEVERE [org.apache.cxf.frontend.WSDLGetInterceptor] (default task-3) WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.org.apache.xerces.impl.xs.identity"")"" in code source ""(vfs:/content/xerces-webservice-webapp.war/WEB-INF/lib/xercesImpl.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.xerces-webservice-webapp.war"" from Service Module Loader""): java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.org.apache.xerces.impl.xs.identity"")"" in code source ""(vfs:/content/xerces-webservice-webapp.war/WEB-INF/lib/xercesImpl.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.xerces-webservice-webapp.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1655)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPackageAccess(WildFlySecurityManager.java:490)
	at java.lang.J9VMInternals$2.run(J9VMInternals.java:268)
	at java.security.AccessController.doPrivileged(AccessController.java:673)
	at java.lang.J9VMInternals.checkPackageAccess(J9VMInternals.java:263)
	at java.lang.ClassLoader.defineClassImpl(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:379)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:1734)
	at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:424)
	at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:519)
	at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)
	at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)
	at org.jboss.modules.Module.loadModuleClass(Module.java:731)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.newDocumentBuilder(Unknown Source)
	at com.ibm.wsdl.xml.WSDLWriterImpl.getDocument(WSDLWriterImpl.java:1013)
	at com.ibm.wsdl.xml.WSDLWriterImpl.getDocument(WSDLWriterImpl.java:1043)
	at org.apache.cxf.frontend.WSDLGetUtils.writeWSDLDocument(WSDLGetUtils.java:705)
	at org.apache.cxf.frontend.WSDLGetUtils.getDocument(WSDLGetUtils.java:151)
	at org.apache.cxf.frontend.WSDLGetInterceptor.getDocument(WSDLGetInterceptor.java:129)
	at org.apache.cxf.frontend.WSDLGetInterceptor.handleMessage(WSDLGetInterceptor.java:77)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
	at org.jboss.wsf.stack.cxf.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:110)
	at org.jboss.wsf.stack.cxf.transport.ServletHelper.callRequestHandler(ServletHelper.java:134)
	at org.jboss.wsf.stack.cxf.CXFServletExt.invoke(CXFServletExt.java:88)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doGet(AbstractHTTPServlet.java:225)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at org.jboss.wsf.stack.cxf.CXFServletExt.service(CXFServletExt.java:136)
	at org.jboss.wsf.spi.deployment.WSFServlet.service(WSFServlet.java:140)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$825.000000005C9627C0.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$826.000000005C962DB0.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$826.000000005C962DB0.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$826.000000005C962DB0.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$826.000000005C962DB0.call(Unknown Source)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.security.AccessController.doPrivileged(AccessController.java:703)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:812)
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-02 03:06:45.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12294,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z01zko:",9223372036854775807,,0.0,,,,,"set IBM Java 8
{{cd integration/basic}}
{{mvn clean test -Dtest=XercesUsageInWebServiceTestCase -Dsecurity.manager}}",,,,,,,okotek,,,,"02/Jan/19 4:14 AM;okotek;[~baranowb] Thank you.","02/Jan/19 6:38 AM;okotek;I see the failure even with the IBM Java 8, build 8.0.5.26.","13/May/19 4:15 AM;baranowb;WEird. In latest WFLY I get:
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 3.013 s <<< FAILURE! - in org.jboss.as.test.integration.xerces.ws.unit.XercesUsageInWebServiceTestCase
[ERROR] org.jboss.as.test.integration.xerces.ws.unit.XercesUsageInWebServiceTestCase  Time elapsed: 3.012 s  <<< ERROR!
org.jboss.arquillian.container.spi.client.container.DeploymentException: Cannot deploy xerces-webservice-webapp.war: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => ""java.io.IOException: No such file or directory""}}
","14/May/19 4:32 AM;baranowb;Ok, I finally see it but it's tad different:

{noformat}
javax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.
        at org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:163)
        at org.apache.cxf.jaxws.ServiceImpl.<init>(ServiceImpl.java:129)
        at org.jboss.wsf.stack.cxf.client.ProviderImpl$JBossWSServiceImpl.<init>(ProviderImpl.java:574)
        at org.jboss.wsf.stack.cxf.client.ProviderImpl.createServiceDelegate(ProviderImpl.java:258)
        at javax.xml.ws.Service.<init>(Service.java:88)
        at javax.xml.ws.Service.create(Service.java:718)
        at org.jboss.as.test.integration.xerces.ws.unit.XercesUsageInWebServiceTestCase.testXercesUsageInWebService(XercesUsageInWebServiceTestCase.java:94)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
        at org.jboss.arquillian.junit.Arquillian$8$1.invokeMethod(Arquillian.java:325)
        at org.jboss.arquillian.junit.MethodInvoker$1.invoke(MethodInvoker.java:18)
        at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:57)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
        at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
        at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
        at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
        at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:50)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
        at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
        at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:118)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
        at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:139)
        at org.jboss.arquillian.junit.MethodInvoker.invoke(MethodInvoker.java:15)
        at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:332)
        at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:204)
        at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
        at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
        at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:215)
        at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:279)
        at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:88)
        at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:66)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
        at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
        at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:114)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
        at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
        at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
        at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:273)
        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
        at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:166)
        at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
        at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
        at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
        at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
Caused by: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.
        at org.apache.cxf.wsdl11.WSDLServiceFactory.<init>(WSDLServiceFactory.java:87)
        at org.apache.cxf.jaxws.ServiceImpl.initializePorts(ServiceImpl.java:218)
        at org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:161)
        ... 136 more
Caused by: javax.wsdl.WSDLException: WSDLException (at /soap:Envelope): faultCode=INVALID_WSDL: Expected element '{http://schemas.xmlsoap.org/wsdl/}definitions'.
        at com.ibm.wsdl.xml.WSDLReaderImpl.checkElementName(WSDLReaderImpl.java:2167)
        at com.ibm.wsdl.xml.WSDLReaderImpl.parseDefinitions(WSDLReaderImpl.java:248)
        at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(WSDLReaderImpl.java:2352)
        at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(WSDLReaderImpl.java:2338)
        at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:255)
        at org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:165)
        at org.apache.cxf.wsdl11.WSDLServiceFactory.<init>(WSDLServiceFactory.java:85)
        ... 138 more

{noformat}

Will check it though.","04/Nov/19 1:44 PM;jamezp;I'm closing this as out of date. All the tests pass for me on the latest WildFly upstream with OpenJ9 + OpenJDK 11 and OpenJ9 + OpenJDK 8.

{code}
openjdk version ""11.0.4"" 2019-07-16
OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.4+11)
Eclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.15.1, JRE 11 Linux amd64-64-Bit Compressed References 20190717_286 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - fa49279450 based on jdk-11.0.4+11)
{code}
{code}
openjdk version ""1.8.0_222""
OpenJDK Runtime Environment (build 1.8.0_222-b10)
Eclipse OpenJ9 VM (build openj9-0.15.1, JRE 1.8.0 Linux amd64-64-Bit Compressed References 20190717_368 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - f147086df1e based on jdk8u222-b10)
{code}",,,,,,,,,,,,,,,,,,,,,,
WSTrustTestCase failing on IBM,WFLY-11178,12774401,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,asoldano,jbliznak,jbliznak,15/Oct/18 7:31 AM,04/Nov/19 12:26 PM,15/Jan/20 1:31 PM,04/Nov/19 12:26 PM,14.0.0.Final,,,,,,,,MSC,,,,,,,0,,,,,,,"As discovered during investigation in WFLY-10336, we are now getting test failures in WSTrustTestCase when IBM JDK is used. The relevant part of the exception is:
{code:java}
Caused by: java.lang.IllegalArgumentException: Provider org.apache.xerces.jaxp.validation.XMLSchemaFactory not found
	at javax.xml.validation.SchemaFactory.newInstance(Unknown Source)
	at org.opensaml.core.xml.config.XMLConfigurator.<init>(XMLConfigurator.java:94)
	at org.apache.wss4j.common.saml.OpenSAMLBootstrap.bootstrap(OpenSAMLBootstrap.java:85)
	at org.apache.wss4j.common.saml.OpenSAMLUtil.initSamlEngine(OpenSAMLUtil.java:91)
	at org.apache.wss4j.common.saml.OpenSAMLUtil.initSamlEngine(OpenSAMLUtil.java:75)
	at org.apache.wss4j.common.saml.SamlAssertionWrapper.<init>(SamlAssertionWrapper.java:184)
	at org.apache.cxf.sts.token.provider.SAMLTokenProvider.createSamlToken(SAMLTokenProvider.java:308)
	at org.apache.cxf.sts.token.provider.SAMLTokenProvider.createToken(SAMLTokenProvider.java:120)
	... 102 more
{code}

It turned out the issue is in wildfly for some time, the breaking change was identified as https://github.com/wildfly/wildfly-core/pull/3201/

",,,,,,,,,,,,,,,,,,,,,WFLY-12458,,,,,,,,,,,,,,,,"15/Oct/18 9:10 AM;jbliznak;log.txt;https://issues.redhat.com/secure/attachment/12441793/log.txt",,,,,,,,,Regression,,,,,,,,,,2018-10-15 08:51:36.0,,,,,,,,,,,,,,,,,,,,,,,,,1.0,21.0,,,,,,,,,,"1|z00i4w:",9223372036854775807,,0.0,,,,,"{code:java}
#build wildfly
mvn clean install -DskipTests
#run tests
mvn verify -pl testsuite/integration/ws -Dts.basic -Dtest=WSTrustTestCase -DtestLogToFile=false
{code}
",,,,,,,mjurc,,,,"15/Oct/18 7:40 AM;jbliznak;[~dmlloyd] this might need your attention as well, it might be only dependency loading issue after breaking change.","15/Oct/18 8:51 AM;dmlloyd;[~jbliznak] do you have the rest of the stack trace?","15/Oct/18 9:11 AM;jbliznak;The result of this command (where you can find all whole stacktraces) was attached to the jira:

{noformat}
mvn -V verify -pl testsuite/integration/ws -Dts.basic -Dtest=WSTrustTestCase -DtestLogToFile=false | tee log.txt
{noformat}
","15/Oct/18 2:05 PM;jbliznak;[~dmlloyd], I debugged the execution just before ""SchemaFactory.newInstance()"" should be called and tried to find something different before and after breaking commit.

There is actually a difference in system properties (dumped to stdout and sorted before diff, both runs using latest IBM JDK 8):
{code:java}
@@ -59,9 +58 @@
- javax.xml.datatype.DatatypeFactory=__redirected.__DatatypeFactory
- javax.xml.parsers.DocumentBuilderFactory=__redirected.__DocumentBuilderFactory
- javax.xml.parsers.SAXParserFactory=__redirected.__SAXParserFactory
- javax.xml.stream.XMLEventFactory=__redirected.__XMLEventFactory
- javax.xml.stream.XMLInputFactory=__redirected.__XMLInputFactory
- javax.xml.stream.XMLOutputFactory=__redirected.__XMLOutputFactory
- javax.xml.transform.TransformerFactory=__redirected.__TransformerFactory
- javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema=__redirected.__SchemaFactory
- javax.xml.xpath.XPathFactory:http://java.sun.com/jaxp/xpath/dom=__redirected.__XPathFactory
+ javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema=org.apache.xerces.jaxp.validation.XMLSchemaFactory
@@ -111 +101,0 @@
- org.xml.sax.driver=__redirected.__XMLReaderFactory
{code}

This looks related to changes in MODULES-339.","15/Oct/18 4:49 PM;dmlloyd;Yes, we substantially changed how JAXP providers are loaded.  We should not be using the system properties at all now.

I wonder if the {{javax.xml.validation.SchemaFactory}} system property is being set by the test as a workaround to some problem in the old system?  Normally the standard JAXP discovery mechanism should be used.","15/Oct/18 7:42 PM;jbliznak;AFAICT we are not setting {{javax.xml.validation.SchemaFactory}} property anywhere in tests.

One possibility is it is a IBM JDK default, as specified in jaxp.properties.sample file.
","15/Oct/18 8:05 PM;jbliznak;Just tried to actually track down where the property is set by replacing system properties with my own subclass. It turned out being set in picketlink sources. However, that is also the case for Oracle/Open JDK, so I am still missing a difference.

{code:java}
java.lang.IllegalAccessException: jaxp property being set
at org.jboss.modules.Main$MyProperties.logPropertyWrite(Main.java:94)  // <- extension point to log property access
at org.jboss.modules.Main$MyProperties.setProperty(Main.java:86)  // <- extension point to log property access
at java.lang.System.setProperty(System.java:492)
at org.picketlink.common.util.SecurityActions.setSystemProperty(SecurityActions.java:158)
at org.picketlink.common.util.SystemPropertiesUtil.<clinit>(SystemPropertiesUtil.java:41)
at org.picketlink.common.util.TransformerUtil.getTransformerFactory(TransformerUtil.java:104)
at org.picketlink.common.util.TransformerUtil.getTransformer(TransformerUtil.java:81)
at org.picketlink.common.util.DocumentUtil.getSourceAsStream(DocumentUtil.java:346)
at org.picketlink.common.util.DocumentUtil.getNodeAsStream(DocumentUtil.java:329)
at org.picketlink.identity.federation.core.wstrust.PicketLinkSTS.invoke(PicketLinkSTS.java:131)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
at java.lang.reflect.Method.invoke(Method.java:508)
at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.as.webservices.deployers.WSComponentInstanceAssociationInterceptor.processInvocation(WSComponentInstanceAssociationInterceptor.java:56)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:619)
at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
at org.jboss.as.webservices.invocation.AbstractInvocationHandler.invokeInternal(AbstractInvocationHandler.java:161)
at org.jboss.as.webservices.invocation.AbstractInvocationHandler.lambda$invoke$0(AbstractInvocationHandler.java:116)
at org.jboss.as.webservices.invocation.AbstractInvocationHandler$$Lambda$735.00000000703AA230.call(Unknown Source)
at org.jboss.as.webservices.security.SecurityDomainContextImpl.runAs(SecurityDomainContextImpl.java:124)
at org.jboss.as.webservices.invocation.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:115)
at org.jboss.wsf.stack.cxf.JBossWSInvoker.performInvocation(JBossWSInvoker.java:169)
at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)
at org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.invoke(AbstractJAXWSMethodInvoker.java:232)
at org.apache.cxf.jaxws.JAXWSMethodInvoker.invoke(JAXWSMethodInvoker.java:85)
at org.jboss.wsf.stack.cxf.JBossWSInvoker.invoke(JBossWSInvoker.java:145)
at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:522)
at java.util.concurrent.FutureTask.run(FutureTask.java:277)
at org.apache.cxf.interceptor.ServiceInvokerInterceptor$2.run(ServiceInvokerInterceptor.java:126)
at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)
at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:131)
at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
at org.jboss.wsf.stack.cxf.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:109)
at org.jboss.wsf.stack.cxf.transport.ServletHelper.callRequestHandler(ServletHelper.java:134)
at org.jboss.wsf.stack.cxf.CXFServletExt.invoke(CXFServletExt.java:88)
at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)
at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:220)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
at org.jboss.wsf.stack.cxf.CXFServletExt.service(CXFServletExt.java:136)
at org.jboss.wsf.spi.deployment.WSFServlet.service(WSFServlet.java:140)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:67)
at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$718.00000000531FC270.call(Unknown Source)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1521)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$719.00000000531FCAC0.call(Unknown Source)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1521)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$719.00000000531FCAC0.call(Unknown Source)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1521)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$719.00000000531FCAC0.call(Unknown Source)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1521)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$719.00000000531FCAC0.call(Unknown Source)
at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
at java.lang.Thread.run(Thread.java:812)

{code}
","16/Oct/18 9:07 AM;dmlloyd;So somehow the property is not being set under OpenJDK?  Or perhaps something is manually clearing it?  Maybe there's a class init order difference?","16/Oct/18 10:21 AM;jbliznak;At the moment, I don't know how to obtain info about class init order.
No, the linked picketlink code is the only place where this property is manipulated with. It is executed in both cases - IBM and OpenJDK before the attempt to call SchemaFactory.newInstance().

Is there an easy way how to list currently loaded modules, for given deployment?
I am trying to prepare reduced reproducer that would show the issue too.","16/Oct/18 10:29 AM;dmlloyd;Sure, just use the JMX MBean for the ""ServiceModuleLoader"" and you can get all dependency info for a given deployment.

There isn't a good general way to get class init order information, but you can print a log/stack trace when the property is modified *or* when it's read.  Then compare the sequence between OpenJDK and IBM to see if that accounts for the difference.

Another possibility is that somehow the IBM JAXP APIs don't conform to spec.","19/Oct/18 9:07 AM;jbliznak;In allocated time I wasn't able to find any difference in loaded modules or stacktraces.

However, I was able to find a workaround for this particular test - adding explicit dependency to ""org.apache.xerces"" for one of the deployments fixed the test for IBM JDK.
But it just doesn't seem right to do that...

The next question is - is it ok for the linked picketlink sources to set the system property? I guess we can't restrict users from doing so even in application code so jboss-modules should handle that somehow, right?","19/Oct/18 9:36 AM;dmlloyd;bq. The next question is - is it ok for the linked picketlink sources to set the system property? I guess we can't restrict users from doing so even in application code so jboss-modules should handle that somehow, right?

I'd say, no that's not OK, unless picketlink is also ensuring that the dependency is available.  Application code is certainly allowed to do so, but in that case it's up to them to ensure the dependency is added to the deployment.","19/Oct/18 9:52 AM;jbliznak;OK will try to get some input on picketlink side when I determine who is responsible for it.

Still, wildfly bundles own xerces module so I thought we would want to use it. If problem of not finding particular class with IBM JDK is fixed by adding xerces module dependency whereas OpenJDK can find it without dependency that could indicate that the class is actually not loaded from our xerces module but is loaded from JDK libraries itself.","19/Oct/18 9:55 AM;dmlloyd;If it is unspecified, it _should_ be using the default which we install at boot.  This is done by JBoss Modules, which adds a ""virtual"" service implementation to every module that contains the ""__redirected"" class, which in turn calls the implementation class.  In this case, it will be the Xerces we bundle, even though it is not actually on the deployment class path.","19/Oct/18 10:44 AM;msvehla;[~okotek] FYI","22/Oct/18 10:54 AM;jbliznak;[~dmlloyd], yeah, I get it, you described desired situation.
I tried to prepare a reproducer which should reveal the issue without webservices and without picketlink.
It is a copy of WF helloworld quickstart with additional call to ""SchemaFactory.newInstance()"" and some diagnostic output.

To reproduce:
# clone https://github.com/jbliznak/reproducer-wfly-11178
# execute server with particular JDK and  {{test.use.property}} set to true when {{javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema}} property should be set to {{org.apache.xerces.jaxp.validation.XMLSchemaFactory}}, eg. 
{{JAVA_OPTS=""-Djaxp.debug=true -Dtest.use.property=true"" bin/standalone.sh}}
# deploy the app to running server with {{mvn clean package wildfly:deploy}}
# invoke servlet, eg. 
{{curl http://localhost:8080/helloworld/HelloWorld}}

The result with WF 14.0.1.Final class can't be initialized in case of IBM&&property set:

||resolved class ||property unset ||property set ||
||OpenJDK|  __redirected.__SchemaFactory | __redirected.__SchemaFactory |
||IBM JDK| __redirected.__SchemaFactory  | java.lang.IllegalArgumentException: Provider org.apache.xerces.jaxp.validation.XMLSchemaFactory not found |

The interesting thing in JAXP debug output for OpenJDK&&property set is: 
{code:java}
15:38:53,429 ERROR [stderr] (default task-1) JAXP: using thread context class loader (ModuleClassLoader for Module ""deployment.helloworld.war"" from Service Module Loader) for search
15:38:53,429 ERROR [stderr] (default task-1) JAXP: Looking up system property 'javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema'
15:38:53,429 ERROR [stderr] (default task-1) JAXP: The value is 'org.apache.xerces.jaxp.validation.XMLSchemaFactory'
15:38:53,430 ERROR [stderr] (default task-1) JAXP: createInstance(org.apache.xerces.jaxp.validation.XMLSchemaFactory)
15:38:53,430 ERROR [stderr] (default task-1) java.lang.ClassNotFoundException: org.apache.xerces.jaxp.validation.XMLSchemaFactory from [Module ""deployment.helloworld.war"" from Service Module Loader]
15:38:53,430 ERROR [stderr] (default task-1) 	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
15:38:53,430 ERROR [stderr] (default task-1) 	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
15:38:53,430 ERROR [stderr] (default task-1) 	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
15:38:53,430 ERROR [stderr] (default task-1) 	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
15:38:53,431 ERROR [stderr] (default task-1) 	at java.lang.Class.forName0(Native Method)
15:38:53,431 ERROR [stderr] (default task-1) 	at java.lang.Class.forName(Class.java:348)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.xml.validation.SchemaFactoryFinder.createClass(SchemaFactoryFinder.java:256)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.xml.validation.SchemaFactoryFinder.createInstance(SchemaFactoryFinder.java:285)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.xml.validation.SchemaFactoryFinder._newFactory(SchemaFactoryFinder.java:173)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.xml.validation.SchemaFactoryFinder.newFactory(SchemaFactoryFinder.java:146)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.xml.validation.SchemaFactory.newInstance(SchemaFactory.java:213)
15:38:53,431 ERROR [stderr] (default task-1) 	at org.jboss.as.quickstarts.helloworld.HelloService.createHelloMessage(HelloService.java:51)
15:38:53,431 ERROR [stderr] (default task-1) 	at org.jboss.as.quickstarts.helloworld.HelloWorldServlet.doGet(HelloWorldServlet.java:58)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
15:38:53,432 ERROR [stderr] (default task-1) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
15:38:53,432 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:38:53,433 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
15:38:53,435 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
15:38:53,435 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
15:38:53,435 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
15:38:53,435 ERROR [stderr] (default task-1) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
15:38:53,435 ERROR [stderr] (default task-1) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
15:38:53,435 ERROR [stderr] (default task-1) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
15:38:53,435 ERROR [stderr] (default task-1) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
15:38:53,435 ERROR [stderr] (default task-1) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
15:38:53,435 ERROR [stderr] (default task-1) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
15:38:53,435 ERROR [stderr] (default task-1) 	at java.lang.Thread.run(Thread.java:748)
15:38:53,435 ERROR [stderr] (default task-1) JAXP: failed to getClass(org.apache.xerces.jaxp.validation.XMLSchemaFactory)
15:38:53,435 ERROR [stderr] (default task-1) JAXP: found null in $java.home/jaxp.properties
15:38:53,436 ERROR [stderr] (default task-1) JAXP: factory '__redirected.__SchemaFactory' was found for http://www.w3.org/2001/XMLSchema
{code}

whereas for IBM&&property set
{code:java}

15:50:31,917 ERROR [stderr] (default task-1) JAXP: find factoryId=javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema
15:50:31,918 ERROR [stderr] (default task-1) JAXP: found system property, value=org.apache.xerces.jaxp.validation.XMLSchemaFactory
15:50:31,923 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /helloworld/HelloWorld: java.lang.IllegalArgumentException: Provider org.apache.xerces.jaxp.validation.XMLSchemaFactory not found
	at javax.xml.validation.SchemaFactory.newInstance(Unknown Source)
	at org.jboss.as.quickstarts.helloworld.HelloService.createHelloMessage(HelloService.java:51)
	at org.jboss.as.quickstarts.helloworld.HelloWorldServlet.doGet(HelloWorldServlet.java:58)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$757.00000000DFD9ADA0.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$758.00000000E027C730.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$758.00000000E027C730.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$758.00000000E027C730.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$758.00000000E027C730.call(Unknown Source)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:812)
{code}

RE:
??Application code is certainly allowed to do so, but in that case it's up to them to ensure the dependency is added to the deployment.??
The testing app doesn't have org.apache.xerces module dependency explicitly added, yet OpenJDK can handle situation with property set (looks like OpenJDK has some fallback mechanism which IBM doesn't). Or there might be some classloading issue with IBM.

At this point I think JBoss Modules jira could be created for future work on this, WDYT?","22/Oct/18 11:46 AM;dmlloyd;Maybe, though I am hesitant just because any such work would be a workaround for a JDK bug.  Probably a better fix would be to add a stable upstream JAXP API JAR to the JVM's endorsed APIs directory (however that is done for IBM), and/or file a bug with IBM, and/or prevent PL from incorrectly setting the property in the first place.

I think you're right about there being a fallback mechanism in OpenJDK; that probably explains the difference.","23/Oct/18 3:41 AM;rsvoboda;[~msvehla] how should we proceed with this issue ?","31/Oct/18 9:32 AM;jbliznak;As shown by reproducer, the root problem isn't in Webservices, changing component to modules.","31/Oct/18 9:44 AM;dmlloyd;I believe there is no fix in JBoss Modules that will solve this.  The property simply must not be set; setting the property results in undefined and unsupported behavior.","04/Nov/19 12:26 PM;jamezp;I'm closing this as out of date. All the tests pass for me on the latest WildFly upstream with OpenJ9 + OpenJDK 11 and OpenJ9 + OpenJDK 8.

{code}
openjdk version ""11.0.4"" 2019-07-16
OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.4+11)
Eclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.15.1, JRE 11 Linux amd64-64-Bit Compressed References 20190717_286 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - fa49279450 based on jdk-11.0.4+11)
{code}
{code}
openjdk version ""1.8.0_222""
OpenJDK Runtime Environment (build 1.8.0_222-b10)
Eclipse OpenJ9 VM (build openj9-0.15.1, JRE 1.8.0 Linux amd64-64-Bit Compressed References 20190717_368 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - f147086df1e based on jdk8u222-b10)
{code}",,,,,,
MustUnderstand headers: [{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security] are not understood.,WFLY-10336,12748874,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,dcihak,pkremens,pkremens,07/May/18 8:02 AM,04/Nov/19 12:26 PM,15/Jan/20 1:31 PM,04/Nov/19 12:26 PM,,,,,,,,,Test Suite,Web Services,,,,,,0,,,,,,,"There are test failures running the WildFly Test Suite: Integration - WS on IBM jdk.
{noformat}
wildfly/testsuite/integration/ws] $ mvn clean install
...
[INFO]
[INFO] Results:
[INFO]
[ERROR] Errors:
[ERROR]   EJBSignTestCase.signedRequest:86 » SOAPFault MustUnderstand headers: [{http://...
[ERROR]   SignTestCase.signedRequest:88 » SOAPFault MustUnderstand headers: [{http://doc...
[ERROR]   EJBSignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromAlice:90 » SOAPFault
[ERROR]   EJBSignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromJohn:102 » SOAPFault
[ERROR]   EJBSignEncryptTestCase.encryptedAndSignedRequest:88 » SOAPFault MustUnderstand...
[ERROR]   SignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromAlice:91 » SOAPFault
[ERROR]   SignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromJohn:103 » SOAPFault
[ERROR]   SignEncryptTestCase.encryptedAndSignedRequest:90 » SOAPFault MustUnderstand he...
[ERROR]   WSTrustTestCase.test:318 » SOAPFault MustUnderstand headers: [{http://docs.oas...
[ERROR]   WSTrustTestCase.testActAs:441 » SOAPFault MustUnderstand headers: [{http://doc...
[ERROR]   WSTrustTestCase.testBearer:541 » SOAPFault MustUnderstand headers: [{http://do...
[ERROR]   WSTrustTestCase.testHolderOfKey:491 » SOAPFault MustUnderstand headers: [{http...
[ERROR]   WSTrustTestCase.testNoClientCallback:383 » SOAPFault MustUnderstand headers: [...
[ERROR]   WSTrustTestCase.testNoSignatureUsername:414 » SOAPFault MustUnderstand headers...
[ERROR]   WSTrustTestCase.testOnBehalfOf:468 » SOAPFault MustUnderstand headers: [{http:...
[ERROR]   WSTrustTestCase.testPicketLink:518 » SOAPFault MustUnderstand headers: [{http:...
[ERROR]   WSTrustTestCase.testUsingEPR:350 » SOAPFault MustUnderstand headers: [{http://...
[INFO]
[ERROR] Tests run: 119, Failures: 0, Errors: 17, Skipped: 0
{noformat}
*Caused by*
{noformat}
Caused by: org.apache.cxf.binding.soap.SoapFault: MustUnderstand headers: [{http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security] are not understood.
        at org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.unmarshalFault(Soap11FaultInInterceptor.java:87)
        at org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.handleMessage(Soap11FaultInInterceptor.java:53)
        at org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.handleMessage(Soap11FaultInInterceptor.java:42)
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
        at org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver.onMessage(AbstractFaultChainInitiatorObserver.java:112)
        at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:70)
        at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:35)
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
        at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:827)
        at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1695)
        at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1572)
        at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1373)
        at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)
        at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:673)
        at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:63)
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
        at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:533)
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:442)
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:343)
        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:296)
        at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)
        at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:139)
        ... 129 more
{noformat}
",,,,,,,,,WFLY-10337,,,,,,,,,,,,WFLY-11178,JBEAP-15775,WFLY-12458,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-05-22 12:01:37.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,16.0,,,,,,,,,,"1|hzxm2f:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"07/May/18 8:03 AM;pkremens;[~jbliznak] Could you please take a look into this?","22/May/18 12:01 PM;jbliznak;These (all but WSTrustTestCase) testcases running solo one by one pass, WSTrustTestCase fails with different exception\[1\]. So there is probably a problem with tests isolation, trying to figure out which one is to blame.

\[1\] 

{code:java}
javax.xml.ws.soap.SOAPFaultException: The specified request failed
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:161)
	at com.sun.proxy.$Proxy51.sayHello(Unknown Source)
	at org.jboss.as.test.integration.ws.wsse.trust.WSTrustTestCase.testNoClientCallback(WSTrustTestCase.java:383)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor53.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor51.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor65.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor53.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor51.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junitcore.JUnitCore.run(JUnitCore.java:55)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:137)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:83)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:75)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:158)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)
Caused by: org.apache.cxf.binding.soap.SoapFault: The specified request failed
	at org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.unmarshalFault(Soap11FaultInInterceptor.java:87)
	at org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.handleMessage(Soap11FaultInInterceptor.java:53)
	at org.apache.cxf.binding.soap.interceptor.Soap11FaultInInterceptor.handleMessage(Soap11FaultInInterceptor.java:42)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver.onMessage(AbstractFaultChainInitiatorObserver.java:112)
	at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:70)
	at org.apache.cxf.binding.soap.interceptor.CheckFaultInterceptor.handleMessage(CheckFaultInterceptor.java:35)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:827)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1695)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1572)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1373)
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:673)
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:63)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:533)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:442)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:343)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:296)
	at org.apache.cxf.ws.security.trust.AbstractSTSClient.issue(AbstractSTSClient.java:875)
	at org.apache.cxf.ws.security.trust.STSClient.requestSecurityToken(STSClient.java:61)
	at org.apache.cxf.ws.security.trust.STSClient.requestSecurityToken(STSClient.java:55)
	at org.apache.cxf.ws.security.trust.STSClient.requestSecurityToken(STSClient.java:51)
	at org.apache.cxf.ws.security.trust.STSTokenRetriever.getTokenFromSTS(STSTokenRetriever.java:262)
	at org.apache.cxf.ws.security.trust.STSTokenRetriever.getToken(STSTokenRetriever.java:110)
	at org.apache.cxf.ws.security.policy.interceptors.IssuedTokenInterceptorProvider$IssuedTokenOutInterceptor.handleMessage(IssuedTokenInterceptorProvider.java:144)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:533)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:442)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:343)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:296)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:139)
	... 134 more
{code}
","22/May/18 12:37 PM;jbliznak;OK, got the troublemaker - org.jboss.as.test.integration.ws.authentication.policy.AuthenticationPolicyContextTestCase introduced in https://github.com/wildfly/wildfly/pull/10829, without this one the others will pass (expect the WSTrustTestCase as noted above).

Simplified reproduce steps:
wildfly/testsuite/integration/ws\] $ mvn clean integration-test -Dtest=AuthenticationPolicyContextTestCase,EJBSignTestCase

CC: [~dcihak]
","23/May/18 1:09 AM;pkremens;[~jbliznak] AuthenticationPolicyContextTestCase is already under revision, see WFLY-10337","05/Oct/18 4:57 AM;rsvoboda;[~dcihak] what's the update on this ?

Fixing this will help to look https://ci.wildfly.org/viewType.html?buildTypeId=WF_MasterLinuxIbmJdk better.","05/Oct/18 5:00 AM;rsvoboda;[~jbliznak] did you have chance to investigate WSTrustTestCase failures a bit more? Is it failing with JBossWS CXF TS execution ?","05/Oct/18 6:38 AM;dcihak;At this time I can not simulate it locally, it seems it is a IMB JDK related issue. Still continue the investigation.","05/Oct/18 11:12 AM;rsvoboda;Are you using latest IBM JDK ?","09/Oct/18 4:21 AM;dcihak;I can simulate it locally right now, but still don't know where is the problem. ","09/Oct/18 1:26 PM;dcihak;It seems I found the solution.","10/Oct/18 3:30 AM;rsvoboda;OK, please prepare the PR.","12/Oct/18 4:42 AM;dcihak;This issue is more complex. To get rid of the {{SoapFault: MustUnderstand headers}} exception we need to add a message handler implementing {{SOAPHandler}} and configure it in the configuration file annotated in the service EchoService {{@HandlerChain(file = ""dummmy-ws-handler.xml"")}}. This handler overrides {{getHeaders}} method to process the security header. The handler-chain will now look like
{code:title=dummmy-ws-handler.xml}
    <handler-chain>
        <handler>
            <handler-name>ContextHandler</handler-name>
            <handler-class>org.jboss.as.test.integration.ws.authentication.policy.HeaderWSContextProcessor</handler-class>
        </handler>
        <handler>
            <handler-name>SAML2Handler</handler-name>
            <handler-class>org.picketlink.trust.jbossws.handler.SAML2Handler</handler-class>
        </handler>
    </handler-chain>
{code}

SAML2Handler is used for the security context creation and HeaderWSContextProcessor processes the header. When those two headers are used in the chain and the AuthenticationPolicyContextTestCase is run together with another test (EJBSignTestCase), the second test fails with the {{org.apache.cxf.binding.soap.SoapFault: MustUnderstand headers}}. This behaviour occurs on Wildfly and on IMB JDK.

We also found out when running the tests with a parameter {{-DreuseForks=false}} this issue does not occur any more. The problem might be in the line https://github.com/wildfly/wildfly/blob/master/testsuite/integration/ws/src/test/java/org/jboss/as/test/integration/ws/authentication/policy/AuthenticationPolicyContextTestCase.java#L316 {{assertion = wsClient.issueToken(SAMLUtil.SAML2_TOKEN_TYPE);}}. When this line is omitted the exception stops appearing. We still don't know the solution of this and must abort the investigation for now.","12/Oct/18 6:02 AM;rsvoboda;[~asoldano] this might be interesting for you.","12/Oct/18 7:25 AM;pmackay;I had a quick look and think the actual issue is
{noformat}
WARNING [org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader] (default task-1) Could not load or register WS-SecurityPolicy related classes. Please check that (the correct version of) Apache WSS4J is on the classpath: null
{noformat}
This can be seen in server logs just before the MustUnderstand headers error.

Here's the associated exception: Provider org.apache.xerces.jaxp.validation.XMLSchemaFactory not found
{noformat}
 java.lang.ExceptionInInitializerError
 	at java.lang.J9VMInternals.ensureError(J9VMInternals.java:146)
 	at java.lang.J9VMInternals.recordInitializationFailure(J9VMInternals.java:135)
 	at org.apache.cxf.ws.security.wss4j.WSS4JStaxOutInterceptor.<init>(WSS4JStaxOutInterceptor.java:92)
 	at org.apache.cxf.ws.security.wss4j.PolicyBasedWSS4JStaxOutInterceptor.<init>(PolicyBasedWSS4JStaxOutInterceptor.java:45)
 	at org.apache.cxf.ws.security.policy.interceptors.WSSecurityInterceptorProvider.<init>(WSSecurityInterceptorProvider.java:65)
 	at org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader.registerProviders(WSSecurityPolicyLoader.java:300)
 	at org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader.<init>(WSSecurityPolicyLoader.java:108)
 	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
 	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:83)
 	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:57)
 	at java.lang.reflect.Constructor.newInstance(Constructor.java:437)
 	at org.apache.cxf.bus.extension.Extension.load(Extension.java:217)
 	at org.apache.cxf.bus.extension.ExtensionManagerImpl.loadAndRegister(ExtensionManagerImpl.java:208)
 	at org.apache.cxf.bus.extension.ExtensionManagerImpl.getBeansOfType(ExtensionManagerImpl.java:343)
 	at org.apache.cxf.ws.policy.PolicyInterceptorProviderRegistryImpl.loadDynamic(PolicyInterceptorProviderRegistryImpl.java:93)
 	at org.apache.cxf.extension.RegistryImpl.get(RegistryImpl.java:57)
 	at org.apache.cxf.ws.policy.PolicyInterceptorProviderRegistryImpl.register(PolicyInterceptorProviderRegistryImpl.java:75)
 	at org.apache.cxf.ws.rm.policy.WSRMP12PolicyLoader.registerProviders(WSRMP12PolicyLoader.java:62)
 	at org.apache.cxf.ws.rm.policy.WSRMP12PolicyLoader.<init>(WSRMP12PolicyLoader.java:41)
 	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
 	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:83)
 	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:57)
 	at java.lang.reflect.Constructor.newInstance(Constructor.java:437)
 	at org.apache.cxf.bus.extension.Extension.load(Extension.java:217)
 	at org.apache.cxf.bus.extension.ExtensionManagerImpl.loadAndRegister(ExtensionManagerImpl.java:208)
 	at org.apache.cxf.bus.extension.ExtensionManagerImpl.getBeansOfType(ExtensionManagerImpl.java:343)
 	at org.apache.cxf.ws.policy.AssertionBuilderRegistryImpl.loadDynamic(AssertionBuilderRegistryImpl.java:96)
 	at org.apache.neethi.AssertionBuilderFactoryImpl.build(AssertionBuilderFactoryImpl.java:109)
 	at org.apache.neethi.PolicyBuilder.processOperationElement(PolicyBuilder.java:224)
 	at org.apache.neethi.PolicyBuilder.getAllOperator(PolicyBuilder.java:184)
 	at org.apache.neethi.PolicyBuilder.processOperationElement(PolicyBuilder.java:217)
 	at org.apache.neethi.PolicyBuilder.getExactlyOneOperator(PolicyBuilder.java:180)
 	at org.apache.neethi.PolicyBuilder.processOperationElement(PolicyBuilder.java:215)
 	at org.apache.neethi.PolicyBuilder.getPolicyOperator(PolicyBuilder.java:174)
 	at org.apache.neethi.PolicyBuilder.getPolicy(PolicyBuilder.java:124)
 	at org.apache.cxf.ws.policy.attachment.wsdl11.Wsdl11AttachmentPolicyProvider.getElementPolicy(Wsdl11AttachmentPolicyProvider.java:192)
 	at org.apache.cxf.ws.policy.attachment.wsdl11.Wsdl11AttachmentPolicyProvider.getElementPolicy(Wsdl11AttachmentPolicyProvider.java:168)
 	at org.apache.cxf.ws.policy.attachment.wsdl11.Wsdl11AttachmentPolicyProvider.getElementPolicy(Wsdl11AttachmentPolicyProvider.java:161)
 	at org.apache.cxf.ws.policy.attachment.wsdl11.Wsdl11AttachmentPolicyProvider.getEffectivePolicy(Wsdl11AttachmentPolicyProvider.java:75)
 	at org.apache.cxf.ws.policy.PolicyEngineImpl.getAggregatedServicePolicy(PolicyEngineImpl.java:461)
 	at org.apache.cxf.ws.policy.EndpointPolicyImpl.initializePolicy(EndpointPolicyImpl.java:151)
 	at org.apache.cxf.ws.policy.EndpointPolicyImpl.initialize(EndpointPolicyImpl.java:140)
 	at org.apache.cxf.ws.policy.PolicyEngineImpl.createEndpointPolicyInfo(PolicyEngineImpl.java:614)
 	at org.apache.cxf.ws.policy.PolicyEngineImpl.getEndpointPolicy(PolicyEngineImpl.java:326)
 	at org.apache.cxf.ws.policy.PolicyEngineImpl.getServerEndpointPolicy(PolicyEngineImpl.java:318)
 	at org.apache.cxf.ws.policy.PolicyInInterceptor.handle(PolicyInInterceptor.java:116)
 	at org.apache.cxf.ws.policy.AbstractPolicyInterceptor.handleMessage(AbstractPolicyInterceptor.java:44)
 	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
 	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
 	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
 	at org.jboss.wsf.stack.cxf.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:110)
 	at org.jboss.wsf.stack.cxf.transport.ServletHelper.callRequestHandler(ServletHelper.java:134)
 	at org.jboss.wsf.stack.cxf.CXFServletExt.invoke(CXFServletExt.java:88)
 	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)
 	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doGet(AbstractHTTPServlet.java:225)
 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
 	at org.jboss.wsf.stack.cxf.CXFServletExt.service(CXFServletExt.java:136)
 	at org.jboss.wsf.spi.deployment.WSFServlet.service(WSFServlet.java:140)
 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$35(SecurityContextThreadSetupAction.java:105)
 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$824.000000002C303240.call(Unknown Source)
 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$31(UndertowDeploymentInfoService.java:1502)
 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$825.000000002C303830.call(Unknown Source)
 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$31(UndertowDeploymentInfoService.java:1502)
 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$825.000000002C303830.call(Unknown Source)
 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$31(UndertowDeploymentInfoService.java:1502)
 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$825.000000002C303830.call(Unknown Source)
 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$31(UndertowDeploymentInfoService.java:1502)
 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$825.000000002C303830.call(Unknown Source)
 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
 	at java.lang.Thread.run(Thread.java:811)
 Caused by: java.lang.RuntimeException: Provider org.apache.xerces.jaxp.validation.XMLSchemaFactory not found
 	at org.apache.wss4j.stax.setup.WSSec.<clinit>(WSSec.java:84)
 	... 103 more
 Caused by: org.apache.xml.security.stax.ext.XMLSecurityConfigurationException: Provider org.apache.xerces.jaxp.validation.XMLSchemaFactory not found
 Original Exception was java.lang.IllegalArgumentException: Provider org.apache.xerces.jaxp.validation.XMLSchemaFactory not found
 	at org.apache.xml.security.stax.config.Init.init(Init.java:89)
 	at org.apache.wss4j.stax.setup.WSSec.<clinit>(WSSec.java:62)
 	... 103 more
 Caused by: java.lang.IllegalArgumentException: Provider org.apache.xerces.jaxp.validation.XMLSchemaFactory not found
 	at javax.xml.validation.SchemaFactory.newInstance(Unknown Source)
 	at org.apache.xml.security.stax.config.Init.init(Init.java:56)
 	... 104 more
{noformat}
","15/Oct/18 7:36 AM;jbliznak;[~rsvoboda] I did an analysis of this some time ago but then was redirected to other tasks. I created a WFLY-11178 for that issue.

Now, looking at what [~pmackay] posted, the root cause might be actually the same for both jiras.

","04/Nov/19 12:26 PM;jamezp;I'm closing this as out of date. All the tests pass for me on the latest WildFly upstream with OpenJ9 + OpenJDK 11 and OpenJ9 + OpenJDK 8.

{code}
openjdk version ""11.0.4"" 2019-07-16
OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.4+11)
Eclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.15.1, JRE 11 Linux amd64-64-Bit Compressed References 20190717_286 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - fa49279450 based on jdk-11.0.4+11)
{code}
{code}
openjdk version ""1.8.0_222""
OpenJDK Runtime Environment (build 1.8.0_222-b10)
Eclipse OpenJ9 VM (build openj9-0.15.1, JRE 1.8.0 Linux amd64-64-Bit Compressed References 20190717_368 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - f147086df1e based on jdk8u222-b10)
{code}",,,,,,,,,,,
WebServices tests failing in IBM JDK8,WFLY-12458,12825393,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,jim.ma,ropalka,ropalka,30/Aug/19 4:10 AM,04/Nov/19 12:25 PM,15/Jan/20 1:31 PM,04/Nov/19 12:25 PM,,,,,,,,,Web Services,,,,,,,0,,,,,,,"[ERROR]   EJBSignTestCase.signedRequest:86 » SOAPFault MustUnderstand headers: [{http://...
[ERROR]   SignTestCase.signedRequest:88 » SOAPFault MustUnderstand headers: [{http://doc...
[ERROR]   EJBSignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromAlice:90 » SOAPFault
[ERROR]   EJBSignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromJohn:102 » SOAPFault
[ERROR]   EJBSignEncryptTestCase.encryptedAndSignedRequest:88 » SOAPFault MustUnderstand...
[ERROR]   SignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromAlice:91 » SOAPFault
[ERROR]   SignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromJohn:103 » SOAPFault
[ERROR]   SignEncryptTestCase.encryptedAndSignedRequest:90 » SOAPFault MustUnderstand he...
[ERROR]   WSBearerElytronSecurityPropagationTestCase.testBearer:133 » SOAPFault MustUnde...
[ERROR]   WSBearerSecurityPropagationTestCase.testBearer:133 » SOAPFault MustUnderstand ...
[ERROR]   WSTrustTestCase.test:319 » SOAPFault MustUnderstand headers: [{http://docs.oas...
[ERROR]   WSTrustTestCase.testActAs:442 » SOAPFault MustUnderstand headers: [{http://doc...
[ERROR]   WSTrustTestCase.testBearer:553 » SOAPFault MustUnderstand headers: [{http://do...
[ERROR]   WSTrustTestCase.testHolderOfKey:494 » SOAPFault MustUnderstand headers: [{http...
[ERROR]   WSTrustTestCase.testNoClientCallback:384 » SOAPFault MustUnderstand headers: [...
[ERROR]   WSTrustTestCase.testNoSignatureUsername:415 » SOAPFault MustUnderstand headers...
[ERROR]   WSTrustTestCase.testOnBehalfOf:469 » SOAPFault MustUnderstand headers: [{http:...
[ERROR]   WSTrustTestCase.testPicketLink:526 » SOAPFault MustUnderstand headers: [{http:...
[ERROR]   WSTrustTestCase.testUsingEPR:351 » SOAPFault MustUnderstand headers: [{http://...
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-11-04 12:25:55.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08cxo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Nov/19 12:25 PM;jamezp;I'm closing this as out of date. All the tests pass for me on the latest WildFly upstream with OpenJ9 + OpenJDK 11 and OpenJ9 + OpenJDK 8.

{code}
openjdk version ""11.0.4"" 2019-07-16
OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.4+11)
Eclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.15.1, JRE 11 Linux amd64-64-Bit Compressed References 20190717_286 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - fa49279450 based on jdk-11.0.4+11)
{code}
{code}
openjdk version ""1.8.0_222""
OpenJDK Runtime Environment (build 1.8.0_222-b10)
Eclipse OpenJ9 VM (build openj9-0.15.1, JRE 1.8.0 Linux amd64-64-Bit Compressed References 20190717_368 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - f147086df1e based on jdk8u222-b10)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot create two hosts with unspecified default web module in Undertow,WFLY-9477,12718077,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,michpetrov,ctomc,ctomc,25/Oct/17 9:24 AM,04/Nov/19 10:41 AM,15/Jan/20 1:31 PM,24/Apr/19 6:47 PM,11.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Web (Undertow),,,,,,,0,,,,,,,"As a user, I cannot create two hosts with unspecified default web module. Currently the default-web-module is checked only for uniqueness and by default there is defined ROOT.war, which by default doesn't exist. Current behavior is that in case of non existing module defined by default-web-module, when accessing the root context ('/'), the content defined as part of welcome-file handler is provided.

As a user I should not be forced to put random values to avoid duplicity check, when I don't want to have set default-web-module. As such the default-web-module should have undefined default which could be checked and avoided failures due duplicates as there are in reality none.",,,,,,,,,,,JBEAP-6729,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,User Experience,,,,,+,,,,,,,,2019-10-02 18:37:37.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hzsyzj:",9223372036854775807,,0.0,,,,,"# Start EAP in standalone mode
# In CLI run: {code}/subsystem=undertow/server=default-server/host=foobar:add(alias=[example.com]){code}
# {code}{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.lang.IllegalArgumentException: WFLYUT0087: Duplicate default web module 'ROOT.war' configured on server 'default-server', host 'foobar'"",
    ""rolled-back"" => true
}
{code}",,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
ParseAndMarshalModelsTestCase fails on the latest IBM8 with Failed to register MBean with MBeanServer,WFLY-10529,12754138,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,pkremens,pkremens,07/Jun/18 9:59 AM,04/Nov/19 6:55 AM,15/Jan/20 1:31 PM,12/Oct/18 2:48 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Test Suite,,,,,,,0,,,,,,,"org.jboss.as.test.manualmode.parse.ParseAndMarshalModelsTestCase from manualmode module of wildlfy testsuite fails with the latest IBM 8 JDK bits.

*reproduce*
{noformat}
wildfly/testsuite]$ mvn test -DtestLogToFile=false -pl integration/manualmode -Dts.manualmode -Dtest=ParseAndMarshalModelsTestCase
...
[ERROR] Tests run: 40, Failures: 40, Errors: 0, Skipped: 0
{noformat}

*Error message appearing in the logs*
{noformat}
Jun 07, 2018 3:57:14 PM org.jboss.msc.service.ServiceContainerImpl <init>
ERROR: MSC000010: Failed to register MBean with MBeanServer
javax.management.InstanceAlreadyExistsException: jboss.msc:type=container,name=host-controller
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:449)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1910)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:978)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:912)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:336)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:534)
	at org.jboss.msc.service.ServiceContainerImpl.<init>(ServiceContainerImpl.java:368)
	at org.jboss.msc.service.ServiceContainer$Factory.create(ServiceContainer.java:221)
	at org.wildfly.core.embedded.EmbeddedHostControllerBootstrap$ShutdownHook.register(EmbeddedHostControllerBootstrap.java:90)
	at org.wildfly.core.embedded.EmbeddedHostControllerBootstrap$ShutdownHook.access$100(EmbeddedHostControllerBootstrap.java:80)
	at org.wildfly.core.embedded.EmbeddedHostControllerBootstrap.<init>(EmbeddedHostControllerBootstrap.java:54)
	at org.wildfly.core.embedded.EmbeddedHostControllerFactory$HostControllerImpl.start(EmbeddedHostControllerFactory.java:270)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.wildfly.core.embedded.EmbeddedManagedProcessImpl.invokeOnServer(EmbeddedManagedProcessImpl.java:88)
	at org.wildfly.core.embedded.EmbeddedManagedProcessImpl.start(EmbeddedManagedProcessImpl.java:58)
	at org.jboss.as.cli.embedded.EmbedHostControllerHandler.doHandle(EmbedHostControllerHandler.java:268)
	at org.jboss.as.cli.handlers.CommandHandlerWithHelp.handle(CommandHandlerWithHelp.java:89)
	at org.jboss.as.cli.impl.CommandExecutor$2.lambda$build$0(CommandExecutor.java:685)
	at org.jboss.as.cli.impl.CommandExecutor$2$$Lambda$79.00000000200064E0.execute(Unknown Source)
	at org.jboss.as.cli.impl.CommandExecutor.lambda$execute$0(CommandExecutor.java:708)
	at org.jboss.as.cli.impl.CommandExecutor$$Lambda$78.00000000AD3CF710.call(Unknown Source)
	at java.util.concurrent.FutureTask.run(FutureTask.java:277)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.lang.Thread.run(Thread.java:811)
{noformat}

*Failure cause*
{noformat}
Caused by: org.jboss.as.cli.CommandLineException: Cannot start embedded server
	at org.jboss.as.cli.embedded.EmbedServerHandler.doHandle(EmbedServerHandler.java:300)
	at org.jboss.as.cli.handlers.CommandHandlerWithHelp.handle(CommandHandlerWithHelp.java:89)
	at org.jboss.as.cli.impl.CommandExecutor$2.lambda$build$0(CommandExecutor.java:685)
	at org.jboss.as.cli.impl.CommandExecutor$2$$Lambda$79.00000000200064E0.execute(Unknown Source)
	at org.jboss.as.cli.impl.CommandExecutor.lambda$execute$0(CommandExecutor.java:708)
	at org.jboss.as.cli.impl.CommandExecutor$$Lambda$78.00000000AD3CF710.call(Unknown Source)
	at java.util.concurrent.FutureTask.run(FutureTask.java:277)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.lang.Thread.run(Thread.java:811)
Caused by: java.lang.ClassCastException: org.jboss.as.controller.client.helpers.DelegatingModelControllerClient incompatible with org.jboss.as.controller.client.ModelControllerClient
	at org.wildfly.core.embedded.EmbeddedManagedProcessImpl.getModelControllerClient(EmbeddedManagedProcessImpl.java:72)
	at org.jboss.as.cli.embedded.EmbedServerHandler.doHandle(EmbedServerHandler.java:244)
	... 9 more

{noformat}

*Environment*
{noformat}
$ mvn -version
Apache Maven 3.5.3 (3383c37e1f9e9b3bc3df5050c29c8aff9f295297; 2018-02-24T19:49:05Z)
Maven home: /qa/tools/opt/maven3-latest
Java version: 1.8.0_171, vendor: IBM Corporation
Java home: /qa/tools/opt/x86_64/ibm-java-x86_64-sdk-8.0-5.15/jre
Default locale: en_US, platform encoding: UTF-8
OS name: ""linux"", version: ""3.10.0-862.el7.x86_64"", arch: ""amd64"", family: ""unix""
---
$ java -version
java version ""1.8.0_171""
Java(TM) SE Runtime Environment (build 8.0.5.15 - pxa6480sr5fp15-20180502_01(SR5 FP15))
IBM J9 VM (build 2.9, JRE 1.8.0 Linux amd64-64 Compressed References 20180425_385365 (JIT enabled, AOT enabled)
OpenJ9   - a7ffbfe
OMR      - a531219
IBM      - 59ef3dc)
JCL - 20180425_01 based on Oracle jdk8u171-b11
{noformat}",,,,,,,,,,,,,WFLY-11124,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-05 04:53:16.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|hzye47:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Oct/18 4:53 AM;rsvoboda;[~ropalka], [~jmesnil] [~ehugonnet] could you please look into this ?

Fixing this will help to look https://ci.wildfly.org/viewType.html?buildTypeId=WF_MasterLinuxIbmJdk better.
There are 40 failures because of this.","05/Oct/18 4:55 AM;rsvoboda;Maybe also [~jdenise] as DelegatingModelControllerClient is cli related","05/Oct/18 12:35 PM;jamezp;The issue seems to be with OpenJDK the {{DelegatingModelControllerClient}} is found on the flat class path where as with the IBM JDK it's found on a {{ModuleClassLoader}} and the {{ModelControllerClient}} interface is found on the flat class path. Note this seems to be a test issue only. I can launch the embedded server with the CLI client JAR and the J9 JVM from the command line. A fix for this will likely be within the test suite itself.","05/Oct/18 5:56 PM;jamezp;This seems to be coming from a combination of JBoss Logging trying to find the logging provider and {{org.jboss.logmanager:log4j-jboss-logmanager}} using JBoss Modules to figure out the start time. Since the CLI {{CommandContext}} creates a logger JBM is initialized before the embedded API initializes JBM meaning the system packages property setting is ignored for the emebedded API. The best solution will be to ensure that {{org.jboss.logmanager:log4j-jboss-logmanager}} does not make it on the class path.

Anyone adding {{org.jboss.logmanager:log4j-jboss-logmanager}} to the class would really have to know that they're doing. If they add that dependency they need to be using the jboss-logmanager which would cause the {{java.util.logging.manager}} system property to be set. This would cause jboss-logging to bind to the jboss-logmanager delaying the access of JBoss Modules until the embedded API initializes it.","12/Oct/18 2:48 PM;jamezp;This was fixed by WFLY-11124","15/Oct/18 2:47 AM;pkremens;Fix verified on IBM 8.0.5.22 - pxa6480sr5fp22-20180919_01(SR5 FP22).
Thanks [~jamezp] for looking into this!","17/Oct/18 6:04 AM;pkremens;[~jamezp] I see your point. I asked Peter and Martin about this, I'd create a JBEAP in case they decide to backport this, no action is needed from you otherwise. Thanks.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,
Implement MP Fault Tolerance,WFLY-12209,12813005,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,rhusar,tstadler,tstadler,12/Jun/19 4:40 PM,02/Nov/19 4:33 PM,15/Jan/20 1:31 PM,02/Nov/19 4:33 PM,,,,,,,,,,,,,,,,0,,,,,,,"Please integrate MicroProfile Fault tolerance.

Details about MP Fault Tolerance:
https://github.com/eclipse/microprofile-fault-tolerance/releases/tag/2.0

Maybe it is possible to use SmallRye implementation:
https://github.com/smallrye/smallrye-fault-tolerance/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-11-02 16:33:36.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06gac:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Nov/19 4:33 PM;rhusar;Let me close this as a duplicate of WFLY-12590. ",,,,,,,,,,,,,,,,,,,,,,,,,,
The wildfly-testsuite-shared module brings in all WildFly dependencies,WFLY-11124,12773150,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jamezp,jamezp,jamezp,05/Oct/18 1:43 PM,01/Nov/19 4:54 AM,15/Jan/20 1:31 PM,12/Oct/18 2:40 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Test Suite,,,,,,,0,,,,,,,"The {{org.wildfly:wildfly-testsuite-shared}} has a dependency all the main 3 Galleon feature-packs.
{code:xml}
<dependency>
    <groupId>${project.groupId}</groupId>
    <artifactId>wildfly-galleon-pack</artifactId>
    <type>pom</type>
</dependency>
<dependency>
    <groupId>${project.groupId}</groupId>
    <artifactId>wildfly-servlet-galleon-pack</artifactId>
    <type>pom</type>
</dependency>
<dependency>
    <groupId>org.wildfly.core</groupId>
    <artifactId>wildfly-core-galleon-pack</artifactId>
    <type>pom</type>
</dependency>
{code}

This means that all tests that which use the shared module, likely all of them, end up with the entirety of WildFly on the test class path. In most cases this is not an issue. However an issue was uncovered with the IBM JDK in WFLY-10529. The tests should definitely not have a transitive dependency on things like that or for example the {{org.wildfly.core:wildfly-controller}}. If dependencies like those are needed they should be explicitly defined as those are not public API's.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10529,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:25.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/11733,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00bao:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,
Clustering: scattered cache sampling errors,WFLY-12669,12833280,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Explained,pferraro,tommaso-borgato,tommaso-borgato,14/Oct/19 12:12 PM,29/Oct/19 6:00 AM,15/Jan/20 1:31 PM,22/Oct/19 8:43 AM,18.0.0.Final,,,,,,,,Clustering,,,,,,,0,,,,,,,"The issue is about scattered cache replication across cluster nodes;
WildFly is started in clustered mode using a scattered cache for replicating HTTP session data across cluster nodes; all 4 nodes in the cluster are initialized with the following {{cli}} script:

{noformat}
embed-server --server-config=standalone-ha.xml
/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=tcp)
/subsystem=infinispan/cache-container=web/scattered-cache=testScattered:add()
/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache, value=testScattered)
{noformat}


The test is run with [wildfly-18.​0.0.Final.zip|https://download.jboss.org/wildfly/18.0.0.Final/wildfly-18.0.0.Final.zip]; 
The same tests run with version [wildfly-17.​0.1.Final.zip|https://download.jboss.org/wildfly/17.0.1.Final/wildfly-17.0.1.Final.zip] do not have any problem; 
hence this looks like a regression;

As usual, we test that the serial value stored in the scattered cache is incremented at every call: when this is not true, we say we have a *sampling error*;

Using MOD_JK as load balancer, we have a *22.46%* of *sampling errors* with wildfly-18.​0.0.Final.zip (0% with  wildfly-17.​0.1.Final.zip):

- OK [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-17.​0.1.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/34/artifact/report/jm/html/index.html]
- ERROR [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-18.​0.0.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/33/artifact/report/jm/html/index.html]

Using HAPROXY as load balancer, we have a *1.71%* of *sampling errors* with wildfly-18.​0.0.Final.zip (0% with  wildfly-17.​0.1.Final.zip):

- OK [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-17.​0.1.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/36/artifact/report/jm/html/index.html]
- ERROR [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-18.​0.0.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/38/artifact/report/jm/html/index.html]

Using MOD_CLUSTER as load balancer, we have a *1.85%* of *sampling errors* with wildfly-18.​0.0.Final.zip (0% with  wildfly-17.​0.1.Final.zip):

- OK [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-17.​0.1.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/42/artifact/report/jm/html/index.html]
- ERROR [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-18.​0.0.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/41/artifact/report/jm/html/index.html]

On the server we deploy, as usual, {{clusterbench}} (see attachment clusterbench-ee8.ear).



",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/19 12:10 PM;tommaso-borgato;clusterbench-ee8.ear;https://issues.redhat.com/secure/attachment/12456506/clusterbench-ee8.ear",,,,,,,,,,,,,,,,,,,2019-10-22 08:41:32.0,,,,,,,,,,,,,,,,,,,,,,,,,1.0,3.0,,,,,,,,,,"1|z09m50:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Oct/19 8:41 AM;pferraro;The behavior difference is a result of changes to the behavior of HttpSession.setAttribute(...) for SESSION granularity:
https://github.com/wildfly/wildfly/blob/17.0.x/clustering/web/cache/src/main/java/org/wildfly/clustering/web/cache/session/coarse/CoarseSessionAttributes.java#L68
https://github.com/wildfly/wildfly/blob/18.0.x/clustering/web/cache/src/main/java/org/wildfly/clustering/web/cache/session/coarse/CoarseSessionAttributes.java#L72

WF17 performs a cache write of all session attributes every call to setAttribute(...) whereas WF18 only performs the cache write at the end of the request.  A request received by another node the arrives before the node completes this write will be dirty, since the cache is non-tx.  However, in practice, non-tx caches are more appropriately used with ATTRIBUTE granularity.  SESSION granularity with a non-tx cache is not a common use case.","22/Oct/19 8:43 AM;pferraro;It's also worth mentioning that something is definitely amiss with the mod_jk configuration used by these tests.  I suspect that the response code handling is not correct or the retry configuration is not consistent with that of the other load balancers.","28/Oct/19 2:08 PM;tommaso-borgato;[~pferraro] Thank you, after switching to a transactional cache the fail rate got back to zero: [eap-7.x-clustering-http-session-shutdown-scattered/47|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/47]",,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JSF based on Mojarra 2.3.9.SP03,WFLY-11960,12801501,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,ivassile,ivassile,08/Apr/19 11:32 PM,28/Oct/19 3:04 PM,15/Jan/20 1:31 PM,04/Sep/19 7:42 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,JSF,,,,,,,1,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-11683,,,,,,,,,,,,,,,,,,,WFLY-6918,WFLY-11864,WFLY-12335,WFLY-12312,WFLY-12295,WFLY-12336,,,,,,,,,,,,,,,,,,,,,2019-07-04 02:36:38.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12564,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z04n84:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"16/Aug/19 8:22 AM;stevendegroote;Not sure where else this should go, but given the bugs resolved in here have prevented us from upgrading since WildFly11, could you shed a light on when this could be expected to go public?

I mean, in which Wildfly version? A patch for 17 or immediately 18? And when would that be?","16/Aug/19 2:11 PM;brian.stansberry;[~stevendegroote] I'm not sure when this upgrade will happen, but in any case there are no plans for further 17.x releases.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Upgrade BOMs and QS due to spec artifacts which groupId/artifactId changed  ,WFLY-12490,12826338,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,emmartins,emmartins,emmartins,04/Sep/19 2:57 PM,24/Oct/19 3:29 AM,15/Jan/20 1:31 PM,25/Sep/19 11:25 AM,,,,,,18.0.0.Final,,,BOM,Quickstarts,,,,,,0,,,,,,,The Jakarta related component upgrades which changed groupId and/or artifactId of spec artifacts should be propagated to BOMs and Quickstarts projects.,,,,,,,,,,,,,WFLY-12442,WFLY-12499,WFLY-12502,WFLY-12501,WFLY-12523,WFLY-12524,,,WFLY-12418,WFLY-12460,,WFLY-12480,WFLY-12418,WFLY-12460,WFLY-12528,WFLY-12540,WFCORE-4648,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-10 02:53:32.0,,,,,,,,,https://github.com/wildfly/boms/pull/69,https://github.com/wildfly/quickstart/pull/358,https://github.com/wildfly/boms/pull/71,https://github.com/wildfly/quickstart/pull/360,https://github.com/wildfly/boms/pull/72,https://github.com/wildfly/boms/pull/73,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08ihw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/Sep/19 2:53 AM;mkopecky;[~emmartins]: AFAICS, this jira also needs to update javaee bom to jakartaee8 bom files  from WFLY-12468 in quickstarts (pom.xml && template/pom.xml), so this jira is blocked by WFLY-12468, right?

Edit: the answer is in WFLY-12468 description:
bq. Reference to renamed BOMs in Quickstarts project should also be updated.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
MBeanServer.isRegistered() fails when the security manager is enabled,WFLY-6700,12630651,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,brian.stansberry,dehort,dehort,10/Jun/16 12:42 PM,23/Oct/19 11:17 PM,15/Jan/20 1:31 PM,28/Sep/16 1:36 PM,10.0.0.Final,,,,,,,,,,,,,,,0,,,,,,,"Calling MBeanServer.isRegistered() in a servlet fails with the following error when the security manager is enabled:

:WFSM000001: Permission check failed (permission ""(""org.jboss.as.controller.access.rbac.RunAsRolePermission"" ""org.jboss.as.controller.access.rbac.RunAsRolePermission.SUPERUSER"")"" in code source ""(vfs:/content/SimpleWar.war/WEB-INF/classes <no signer certificates>)"" of ""null"")


The code looks like the following:

       final MBeanServer server = ManagementFactory.getPlatformMBeanServer();
       final ObjectName mbeanName = new ObjectName(""ima.test:type=imaTest"");
       System.out.println(""*** calling MBeanServer.isRegistered() - ""+server.isRegistered(mbeanName));

The META-INF/jboss-permissions.xml looks like the following:

<?xml version=""1.0"" encoding=""UTF-8""?>
<permissions xmlns=""http://xmlns.jcp.org/xml/ns/javaee"" version=""7"">
  <permission>
    <class-name>javax.management.MBeanServerPermission</class-name>
    <name>createMBeanServer</name>
  </permission>
  <permission>
    <class-name>org.jboss.as.controller.access.rbac.RunAsRolePermission</class-name>
    <name>*</name>
  </permission>
</permissions>
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2016-07-11 10:00:47.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hzhg6n:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Sep/16 1:36 PM;brian.stansberry;RunAsRolePermission does not use *.

If this does not work, please re-open.

{code}
<permission>
<class-name>org.jboss.as.controller.access.rbac.RunAsRolePermission</class-name>
<name>SUPERUSER</name>
</permission>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade PicketLink bindings from 2.5.5.SP12-redhat-00006 to 2.5.5.SP12-redhat-00009-jbossorg-1,WFLY-12568,12828892,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ivassile,istudens,istudens,18/Sep/19 5:07 AM,23/Oct/19 1:25 PM,15/Jan/20 1:31 PM,01/Oct/19 2:31 PM,,,,,,18.0.0.Final,,,Build System,,,,,,,0,downstream_dependency,,,,,,"Branch: https://github.com/jbossas/redhat-picketlink-bindings/tree/2.5.5.SP
",,,,,,,,,,,,,,,,,,,,,,,,WFLY-12442,,,,,,WFLY-12569,WFLY-12484,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:56.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12684,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08x5w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
TCCL is not set to datasource module,WFLY-10798,12763347,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,bmaxwell,bmaxwell,06/Aug/18 9:27 AM,17/Oct/19 9:29 AM,15/Jan/20 1:31 PM,28/Apr/19 11:34 AM,13.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,JCA,,,,,,,0,,,,,,,"TCCL is not set to datasource module

User has a datasource that uses ORB classes and is getting a ClassNotFound.

If a 3rd party JDBC driver implementation is using e. g. CORBA, the class loader is not set and thus the CORBA classes got loaded from the 'org.jboss.as.connector' modules class loader.

So the root cause is the Thread Context ClassLoader (TCCL) is not set to the classloader/module of the datasource driver module. The particular datasource driver is making using of ORB.init which is a JDK class that looks on the TCCL and other places to load the class specified in ORB.init, but JCA when running has not set the TCCL thus the classes cannot be found.

Having the TCCL set to the application is how JEE handles related situations to load application classes, so it would make sense that when JCA is running the datasource that it would have the TCCL set to the module of the datasource or a delegate class loader that sees both the datasource module and any other class loader that JCA might need, JBossWS does something similar.",,,,,,,,,,,,,,,,,,,,,,,,PRODMGT-1805,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-12 12:17:30.0,,,,,,,,,https://github.com/ironjacamar/ironjacamar/pull/680,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|hzzr0v:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"In non-transactional entity manager invocation, add extension to defer entity detach until persistence context is closed",WFLY-3674,12547644,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,smarlow,smarlow,28/Jul/14 12:30 PM,15/Oct/19 1:42 PM,15/Jan/20 1:31 PM,31/Jul/14 6:54 PM,,,,,,9.0.0.Alpha1,,,JPA / Hibernate,,,,,,,0,,,,,,,"For compatibility with earlier JBoss application server versions (5.0/6.0), add an extension that allows the persistence context to last until the referencing persistence context is closed.

For example, in a session method that has no active JTA transaction, entities returned, will not cleared from the persistence context, until the session method completes.  This extension is only introduced to allow compatibility with older application server versions.  ",,,,,,,,,,,,,,,,,,,,,AS7-2781,JBEAP-1715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2014-07-29 22:15:26.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/6547/files,,,,,,,,,,,,,,,,0.0,7.0,,,,,,,,,,"1|hz4urj:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"29/Jul/14 7:40 PM;smarlow;Adding ""jboss.as.jpa.deferdetach"" persistence unit hint that may be set to true to enable WFLY-3674 extension.
{quote}
<property name=""jboss.as.jpa.deferdetach"" value=""true"" />
{quote}","29/Jul/14 10:15 PM;sgilda;Thanks Scott. I'm watching it now.","01/Aug/14 8:03 AM;smarlow;note, description added to [https://docs.jboss.org/author/display/WFLY9/JPA+Reference+Guide#JPAReferenceGuide-Persistenceunitproperties]","30/Oct/15 7:49 AM;sgilda;[~smarlow]: We are tracking migration issues here: https://docs.jboss.org/author/display/WFLY10/How+do+I+migrate+my+application+from+AS7+to+WildFly

Should we update the page with this information, and if so, would you like to do it or should I?

Adding [~anrobert] to this thread since she is managing documentation tasks for the release and this might possibly impact the release notes.","30/Oct/15 9:43 AM;sgilda;[~smarlow]: This fix is only in EAP 7/WildFly 10, correct? Or do you plan to backport it to JBoss EAP 6? If not, the Migration Guide can certainly mention that this work around applies to EAP 5 as well as EAP 6. 

[~deisner] and [~anrobert] would have to determine if it's feasible to add the JPA documention to our tasks for EAP 7. You did a really nice job on it. I'll talk to them about this and get back to you. ","30/Oct/15 9:44 AM;sgilda;Created this doc tracking issue: https://issues.jboss.org/browse/JBEAP-1715","30/Oct/15 9:53 AM;smarlow;The fix is currently in WF9/WF10 and will be in EAP 7.  It has not yet been back ported to EAP 6.  Thanks for the compliment on the JPA container/subsystem/deployer doc! :-)  ",,,,,,,,,,,,,,,,,,,,
 Upgrade jboss-jsf-api_2.3_spec to 3.0.0.Final,WFLY-12509,12826863,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,fjuma,fjuma,06/Sep/19 12:04 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,16/Sep/19 8:35 PM,,,,,,18.0.0.Final,,,JSF,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:27.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12654,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08loc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Missing HttpSessionActivationListener callbacks when using ATTRIBUTE granularity and backing cache is non-transactional,WFLY-12136,12809586,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,pferraro,pferraro,28/May/19 12:09 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,19/Aug/19 4:57 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"When a web session attribute implements HttpSessionActivationListener, @PrePassivate needs to be invoked prior to serialization of the session attribute for replication (and @PostActivate needs to be invoked post-serialization in order to the state of the session attribute).  When using ATTRIBUTE granularity, and the backing cache is not transactional, intra-request calls to setAttribute(...) can trigger serialization of the session attribute, but are missing these callbacks.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:26.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05wfg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Add documentation for enhanced mapping of X509Certificate to the underlying identity,WFLY-12133,12809303,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,27/May/19 5:26 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,11/Jul/19 6:49 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,0,CD17-Deferred,EAP-CD18,Previous_RFE,,,,Presently we support decoding the distinguished name however there are requests to use alternative such as the subject alternative name.,,,,,,,,,,,EAP7-1173,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:26.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12352,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05us4:",9223372036854775807,,0.0,,,,,,,,,,,,okotek,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Add javax.annotations replacement to JAXWS-Client BOM,WFLY-12253,12815844,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,28/Jun/19 5:41 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,28/Jun/19 5:45 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,0,,,,,,,Server uses org.jboss.spec.javax.annotation:jboss-annotations-api_1.3_spec instead.,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12251,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-28 10:57:51.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06ud0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Jun/19 11:02 AM;emmartins;Yep.


","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JGroups to 4.1.1.Final,WFLY-11890,12798466,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,rhusar,rhusar,21/Mar/19 10:09 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,13/Jun/19 4:19 AM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"https://issues.jboss.org/projects/JGRP/versions/12341388
https://issues.jboss.org/projects/JGRP/versions/12341389",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JGRP-2333,JGRP-2352,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:26.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z045p8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Tweak basic integration tests for OCSP to be able to run them in product branches,WFLY-12579,12829343,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,20/Sep/19 3:15 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,23/Sep/19 2:24 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Test Suite,,,,,,,0,,,,,,,"The following tests assert values checking the WildFly home web page: CertificateRevocationListTestCase,OcspResponderDownTestCase,OcspTestCase

The title of the console home web page in WildFly contains the string ""Welcome to WildFly"", however, the title is different in our product branches.

The task here is to remove the ""WildFly"" name so we can run the tests without issues in WildFly as well as in our product branches.",,,,,,,,,,,,,,,,,,,,,,,,WFLY-12332,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:26.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12665,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08zr0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Create a test feature-pack for use in testing common layer combinations,WFLY-12507,12826848,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,06/Sep/19 10:16 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,15/Sep/19 12:42 AM,,,,,,18.0.0.Final,,,Build System,Test Suite,,,,,,0,,,,,,,"In our OpenShift images we intend to provide a number Galleon layers tailored toward handling common use cases. WFLY-12394 is about testing those use cases in the main WF testsuite. To help make that testing more robust, add a testsuite/test-feature-pack module that produces layers analogous to what will be in the images, and test those in testsuite/layers.  And then the WFLY-12394 work can use those too, as opposed to using hand coded equivalents in each testsuite module.",,,,,,,,,,,,,,,,,,,,,WFLY-12604,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ll0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
In case of registering synchronization via TransactionSynchronizationRegistry for no active transaction context a NPE is thrown,WFLY-12180,12812143,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ochaloup,ochaloup,ochaloup,10/Jun/19 7:50 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,13/Jun/19 4:33 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,0,,,,,,,Currently when there is a try to register a {{Synchronization}} at place of no active transaction exists then {{NullPointerException}} is thrown. The {{TransactionSynchronizationRegistry.registerInterposedSynchronization(Synchronization sync)}} should throw {{IllegalStateException}} instead (as defined in API of https://javaee.github.io/javaee-spec/javadocs/javax/transaction/TransactionSynchronizationRegistry.html).,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:25.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12356,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06b84:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Narayana to 5.9.6.Final,WFLY-12341,12820880,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,mstefank,mstefank,31/Jul/19 3:45 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,08/Aug/19 2:23 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-11917,,,,,,,,,,,,,,,,,,,JBTM-3166,JBTM-3165,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:25.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12479,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ng4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Deploy to openshift command cannot be copied from the readme because of redundant characters,WFLY-12260,12816002,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,emmartins,emmartins,emmartins,30/Jun/19 5:38 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,30/Jun/19 5:46 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Quickstarts,,,,,,,0,,,,,,,"The {{Deploy the JBoss EAP Source-to-Image (S2I) Quickstart to OpenShift}} section of readme for CD QS contains this command:
{code}
oc new-app --template=eap-cd-basic-s2i \(1)
 -p IMAGE_STREAM_NAMESPACE=""helloworld-project"" \(2)
 -p SOURCE_REPOSITORY_URL=""https://github.com/jboss-developer/jboss-eap-quickstarts"" \(3)
 -p SOURCE_REPOSITORY_REF=""openshift"" \(4)
 -p CONTEXT_DIR=""helloworld""(5)
{code}

It cannot be copied and pasted in a single step because of the references at the end of each line - (1)..(5). It would be nice if the command didn't contain the redundant characters. 

For example, the notes below the command could be updated in following way without the need for the references (1)...(5) in the command itself:
{code}
--template - The template to use.
-p IMAGE_STREAM_NAMESPACE - The latest images streams and templates were imported into the project's namespace, so you must specify the namespace of where to find the image stream. This is usually the OpenShift project's name.
-p SOURCE_REPOSITORY_URL - URL to the repository containing the application source code.
-p SOURCE_REPOSITORY_REF - The Git repository reference to use for the source code. This can be a Git branch or tag reference.
-p CONTEXT_DIR - The directory within the source repository to build.
{code}",,,,,,,,,,,JBEAP-16941,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:25.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06vb0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Add metric type flags on messaging subsytem metrics,WFLY-12252,12815842,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ehugonnet,ehugonnet,ehugonnet,28/Jun/19 5:39 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,31/Jul/19 2:59 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,0,,,,,,,The metrics in the messaging subsystem don't provide the type of metric flag.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:25.0,,,,,,,Low,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06uck:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Add CredentialStore documentation,WFLY-11101,12772416,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,02/Oct/18 7:09 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,24/Jul/19 1:36 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Documentation,Security,,,,,,0,,,,,,,"The CredentialStore is a significant component within WildFly Elytron, however it is not really covered in the documentation.

We have a couple of different approaches to creating the store, we then have referencing the store.  Finally we have custom implementations.

New features are also being developed so really we need a source of documentation to add descriptions of the new features to.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-20 17:36:58.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12414,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00700:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"20/Jun/19 5:36 PM;fjuma;[~dlofthouse] Just FYI, in case you haven't seen it, just came across some documentation on credential stores in the product docs that could be a good starting point:

https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html/how_to_configure_server_security/securely_storing_credentials#credential_store","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Downgrade MicroProfile Health to 2.0.1,WFLY-12628,12831543,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,jmesnil,jmesnil,02/Oct/19 10:51 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,02/Oct/19 6:00 PM,,,,,,18.0.0.Final,,,MP Health,,,,,,,0,,,,,,,"MP Health was upgraded to 2.1 in WFLY-12555 at the same time that smallrye-health was upgrade to 2.0.0 in WFLY-12554

That was a mistake as smallrye-health is depending on MP Health 2.0.1.

There is no harm on staying on MP Health 2.1 as the API changes are internal to the API and do not require any implementation from the provider:

 https://github.com/eclipse/microprofile-health/compare/2.0.1...2.1

However, if we decide to keep WildFly 18 under the same MP Umbrella release (3.0) at the moment, it might be better to downgrade to 2.0.1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:25.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z09cic:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Use LegacyKernelServicesInitializer to exclude problematic resources from UndertowTransformersTestCase,WFLY-11759,12793693,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,flavia.rainone,flavia.rainone,flavia.rainone,21/Feb/19 1:17 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,18/Jun/19 8:37 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Web (Undertow),,,,,,,0,,,,,,,"Revert this workaround using the exclusion feature added by WFCORE-4346:
https://github.com/wildfly/wildfly/pull/12098",,,,,,,,,UNDERTOW-1495,,,,WFCORE-4346,,,,,,,,WFLY-12201,,,WFCORE-4341,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-21 13:29:58.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12367,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z03ftw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Feb/19 1:22 PM;flavia.rainone;The failure started happening with Undertow 2.0.18.Final upgrade (WFCORE-4341) and is caused by the new RemoteObfuscatedIPAttribute that was added by UNDERTOW-1495","21/Feb/19 1:29 PM;brian.stansberry;[~flavia.rainone] FYI -- the change in the last commit at https://github.com/bstansberry/wildfly/commits/avoid-sce-2 is what I was using to test the WFCORE-4346 change.

Edit: now it does. Before I hadn't committed the change to the branch before pushing!","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
DatabaseTimerPersistence does not detect mssql driver type,WFLY-12280,12817596,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,filippe.spolti,dward,dward,10/Jul/19 1:07 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,13/Aug/19 3:42 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,,,,,,,"The DatabaseTimerPersistence class' identifyDialect method [1] only recognizes the ""microsoft"" driver when it should also recognize the ""mssql"" driver, similar to how the code checks for both ""hsql"" and ""hypersonic"".

The result of this is that instead of the ""create-table.mysql"" property being loaded from timer-sql.properties [2], the default ""create-table"" property is used.

The repercussion of _that_ is that the TIMESTAMP column type is used instead of the DATETIME2 column type when creating the table, which results in the error ""WFLYEJB0163: Cannot create table for timer persistence: com.microsoft.sqlserver.jdbc.SQLServerException: A table can only have one timestamp column. Because table 'JBOSS_EJB_TIMER' already has one, the column 'NEXT_DATE' cannot be added."" Similar reports can be found all over the internet, for example, here: [3]

We ran into this problem when trying to fix RHPAM-2002. Please read the comments from this point forward: [4]

I _think_ the fix would be as simple as changing this line:
{code:java}
}else if (name.toLowerCase().contains(""microsoft"")) {
{code}
to this:
{code:java}
}else if (name.toLowerCase().contains(""mssql"") || name.toLowerCase().contains(""microsoft"")) {
{code}

[1] https://github.com/wildfly/wildfly/blob/master/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/persistence/database/DatabaseTimerPersistence.java#L256

[2] https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/ejb3/main/timers/timer-sql.properties#L9

[3] https://stackoverflow.com/questions/12063850/multiple-timestamp-columns-in-sql-server-2000/12063938

[4] https://issues.jboss.org/browse/RHPAM-2002?focusedCommentId=13757468&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-13757468",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:24.0,,,,,,,Low,,https://github.com/wildfly/wildfly/pull/12494,https://github.com/wildfly/wildfly/pull/12495,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z074hg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"Restore LastNodeToLeaveRemoteEJBTestCase, disabled for JDK 11 runs if necessary",WFLY-12212,12814428,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,brian.stansberry,brian.stansberry,19/Jun/19 5:04 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,27/Jun/19 4:51 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,EJB,,,,,,0,,,,,,,"The WLFY-11682 work[1] originally included a test, but that test was removed before the PR was merged. AIUI the test was removed because it could not work on JDK 11 due to byteman/arquillian issues.[2] The test did seem to work on JDK 8.

Having the test removed means this functionality isn't guarded against regression. So this issue is to track getting it restored. If it can be disabled on JDK 11 runs pending the arquillian/byteman issue being resolved, that's ok.

[1] https://github.com/wildfly/wildfly/pull/12133
[2] https://github.com/arquillian/arquillian-extension-byteman/issues/25",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12389,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06mr8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Jun/19 5:11 PM;brian.stansberry;I see the originally work did include some work to adapt execution to JDK 11.  In case these wasn't already considered, there's a separate surefire execution for this test, which perhaps could be in a separate profile only enabled for JDK 8.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
CDI Producer for health check are not supported,WFLY-12557,12828351,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jmesnil,jmesnil,jmesnil,13/Sep/19 12:53 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,17/Sep/19 9:08 PM,,,,,,18.0.0.Final,,,MP Health,,,,,,,0,,,,,,,MP Metrics added test for CDI producer in https://github.com/eclipse/microprofile-health/commit/1e8c869c802f78a82e0d45fe76887556a56a05ff that fails with WildFly (when smallrye-health 2.1.5 and microprofile-health 2.1 are integrated),,,,,,,,,,,,,,,,,,,,,WFLY-12555,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:24.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ufg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Yasson from 1.0.3 to 1.0.5,WFLY-12578,12829297,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,19/Sep/19 3:06 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,19/Sep/19 8:15 PM,,,,,,18.0.0.Final,,,EE,,,,,,,0,,,,,,,Yasson is the Jakarta EE JSON-B implementation and should be upgraded from 1.0.3 to 1.0.5 which is the latest release.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:24.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12663,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08zh8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Document purpose of each clustering module.,WFLY-12506,12826821,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,06/Sep/19 8:41 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Sep/19 10:11 AM,18.0.0.Beta1,,,,,18.0.0.Final,,,Clustering,,,,,,,0,,,,,,,"There are currently a large number of clustering modules within the wildfly code base.  I've had to field a number of questions about the purpose and intended usage of each one, which is an indication that their function and context is not adequately documented.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:24.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12614,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08lf8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Complete message object visible in ERROR at org.jboss.resource.adapter.jms.inflow.JmsServerSession,WFLY-12415,12824252,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ivassile,ivassile,ivassile,22/Aug/19 4:47 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,08/Sep/19 5:01 PM,17.0.1.Final,,,,,18.0.0.Final,,,JMS,,,,,,,0,,,,,,,"JMS message data is  thrown in server.log for error in org.jboss.resource.adapter.jms.inflow.JmsServerSession, since this can be sensitive data for users, there is no option to hide the data while having the exception. 

09:54:28,428 ERROR [org.jboss.resource.adapter.jms.inflow.JmsServerSession] (default-threads - 38) Unexpected error delivering message TextMessage={ Header={ JMSMessageID={ID: XXXXXXXXXXXXXXXXXX} JMSDestination={Queue[]} JMSReplyTo={null} JMSDeliveryMode={PERSISTENT} JMSRedelivered={false} JMSCorrelationID={null} JMSType={null} JMSTimestamp={Wed Jul 03 09:54:23 GMT 2019} JMSDeliveryTime={Wed Jul 03 09:54:23 GMT 2019} JMSExpiration={0} JMSPriority={4} } Properties={ WHOLE EVENT MESSAGE DISPLAY HERE} }: javax.ejb.EJBTransactionRolledbackException: Problem during method invocation (onMessage)

This exception originates from this line:

https://github.com/jms-ra/generic-jms-ra/blob/master/generic-jms-ra-jar/src/main/java/org/jboss/resource/adapter/jms/inflow/JmsServerSession.java#L168
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:23.0,,,,,,,,,https://github.com/jms-ra/generic-jms-ra/pull/28,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z086h8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-concurrency-api_1.0_spec from 1.0.2.Final to 2.0.0.Final,WFLY-12408,12824146,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,22/Aug/19 6:35 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,11/Sep/19 6:11 PM,,,,,,18.0.0.Final,,,Concurrency Utilities,,,,,,,0,,,,,,,,,,,,,,,,,,,,JBEE-216,JBEE-217,JBEE-215,JBEE-218,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:23.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12540,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z085v8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Sep/19 4:40 AM;emmartins;re-opening for 2.0.0.Final","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 10.0.0.Beta3,WFLY-12359,12821673,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,07/Aug/19 9:13 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,07/Aug/19 4:28 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Management,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:23.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07rxo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Treating all JAX-RS components as CDI Beans has some negative consequences,WFLY-2859,12531039,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ron_sigal,matt.drees,matt.drees,03/Feb/14 11:38 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,04/Sep/19 2:10 PM,16.0.0.Beta1,8.0.0.CR1,,,,18.0.0.Beta1,18.0.0.Final,,CDI / Weld,REST,,,,,,0,,,,,,,"It seems that wildfly is now treating all jax-rs Providers and Resources as CDI Beans.  This is probably fine most of the time, but there are some Provider classes that cause UnproxyableResolutionException (WELD-001437) errors, due to the fact that resteasy-cdi attempts to get bean reference whose type is identical to the bean class.

See the forum link for a specific instance of this.",,,,,,,,,,,,,,,,,,,,,WFLY-11680,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2014-02-24 00:59:25.0,,,,,,,,https://community.jboss.org/thread/236718,,,,,,,,,,,,,,,,,0.0,25.0,,,,,,,,,,"1|hyycan:",189035,,0.0,,,,,,,,,,,,,,,,"03/Feb/14 11:40 AM;matt.drees;Note: In my case, setting [require-bean-descriptor=""true""|https://docs.jboss.org/author/display/WFLY8/CDI+Reference#CDIReference-Suppressingimplicitbeanarchives] worked around the problem.","14/Feb/14 11:45 AM;matt.drees;I can understand why this didn't make it into 8.0.0.Final.  Is there anything I can do to help get a fix into 8.0.1?","14/Feb/14 11:52 AM;matt.drees;I wanted to mention another solution, but it'd require resteasy spi changes:

The ConstructorInjector/InjectorFactory interfaces are only given the implementation class to ""instantiate"". They are not given the type of interface the instantiated object will be referenced as (in my case, {{MessageBodyWriter}}).  If they were, CdiConstructor could pass the interface into the beanManager.getReference() call, and avoid the UnproxyableResolutionException. (I believe this could also help with EJB lookups).","24/Feb/14 12:59 AM;swd847;[~jharting] what do you think about modifying the Resteasy CDI integration to not make beans request scoped any more, and instead just create an instance directly and destroy it at the end of the request using a listener (or using some other hook in Resteasy)? 

As it is this also causes some performance problems, Resteasy with CDI is noticeably slower.","24/Feb/14 4:09 AM;jharting;Yes, this should not be a problem. We'll probably have to move the resteasy-cdi module over to WF to do that but I wanted to do the move before anyway.","19/Mar/14 7:37 PM;swd847;[~jharting] Does this look ok to you: https://github.com/stuartwdouglas/Resteasy/compare/WFLY-2859","27/Aug/14 6:26 PM;ron_sigal;Any progress on this?","27/Aug/14 6:36 PM;swd847;AFAIK my proposed patch is ok, but I have not had time to do any sort of extensive testing (i.e. run the WF test suite with a patched resteasy)","27/Aug/14 6:47 PM;ron_sigal;Thanks, Stuart. I'm just looking for things to close.","10/Dec/15 7:01 AM;mkouba;For the record - Stuart's pull request was first merged and then reverted , see also https://github.com/resteasy/Resteasy/pull/584","10/Jun/16 9:07 PM;matt.drees;Hey [~swd847] I'm bumping into this again. (After initially trying to port my app from jboss 7.1 to wildfly 8 a few years ago and failing, I'm now trying again to port it, but to wildfly 10 now).

I'm sad that your change was backed out. So I'm wondering about other ways to fix this.

Would it be reasonable to change Resteasy such that, instead of always adding the Application scope annotation to the provider's AnnotatedType, it chose either Dependent or Application, depending on whether the class was proxyable?

If so I'd be happy to contribute that.","25/Feb/19 4:52 AM;mkopecky;This issue is still valid in WF16, see the details in  RESTEASY-1015","31/May/19 12:40 PM;jamezp;[~mkopecky] this seems like it might be resolved in WildFly 17.0.0.Beta1 as it's upgraded to RESTEasy 3.7.0.Final. Can you please confirm?","07/Jun/19 8:37 AM;mkopecky;[~jamezp]: This is the dev question (devs know the details about RESTEASY-1015 best), probably for [~ron_sigal] (cc [~asoldano]). [~ron_sigal], WDYT?","31/Jul/19 6:05 PM;ron_sigal;Update: there has been additional discussion about this issue on RESTEASY-1015, and it should be fixed in RESTEASY-2315.","16/Aug/19 7:02 PM;ron_sigal;[~matt.drees], we should be able to close this, right?","20/Aug/19 4:32 PM;matt.drees;I think so, yes!","21/Aug/19 3:53 PM;matt.drees;[~jamezp] I think ""Out of Date"" isn't very accurate. The problem was fixed in resteasy, but only a few days ago.","21/Aug/19 5:15 PM;jamezp;[~matt.drees] sorry that's my bad. I missed the part II JIRA. I'll reopen this as it seems like it shouldn't be resolved until RESTEasy is upgraded.","21/Aug/19 5:17 PM;matt.drees;Ah, that makes sense. Yeah, a RESTEasy upgraded is indeed required.
The fix should be in 3.9, whenever it is released. (probably as 3.9.0.Final)","03/Sep/19 5:27 PM;ron_sigal;RESTEasy is upgraded to 3.9.0.Final now.","04/Sep/19 12:41 PM;jamezp;[~ron_sigal] Does that mean this should be resolved?","04/Sep/19 1:16 PM;ron_sigal;[~jamezp], I believe that https://issues.jboss.org/browse/RESTEASY-2315 solves the remaining issue, and it's incorporated into RESTEasy 3.9.0.Final. So, I'm going to say ""yes"".

-Ron","06/Sep/19 6:09 PM;matt.drees;I verified my app finally boots just fine on wildfly 18.0.0.Beta1 without my previous workaround.

Thanks Ronald, James, R, Marek and everyone else who has worked on this!","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,
Upgrade jboss-jaxrpc-api_1.1_spec from 1.0.2.Final to 2.0.0.Final,WFLY-12443,12824971,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jim.ma,jim.ma,jim.ma,28/Aug/19 6:16 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Sep/19 4:43 PM,,,,,,18.0.0.Final,,,Web Services,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:22.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12550,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ah0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Migrate javax.json to jakarta.json,WFLY-12501,12826615,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,jamezp,jamezp,05/Sep/19 4:10 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,10/Sep/19 9:30 PM,,,,,,18.0.0.Final,,,EE,,,,,,,0,,,,,,,"This will be a two commit, three step process since the {{javax.json.api}} module is in WildFly Core.
# Create the {{javax.json.api}} and {{org.glassfish.javax.json}} modules in full. This is the first commit
# Change the {{javax.json:javax.json-api}} and {{org.glassfish:javax.json}} dependencies in other modules to {{jakarta.json:jakarta.json-api}} and {{org.glassfish:jakarta.json}} respectively. This is the second commit.
# Once core, WFCORE-4648, is merged into WildFly revert the first commit.",,,,,,,,,,,WFCORE-4648,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:22.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12603,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08k64:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
JPA (Hibernate) second level cache (additional) testing requirements,WFLY-12310,12819160,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tommaso-borgato,tommaso-borgato,tommaso-borgato,22/Jul/19 9:50 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,08/Aug/19 2:24 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,JPA / Hibernate,,,,,,,0,EAP-CD18,,,,,,"This jira is a placeholder for collecting requirements for (additional) JPA second level cache testing.  I asked [~stephen.fikes] for his input here, as he has helped many customers with various 2lc issues.  

Others are welcome to add ideas here as well, as to what additional 2lc testing we should do in the WF or external QE testsuite.

Current 2lc tests in WildFly (external QE testsuite has zero 2lc tests):
# Clustered test [https://github.com/wildfly/wildfly/blob/master/testsuite/integration/clustering/src/test/java/org/jboss/as/test/clustering/cluster/jpa2lc/ClusteredJPA2LCTestCase.java]
# Clustered extended persistence context failover test [https://github.com/wildfly/wildfly/blob/master/testsuite/integration/clustering/src/test/java/org/jboss/as/test/clustering/cluster/ejb/xpc/StatefulWithXPCFailoverTestCase.java]
#  non-JPA testing [https://github.com/wildfly/wildfly/tree/master/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/hibernate]
# JPA testing [https://github.com/wildfly/wildfly/tree/master/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/jpa/secondlevelcache]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:22.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12444,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07dcc:",9223372036854775807,,0.0,,,,,,,,,,,,tommaso-borgato,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Need to include the schedule expression value in the toString() output of a calendar-based timer,WFLY-12309,12819056,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,20/Jul/19 9:12 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,23/Jul/19 2:41 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,,,,,,,"Currently the toString() output of a calendar-based timer contains the same info as that of a non-calendar-based timer.  Need to enhance it to include schedule expression details to aid debug and monitoring.

The current output of a sample calendar-based timer:
{code}
timer [ID=FD3752D5-3D58-48AC-8E22-75A54BBF0C65 TIMEDOBJECTID=xxx AUTO-TIMER?:FALSE PERSISTENT?:FALSE TIMERSERVICE=ORG.JBOSS.AS.EJB3.TIMERSERVICE.TIMERSERVICEIMPL@49E567E4 INITIALEXPIRATION=NULL INTERVALDURATION(IN MILLI SEC)=0 NEXTEXPIRATION=NULL TIMERSTATE=ACTIVE INFO=TIMERINFO]
{code}

The desired output for a sample calendar-based timer:
{code}
timer: [id=07a989cf-e7d7-4dbc-ad66-75c54ad0d9fd timedObjectId=xxx auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@204ac9fc initialExpiration=null intervalDuration(in milli sec)=0 nextExpiration=Sun Jul 21 09:06:21 CST 2019 timerState=ACTIVE info=null] ScheduleExpression[second=21 minute=6 hour=9 dayOfWeek=* dayOfMonth=21 month=7 year=2019 start=null end=null timezone=null]
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:22.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07cr8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
EE concurrency resources should use capability wiring,WFLY-11841,12797061,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,brian.stansberry,brian.stansberry,12/Mar/19 11:03 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Jul/19 11:18 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Concurrency Utilities,,,,,,,0,,,,,,,"This kind of thing is a bug:

https://github.com/wildfly/wildfly/blob/master/ee/src/main/java/org/jboss/as/ee/subsystem/ManagedScheduledExecutorServiceAdd.java#L58

The subsystem exposes a capability so consumers of its services should use the capabilities API to handle requiring it and accessing its services.

There's probably missing capability wiring within the concurrency resources as well; e.g. for dependency by executors on thread factories.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-10 04:41:24.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12426,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03xho:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Jul/19 3:19 AM;emmartins;??There's probably missing capability wiring within the concurrency resources as well; e.g. for dependency by executors on thread factories.??

EE Concurrency uses its own thread factories.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-transaction-api_1.3_spec to 2.0.0.Final,WFLY-12521,12827274,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,09/Sep/19 10:43 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,11/Sep/19 6:11 PM,,,,,,18.0.0.Final,,,Transactions,,,,,,,0,,,,,,,Contents are https://github.com/jboss/jboss-jakarta-jta-api/pull/4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:22.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08o50:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Exclude log4j and jcl-over-slf4j manually from JAXWS-Client BOM,WFLY-12320,12819663,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,24/Jul/19 4:00 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,25/Jul/19 3:48 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,BOM,,,,,,,0,,,,,,,"The referred artifacts are not productized yet managed at server's dep management, and thus need to be manually excluded from the JAXWS Client BOM.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:21.0,,,,,,,,,https://github.com/wildfly/boms/pull/63,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07g7o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Jakarta EE 8 Certification for WildFly,WFLY-12297,12818600,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,smarlow,brian.stansberry,brian.stansberry,17/Jul/19 10:46 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,09/Oct/19 11:01 PM,,,,,,18.0.0.Final,,,Server,,,,,,,0,,,,,,,Certify WildFly 18 as Jakarta EE 8 compatible. Publish the certification results on https://github.com/wildfly/certifications,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-17 13:32:16.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z07a4k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Oct/19 11:01 PM;brian.stansberry;[~smarlow] I'm resolving this as AFAIK it's done. :)","10/Oct/19 11:41 AM;smarlow;Thanks Brian, I think it is fine to resolve now, as it looks like we will be approved as per [https://github.com/eclipse-ee4j/jakartaee-platform/issues/121] + [https://github.com/eclipse-ee4j/jakartaee-platform/issues/120]","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Monitor resource adapter thread pools ,WFLY-12243,12815658,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,27/Jun/19 4:55 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,23/Aug/19 9:46 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,0,,,,,,,"Please add facility to monitor the utilization of resource adapter thread pools.
The two pools in question are :
* activemq.artemis.client.global.thread.pool.max.size
* activemq.artemis.client.global.scheduled.thread.pool.core.size

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-17 17:36:34.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06tbo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Jul/19 5:36 PM;brian.stansberry;""Rejecting"" the PR JIRA found as it's the analysis doc, not the fix, so this issues is not in PR sent state.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Add documentation for masked passwords in client XML config,WFLY-12241,12815409,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,aabdelsa,aabdelsa,aabdelsa,25/Jun/19 12:36 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,24/Jul/19 1:37 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,"We need a way to support masked passwords in the auth configuration file, either as:

* A dedicated masked-password-type XML type
* Adding necessary fields to hashed-password-type
* Adding a modular crypt format

Needs to be supported anywhere passwords are allowed.",,,,,,,,,,,ELY-816,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:21.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12387,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06rvw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade RESTEasy to 3.8.1.Final,WFLY-12207,12814136,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,18/Jun/19 9:26 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,15/Jul/19 10:59 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11737,WFLY-12138,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:21.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06l1g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Move jboss-j2eemgmt-api_1.1_spec from 1.0.2.Final to 2.0.0.CR1,WFLY-12435,12824888,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,27/Aug/19 4:38 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,31/Aug/19 10:17 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12541,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z089zo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Narayana to 5.9.8.Final,WFLY-12471,12825637,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,02/Sep/19 4:50 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,03/Sep/19 10:49 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,0,,,,,,,https://issues.jboss.org/projects/JBTM/versions/12342709,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:20.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12576,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08edw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Fix org.wildfly.clustering.service.ServiceSupplier usage,WFLY-12380,12823194,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,15/Aug/19 12:18 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,19/Aug/19 4:57 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"When PassiveServiceSupplier is used to obtain the value of a service for use by metrics, it is generally safe to construct it using OperationContext.getServiceRegistry(false), as it does not affect the MSC state of the target service.

ActiveServiceSupplier, on the other hand, must always be constructed with OperationContext.getServiceRegistry(true).  It is meant to obtain the value of an ACTIVEly installed service, thus its get() should never return null.  I'd like to convert as many uses of ActiveServiceSupplier to PassiveServiceSupplier as possible.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:20.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z080ac:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate ORM from 5.3.10 to 5.3.11,WFLY-12233,12815033,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,mstefank,mstefank,24/Jun/19 8:41 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,02/Oct/19 6:31 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JPA / Hibernate,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12008,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:32:16.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12503,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z06pro:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:32 PM;brian.stansberry;Hi [~smarlow] -- please don't Close issues that are Resolved as Done. It makes the release process harder as we need to do things with them during the release.","02/Oct/19 6:51 PM;smarlow;Sorry about that Brian.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Backup doesn't activate after shared store is reconnected,WFLY-10968,12767807,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,thofman,thofman,thofman,03/Sep/18 6:31 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,27/Sep/19 1:45 PM,14.0.0.Final,,,,,18.0.0.Final,,,JMS,,,,,,,0,downstream_dependency,,,,,,"*Scenario*
# Start live backup server pair in dedicated topology with shared store HA, with journal located on NFS
# NFS mounted on backup server fails
# Reconnect NFS on backup server
# Try to shut down live EAP server 
# Backup doesn't activate

*What happens*
Backup is waiting for live to fail by checking its file lock. In case the connection to shared storage fails, backup logs following error.
{noformat}
05:50:57,896 ERROR [org.apache.activemq.artemis.core.server] (AMQ119000: Activation for server ActiveMQServerImpl::serverUUID=836c9b1e-f067-11e7-8763-001b21862475) AMQ224000: Failure in initialisation: java.io.IOException: Input/output error
	at sun.nio.ch.FileDispatcherImpl.lock0(Native Method) [rt.jar:1.8.0_151]
	at sun.nio.ch.FileDispatcherImpl.lock(FileDispatcherImpl.java:90) [rt.jar:1.8.0_151]
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1115) [rt.jar:1.8.0_151]
	at org.apache.activemq.artemis.core.server.impl.FileLockNodeManager.tryLock(FileLockNodeManager.java:299) [artemis-server-1.5.5.008-redhat-1.jar:1.5.5.008-redhat-1]
	at org.apache.activemq.artemis.core.server.impl.FileLockNodeManager.lock(FileLockNodeManager.java:316) [artemis-server-1.5.5.008-redhat-1.jar:1.5.5.008-redhat-1]
	at org.apache.activemq.artemis.core.server.impl.FileLockNodeManager.awaitLiveNode(FileLockNodeManager.java:127) [artemis-server-1.5.5.008-redhat-1.jar:1.5.5.008-redhat-1]
	at org.apache.activemq.artemis.core.server.impl.SharedStoreBackupActivation.run(SharedStoreBackupActivation.java:77) [artemis-server-1.5.5.008-redhat-1.jar:1.5.5.008-redhat-1]
	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$ActivationThread.run(ActiveMQServerImpl.java:2496) [artemis-server-1.5.5.008-redhat-1.jar:1.5.5.008-redhat-1]

{noformat}

Exception is caught in {{SharedStoreBackupActivation.run}}, and causes termination of backup activation process. 

In case the NFS is reconnected later, backup server doesn't continue in activation process and it doesn't wait for live to fail. In case the live fails, backup doesn't activate, even though it has a connection to shared storage.

Backup should retry checking live lock even in case the storage is unavailable. It should log warning/error messages that storage is unavailable, but it should not terminate the activation process. This would allow backup to continue its duties when the storage is reconnected.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,?,?,,+,?,?,,2019-06-07 15:03:05.0,,,,,,,,,https://github.com/apache/activemq-artemis/pull/2287,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|u000aw:",9223372036854775807,,0.0,,,,,"# Start live server on node1
$ sh standalone.sh -c standalone-full-ha-live.xml -DsharedDirectory=$NFS_DIRECTORY -b $IP_1
# Start backup on node2
$ sh standalone.sh -c standalone-full-ha-backup.xml -DsharedDirectory=$NFS_DIRECTORY -b $IP_2
# Unmount NFS on node2
# Reconnect NFS on node2
# Press {{Ctrl + C}} to shutdown EAP on node1
Backup doesn't activate",,,7.backlog.GA,,,,,,,,"07/Jun/19 3:03 PM;jamezp;This will require an Artemis upgrade. I'm putting this back in the Open state.","12/Jul/19 3:53 AM;ehugonnet;[~jamezp]this is part of current Artemis master which is going to be Artemis 2.10.0. Thus it is not curretnly fixed in WildFly without a component upgrade.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
"""Failed to reinstate timer"" warning is shown when creating large number of EJB timers",WFLY-9631,12725827,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,mmacik,mmacik,21/Dec/17 6:11 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,11/Jul/19 6:51 AM,16.0.0.Final,17.0.0.Final,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,,,,,,,"Hi, [~manovotn],

as we discussed before, I am creating a JIRA for an issue I experienced when testing EJB Timers with jBPM.

What I did was that I started a large number of processes with jBPM, let's say 10 000 and more. Each process contains a timer which jBPM will create an EJB Timer for. Each timer was configured to fire at exactly the same time, e.g. 12:00 PM. During the test I got this warning displayed about 5 times for each 10 000 timers created:


{code:java}
WARN  [org.jboss.as.ejb3] (Timer-1) WFLYEJB0161: Failed to reinstate timer 'kie-server.kie-server.EJBTimerScheduler' (id=09afab21-6b0f-41b0-9338-403b4a12e507) from its persistent state: java.lang.IllegalStateException: WFLYCTL0075: Duplicate resource 09afab21-6b0f-41b0-9338-403b4a12e507
    at org.jboss.as.controller.registry.AbstractModelResource$DefaultResourceProvider.register(AbstractModelResource.java:290)
    at org.jboss.as.controller.registry.AbstractModelResource.registerChild(AbstractModelResource.java:169)
    at org.jboss.as.ejb3.subsystem.deployment.TimerServiceResource.timerCreated(TimerServiceResource.java:193)
    at org.jboss.as.ejb3.timerservice.TimerServiceImpl.registerTimerResource(TimerServiceImpl.java:1094)
    at org.jboss.as.ejb3.timerservice.TimerServiceImpl.startTimer(TimerServiceImpl.java:767)
    at org.jboss.as.ejb3.timerservice.TimerServiceImpl$TimerRefreshListener.timerAdded(TimerServiceImpl.java:1235)
    at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence$RefreshTask.run(DatabaseTimerPersistence.java:820)
    at java.util.TimerThread.mainLoop(Timer.java:555)
at java.util.TimerThread.run(Timer.java:505)
{code}

The result of these warnings was that when I had only one EAP instance to fire these timers, it wouldn't fire exactly the timers with ids that were in those warnings, e.g. if it was id=09afab21-6b0f-41b0-9338-403b4a12e507 then this timer wouldn't fire. I had waited for minutes to be sure there is another tick of a refresh interval (configured to 1 min) but nothing happened. But when I started the second EAP instance, they were immediately picked up by that instance and fired. It seems that if there is this warning on a particular instance, the instance won't pick up the timer whatsoever. They will be picked up only by some other instances if there are any. With 2 EAP instances there were warnings too, but all timers fired since I guess affected timers were picked up each time by the other instance.

Another interesting observation is that when I configured a refresh interval to be shorter, e.g. 5 seconds, these warnings were showing up almost every 5 seconds. When I set it to 30 minutes, I didn't get warnings at all, since all timers fired earlier than a refresh occurred.

So I think it has something to do with refresh interval.

Can you please have a look at it? For further configuration details, check the Environment field.

Thank you very much!

Marian Macik
",,,,,,,,,,,,,,,,,,,,,JBEAP-17036,WFLY-285,,,,,,,,,,,,,,,"17/May/19 3:42 PM;mputz;WFLY-9631-reproducer.zip;https://issues.redhat.com/secure/attachment/12450890/WFLY-9631-reproducer.zip",,,,,,,,,,,,,,,,,,,2017-12-21 09:26:00.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12391,,,,,,,,,,,,,,,,1.0,16.0,,,,,,,,,,"1|hzu79b:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Dec/17 9:26 AM;manovotn;Marian also mentioned that those two EAP servers *are not* clustered. They only share the underlying DB for timers.","24/Aug/18 10:18 AM;mmacik;Hi guys, I see that this is now unassigned. Is there a plan to look at this issue in the near future?","24/Aug/18 10:32 AM;manovotn;I have unassigned myself because I am not longer responsible for the component and it was lingering in my JIRA.
I already notified [~mjurc] and he will be taking this over (or assigning it to someone else).","08/Oct/18 3:57 AM;mmacik;[~mjurc]

is there a way we can push this a little bit to at least know if this is a bug or a potential misconfiguration?","18/Jan/19 5:18 AM;baranowb;[~mmacik] - could you share code/conf of how JBPM handles timers?","18/Jan/19 8:53 AM;mmacik;[~baranowb] sure. Here is our @Singleton EJB which schedules timers and also executes @Timeout method:
[EJBTimerScheduler.java|https://github.com/kiegroup/jbpm/blob/master/jbpm-services/jbpm-services-ejb/jbpm-services-ejb-timer/src/main/java/org/jbpm/services/ejb/timer/EJBTimerScheduler.java]","17/May/19 3:46 PM;mputz;Attaching a reproducer for the issue, tested on EAP 7.2.0.GA.

After removing the {{timers.remove(..)}} call in [DatabaseTimerPersistence|https://github.com/wildfly/wildfly/blob/master/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/persistence/database/DatabaseTimerPersistence.java#L847] the WARN message is gone. Not sure if this has any adverse side-effects, eg. in a clustered environment though.

Could someone please take a look and provide input?","29/May/19 4:28 AM;gonzalomf;I've also tested with EAP 7.2.0.GA in Openshift, and same warning:

17:40:05,861 WARN  [org.jboss.as.ejb3.timer] (Timer-1) WFLYEJB0161: Failed to reinstate timer 'ROOT.ROOT.EJBTimerScheduler' (id=6f066747-f57e-4ad3-85e5-2a6f5e20333f) from its persistent state: java.lang.IllegalStateException: WFLYCTL0075: Duplicate resource 6f066747-f57e-4ad3-85e5-2a6f5e20333f
	at org.jboss.as.controller.registry.AbstractModelResource$DefaultResourceProvider.register(AbstractModelResource.java:299)
	at org.jboss.as.controller.registry.AbstractModelResource.registerChild(AbstractModelResource.java:178)
	at org.jboss.as.ejb3.subsystem.deployment.TimerServiceResource.timerCreated(TimerServiceResource.java:193)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.registerTimerResource(TimerServiceImpl.java:1126)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.startTimer(TimerServiceImpl.java:786)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl$TimerRefreshListener.timerAdded(TimerServiceImpl.java:1319)
	at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence$RefreshTask.run(DatabaseTimerPersistence.java:832)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)

Then, following traces are shown:
17:54:06,718 INFO  [org.jboss.as.ejb3.timer] (Timer-1) WFLYEJB0017: Next expiration is null. No tasks will be scheduled for timer [ID=9B432AAB-6388-40B3-8E1E-BB41909AB742 TIMEDOBJECTID=ROOT.ROOT.EJBTIMERSCHEDULER AUTO-TIMER?:FALSE PERSISTENT?:TRUE TIMERSERVICE=ORG.JBOSS.AS.EJB3.TIMERSERVICE.TIMERSERVICEIMPL@426E9346 INITIALEXPIRATION=2019-05-28 17:46:16.528 INTERVALDURATION(IN MILLI SEC)=0 NEXTEXPIRATION=NULL TIMERSTATE=ACTIVE INFO=EJBTIMERJOB [TIMERJOBINSTANCE=GLOBALJPATIMERJOBINSTANCE [TIMERSERVICEID=CONT-ID-TIMERSERVICEID, GETJOBHANDLE()=EJBGLOBALJOBHANDLE [UUID=2023-2022-1]]]]

I was testing a performance scenario with EJB Timers for RHPAM (thousand of them are scheduled to be triggered at same time inside their corresponding processes). 

When ""TIMER_SERVICE_DATA_STORE_REFRESH_INTERVAL"" for the EJB timers is set up with a low value (120 seconds, for example), these timers are never triggered and our RHPAM processes do not finish. 

This only happens with one pod and low values of ""TIMER_SERVICE_DATA_STORE_REFRESH_INTERVAL"" (not happening when this value is set up to 60000 seconds, for example)","24/Jun/19 11:44 PM;cfang;wrt timers.remove(..) call in DatabaseTimerPersistence, this is to remove any timers that are in the cache, but not in the timer data store.  For example, this can happen when a timer is cancelled from another server instance, and thus removed from timer db, and so the residual timer object needs to be cleared.

I think this could be a thread synchronization issue, e.g., DatabaseTimerPersistence.addTimer(...) method adds timer object to cache, and then save to db.  The 2 parts are not guarded as one single unit, and therefore some valid timers may be in cache, but not in db yet.  If in the middle the refresher task gets to run, it will try to remove the newly-added timers in cache, since they are not present in db. This removal may explain why certain timers never take effect.

Why the warning of duplicate timer ids?  My guess is that during new timer creation and start, the timer resource is already added to management model.  As explained above, some new timers are removed from DatabaseTimerPersistence cache, but the block that saves them to db eventually gets to run and they are persisted into db.  When it comes next timer refresh, they are deemed as timers that need to be added since they are present in db but not in cache.  Hence the duplicate timer resource warning.

If we set refresh interval to sufficiently long, the state of the cache and db are already consistent by the time the first refresh kicks in, and so there is no extra removal, or the additional adding.","25/Jun/19 10:15 AM;mmacik;??As explained above, *some new timers are removed from DatabaseTimerPersistence cache*, but the block that saves them to db eventually gets to run and they are persisted into db. When it comes next timer refresh, they are deemed as timers that need to be added since they are present in db but not in cache. Hence the duplicate timer resource warning.??

Why would only some new timers be removed from the cache in that case? If refresh is interleaved with persisting and there is no sync, I would say that refresh will manage to remove the whole cache, but not necessarily all of it before timers are persisted in DB. In other words, I don't see any duplication here. Can you maybe explain a little bit more?
","25/Jun/19 11:31 AM;cfang;This is what I understand how DatabaseTimerPersistence works, some new timers are successfully saved to db and so they are consistent in both cache and db, and no issue for those timers.  DatabaseTimerPersistence thinks db has the authoritative state and it examines each timer in cache, and if it is in cache only, then it thinks it is not good.","26/Jun/19 5:01 AM;mmacik;OK, thanks.","26/Jun/19 4:58 PM;cfang;PR sent (https://github.com/wildfly/wildfly/pull/12391) that will avoid removing those nascent timers during timer refresh.  Tested with the attacdhed reproducer with 1000 and 5000 timers that are created around the same time.

While testing with the reproducer with 1000 timers, I noticed that at the first refresh, over 600 timers are in memory only and will be removed with the current implementation, but some or most of them already managed to register with management model as timer resources.  So when they are brought back from db with the next refresh and try to register, it failed with duplicate resource error.","27/Jun/19 7:41 AM;mmacik;So just to check if I understand it. Since those timers were removed, then on the next refresh - they were considered as ""new"" timers from db, but they were already registered as timer resource. But since the check is done based on the content of the cache, EAP wants to register them which results in duplication?","27/Jun/19 9:10 AM;cfang;[~mmacik] yes, this is my understanding of the cause.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,
Server reload race conditions in testsuite/integration/multinode,WFLY-12514,12827104,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,08/Sep/19 11:39 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,08/Sep/19 4:56 PM,,,,,,18.0.0.Final,,,Test Suite,,,,,,,0,,,,,,,"The testsuite/integration/multinode suite includes two servers. Tests do various manipulations of those servers and use the ServerReload.reloadIfRequired utility to attempt to reload the servers if necessary.

The problem is the behavior of the ServerReload.reloadIfRequired(ModelControllerClient) method is to use TestsuiteEnvironment to get the address/port of the server to connect to after the reload in order to poll waiting for completion of the reload. But that breaks down in multi-server environments as TestsuiteEnvironment is going to only provide the data for one of the servers, so ServerReload is not going to accurately wait for completion of reload for the other.

ServerReload provides an overloaded reloadIfRequired method where a ManagementClient instead of a ModelControllerClient can be provided. If that is used then the correct address/port is taken from the ManagementClient. So that variant should be used wherever possible.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12609,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08n5g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Javaee8 BOM should include all spec artifacts directly,WFLY-12409,12824153,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,22/Aug/19 7:06 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,27/Aug/19 9:59 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,BOM,,,,,,,0,,,,,,,"... instead of importing through JBoss Specs BOM, which WildFly does not uses and thus its dependency management may be out of sync.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-22 07:53:00.0,,,,,,,,,https://github.com/wildfly/boms/pull/67,,,,,,,,,,,,,,,,0.0,7.0,,,,,,,,,,"1|z085wk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Aug/19 7:53 AM;psakar;We have a tooling to synchronize versions. 
What will happen to JBoss Specs BOM ? Would it be discontinued ? If not this issue does not make sense.

cc [~brian.stansberry] [~dosoudil] [~rguimara]","22/Aug/19 8:14 AM;psakar;[~emmartins] unless it is clear what will happen to  JBoss Specs BOM this issue only means more work (we have to change existing automated version propagation) without actually bringing anything","22/Aug/19 8:19 AM;emmartins;[~psakar] please look at the PR, you don't need to change anything other than stop caring about jboss spec BOM version for the import","22/Aug/19 8:24 AM;psakar;[~emmartins] I've looked at the PR. It means we have to change procedure which is automatically synchronizing versions between projects in release.","22/Aug/19 8:26 AM;psakar;[~emmartins] your arguments are true only in case  JBoss Specs BOM is discontinued","22/Aug/19 10:16 AM;emmartins;Another positive outcome of this change is that in dev javaee8 BOM is always in sync with server, while in the past it would only be correct whenever there was jboss spec import version upgrade, lasting only till next change in related spec artifacts in server. We don't re-release jboss specs as followup on every single change in server's dep management. So this also means more accurate early testing in both BOMs and Quickstarts...","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,
ManagedExecutorService keeping references on undeploy/deploy,WFLY-12384,12823317,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,jbaesner,jbaesner,16/Aug/19 4:43 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,08/Sep/19 4:56 PM,19.0.0.Beta1,,,,,18.0.0.Final,,,Concurrency Utilities,,,,,,,0,downstream_dependency,,,,,,"Usage of {{ManagedExecutorService}} leading to kept references after {{undeploy}}/{{deploy}}. This can be seen in the log as below:

{code}
SEVERE [a.b.c.MemberRepository] (EE-ManagedThreadFactory-default-Thread-1) exception when loading the members: Type specified for TypedQuery [a.b.c.Member] is incompatible with query return type [class a.b.c.Member]: java.lang.IllegalArgumentException: Type specified for TypedQuery [a.b.c.Member] is incompatible with query return type [class a.b.c.Member]
	at org.hibernate.internal.AbstractSharedSessionContract.resultClassChecking(AbstractSharedSessionContract.java:792)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:746)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:23)
	at org.jboss.as.jpa.container.AbstractEntityManager.createQuery(AbstractEntityManager.java:133)
	at a.b.c.MemberRepository.loadMembers(MemberRepository.java:77)
	at a.b.c.MemberRepository$Proxy$_$$_WeldClientProxy.loadMembers(Unknown Source)
	at a.b.c.PollMembersTask.call(PollMembersTask.java:45)
	at a.b.c.PollMembersTask.call(PollMembersTask.java:25)
	at org.jboss.as.ee.concurrent.ControlPointUtils$ControlledCallable.call(ControlPointUtils.java:129)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.enterprise.concurrent.internal.ManagedFutureTask.run(ManagedFutureTask.java:141)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	at org.glassfish.enterprise.concurrent.ManagedThreadFactoryImpl$ManagedThread.run(ManagedThreadFactoryImpl.java:250)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-16 08:20:11.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12534,https://github.com/wildfly/wildfly-capabilities/pull/38,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z08110:",9223372036854775807,,0.0,,,,,"A reproducer application is available at [https://github.com/heike2718/readhead-support-reproducer|https://github.com/heike2718/readhead-support-reproducer]",,,,,,,,,,"Switching to us a {{ScheduledManagedExecutor}} does not show this behavior. See [https://github.com/jbaesner/readhead-support-reproducer|https://github.com/jbaesner/readhead-support-reproducer], which is a for of the reproducer with the fix committed on top of it.","16/Aug/19 8:20 AM;emmartins;[~jbaesner] please remove the thread-factory attribute on the executor configuration and let me know if the issue persists. I believe there is a design issue by allowing to plug a managed thread factory in the executors.","16/Aug/19 9:36 AM;jbaesner;[~emmartins] I can confirm that on the compiled WildFly from upstream/master the issue does not occur in case I remove the {{thread-factory}} configuration from the {{managed-executor-service}} configuration in the {{standalone.xml}}","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Use a single non-cancelling task per bean manager for tracking passivation expiration,WFLY-12321,12819682,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,24/Jul/19 6:24 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,17/Sep/19 9:07 PM,,,,,,18.0.0.Final,,,Clustering,EJB,,,,,,0,,,,,,,"InfinispanBeanManager creates and cancels tasks for expiring bean passivation per bean.
Replace that by a single task per all beans that is never canceled, but instead reschedules itself to the next bean to be expired when it runs.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:19.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12449,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07gbw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Reduce distributed web session expiration scheduler payload,WFLY-12405,12824035,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,21/Aug/19 2:43 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,23/Aug/19 9:50 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"If a web request is handled by a member other than the primary owner of the session, we schedule the expiration of that session on the primary owner.  The command responsible for this serialized both the session ID and the meta data of the session.  However, given that the primary owner will already have this information cached locally, there is no reason to include it in the payload of the scheduler command.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0857o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Document usage of JAXWS Client BOM in jaws-* quickstarts,WFLY-12377,12822802,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,14/Aug/19 4:39 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,03/Oct/19 3:36 AM,,,,,,18.0.0.Final,,,Quickstarts,,,,,,,0,,,,,,,"All JAXWS Quickstarts should explain usage of the JAXWS Client BOM as the proper way to manage/use the dependencies in server, assuring compatibility with it. Traditionally this kind of guidance is done along the reference to the BOM is pom.xml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,User Experience,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,https://github.com/wildfly/quickstart/pull/363,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07y0k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jgroups-kubernetes to 1.0.12.Final,WFLY-12347,12821084,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,01/Aug/19 5:20 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,08/Aug/19 2:23 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"Adds support for grouping pods by {{metadata.labels.pod-template-hash}} during rolling update.

Tag/changelog 
https://github.com/jgroups-extras/jgroups-kubernetes/tree/1.0.12.Final ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12478,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ook:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
SimpleSecurityManager uses AccessController.doPrivileged even if the SM is not checking ,WFLY-12340,12820856,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,swd847,swd847,31/Jul/19 12:19 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,06/Aug/19 11:18 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07nb8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-http-client version to 1.0.16.Final,WFLY-12270,12816840,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,04/Jul/19 6:03 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,08/Jul/19 5:53 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,Upgrade wildfly-http-client version to 1.0.16.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WEJBHTTP-26,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0709g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate deprecated DeploymentPhaseContext.addDependency() method usages,WFLY-11958,12801492,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,08/Apr/19 4:36 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,19/Jun/19 6:11 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,Transactions,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12216,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04n64:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
NPE when microprofile-metrics subsystem is enabled but microprofile-config is not,WFLY-12542,12827864,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,rcd,rcd,11/Sep/19 5:56 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,16/Sep/19 10:32 PM,17.0.1.Final,,,,,18.0.0.Final,,,MP Metrics,,,,,,,0,,,,,,,"If the microprofile-metrics subsystem is present in the WildFly config but the microprofile-config subsystem is not, WildFly dies due to a NPE:

{code}
2019-09-11 17:49:43,522 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""microprofile-metrics-smallrye"")]): java.lang.NullPointerException
	at org.wildfly.extension.microprofile.metrics.MicroProfileMetricsSubsystemAdd$2.execute(MicroProfileMetricsSubsystemAdd.java:90)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1412) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:521) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:472) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:434) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.server.ServerService.boot(ServerService.java:435) [wildfly-server-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.server.ServerService.boot(ServerService.java:394) [wildfly-server-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:374) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_212]
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-16 22:32:09.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12645,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08rkk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"16/Sep/19 10:32 PM;brian.stansberry;The microprofile-config subsystem is still required, but it won't fail with a runtime NPE.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Move to jakarta.inject:jakarta.inject-api,WFLY-12502,12826618,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,yersan,jamezp,05/Sep/19 4:18 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,10/Sep/19 9:30 PM,,,,,,18.0.0.Final,,,EE,,,,,,,0,,,,,,,"This will be a two commit, three step process since the {{javax.injecti}} module is in WildFly Core.
# Create the {{jjavax.inject}} module in full. This is the first commit
# Change the {{javax.inject:javax.inject:1}} dependencies in other modules to {{jakarta.inject:jakarta.inject-api:1.0}}. This is the second commit.
# Once core, WFCORE-4630, is merged into WildFly revert the first commit.",,,,,,,,,,,WFCORE-4630,,,,,,,,,,WFLY-12355,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12603,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08k6s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Exclude unmanaged dependencies not productized,WFLY-12319,12819661,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,24/Jul/19 3:54 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,29/Jul/19 9:53 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,0,,,,,,,"The following artifacts may be found as transitives in WildFly's dependency management, and are not supported by PROD, and thus should be excluded:

 * org.jboss.spec.javax.xml.ws:jboss-jaxws-api_2.2_spec:jar:2.0.2.Final:compile
 * org.slf4j:jcl-over-slf4j:jar:1.7.26:compile
 * org.apache.geronimo.javamail:geronimo-javamail_1.4_mail:jar:1.8.4:compile
 * org.apache.velocity:velocity:jar:1.7:compile
 * io.dropwizard.metrics:metrics-core:jar:3.1.2:compile
 * com.google.code.findbugs:jsr305:jar:3.0.1:compile
 * org.jvnet.staxex:stax-ex:jar:1.8:compile
 * javax.activation:javax.activation-api:jar:1.2.0:compile",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12447,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07g78:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
WFLY does not accept the Narayana's long version of property expiryScannerClassNames to define expiry scanners,WFLY-12255,12815896,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ochaloup,ochaloup,ochaloup,28/Jun/19 9:45 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,11/Jul/19 6:50 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,0,,,,,,,The WFLY-951enables the way to set the Narayana settings of the expiry class names via system property. The issue enforces users to use only property in form {{RecoveryEnvironmentBean.expiryScannerClassNames}}. But Narayana provides to use either this shortened version of the property for any configuration option. But it accepts the longer form for property with fully qualified bean class name (https://jbossts.blogspot.com/2018/01/narayana-periodic-recovery-of-xa.html#configuration). In this case it's {{com.arjuna.ats.arjuna.common.RecoveryEnvironmentBean.expiryScannerClassNames}}. That property (which sets the same thing as its shortened version) should be accepted by the WFLY as well.,,,,,,,,,,,,,,,,,,,,,,,,WFLY-951,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12382,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06unw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Define galleon layers for h2 datasource,WFLY-12254,12815847,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,28/Jun/19 5:53 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,29/Jul/19 9:52 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,0,,,,,,,"Define following layers:
h2-driver
h2-datasource
h2-default-datasource (set example ds as default ee datasource)

Remove following layers:
h2-database

Refactor existing databases feature-group to avoid feature definitions duplication.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06udo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Remove redundant dependency management on Quickstarts BOM,WFLY-12197,12813782,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,15/Jun/19 10:09 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,15/Jun/19 10:18 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,0,,,,,,,"The following dependencies are managed by Quickstarts BOM, yet these already managed by javaee8 BOM and thus should be removed:

{code}
                                <dependency>
                                    <groupId>org.apache.httpcomponents</groupId>
                                    <artifactId>httpclient</artifactId>
                                </dependency>
                                <!-- contacts-jquerymobile -->
                                <dependency>
                                    <groupId>commons-io</groupId>
                                    <artifactId>commons-io</artifactId>
                                </dependency>
                                <dependency>
                                    <groupId>org.jboss.msc</groupId>
                                    <artifactId>jboss-msc</artifactId>
                                </dependency>
                                <dependency>
                                    <groupId>org.slf4j</groupId>
                                    <artifactId>slf4j-api</artifactId>
                                </dependency>
                                <dependency>
                                    <groupId>com.fasterxml.jackson.core</groupId>
                                    <artifactId>jackson-core</artifactId>
                                </dependency>
                                <dependency>
                                    <groupId>com.fasterxml.jackson.core</groupId>
                                    <artifactId>jackson-databind</artifactId>
                                </dependency>
                                <dependency>
                                    <groupId>org.javassist</groupId>
                                    <artifactId>javassist</artifactId>
                                </dependency>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06j04:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-api_3.2_spec to 2.0.0.Final,WFLY-12559,12828367,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,13/Sep/19 6:08 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,14/Sep/19 5:59 PM,,,,,,18.0.0.Final,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08uis:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade RESTEasy to 3.9.0.Final,WFLY-12466,12825554,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,ron_sigal,30/Aug/19 7:18 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,02/Sep/19 11:57 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-12207,,,,,,,,,,,,,,,,,,,WFLY-12192,EAP7-1248,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08dvw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
EE Concurrency Capability API,WFLY-12279,12817497,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,10/Jul/19 4:43 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,14/Aug/19 7:37 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Concurrency Utilities,,,,,,,0,,,,,,,"EE Concurrency resource definitions should have capabilities, which should manage related MSC services.",,,,,,,,,,,,,,,,,,,,,,,,WFLY-11841,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z073ys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.servlet.jboss-servlet-api_4.0_spec to 2.0.0.CR2,WFLY-12437,12824939,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,28/Aug/19 4:03 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,30/Aug/19 6:37 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,Web (Undertow),,,,,,0,,,,,,,Upgrade the servlet spec API to 2.0.0.CR2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:16.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08aac:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
WS-Security in combination with MTOM attachments,WFLY-12424,12824427,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,iweiss,iweiss,iweiss,23/Aug/19 11:37 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,08/Sep/19 6:45 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Web Services,,,,,,,0,,,,,,,"Please ensure to pick up this commit[1] of Apache CXF in next EAP release

[1]https://github.com/apache/cxf/commit/6207b11203790fbe5ac4404b13d2292e30c81462

Thanks!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-08 18:44:09.0,,,,,,,,,https://github.com/apache/cxf/commit/6207b11203790fbe5ac4404b13d2292e30c81462,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z087jw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Sep/19 6:44 PM;jbliznak;This is already incorporated by upgrade to CXF 3.3.3 WFLY-12087
https://github.com/apache/cxf/commit/e438cd4745c2e08997af62c2958e2d079608a0da","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Make org.picketlink.trust.jbossws.handler.SMALHandler supports SAAJ1.4,WFLY-12484,12826181,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jim.ma,jim.ma,jim.ma,04/Sep/19 7:09 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,01/Oct/19 2:32 PM,17.0.1.Final,,,,,18.0.0.Final,,,Web Services,,,,,,,0,,,,,,,"To support SAAJ 1.4, Picketlink  SMALHandler needs get DOM Element with CXF's DOMUtils to append/remove element from soap message. 
This handler now fails 
",,,,,,,,,,,,,,,,,,,,,,,,WFLY-12442,,,,,,,,,,,,,"18/Sep/19 4:36 AM;wolfc;0001-Upgrade-jaxb-saaj.patch;https://issues.redhat.com/secure/attachment/12455565/0001-Upgrade-jaxb-saaj.patch",,,,,,,,,,,,,,,,,,,2019-09-18 04:37:24.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12684,,,,,,,,,,,,,,,,1.0,2.0,,,,,,,,,,"1|z08hms:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Sep/19 4:37 AM;wolfc;The original error can be reproduced by overriding jaxb & saaj.
{noformat}
org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.
{noformat}","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
ee-security Galleon layer,WFLY-12470,12825620,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,02/Sep/19 4:04 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,02/Sep/19 1:40 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:16.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ea4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Define Galleon Layer for transactions,WFLY-11954,12801415,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,08/Apr/19 8:26 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,05/Sep/19 9:06 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,1,,,,,,,"There is a need to compose a server with transactions layer.
Req: https://developer.jboss.org/thread/279916
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:16.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04mpg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Expose management metrics for HotRod caches,WFLY-12165,12811001,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,04/Jun/19 11:13 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,02/Sep/19 9:12 PM,17.0.0.Beta1,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"As of Infinispan 9.4.0, the HotRod client exposes statistics.
When enabled (i.e. statistics-enabled=true), we should register a runtime resource per remote cache that exposes the statistics gathered by https://github.com/infinispan/infinispan/blob/master/client/hotrod-client/src/main/java/org/infinispan/client/hotrod/impl/ClientStatistics.java 
as well as a runtime operation to reset the statistics.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:15.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12461,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z064fw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Execute portions of the testsuite using a slimmed server instead of the normal dist,WFLY-12394,12823656,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,19/Aug/19 10:14 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,28/Sep/19 12:35 PM,,,,,,18.0.0.Final,,,Test Suite,,,,,,,0,,,,,,,"A lot of the testsuite can run against a slimmed server, not requiring the standard installation. So, if -Dts.layers is set (which currently turns on testsuite/layers) also execute profiles in other testsuite modules that provision slimmed servers and all or a subset of the module's tests.",,,,,,,,,,,,,WFLY-12507,,,,,,,,WFLY-12604,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z082yk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Fix contended MSC Supplier.get() call in Jsr299BindingsInterceptor.processInvocation,WFLY-12373,12822676,12822674,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,brian.stansberry,brian.stansberry,13/Aug/19 11:40 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,04/Sep/19 3:54 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,CDI / Weld,,,,,,,0,,,,,,,"WFLY-11381 changed Jsr299BindingsInterceptor.processInvocation from using InjectValue.getValue() to using Supplier.get() resulting in the kind of concurrency problem noted in the parent issue.

Possible solutions are to revert some part of that change or to cache the value in the interceptor.",,,,,,,,,WFLY-11381,MSC-248,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-02 05:30:13.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12497,https://github.com/wildfly/wildfly/pull/12570,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z07x90:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Aug/19 2:55 PM;brian.stansberry;I'm also a bit concerned about

https://github.com/wildfly/wildfly/pull/11862/files#diff-ba3a2d6b6f5b9f48cd04f301c20ea1c0

and 

https://github.com/wildfly/wildfly/pull/11862/files#diff-a03cbe645209f431d4aab4d8f8ecc510L78

and 

https://github.com/wildfly/wildfly/pull/11862/files#diff-6e84d97385b372abdc10b19178372e4bL89","02/Sep/19 5:30 AM;ropalka;The proper fix came into code base via WFCORE upgrade.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
"Skip redundant put operations when distributable web sessions use local, non-persistent cache configuration",WFLY-12333,12820212,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,29/Jul/19 11:10 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,31/Jul/19 3:00 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,Web (Undertow),,,,,,0,downstream_dependency,,,,,,"When a distributable web session is closed, we perform a cache put to ensure state is persisted/replicated.  However, when the cache configuration is both local and non-persistent, this cache operation is redundant.",,,,,,,,,,,WFLY-12331,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:15.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12457,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07jgs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Update wildfly-transaction-client to 1.1.4.Final,WFLY-12204,12814036,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,17/Jun/19 6:27 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,18/Jun/19 6:05 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,Transactions,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12205,,,,,,,,,WFLY-12077,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-17 20:18:53.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06khw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Jun/19 8:18 PM;brian.stansberry;[~tomekadamski] Please add ""incorporates"" links to any JIRAs this resolves.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Change AttributeDefinitions that have a default value and are set as required,WFLY-12150,12810342,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,michpetrov,michpetrov,michpetrov,31/May/19 10:55 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,23/Aug/19 9:44 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,"Per [WFCORE-2252], it doesn't make sense for an AttributeDefinition to provide a default value if it set as required.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:14.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12284,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z060oc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-client to 4.0.23.Final,WFLY-12378,12823029,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,15/Aug/19 5:26 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,15/Aug/19 5:18 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,https://github.com/wildfly/jboss-ejb-client/compare/4.0.22.Final...4.0.23.Final,,,,,,,,,,,,,,,,,,,,,EJBCLIENT-346,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-15 16:31:43.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z07zbo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"15/Aug/19 4:31 PM;brian.stansberry;[~tomekadamski] Please add a github compare link, from the old tag to the new tag, to the JIRA description.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.jms.jboss-jms-api_2.0_spec to 2.0.0.Final,WFLY-12366,12822062,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,09/Aug/19 11:04 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Sep/19 4:46 PM,17.0.1.Final,,,,,18.0.0.Final,,,JMS,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:14.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07u9g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-transaction-client from 1.1.5.Final to 1.1.6.Final,WFLY-12323,12819699,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,soul2zimate,soul2zimate,24/Jul/19 11:23 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,29/Jul/19 9:54 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,Transactions,,,,,,0,,,,,,,https://github.com/wildfly/wildfly-transaction-client/compare/1.1.5.Final...1.1.6.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-28 09:19:20.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12454,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z07gfo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Jul/19 9:19 AM;cfang;wildfly-transaction-client 1.1.6.Final was released on 2019-07-28.
https://issues.jboss.org/projects/WFTC/versions/12342500","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 10.0.0.Beta9,WFLY-12562,12828481,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,jmesnil,jmesnil,16/Sep/19 7:14 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,16/Sep/19 7:08 PM,,,,,,18.0.0.Final,,,Management,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12522,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:14.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08uys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-jms-api_2.0_spec from 1.0.2.Final to 2.0.0.CR1,WFLY-12450,12825186,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,28/Aug/19 8:49 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,30/Aug/19 6:34 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12554,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08br8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"Encode session affinity using multiple routes, if supported by the load balancer",WFLY-6944,12643053,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,11/Aug/16 3:07 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,29/Jul/19 9:50 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,affects-model,,,,,,"Currently, session affinity is specified as a single route, usually the primary owner of a session.  However, if this node is not active (from the load balancer's perspective), then the load balancer will select another node of its choosing.  This is less than ideal, since some nodes are more optimal than others.  Better is to expression session affinity as an ordered list of nodes.  The load balancer can then choose the 1st node in the list that is active, and cascade on failures accordingly.  From the server's perspective, the affinity list should have the following order:
1. The primary owner
2. Any backup owners
3. The local node (if the local node is not an owner)

There are a couple of ways a load balancer can indicate that it supports multiple routes.
1. Static configuration, e.g. routing=""NONE|OWNER|LOCAL|RANKED""
2. Adding an HTTP header to a proxied request, which can be detected by the server handling  the request

#1 has the advantage of simplicity - but requires that users manually apply this configuration to gain optimal performance.  This would also let us allow users (for even the single node affinity case) to toggle between local affinity or primary owner affinity, or even no routing.
#2 has the advantage of applying this optimization automatically, but incurs the cost of an additional header to every request",,,,,,,,,,,,,WFLY-5550,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-12 08:42:54.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/11791,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|hzioiv:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Apr/19 8:42 AM;harald.pehl;I'm planing the console payload for WF 17. [~pferraro] will this be part of WF 17?","24/May/19 9:47 AM;tommaso-borgato;[~pferraro],[~rhusar] which header triggers the multiple routes encoding on WildFly?","03/Jun/19 11:06 AM;pferraro;[~tommaso-borgato] you probably know the answer to that question already, but just in case...
Multi-route encoding is triggered via configuration, not based on any request headers.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
ClassFormatError on JDK13,WFLY-12063,12806472,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,smarlow,ropalka,ropalka,10/May/19 11:50 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,16/Sep/19 9:33 AM,,,,,,18.0.0.Final,,,JPA / Hibernate,,,,,,,0,blocker-WF18,jdk13,,,,,"The following commit https://github.com/wildfly/wildfly/commit/b6d141b06404a4c23ead1d04d6e26fc2f9e22591 introduced JDK13 regression in WildFly.
Affected tests are:
---
[ERROR] Errors: 
[ERROR]   MultiplePuTestCase.org.jboss.as.test.integration.jpa.basic.multiplepersistenceunittest.MultiplePuTestCase » Deployment
[ERROR]   EntityListenersTestCase.org.jboss.as.test.integration.jpa.entitylistener.EntityListenersTestCase » Deployment
[ERROR]   EPCPropagationTestCase.org.jboss.as.test.integration.jpa.epcpropagation.EPCPropagationTestCase » Deployment
[ERROR]   AuditJoinTableoverBidirectionalTest.org.jboss.as.test.integration.jpa.hibernate.envers.AuditJoinTableoverBidirectionalTest » Deployment
[ERROR]   AuditJoinTableoverOnetoManyJoinColumnTest.org.jboss.as.test.integration.jpa.hibernate.envers.AuditJoinTableoverOnetoManyJoinColumnTest » Deployment
[ERROR]   ManagementTestCase.getEntityInsertCountAttribute:98 » Deployment Cannot deploy...
[ERROR]   JPA2LCTestCase.org.jboss.as.test.integration.jpa.secondlevelcache.JPA2LCTestCase » Deployment
[ERROR]   JpaStatisticsTestCase.org.jboss.as.test.integration.jpa.secondlevelcache.JpaStatisticsTestCase » Deployment
[ERROR]   TransactionTestCase.org.jboss.as.test.integration.jpa.transaction.TransactionTestCase » Deployment
[INFO] 
[ERROR] Tests run: 1553, Failures: 0, Errors: 9, Skipped: 14
---",,,,,,,,,WFLY-11891,,,,JBEAP-17220,WFLY-12534,WFLY-12546,,,,,,,,,,,,,,,,,,,,,,"13/May/19 4:53 AM;ropalka;server.log;https://issues.redhat.com/secure/attachment/12450593/server.log","13/May/19 4:53 AM;ropalka;test.log;https://issues.redhat.com/secure/attachment/12450592/test.log",,,,,,,,,,,,,,,,,,2019-05-10 12:42:51.0,,,,,,,,,,,,,,,,,,,,,,,,,2.0,27.0,,,,,,,,,,"1|z05exg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/May/19 12:42 PM;smarlow;[~ropalka] Thanks for finding this!  Is there a jenkins link for this failure to share?  Or perhaps server.log output that contains the deployment failure?

CC [~gbadner]","13/May/19 4:52 AM;ropalka;It is not CI tested [~smarlow] yet. We're waiting for Apache CXF upgrade in WildFly to fix remaining JDK13+ issues. Then the plan is to test it regularly in our CI lab.
I'm attaching both test and server logs. Steps to reproduce the issue are:

 * Download and install latest OpenJDK13
 * Switch shell to use downloaded JDK
 * Build wildfly with 'mvn clean install -DskipTests'
 * Run the test: 'cd testsuite/integration/basic && mvn clean test -Dtest=**/MultiplePuTestCase'","13/May/19 12:59 PM;jamezp;I added the blocker-WF18 label to remove it from the blocker list.","16/May/19 5:45 PM;brian.stansberry;[~jamezp] [~ropalka] I reduced the priority to Critical.

We do not require JDK 13 support until it goes GA which I believe will not be until September, so WF 19. That's too far away for Blocker IMO. There's just too much attention on Blocker to apply it to something two releases away.

I left the blocker-WF18 label (not 19) because if JDK 13 is in RC phase by the time we finish 18 it would be good to have this resolved. Just like it was nice that we were good for JDK 12 in WF 16 despite 12 not being GA yet.","08/Jul/19 8:49 AM;smarlow;attached server.log contains:
{code}
Failed to define class org.jboss.as.test.integration.jpa.basic.SLSBPersistenceContexts in Module ""deployment.MultiplePuTestCase.jar"" from Service Module Loader: java.lang.ClassFormatError: Failed to link org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts (Module ""deployment.MultiplePuTestCase.jar"" from Service Module Loader): WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts failed
{code}
","08/Jul/19 8:52 AM;smarlow;Underlying cause is not really shown in attached test.log, just:
{code}
org.jboss.as.test.integration.jpa.basic.multiplepersistenceunittest.MultiplePuTestCase  Time elapsed: 14.748 s  <<< ERROR!
org.jboss.arquillian.container.spi.client.container.DeploymentException: 
Cannot deploy MultiplePuTestCase.jar: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""MultiplePuTestCase.jar\"".POST_MODULE"" => ""WFLYSRV0153: Failed to process phase POST_MODULE of deployment \""MultiplePuTestCase.jar\""
    Caused by: java.lang.ClassFormatError: Failed to link org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts (Module \""deployment.MultiplePuTestCase.jar\"" from Service Module Loader): WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts failed""}}}}
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:184)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:162)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:91)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:244)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:151)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:118)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:239)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:118)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:71)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:54)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:47)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:92)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:77)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachDeployment(ContainerDeployController.java:232)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachManagedDeployment(ContainerDeployController.java:212)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deployManaged(ContainerDeployController.java:77)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.execute(ContainerEventController.java:96)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.beforeClass(EventTestRunnerAdaptor.java:89)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:163)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
{code}

Not clear if we fail before or during ByteBuddy transformation by Hibernate.","08/Jul/19 9:10 AM;smarlow;[~gbadner] Has Hibernate 5.3.10 seen any reports of this failure with ByteBuddy?","08/Jul/19 12:48 PM;smarlow;Underlying exception from debugger session is:
{code}
2019-07-08 12:45:44,383 ERROR [stderr] (MSC service thread 1-3) Caused by: java.lang.IllegalStateException: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts failed
2019-07-08 12:45:44,384 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.as.jpa@18.0.0.Beta1-SNAPSHOT//org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:68)
2019-07-08 12:45:44,384 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.as.jpa@18.0.0.Beta1-SNAPSHOT//org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:49)
2019-07-08 12:45:44,384 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.as.server@10.0.0.Beta1//org.jboss.as.server.deployment.module.DelegatingClassFileTransformer.transform(DelegatingClassFileTransformer.java:60)
2019-07-08 12:45:44,384 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.modules.JLIClassTransformer.transform(JLIClassTransformer.java:55)
2019-07-08 12:45:44,384 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:539)
2019-07-08 12:45:44,385 ERROR [stderr] (MSC service thread 1-3) 	... 22 more
2019-07-08 12:45:44,385 ERROR [stderr] (MSC service thread 1-3) Caused by: org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl$1: Error performing enhancement of org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts
2019-07-08 12:45:44,385 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl.transform(EnhancingClassTransformerImpl.java:47)
2019-07-08 12:45:44,385 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.as.jpa@18.0.0.Beta1-SNAPSHOT//org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:66)
2019-07-08 12:45:44,385 ERROR [stderr] (MSC service thread 1-3) 	... 26 more
2019-07-08 12:45:44,386 ERROR [stderr] (MSC service thread 1-3) Caused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts
2019-07-08 12:45:44,386 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.enhance(EnhancerImpl.java:138)
2019-07-08 12:45:44,386 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl.transform(EnhancingClassTransformerImpl.java:44)
2019-07-08 12:45:44,387 ERROR [stderr] (MSC service thread 1-3) 	... 27 more
2019-07-08 12:45:44,387 ERROR [stderr] (MSC service thread 1-3) Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 57
2019-07-08 12:45:44,388 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.jar.asm.ClassReader.<init>(ClassReader.java:184)
2019-07-08 12:45:44,388 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.jar.asm.ClassReader.<init>(ClassReader.java:166)
2019-07-08 12:45:44,388 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.jar.asm.ClassReader.<init>(ClassReader.java:152)
2019-07-08 12:45:44,388 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.utility.OpenedClassReader.of(OpenedClassReader.java:82)
2019-07-08 12:45:44,389 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default.parse(TypePool.java:1174)
2019-07-08 12:45:44,389 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default.doDescribe(TypePool.java:1160)
2019-07-08 12:45:44,389 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default$WithLazyResolution.access$401(TypePool.java:1240)
2019-07-08 12:45:44,390 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default$WithLazyResolution.doResolve(TypePool.java:1338)
2019-07-08 12:45:44,390 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default$WithLazyResolution$LazyTypeDescription.delegate(TypePool.java:1407)
2019-07-08 12:45:44,390 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.type.TypeDescription$AbstractBase$OfSimpleType$WithDelegation.getEnclosingType(TypeDescription.java:8066)
2019-07-08 12:45:44,390 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default$LazyTypeDescription$GenericTypeToken$ForParameterizedType$LazyParameterizedType.getOwnerType(TypePool.java:5465)
2019-07-08 12:45:44,391 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.type.TypeDescription$Generic$Visitor$Substitutor.onParameterizedType(TypeDescription.java:1814)
2019-07-08 12:45:44,391 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.type.TypeDescription$Generic$Visitor$Substitutor$ForDetachment.onParameterizedType(TypeDescription.java:1979)
2019-07-08 12:45:44,391 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.type.TypeDescription$Generic$OfParameterizedType.accept(TypeDescription.java:4991)
2019-07-08 12:45:44,392 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.type.TypeDescription$Generic$LazyProjection.accept(TypeDescription.java:6106)
2019-07-08 12:45:44,392 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.method.MethodDescription$AbstractBase.asToken(MethodDescription.java:816)
2019-07-08 12:45:44,392 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.method.MethodDescription$AbstractBase.asToken(MethodDescription.java:376)
2019-07-08 12:45:44,392 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.method.MethodList$AbstractBase.asTokenList(MethodList.java:70)
2019-07-08 12:45:44,393 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.dynamic.scaffold.InstrumentedType$Factory$Default$1.represent(InstrumentedType.java:364)
2019-07-08 12:45:44,393 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.ByteBuddy.redefine(ByteBuddy.java:731)
2019-07-08 12:45:44,393 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.lambda$enhance$0(EnhancerImpl.java:133)
2019-07-08 12:45:44,393 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.rewrite(ByteBuddyState.java:149)
2019-07-08 12:45:44,394 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.enhance(EnhancerImpl.java:132)
2019-07-08 12:45:44,394 ERROR [stderr] (MSC service thread 1-3) 	... 28 more
{code}","08/Jul/19 1:01 PM;smarlow;[https://developer.jboss.org/thread/279658] seems related, in that the error was the same.  

[~gbadner] perhaps [https://hibernate.atlassian.net/browse/HHH-13272] would help us try running with JDK13.  Could that be back ported to the 5.3.x branch?  

Is ORM 5.4.2 using a newer version of ByteBuddy?  If yes, we should consider upgrading to the newer version of ByteBuddy that 5.4.2 is using.","09/Jul/19 3:25 PM;gbadner;[~smarlow], ORM master (and 5.4.2) use ByteBuddy 1.9.10.

ORM 5.3.11 uses ByteBuddy 1.9.5.

Have you tried running the failing tests with JDK 13 and ByteBuddy 1.9.10 or 1.9.11? If not, I can do it.

","09/Jul/19 3:43 PM;smarlow;Hi Gail, I verified that the failing tests, do pass with ByteBuddy 1.9.11. 

I also ran the following tests as well via a local script with 1.9.11 and they passed:
{quote}
cd testsuite/integration/basic/
mvn install -Dtest=org.jboss.as.test.integration.jpa.packaging.PersistenceUnitPackagingTestCase > /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.packaging.EJBJarPackagingTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.packaging.PersistenceUnitWarPackagingTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.cfgfile.CfgFileTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.multipleinjections.MultiplePersistenceContextInjectionsTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.webnontxem.NonTransactionalEmTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.ormxml.OrmTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.jarfile.JpaJarFileTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.jarfile.JpaTestSlsb >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.webtxem.TestServlet >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.webtxem.WebJPATestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.basic.entitymanagerfactorytest.EntityManagerFactoryTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.basic.multiplepersistenceunittest.MultiplePuTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.basic.relativedatasourcetest.RelativeDataSourceNameTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.contextduel.AddEPC2TxAfterPCTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.serialization.SerializationTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.shallow.ShallowExtendedPersistenceContextInheritanceTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.EPCPropagationTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.requiresnew.EPCPropagationNewTransactionTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.hierarchy.EPCPropagationHierarchyTestCase  >> /tmp/orm53.txt                                                                                                                                                   
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.slsbxpc.FailBecauseOfXPCNotInSFSBTestCase   >> /tmp/orm53.txt                                                                                                                                                  
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.unsync.TestForMixedSynchronizationTypes      >> /tmp/orm53.txt                                                                                                                                                 
mvn install -Dtest=org.jboss.as.test.integration.jpa.transaction.TransactionTestCase                              >> /tmp/orm53.txt                                                                                                                                                
mvn install -Dtest=org.jboss.as.test.integration.jpa.transaction.envers.TransactionAuditedTestCase                 >> /tmp/orm53.txt                                                                                                                                               
mvn install -Dtest=org.jboss.as.test.integration.jpa.dsrestart.JpaDsRestartTestCase                                >> /tmp/orm53.txt                                                                                                                                               
mvn install -Dtest=org.jboss.as.test.integration.jpa.beanvalidation.beanvalidationinheritancetest.BeanValidationJPAInheritanceTestCase   >> /tmp/orm53.txt                                                                                                                         
mvn install -Dtest=org.jboss.as.test.integration.jpa.beanvalidation.beanvalidationtest.JPABeanValidationTestCase               >> /tmp/orm53.txt                                                                                                                                   
mvn install -Dtest=org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase               >> /tmp/orm53.txt                                                                                                                                       
mvn install -Dtest=org.jboss.as.test.integration.jpa.datasourcedefinition.DataSourceDefinitionJPATestCase                   >> /tmp/orm53.txt                                                                                                                                      
mvn install -Dtest=org.jboss.as.test.integration.jpa.secondlevelcache.JPA2LCTestCase                                       >> /tmp/orm53.txt                                                                                                                                       
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.txtimeout.TxTimeoutTestCase                               >> /tmp/orm53.txt                                                                                                                                      
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.txtimeout.TestPersistenceProvider                         >> /tmp/orm53.txt                                                                                                                                      
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.txtimeout.TestEntityManager                                >> /tmp/orm53.txt                                                                                                                                     
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.txtimeout.TestEntityManagerFactory                       >> /tmp/orm53.txt                                                                                                                                       
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.classtransformer.TestClassTransformer                                      >> /tmp/orm53.txt                                                                                                                     
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.classtransformer.TestAdapter   >> /tmp/orm53.txt                                                                                                   
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.classtransformer.ClassFileTransformerTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.classtransformer.TestPersistenceProvider >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.classtransformer.TestEntityManagerFactory >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.entitylistener.EntityListenersTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.sibling.SiblingXPCInheritanceTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.version.VersionTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.resourcelocal.ResourceLocalTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.classfiletransformertest.ClassFileTransformerTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.entitytest.EntityTestCase  >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.management.ManagementTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.AuditJoinTableoverOnetoManyJoinColumnTest >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.AuditJoinTableoverBidirectionalTest >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.basicenverstest.BasicEnversTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.implementvalidityauditstrategytest.ImplementValidityAuditStrategyTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.validityauditstrategyoninheritancetest.ValidityAuditStrategyonInheritanceTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.basicselectiveenverstest.BasicSelectiveEnversTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.sessionfactorytest.SessionFactoryTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.EntityTest >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.Hibernate4NativeAPIProviderTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.HibernateNativeAPITransactionTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.generator.TestSlsb >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.generator.PooledGeneratorTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.search.HibernateSearchJPATestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.naturalid.HibernateNativeAPINaturalIdTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.Hibernate2LCacheStatsTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.envers.Hibernate4NativeAPIEnversTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.secondlevelcache.HibernateSecondLevelCacheTestCase >> /tmp/orm53.txt
{quote}","09/Jul/19 3:57 PM;gbadner;[~smarlow], thanks for doing that. Did you happen to look at diffs between 1.9.5 and 1.9.11?

[~sannegrinovero], I see that you upgraded ByteBuddy to 1.9.10 for HHH-13272. Do you have an opinion on upgrading ByteBuddy to 1.9.11 in master and 5.3 branches?","09/Jul/19 7:19 PM;smarlow;[~gbadner] 
Sorry, I didn't look at diffs between 1.9.5 and 1.9.11.  

I did briefly look at the release descriptions  [https://github.com/raphw/byte-buddy/releases] which go up to 1.9.14.  I'm not really sure if any of the changes after 1.9.11 are needed by Hibernate ORM.  

I liked the description for ByteBuddy 1.9.11, as it mentioned ""Fix unsafe injection on Java 12/13."" and using ASM 7.1 (more bug fixes and enhancements [https://asm.ow2.io/versions.html]).","22/Aug/19 3:50 PM;brian.stansberry;[~ropalka] is this our only JDK 13 problem?","22/Aug/19 3:56 PM;ropalka;Yes [~brian.stansberry]","25/Aug/19 10:57 AM;ropalka;Any chance [~smarlow] this issue will be solved till WildFly final release?","26/Aug/19 11:21 AM;brian.stansberry;[~smarlow] [~gbadner] 

Is there any benefit in a WF PR upgrading just Byte Buddy and not Hibernate? Or do we know Hibernate changes are required? I wouldn't want to *merge* such a PR, unless you say it's ok, but if we have it we can see how CI treats it, how JDK 13 treats it etc.","26/Aug/19 11:41 AM;smarlow;[~brian.stansberry] imo, we could do the upgrade in WildFly but that sort of goes against our ""upstream first"" rule.  As, we could get stuck if for some reason, the Hibernate team doesn't update the ORM 5.3.x branch to work with the ByteBuddy upgrade.  ","26/Aug/19 12:00 PM;brian.stansberry;https://github.com/wildfly/wildfly/pull/12532

It's a Draft; it's got the 'hold' label on it. It's not going to get merged. I just want to see what happens with CI. I agree the real thing should come in via a Hibernate update, or at least with the update applied and tested in the Hibernate 5.3 branch.","26/Aug/19 12:05 PM;smarlow;Oh, then that is fine then! :)  I did run a lot of WF unit tests locally already as well [https://issues.jboss.org/browse/WFLY-12063?focusedCommentId=13757425&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13757425]

[https://github.com/wildfly/wildfly/pull/12533] is the pr for testing","26/Aug/19 1:32 PM;gbadner;[~brian.stansberry], I can do the upgrade before 9/13.","26/Aug/19 5:07 PM;brian.stansberry;Thanks, Gail.

Scott and I both sent up equivalent experimental PRs and CI results from both our PRs look good.  There's a separate discussion about getting some nightly jobs set up that use JDK 13. Once that is set up we can do a custom run of those against a branch with this upgrade.","27/Aug/19 6:25 AM;ropalka;[~brian.stansberry] [~gbadner] [~smarlow] If Hibernate team for any reason will not release Hibernate with upgraded Bytebuddy on time
there's still alternative to revert WFLY-11891 (test changes that introduced this regression):
https://github.com/ropalka/wildfly/commit/cbdfa9aaff6a73ec3852a2209ef937a973c747b5
and then again *revert this revert* after WF 18.Final tag :)","11/Sep/19 10:58 PM;gbadner;[~smarlow], the Hibernate dependency on ByteBuddy has been upgraded to 1.9.11 in 5.3 branch.","13/Sep/19 4:08 PM;brian.stansberry;WFLY-12546 (the Byte Buddy upgrade) is now in. I kicked off a run of our JDK 13 job at https://ci.wildfly.org/viewLog.html?buildId=168036&tab=buildResultsDiv&buildTypeId=WF_MasterLinuxJdk13. If that comes up clean, or at least with nothing related to this, then this can be resolved.

Thanks, [~gbadner]!","16/Sep/19 9:33 AM;ropalka;I tested WildFly & WildFly Core against JDK13 and all tests passed for me.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final."
EE Concurrency SetupContextHandle and ResetContextHandle impls do not declare serialVersionUID,WFLY-12042,12805041,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,emmartins,brian.stansberry,brian.stansberry,30/Apr/19 11:37 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Jul/19 11:13 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Concurrency Utilities,,,,,,,0,,,,,,,The org.glassfish.enterprise.concurrent.spi.ContextHandle interface extends Serializable but the various impls in WildFly are not declaring a serialVersionUID.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12428,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z056ws:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
SaslException: Authentication failed when XA Recovery tries to call remote server,WFLY-12291,12818265,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,flavia.rainone,flavia.rainone,flavia.rainone,16/Jul/19 3:44 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,27/Sep/19 1:51 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Remoting,,,,,,,0,,,,,,,"This is caused by how the current AuthenticationContext is captured when wildfly-transaction-client tries to do transaction recovery. It essentially calls ElytronXmlParser.parseAuthenticationClientConfiguration(), which calls org.wildfly.client.config.ClientConfiguration#getInstance(), which only looks for wildfly-config in various locations.

Also see DefaultAuthenticationContextProvider

{code}
13:30:06,851 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.2.2.GA (WildFly Core 6.0.14.Final-redhat-00001) started in 3798ms - Started 308 of 528 services (319 services are lazy, passive or on-demand)
13:30:46,524 WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016027: Local XARecoveryModule.xaRecovery got XA exception XAException.XAER_RMFAIL: javax.transaction.xa.XAException: WFTXN0034: Failed to acquire a connection for this operation
	at org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.getPeerIdentityXA(RemotingRemoteTransactionPeer.java:94)
	at org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.recover(RemotingRemoteTransactionPeer.java:201)
	at org.wildfly.transaction.client.SubordinateXAResource.recover(SubordinateXAResource.java:203)
	at org.wildfly.transaction.client.SubordinateXAResource.recover(SubordinateXAResource.java:199)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoveryFirstPass(XARecoveryModule.java:622)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:214)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:159)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:770)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:382)
Caused by: javax.security.sasl.SaslException: Authentication failed: none of the mechanisms presented by the server (DIGEST-MD5) are supported
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:444)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)
	at ...asynchronous invocation...(Unknown Source)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:587)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:553)
	at org.jboss.remoting3.ConnectionInfo$None.getConnection(ConnectionInfo.java:82)
	at org.jboss.remoting3.ConnectionInfo.getConnection(ConnectionInfo.java:55)
	at org.jboss.remoting3.EndpointImpl.doGetConnection(EndpointImpl.java:499)
	at org.jboss.remoting3.EndpointImpl.getConnectedIdentity(EndpointImpl.java:445)
	at org.jboss.remoting3.UncloseableEndpoint.getConnectedIdentity(UncloseableEndpoint.java:52)
	at org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.getPeerIdentity(RemotingRemoteTransactionPeer.java:87)
	at org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.getPeerIdentityXA(RemotingRemoteTransactionPeer.java:92)
	... 8 more

13:31:16,537 WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016009: Caught:: java.lang.NullPointerException
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoverySecondPass(XARecoveryModule.java:726)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.bottomUpRecovery(XARecoveryModule.java:507)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkSecondPass(XARecoveryModule.java:258)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:816)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:382)
{code}",,,,,,,,,,,JBEAP-17163,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:13.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z078d8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 10.0.0.Beta8,WFLY-12548,12827980,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,12/Sep/19 9:48 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Sep/19 7:03 PM,,,,,,18.0.0.Final,,,Management,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:13.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08s8s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"Add documentation to the ""Using the Elytron Subsystem"" section on the attributes that can be specified when configuring server and client SSLContexts",WFLY-11925,12799933,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,29/Mar/19 4:37 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,18/Jun/19 6:07 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,0,,,,,,,"Add documentation to the ""Using the Elytron Subsystem"" section on the attributes that can be specified when configuring a {{server-ssl-context}} and a {{client-ssl-context}}.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:13.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12360,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04e7g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Distributable SFSB creation unnecessarily checks passivation store,WFLY-12352,12821457,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,06/Aug/19 7:14 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,09/Aug/19 4:15 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,EJB,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:12.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07qtg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Replace Prometheus Simpleclient by smallrye-metrics,WFLY-12311,12819161,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,jmesnil,jmesnil,22/Jul/19 9:57 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,16/Sep/19 7:34 PM,,,,,,18.0.0.Final,,,MP Metrics,,,,,,,0,,,,,,,"The microprofile-metrics-smallrye extension uses prometheus simple client to collect and expose subsystem metrics because MP Metrics 1.x had blocking limitations (mainly that the metric names must be globally unique and tags/labels were not taken into account to determine uniqueness).

With MP Metrics 2.x, some of these limitations have been removed and it should be possible to use smallrye-metrics internally to expose WildFly subsystem metrics",,,,,,,,,,,,,WFLY-12294,WFLY-12553,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:12.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z07dck:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Sep/19 8:09 AM;jmesnil;In order to replace prometheus client by smallrye-metrics, we need to be able to output WIldFly subsystem metrics in the OpenMetrics format *without* the microprofile scope prefix.

A RFE for smallrye-metrics has been opened at https://github.com/smallrye/smallrye-metrics/pull/177. Once it merged and release, we will be able to remove Prometheus simpleclient from WildFly codebase (draft PR at https://github.com/wildfly/wildfly/pull/12632 that relies on a local build of smallrye-metrics with #177 merged)","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Invalid 'images/images' in image URLs in the docs,WFLY-12277,12817473,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,09/Jul/19 10:33 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,18/Jul/19 4:43 PM,,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Documentation,,,,,,,0,,,,,,,"There are a lot docs.wildfly.org pages with broken image link because the 'images' part of src URL is duplicated.  The images render correctly when looking at the adoc page rendered by github in the wildfly/wildfly repo, but when the asciidoc is rendered to html, the 'images' part of the url is duplicated.

I think what happens is when there is an

image:xxx.png

in the adoc, the asciidoc plugin converts that to an image tag with a src attribute value of ""images/xxx.png"".  But our adoc files have this:

image:images/xxx.png

So, the 'images' is duplicated.

I think we have that in our files because that style renders correctly when looking at the raw adoc in http://github.com/wildfly/wildfly

I think the solution is to remove the 'images' from the line, and instead change the ifdef at the top of the page from:

ifdef::env-github[:imagesdir: ../]

to

ifdef::env-github[:imagesdir: ../images/]

At least with the one example I tried that worked.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jul/19 10:34 PM;brian.stansberry;images_images.txt;https://issues.redhat.com/secure/attachment/12453080/images_images.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12431,https://github.com/wildfly/wildfly/pull/12433,,,,,,,,,,,,,,,1.0,2.0,,,,,,,,,,"1|z073tw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Jul/19 10:35 PM;brian.stansberry;Attached a list of all the places 'images/images' appears in the 'docs' dir in the wildfly source.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade smallrye-health 2.0,WFLY-12554,12828198,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,jmesnil,jmesnil,13/Sep/19 5:09 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,14/Sep/19 6:07 PM,,,,,,18.0.0.Final,,,,,,,,,,0,,,,,,,"Upgrade smallrye-metrics 2.0.0 to use the correct naming/version scheme

https://github.com/smallrye/smallrye-health/compare/smallrye-health-2.0-1.0.2...2.0.0",,,,,,,,,,,,,,,,,,,,,WFLY-12628,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:12.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08tj8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
EJB subsystem configure max threads and core threads independently,WFLY-10057,12740467,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,rjanik,rjanik,21/Mar/18 4:32 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,02/Sep/19 9:57 AM,12.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,,,,,,,"EJB3 subsystem currently only allows setting the {{max-threads}}, not {{core-threads}}.

{noformat}
[standalone@localhost:9990 /] /subsystem=ejb3/thread-pool=default:write-attribute(name=
keepalive-time  max-threads  thread-factory  
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-17 16:23:11.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|hzwcn3:",9223372036854775807,,0.0,,,,,,,,,,,,rjanik,,,,"08/Jul/19 10:01 AM;cfang;Analysis document proposal: https://github.com/wildfly/wildfly-proposals/pull/227","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Provide CLI operation which returns used journal type - NIOxASYNCIO,WFLY-5286,12584131,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,mnovak,mnovak,07/Sep/15 7:01 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,14/Aug/19 7:36 PM,10.0.0.Beta2,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,0,,,,,,,There is no way to get information which journal type is used using CLI as attribute journal-type provides only information which journal type is configured but not which one is actually used in runtime because Artemis falls back to NIO journal type if AIO natives are not located. New operation or attribute should be provided.,,,,,,,,,,,JBEAP-1003,,WFLY-12326,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,?,,,2016-04-18 05:47:16.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12450,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|hzallb:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Apr/16 5:47 AM;jmesnil;PR for master branch","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
WFTC is not integrated with http-client and transaction propagation does not work for server to server ejb over HTTP calls,WFLY-12184,12812316,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,ochaloup,ochaloup,11/Jun/19 4:34 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,20/Aug/19 7:50 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,,,,,,,"The ejb over http (aka. InitialContext lookup using the {{http://}} protocol) should be working fine (see https://issues.jboss.org/browse/WFLY-5029) but the transaction propagation does not work as the http-client provider is not integrated with WFTC.

The integration needs to be fixed. A naive way of fixing this is here:
https://github.com/ochaloup/wildfly/commit/e8e011b9597113a6fd80e9c2b26004b0690ba6d1",,,,,,,,,,,,,WEJBHTTP-26,WFLY-12270,,,,,,,WFLY-5029,EAP7-1236,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-08 05:54:14.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12420,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z06c98:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Jul/19 5:54 AM;kabirkhan;[~flavia.rainone] [~ochaloup] The http client upgrade has been merged","08/Jul/19 8:21 AM;kabirkhan;[~ochaloup] it is merged now. I got so carried away with Jira earlier that I forgot to actually press the merge button on the PR :)","08/Jul/19 9:09 AM;ochaloup;[~kabirkhan] thanks! :0)

I created a PR for this issue.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
Batch resources should use request-controller capability wiring,WFLY-12282,12817637,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,11/Jul/19 3:13 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Jul/19 11:19 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Batch,,,,,,,0,,,,,,,"This kind of thing is a bug:

https://github.com/wildfly/wildfly/blob/8d46601ce6757d26877df6cb61d56a90a3869451/batch-jberet/src/main/java/org/wildfly/extension/batch/jberet/BatchSubsystemDefinition.java#L182

The subsystem exposes a capability so consumers of its services should use the capabilities API to handle requiring it and accessing its services.",,,,,,,,,,,WFLY-11841,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:11.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12427,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z074po:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Create a sitemap for docs.wildfly.org,WFLY-12276,12817438,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,09/Jul/19 1:01 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,09/Jul/19 9:23 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Documentation,,,,,,,0,,,,,,,"I've seen that google reports pages from various versions of our docs as the 'canonical' version of the page.[1] This is understandable, as google has no way know what's 'canonical', e.g. that the 17 folder is more relevant than the 14 folder and in many cases the pages themselves are identical.  But I presume this will mean docs searches are more likely to direct people to older docs versions.

Of the various ways to improve this, the one that seems *possibly* practical is to add a sitemap file[2].  There are way too many pages to cover them all, but perhaps covering the root page for the version plus the root page of the various documents (Admin Guide, Developer Guide, etc) will suffice to get crawlers to focus on those pages, and then the rest will be ranked appropriately based on crawling from those roots. Or not; I'm no SEO SME. ;)

Part of the PR for adding docs for a new release would then be to update the sitemap doc, e.g. to replace '17' in URLs with '18'.

[~jamezp] FYI.

[1] https://support.google.com/webmasters/answer/139066
[2] https://support.google.com/webmasters/answer/183668?hl=en&ref_topic=4581190",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jul/19 2:57 PM;jamezp;sitemap.xml;https://issues.redhat.com/secure/attachment/12453064/sitemap.xml",,,,,,,,,,,,,,,,,,,2019-07-09 14:58:27.0,,,,,,,,,https://github.com/wildfly/wildfly.github.io/pull/9,,,,,,,,,,,,,,,,1.0,3.0,,,,,,,,,,"1|z073ng:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Jul/19 2:58 PM;jamezp;I've not yet read those links, but the attached sitemap.xml I generated using a nodejs command.","09/Jul/19 4:00 PM;brian.stansberry;Thanks; that looks like it covers things.

We'd want to remove the 16 and earlier URLs. Per the docs in [1] from the description, when using a sitemap to specify canonical URLs:

""Don't include non-canonical pages in a sitemap. If using a sitemap, specify only canonical URLs in the sitemap.""","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Define a galleon layer for transactions,WFLY-12269,12816833,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,04/Jul/19 5:30 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,18/Jul/19 6:44 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,0,,,,,,,"This layer would add some benefits:
1) Avoid duplication of permissions we are observing with feature-groups in a cloud-profile context.
2) Allow extension in other context. For example, transactions layer could be redefined in order to enable tx-recovery (add node-identifier=${jboss.node.name} and recovery-listener=true attributes added to the subsystem) and package needed JBOSS modules (eg: tooling for tx-recovery).
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:11.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12417,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07084:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Document missing discovery capabilities,WFLY-12225,12814799,12755791,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,rhusar,rhusar,21/Jun/19 7:21 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,21/Aug/19 4:38 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,"namely https://github.com/wildfly/wildfly-capabilities/tree/master/org/wildfly/discovery/provider/capability.adoc
",,,,,,,,,,,,,,,,,,,WFLY-12222,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:11.0,,,,,,,,,https://github.com/wildfly/wildfly-capabilities/pull/37,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06ogs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api,WFLY-5966,12598770,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,brian.stansberry,brian.stansberry,08/Jan/16 3:37 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,04/Sep/19 7:45 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Server,,,,,,,0,,,,,,,"The WFLY-5922 fix removed the exporting of a number of modules from javax.ejb.api. That introduced some problems with modules that depended on those exported packages no longer having visibility to needed classes, so to prevent problems I blindly added a commit to the module.xml for each module that depended upon javax.ejb.api to add a dependency set like this:

{code}
        <!-- TODO validate the need for these and remove if not needed.
             Prior to WFLY-5922 they were exported by javax.ejb.api. -->
        <module name=""javax.api""/>
        <module name=""javax.transaction.api""/>
        <module name=""javax.xml.rpc.api""/>
        <module name=""javax.rmi.api""/>
        <module name=""org.omg.api""/>
{code}

If a module already had a dep on one of those, it's not in the block.

This task is to check each of these modules and replace that block with normal dependency declarations for any that are truly needed.

Affected modules:

-feature-pack/src/main/resources/modules/system/layers/base/javax/management/j2ee/api/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/ejb3/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/jsr77/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/webservices/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/weld/main/module.xml-        
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/xts/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/ejb-client/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/ejb3/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/iiop-client/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/metadata/appclient/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/metadata/ejb/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/narayana/compensations/main/module.xml-        
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/narayana/rts/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/narayana/txframework/main/module.xml-        
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/weld/core/main/module.xml-        
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/ws/common/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/xts/main/module.xml-        
-feature-pack/src/main/resources/modules/system/layers/base/org/wildfly/extension/rts/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/jpa/main/module.xml-
-feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/jpa/spi/main/module.xml-

feature-pack/src/main/resources/modules/system/layers/base/javaee/api/main/module.xml

The following modules were indirectly affected via their dependency on javaee.api, which in turn exports javax.ejb.api:

feature-pack/src/main/resources/modules/system/layers/base/org/jberet/jberet-core/main/module.xml
jsf/multi-jsf-installer/src/main/resources/mojarra-impl-module.xml
jsf/multi-jsf-installer/src/main/resources/myfaces-impl-module.xml
feature-pack/src/main/resources/modules/system/layers/base/com/sun/jsf-impl/main/module.xml
jsf/subsystem/src/test/resources/modules/com/sun/jsf-impl/main/module.xml
jsf/subsystem/src/test/resources/modules/com/sun/jsf-impl/myfaces/module.xml
jsf/subsystem/src/test/resources/modules2/com/sun/jsf-impl/myfaces2/module.xml
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2017-02-27 04:19:39.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|hzcx7b:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"27/Feb/17 4:19 AM;mkouba;It should be safe to remove the depndencies from the {{org.jboss.weld.core}} module (feature-pack/src/main/resources/modules/system/layers/base/org/jboss/weld/core/main/module.xml). Weld subsystem module.xml does not contain the dependencies any more.

Note that this ""blind addition"" significantly affects the size of  WildFly Swarm uberjar because {{org.omg.api}} depends on {{org.jboss.jts}} -> {{org.apache.activemq.artemis}} -> {{org.wildfly.extension.messaging-activemq}} -> {{org.jboss.as.weld}} etc etc.. So once you add any of the modules mentioned above the size grows significantly (brings EJB3, Hibernate, etc.).","22/Mar/18 1:28 PM;smarlow;[https://github.com/wildfly/wildfly/pull/11042] contains the requested changes for:
* feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/jpa/main/module.xml
* feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/jpa/spi/main/module.xml

I assume that we don't want to just change all of them at once, in case our testsuite doesn't cover all of the requested changes.","02/Nov/18 1:03 PM;yersan;Just for the record, these removals were done in https://issues.jboss.org/browse/WFLY-11165
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/xts/main/module.xml     
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/narayana/compensations/main/module.xml   
","21/Mar/19 5:43 AM;yersan;{{javaee.api}} requires the no longer exported libraries from {{javax.ejb.api}}, so the tasks on the following modules are to verify that they really need all the libraries exported by {{javaee.api}}:

feature-pack/src/main/resources/modules/system/layers/base/org/jberet/jberet-core/main/module.xml
jsf/multi-jsf-installer/src/main/resources/mojarra-impl-module.xml
jsf/multi-jsf-installer/src/main/resources/myfaces-impl-module.xml
feature-pack/src/main/resources/modules/system/layers/base/com/sun/jsf-impl/main/module.xml
jsf/subsystem/src/test/resources/modules/com/sun/jsf-impl/main/module.xml
jsf/subsystem/src/test/resources/modules/com/sun/jsf-impl/myfaces/module.xml
jsf/subsystem/src/test/resources/modules2/com/sun/jsf-impl/myfaces2/module.xml","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,
Update AggregateRealmTestCase to use ConfigurableElement definitions,WFLY-12179,12812076,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,08/Jun/19 10:53 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,13/Jun/19 4:47 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,Test Suite,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:10.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06auk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Subsystems should use the capability instead of SuspendController.SERVICE_NAME,WFLY-12367,12822110,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,09/Aug/19 10:30 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Aug/19 3:34 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Batch,EJB,Management,mod_cluster,Transactions,Web (Undertow),,0,,,,,,,"The SuspendController is available using a capability, so subsystems should access it that way instead using the deprecated SERVICE_NAME constant.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12491,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ujo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Align legacy distributable-web subsystem xml template with xml parser description,WFLY-12247,12815793,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,27/Jun/19 9:29 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,28/Jun/19 1:07 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"Legacy build template uses:
<infinispan-session-management name=""default"" cache-container=""web"" granularity=""SESSION"">

... but xml parser description outputs:
<infinispan-session-management name=""default"" granularity=""SESSION"" cache-container=""web"">",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:10.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12394,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06u24:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Log spam in category org.apache.activemq.audit.base,WFLY-12236,12815081,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,brian.stansberry,brian.stansberry,24/Jun/19 10:54 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,28/Jun/19 2:17 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,JMS,,,,,,,0,,,,,,,"Artemis is spamming the logs with what look like low-level messages, but recorded at INFO level:

{code}
14:43:29,427 INFO  [org.apache.activemq.audit.base] (Thread-40 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@39c78b17)) AMQ601265: User 4dd3d543-be6a-4a9a-b5d2-5cac9efe8f0f is creating a core consumer on target resource ServerSessionI mpl(jms-session=*N/A*) [with parameters: [175, jms.queue.DCS_DEV.processDcsIntegrationQueue, null, 0, false, true, null]]                                                                                                                                                      
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-24 11:47:54.0,,,,,,,,https://developer.jboss.org/thread/280272,https://github.com/wildfly/wildfly/pull/12386,https://github.com/wildfly/wildfly/pull/12395,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z06q1w:",9223372036854775807,,0.0,,,,,,,,,,,,,,Workaround Exists,"Configure the logging subsystem to limit the offending category to WARN or higher severity:

{code}
            <logger category=""org.apache.activemq.audit.base"">
                <level name=""WARN""/>
            </logger>
{code}

CLI examples for both the {{org.apache.activemq.audit.base}} and {{org.apache.activemq.audit.message}} categories.
{code}
/subsystem=logging/logger=org.apache.activemq.audit.base:add(level=WARN)
/subsystem=logging/logger=org.apache.activemq.audit.message:add(level=WARN)
{code}","24/Jun/19 11:00 AM;brian.stansberry;As the reporter has noted this logs enough that their system is running out of disk space, I'm elevating this to Blocker.","24/Jun/19 11:47 AM;jamezp;We probably also want to do the same config change for {{org.apache.activemq.audit.message}} which is part of the same audit logger.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Move javax.validation to jakarta.validation,WFLY-12523,12827320,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,09/Sep/19 4:24 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,11/Sep/19 11:46 AM,,,,,,18.0.0.Final,,,Bean Validation,,,,,,,0,,,,,,,Move from javax.validation:validation-api:2.0.1 to jakarta.validation:jakarta.validation-api:2.0.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12615,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08oes:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Update wildfly-transaction-client to 1.1.7.Final,WFLY-12453,12825236,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,29/Aug/19 6:09 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,30/Aug/19 7:42 PM,17.0.1.Final,,,,,18.0.0.Final,,,Transactions,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFTC-75,WFWIP-201,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:10.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08c1g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-jsf-api_2.3_spec to 3.0.0.CR1,WFLY-12436,12824914,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,27/Aug/19 6:42 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,27/Aug/19 11:32 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,JSF,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-28 03:56:54.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12542,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z08a5g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Aug/19 3:56 AM;soul2zimate;https://github.com/wildfly/wildfly/pull/12542#issuecomment-525596213 I have a problem with this upgrade in PR.","28/Aug/19 9:50 AM;fjuma;[~soul2zimate] As mentioned on the PR, I can successfully access the artifact using both the HTTPS and HTTP URLS. Are you still seeing this issue?","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Merged/Killed member handling in CacheRegistry triggers intermittent failures during server startup,WFLY-12414,12824232,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,pferraro,pferraro,22/Aug/19 12:34 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,23/Aug/19 9:50 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"Sometimes (1:100) one of EAPs does not start .

So far we are seeing this only on OCP 4 jobs. Thus filling as OCP 4 bug.
Currently automatic restart of not ""Ready"" pods does not work on OCP 4, so maybe that is why we see only on OCP .

So far we hit mainly on Upstream Kube ping, but once we saw on Upstream DNS Ping.

{code}
[0m[31m11:24:39,946 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 77) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache.web.default-server: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache.web.default-server: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:70)
	at org.wildfly.clustering.service.AsyncServiceConfigurator$AsyncService.lambda$start$0(AsyncServiceConfigurator.java:117)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
	at org.infinispan.commons.util.SecurityActions.lambda$invokeAccessibly$0(SecurityActions.java:83)
	at org.infinispan.commons.util.SecurityActions.doPrivileged(SecurityActions.java:71)
	at org.infinispan.commons.util.SecurityActions.invokeAccessibly(SecurityActions.java:76)
	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:185)
	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:968)
	at org.infinispan.factories.AbstractComponentRegistry.lambda$invokePrioritizedMethods$6(AbstractComponentRegistry.java:703)
	at org.infinispan.factories.SecurityActions.lambda$run$1(SecurityActions.java:72)
	at org.infinispan.security.Security.doPrivileged(Security.java:44)
	at org.infinispan.factories.SecurityActions.run(SecurityActions.java:71)
	at org.infinispan.factories.AbstractComponentRegistry.invokePrioritizedMethods(AbstractComponentRegistry.java:696)
	at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:689)
	at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:607)
	at org.infinispan.factories.ComponentRegistry.start(ComponentRegistry.java:244)
	at org.infinispan.cache.impl.CacheImpl.start(CacheImpl.java:1051)
	at org.infinispan.cache.impl.AbstractDelegatingCache.start(AbstractDelegatingCache.java:421)
	at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:646)
	at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:591)
	at org.infinispan.manager.DefaultCacheManager.internalGetCache(DefaultCacheManager.java:477)
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:463)
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:449)
	at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:86)
	at org.wildfly.clustering.infinispan.spi.service.CacheServiceConfigurator.get(CacheServiceConfigurator.java:77)
	at org.wildfly.clustering.infinispan.spi.service.CacheServiceConfigurator.get(CacheServiceConfigurator.java:55)
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:67)
	... 7 more
Caused by: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1
	at org.infinispan.topology.LocalTopologyManagerImpl.waitForView(LocalTopologyManagerImpl.java:556)
	at org.infinispan.topology.LocalTopologyManagerImpl.join(LocalTopologyManagerImpl.java:151)
	at org.infinispan.statetransfer.StateTransferManagerImpl.start(StateTransferManagerImpl.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.infinispan.commons.util.SecurityActions.lambda$invokeAccessibly$0(SecurityActions.java:79)
	... 30 more

[0m[31m11:24:39,947 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 83) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache.web.ROOT.war: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache.web.ROOT.war: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:70)
	at org.wildfly.clustering.service.AsyncServiceConfigurator$AsyncService.lambda$start$0(AsyncServiceConfigurator.java:117)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
	at org.infinispan.commons.util.SecurityActions.lambda$invokeAccessibly$0(SecurityActions.java:83)
	at org.infinispan.commons.util.SecurityActions.doPrivileged(SecurityActions.java:71)
	at org.infinispan.commons.util.SecurityActions.invokeAccessibly(SecurityActions.java:76)
	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:185)
	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:968)
	at org.infinispan.factories.AbstractComponentRegistry.lambda$invokePrioritizedMethods$6(AbstractComponentRegistry.java:703)
	at org.infinispan.factories.SecurityActions.lambda$run$1(SecurityActions.java:72)
	at org.infinispan.security.Security.doPrivileged(Security.java:44)
	at org.infinispan.factories.SecurityActions.run(SecurityActions.java:71)
	at org.infinispan.factories.AbstractComponentRegistry.invokePrioritizedMethods(AbstractComponentRegistry.java:696)
	at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:689)
	at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:607)
	at org.infinispan.factories.ComponentRegistry.start(ComponentRegistry.java:244)
	at org.infinispan.cache.impl.CacheImpl.start(CacheImpl.java:1051)
	at org.infinispan.cache.impl.AbstractDelegatingCache.start(AbstractDelegatingCache.java:421)
	at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:646)
	at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:591)
	at org.infinispan.manager.DefaultCacheManager.internalGetCache(DefaultCacheManager.java:477)
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:463)
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:449)
	at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:86)
	at org.wildfly.clustering.infinispan.spi.service.CacheServiceConfigurator.get(CacheServiceConfigurator.java:77)
	at org.wildfly.clustering.infinispan.spi.service.CacheServiceConfigurator.get(CacheServiceConfigurator.java:55)
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:67)
	... 7 more
Caused by: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1
	at org.infinispan.topology.LocalTopologyManagerImpl.waitForView(LocalTopologyManagerImpl.java:556)
	at org.infinispan.topology.LocalTopologyManagerImpl.join(LocalTopologyManagerImpl.java:151)
	at org.infinispan.statetransfer.StateTransferManagerImpl.start(StateTransferManagerImpl.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.infinispan.commons.util.SecurityActions.lambda$invokeAccessibly$0(SecurityActions.java:79)
	... 30 more

[0m[31m11:24:39,954 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""ROOT.war"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""org.wildfly.clustering.infinispan.cache.web.ROOT.war"" => ""org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
    Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
    Caused by: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1""}}
[0m[31m11:24:39,956 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""undertow""),
    (""server"" => ""default-server"")
]) - failure description: {""WFLYCTL0080: Failed services"" => {""org.wildfly.clustering.infinispan.cache.web.default-server"" => ""org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
    Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
    Caused by: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1""}}
[0m[0m11:24:39,963 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 43) WFLYSRV0010: Deployed ""ROOT.war"" (runtime-name : ""ROOT.war"")
[0m[0m11:24:39,967 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report
WFLYCTL0186:   Services which failed to start:      service org.wildfly.clustering.infinispan.cache.web.ROOT.war: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
      service org.wildfly.clustering.infinispan.cache.web.default-server: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
WFLYCTL0448: 9 additional services are down due to their dependencies being missing or failed
[0m[0m11:24:40,047 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server
[0m[0m11:24:40,050 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management
[0m[0m11:24:40,050 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0054: Admin console is not enabled
[0m[31m11:24:40,050 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: JBoss EAP 7.2.2.GA (WildFly Core 6.0.14.Final-redhat-00001) started (with errors) in 265662ms - Started 540 of 784 services (12 services failed or missing dependencies, 484 services are lazy, passive or on-demand)
[0m[0m11:24:42,650 INFO  [org.apache.activemq.artemis.core.server] (Thread-0 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$5@554b59fa)) AMQ221056: Reloading configuration: logging
[0m[33m11:24:42,650 WARN  [org.apache.activemq.artemis.core.server] (Thread-0 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$5@554b59fa)) AMQ222276: Failed to process changes to the logging configuration file: file:/opt/eap/standalone/configuration/logging.properties
[0m[31m11:28:39,946 ERROR [org.infinispan.topology.LocalTopologyManagerImpl] (transport-thread--p19-t4) ISPN000230: Failed to start rebalance for cache default-server: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1
	at org.infinispan.topology.LocalTopologyManagerImpl.waitForView(LocalTopologyManagerImpl.java:556)
	at org.infinispan.topology.LocalTopologyManagerImpl.doHandleRebalance(LocalTopologyManagerImpl.java:487)
	at org.infinispan.topology.LocalTopologyManagerImpl.lambda$handleRebalance$3(LocalTopologyManagerImpl.java:475)
	at org.infinispan.executors.LimitedExecutor.runTasks(LimitedExecutor.java:175)
	at org.infinispan.executors.LimitedExecutor.access$100(LimitedExecutor.java:37)
	at org.infinispan.executors.LimitedExecutor$Runner.run(LimitedExecutor.java:227)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
	at java.lang.Thread.run(Thread.java:748)

[0m[31m11:28:39,948 ERROR [org.infinispan.topology.LocalTopologyManagerImpl] (transport-thread--p19-t5) ISPN000230: Failed to start rebalance for cache ROOT.war: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1
	at org.infinispan.topology.LocalTopologyManagerImpl.waitForView(LocalTopologyManagerImpl.java:556)
	at org.infinispan.topology.LocalTopologyManagerImpl.doHandleRebalance(LocalTopologyManagerImpl.java:487)
	at org.infinispan.topology.LocalTopologyManagerImpl.lambda$handleRebalance$3(LocalTopologyManagerImpl.java:475)
	at org.infinispan.executors.LimitedExecutor.runTasks(LimitedExecutor.java:175)
	at org.infinispan.executors.LimitedExecutor.access$100(LimitedExecutor.java:37)
	at org.infinispan.executors.LimitedExecutor$Runner.run(LimitedExecutor.java:227)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
	at java.lang.Thread.run(Thread.java:748)
{code}",,,,,,,,,,,JBEAP-17089,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:09.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z086d0:",9223372036854775807,,0.0,,,,,,,,,,,,,,Workaround Exists,"Use non-blocking startup of cache (i.e. don't wait for initial state transfer to complete before cache is available).
<state-transfer timeout=""0""/>","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Add Documentation for Enhanced Audit Logging - RFC support and Configuring Reconnects,WFLY-12275,12817437,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jucook,jucook,jucook,09/Jul/19 12:08 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,30/Aug/19 7:40 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,0,EAP-CD18,,,,,,"Currently, Audit Logging in Elytron does not have the same capabilities as Legacy Security. This task is to enhance Elytron Audit Logging to have support for RFC5424/RFC3164 and add the additional ability to configure reconnect attempts.
",,,,,,,,,,,WFCORE-4394,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-30 19:40:48.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z073n8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"30/Aug/19 7:40 PM;brian.stansberry;Thanks [~jucook]!","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core to 10.0.0.Beta1,WFLY-12264,12816076,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,brian.stansberry,jmesnil,01/Jul/19 7:00 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,05/Jul/19 8:26 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Server,,,,,,,0,,,,,,,"Move to 10.0.Beta1

https://issues.jboss.org/projects/WFCORE/versions/12341763
",,,,,,,,,,,WFLY-12256,,,,,,,,,,,,,,,,,,,WFLY-12229,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06vr8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Explicitly disable the inheritance of Galleon configurations from transitive feature pack,WFLY-12580,12829376,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,20/Sep/19 6:10 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,23/Sep/19 2:24 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Build System,,,,,,,0,,,,,,,"Since galleon 4.0.1.Final, configurations from transitive feature pack dependencies are inherited by default. This is a bug in Galleon. As a temporal workaround in WildFly, we have to explicitly stop such inheritance until having the proper fix with a Galleon upgrade.
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:09.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12666,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08zxg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
JMS Bridge should display statistics about messages that have been processed.,WFLY-6684,12630089,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,bayern39,bayern39,08/Jun/16 5:14 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,20/Jun/19 4:25 PM,10.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,0,,,,,,,"The JMS bridge should show some statistics about messages that have been processed through the bridge for example:
 - number of messages successfully committed
 - number of messages aborted/rollback

",,,,,,,,,,,PRODMGT-1814,,WFLY-11876,,,,,,,,,,,,,,,,,,,,,,,,"09/Aug/16 10:22 PM;bayern39;JBEAP-4653.patch;https://issues.redhat.com/secure/attachment/12408119/JBEAP-4653.patch",,,,,,,,,,,,,,,,,,,2017-06-07 07:50:34.0,,,,,,,,https://c.na7.visual.force.com/apex/Case_View?id=500A000000U2RpS&sfdc.override=1,https://github.com/wildfly/wildfly/pull/12179,,,,,,,,,,,,,,,,1.0,4.0,,,,,,,,,,"1|hzhdg7:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Jun/16 9:46 PM;bayern39;i have commited a pr of artemis project,so if we want to apply this feature,we must upgrade the messaging.i will  fix the wildfly to apply this feature and write a test case to validate this feature.","09/Aug/16 10:26 PM;bayern39;This patch is the modify in wildfly for applying this feature,if you want to validate this feature use the patch you must update the Artemis and  change the version in pom.xml.","07/Jun/17 7:50 AM;jdanek;[~bayern39] I believe that the Artemis patch does not do exactly what is desired. See discussion on ENTMQBR-256. The getMessageCount gives number of messages that the bridge attempted to send, not ""number of messages successfully committed"".","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
 Standalone EJB Client using Remote UserTransaction can hang if there are more than 15 concurrent client threads,WFLY-12056,12806153,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,08/May/19 4:01 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,04/Sep/19 7:47 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,downstream_dependency,,,,,,Standalone EJB Client using Remote UserTransaction can hang if there are more than 15 concurrent client threads,,,,,,,,,XNIO-339,,,,,,,,,,,,WFLY-10150,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-29 05:50:11.0,,,,,,,,,https://github.com/xnio/xnio/pull/187,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05d2c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"29/Jul/19 5:50 AM;mstefank;PR is merged in XNIO 3.7.2.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Clean out subsystem compatibility tests with EAP versions before 6.4,WFLY-12417,12824263,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,22/Aug/19 7:00 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,05/Sep/19 11:15 PM,,,,,,18.0.0.Final,,,CDI / Weld,EE,EJB,JCA,JMS,Web Services,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12521,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z086jg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
SQLException.getSQLState() and getCause() are null with XADatasource connection for postgresql during network failure,WFLY-12315,12819386,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,istudens,istudens,istudens,23/Jul/19 9:06 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,04/Sep/19 7:48 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,JCA,,,,,,,0,,,,,,,"
When using staled connection of xa datasource, the connection throws SQLException.
Then SQLException.getSQLState() and getCause() returns null if using XA datasource.

The SQLException is re-created in the following stack.
{code}
#####: java.sql.SQLException: Error
	at org.jboss.jca.adapters.jdbc.WrappedConnection.checkException(WrappedConnection.java:2033)
	at org.jboss.jca.adapters.jdbc.WrappedStatement.checkException(WrappedStatement.java:1436)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeQuery(WrappedPreparedStatement.java:509)
	at com.example.SelectXaServlet.doGet(SelectXaServlet.java:41)
{code}

- adapters/src/main/java/org/jboss/jca/adapters/jdbc/WrappedConnection.java
{code}
   protected SQLException checkException(Throwable t) throws SQLException
   {
      Throwable result = null;
      if (t instanceof AbstractMethodError)
      {
         t = new SQLFeatureNotSupportedException(bundle.methodNotImplemented(), t);
      }

      if (mc != null)
         result = mc.connectionError(t);

      if (result instanceof SQLException)
      {
         throw (SQLException) result;
      }
      else
      {
         throw new SQLException(""Error"", result); // If the managed connection is null, create a new SQLException.
      }

   }
{code}

In the above, the managed connection is null.
This is because that the ConnectionEventListener#connectionErrorOccurred() fired by the Postgresql driver.
(oracle driver doesn't fire the event during executing statement, so this issue doen't occur.)

{code}
	at org.jboss.jca.adapters.jdbc.WrappedConnection.setManagedConnection(WrappedConnection.java:120) // null set
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.cleanup(BaseWrapperManagedConnection.java:339)
	- locked <0x00000000f9ea3560> (a java.util.HashSet)
	at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.returnConnection(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:666)
	at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.returnConnection(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:611)
	at org.jboss.jca.core.connectionmanager.pool.AbstractPool.returnConnection(AbstractPool.java:847)
	at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.returnManagedConnection(AbstractConnectionManager.java:725)
	at org.jboss.jca.core.connectionmanager.listener.AbstractConnectionListener.connectionErrorOccurred(AbstractConnectionListener.java:472)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.broadcastConnectionError(BaseWrapperManagedConnection.java:673)
	at org.jboss.jca.adapters.jdbc.xa.XAManagedConnection.broadcastConnectionError(XAManagedConnection.java:203)
	at org.jboss.jca.adapters.jdbc.xa.XAManagedConnection$1.connectionErrorOccurred(XAManagedConnection.java:91)
	at org.postgresql.ds.PGPooledConnection.fireConnectionFatalError(PGPooledConnection.java:183)
	at org.postgresql.ds.PGPooledConnection.fireConnectionError(PGPooledConnection.java:237)
	at org.postgresql.ds.PGPooledConnection.access$200(PGPooledConnection.java:38)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:428)
	at com.sun.proxy.$Proxy64.executeQuery(Unknown Source)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeQuery(WrappedPreparedStatement.java:504)
	at com.example.SelectXaServlet.doGet(SelectXaServlet.java:41)
{code}

adapters/src/main/java/org/jboss/jca/adapters/jdbc/xa/XAManagedConnection.java
{code}
   public XAManagedConnection(XAManagedConnectionFactory mcf, XAConnection xaConnection, Properties props,
                              int transactionIsolation, int psCacheSize) throws SQLException
   {
      super(mcf, xaConnection.getConnection(), props, transactionIsolation, psCacheSize);

      this.xaConnection = xaConnection;
      xaConnection.addConnectionEventListener(new javax.sql.ConnectionEventListener()
      {
         ...<snip>

         public void connectionErrorOccurred(javax.sql.ConnectionEvent ce)
         {
            SQLException ex = ce.getSQLException();
            broadcastConnectionError(ex);          // cleanup and return this connection when this event fired.
         }
      });
{code}
",,,,,,,,,,,JBJCA-1391,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:08.0,,,,,,,,,https://github.com/ironjacamar/ironjacamar/pull/687,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ems:",9223372036854775807,,0.0,,,,,"reproducer.zip attached.

1. start-up postgreSQL
2. start-up EAP and deploy reproducer. A XA connection need to be created by prefill. (it need to create an connection before execute statement.)
3. shut down postgreSQL. then the pooled connection was staled.
4. invoke servlet as reproducer (SelectXAServlet, SelectServlet), the reproducer will do getConnection and statement.execute.

/selectxa -> using xa connection. SQLException#getSQLState() will be null.
/select   -> using non-xa conneciton. SQLException#getSQLState() will be not-null such as 08006.

Those results would be out to System.out.

If setting valid-on-match, the application needs to sleep between getConnection and statement.execute.
While the application sleeping, shutting down the postgreSQL instance.
You can see the same issue with the step.
The reproducer includes the servlets with sleep (SleepServlet, SleepXAServlet).
",,,,,,,,,,none,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Move com.sun.mail:javax.mail to com.sun.mail:jakarta.mail-api,WFLY-12524,12827323,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,09/Sep/19 5:19 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,11/Sep/19 11:46 AM,,,,,,18.0.0.Final,,,Mail,,,,,,,0,,,,,,,"Move from com.sun.mail:javax.mail:1.6.2 to com.sun.mail:jakarta.mail-api:1.6.4

Note that this differs from jakarta.mail:jakarta.mail-api:1.6.4, which is only an API jar. The com.sun.mail artifact includes impl classes we use.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12617,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ofg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Timer ScheduleExpression default timezone should be null,WFLY-12469,12825579,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,01/Sep/19 12:28 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,02/Sep/19 9:00 PM,18.0.0.Beta1,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,,,,,,,"According to javadoc: https://javaee.github.io/javaee-spec/javadocs/javax/ejb/ScheduleExpression.html

public String getTimezone()

Return the timezone, if set; otherwise null.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:08.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08e18:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
wildfly-clustering-web-hotrod contains unreferenced classes,WFLY-12181,12812204,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,10/Jun/19 11:33 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,13/Jun/19 4:31 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"HotRodMarshaller was refactored into wildfly-clustering-infinispan-extension.
RemoteCacheContainerConfiguration and RemoteCacheContainerFactory were made obsolete as part of WFLY-7719",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:07.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06bl0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Naming Client to 1.0.11.Final,WFLY-12162,12810847,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,04/Jun/19 5:33 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,13/Jun/19 4:51 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Naming,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:07.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z063lo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Performance impact of moving from InjectedValue.getValue() reads to MSC Supplier impl get() reads,WFLY-12372,12822674,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,ropalka,brian.stansberry,brian.stansberry,13/Aug/19 11:35 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,02/Sep/19 3:01 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,MSC,Server,,,,,,0,,,,,,,"A byproduct of the move from the deprecated MSC org.jboss.msc.service.Service API to the new org.jboss.msc.Service API is that service wiring is shifted from a service getting refs to dependencies via InjectedValue.getValue() to Supplier.get() calls where the supplier is obtained from a ServiceBuilder.requires(....) call.

The concurrency characteristics of these two calls are different, which can result in performance changes if the calls are frequent; i.e. are part of high volume user request handling call paths. For example:

{code}
org.jboss.msc.service.ServiceRegistrationImpl.getValue()
   org.jboss.msc.service.ReadableValueImpl.get()	
  org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(InterceptorContext)      org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(InterceptorContext)
            org.jboss.invocation.InterceptorContext.proceed()
{code}

An InjectedValue.getValue() call involves a read of a volatile field, followed by a read of the getValue() method of the service impl, which is typically also a read of a volatile field.  The stack trace above shows how the Supplier.get() call is handled. The issue is the ServiceRegistrationImpl.getValue() call includes a synchronization lock on the ServiceRegistrationImpl value, which means the call is a concurrency chokepoint if it's used by many requests.

We need to examine the changes we've made related to this MSC API switch and identify and correct cases where this kind of thing has crept in.",,,,,,,,,MSC-248,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07x8k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.management.j2ee:jboss-j2eemgmt-api_1.1_spec to 2.0.0.Final,WFLY-12561,12828442,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,16/Sep/19 4:03 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,16/Sep/19 6:28 PM,,,,,,18.0.0.Final,,,Management,,,,,,,0,,,,,,,https://github.com/jboss/jboss-jakarta-management-api/compare/2.0.0.CR1...jboss:2.0.0.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:07.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ur0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Layers test not disabling inheritance in transitive dependencies,WFLY-12482,12826131,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,04/Sep/19 4:00 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,04/Sep/19 9:08 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,0,,,,,,,"By resolving the transitive dependencies locally, we enable inheritance of packages and configs.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:07.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08hc4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Microprofile REST Client 1.3 implementation,WFLY-12138,12809942,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,29/May/19 12:36 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,15/Jul/19 5:36 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,REST,,,,,,,0,,,,,,,"Provide an implementation of the Microprofile RestClient specification 1.3.
Latest available specification: https://github.com/eclipse/microprofile-rest-client/releases/tag/1.3.2",,,,,,,,,,,,,,,,,,,,,RESTEASY-2257,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-07 15:07:00.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12373,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05ya4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"07/Jun/19 3:07 PM;jamezp;The PR is for the proposal. Placing this back in the Open state.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
NPE with wildfly-openssl using OpenSSL 1.1.1a,WFLY-11640,12788867,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,iweiss,jstourac,jstourac,23/Jan/19 1:18 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,04/Sep/19 7:56 PM,15.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Web (Undertow),,,,,,,0,downstream_dependency,,,,,,"It is impossible to use {{wildfly-openssl}} binding with OpenSSL 1.1.1a (RHEL8 uses 1.1.1 at the moment but there seems to be same issue). There is an NPE during the ciphersuites initialization:
{code}
9:10:58,330 WARNING [org.wildfly.openssl.OpenSSLContextSPI] (MSC service thread 1-3) WFOPENSSL0014 Failed to initialize ciphers: java.lang.NullPointerException
	at org.wildfly.openssl.CipherSuiteConverter.toJava(CipherSuiteConverter.java:284)
	at org.wildfly.openssl.OpenSSLContextSPI.getAvailableCipherSuites(OpenSSLContextSPI.java:109)
	at org.wildfly.openssl.OpenSSLEngine.getSupportedCipherSuites(OpenSSLEngine.java:711)
	at org.wildfly.openssl.OpenSSLSocket.getSupportedCipherSuites(OpenSSLSocket.java:163)
	at javax.net.ssl.SSLContextSpi.engineGetSupportedSSLParameters(SSLContextSpi.java:194)
	at javax.net.ssl.SSLContext.getSupportedSSLParameters(SSLContext.java:436)
	at org.jboss.as.domain.management.security.SSLContextService.wrapSslContext(SSLContextService.java:116)
	at org.jboss.as.domain.management.security.SSLContextService.start(SSLContextService.java:102)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
{code}

and then there is NPE during the request itself:
{code}
19:12:18,417 ERROR [org.xnio.listener] (default I/O-2) XNIO001007: A channel event listener threw an exception: java.lang.NullPointerException
	at org.wildfly.openssl.CipherSuiteConverter.toJava(CipherSuiteConverter.java:284)
	at org.wildfly.openssl.OpenSSLEngine.toJavaCipherSuite(OpenSSLEngine.java:1094)
	at org.wildfly.openssl.OpenSSLEngine.getEnabledCipherSuites(OpenSSLEngine.java:729)
	at org.wildfly.openssl.OpenSSLContextSPI.getCiphers(OpenSSLContextSPI.java:339)
	at org.wildfly.openssl.OpenSSLEngine.getEnabledCipherSuites(OpenSSLEngine.java:720)
	at io.undertow.server.protocol.http.AlpnOpenListener.engineSupportsHTTP2(AlpnOpenListener.java:324)
	at io.undertow.server.protocol.http.AlpnOpenListener$1.apply(AlpnOpenListener.java:239)
	at io.undertow.server.protocol.http.AlpnOpenListener$1.apply(AlpnOpenListener.java:235)
	at io.undertow.server.protocol.http.AlpnOpenListener$SSLConduitUpdater.apply(AlpnOpenListener.java:430)
	at io.undertow.server.protocol.http.AlpnOpenListener$SSLConduitUpdater.apply(AlpnOpenListener.java:419)
	at io.undertow.protocols.alpn.DefaultAlpnEngineManager.registerEngine(DefaultAlpnEngineManager.java:31)
	at io.undertow.protocols.alpn.ALPNManager.registerEngineCallback(ALPNManager.java:80)
	at io.undertow.server.protocol.http.AlpnOpenListener.handleEvent(AlpnOpenListener.java:235)
	at io.undertow.server.protocol.http.AlpnOpenListener.handleEvent(AlpnOpenListener.java:64)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.ChannelListeners$DelegatingChannelListener.handleEvent(ChannelListeners.java:1092)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:131)
	at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:479)
{code}

Looking briefly into it, the cipher that is trying to be used is *{{TLS_AES_256_GCM_SHA384}}*. It is interesting that this cipher has underscores '_' in its name instead of hyphens '-' as most of the openssl ciphers have. Looks like these were added in the sake of TLSv1.3, [see here|https://github.com/openssl/openssl/commit/fa25763b5528b56b448d64bfbaeac54905b0c80d].",,,,,,,,,WFSSL-10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-27 04:17:08.0,,,,,,,,,https://github.com/wildfly/wildfly-openssl/pull/57,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z02pmg:",9223372036854775807,,0.0,,,,,"# start eap with path to OpenSSL 1.1.1a, e.g.:
{code}
./bin/standalone.sh -Dorg.wildfly.openssl.path=/tmp/openssl-1.1.1a/
{code}
# configure tls provider via CLI:
{code}
/core-service=management/security-realm=ApplicationRealm/server-identity=ssl:write-attribute(name=protocol,value=openssl.TLSv1.2)
reload
{code}
# see NPE during ciphers initialization in server.log
# perform request to server, e.g. {{curl -k https://localhost:8443}} and see another NPE
",,,,,,,,,,,"23/Jan/19 1:24 PM;jstourac;Note, JFYI - here is the comparison of cipher sets between 1.1.0i-fips (default on my system) and 1.1.1a (compiled from source):
{code}
-AES128-CCM
-AES128-CCM8
 AES128-GCM-SHA256
 AES128-SHA
 AES128-SHA256
-AES256-CCM
-AES256-CCM8
 AES256-GCM-SHA384
 AES256-SHA
 AES256-SHA256
-CAMELLIA128-SHA
-CAMELLIA128-SHA256
-CAMELLIA256-SHA
-CAMELLIA256-SHA256
-DHE-RSA-AES128-CCM
-DHE-RSA-AES128-CCM8
+DHE-PSK-AES128-CBC-SHA
+DHE-PSK-AES128-CBC-SHA256
+DHE-PSK-AES128-GCM-SHA256
+DHE-PSK-AES256-CBC-SHA
+DHE-PSK-AES256-CBC-SHA384
+DHE-PSK-AES256-GCM-SHA384
+DHE-PSK-CHACHA20-POLY1305
 DHE-RSA-AES128-GCM-SHA256
 DHE-RSA-AES128-SHA
 DHE-RSA-AES128-SHA256
-DHE-RSA-AES256-CCM
-DHE-RSA-AES256-CCM8
 DHE-RSA-AES256-GCM-SHA384
 DHE-RSA-AES256-SHA
 DHE-RSA-AES256-SHA256
-DHE-RSA-CAMELLIA128-SHA
-DHE-RSA-CAMELLIA128-SHA256
-DHE-RSA-CAMELLIA256-SHA
-DHE-RSA-CAMELLIA256-SHA256
 DHE-RSA-CHACHA20-POLY1305
-ECDHE-ECDSA-AES128-CCM
-ECDHE-ECDSA-AES128-CCM8
 ECDHE-ECDSA-AES128-GCM-SHA256
 ECDHE-ECDSA-AES128-SHA
 ECDHE-ECDSA-AES128-SHA256
-ECDHE-ECDSA-AES256-CCM
-ECDHE-ECDSA-AES256-CCM8
 ECDHE-ECDSA-AES256-GCM-SHA384
 ECDHE-ECDSA-AES256-SHA
 ECDHE-ECDSA-AES256-SHA384
-ECDHE-ECDSA-CAMELLIA128-SHA256
-ECDHE-ECDSA-CAMELLIA256-SHA384
 ECDHE-ECDSA-CHACHA20-POLY1305
+ECDHE-PSK-AES128-CBC-SHA
+ECDHE-PSK-AES128-CBC-SHA256
+ECDHE-PSK-AES256-CBC-SHA
+ECDHE-PSK-AES256-CBC-SHA384
+ECDHE-PSK-CHACHA20-POLY1305
 ECDHE-RSA-AES128-GCM-SHA256
 ECDHE-RSA-AES128-SHA
 ECDHE-RSA-AES128-SHA256
 ECDHE-RSA-AES256-GCM-SHA384
 ECDHE-RSA-AES256-SHA
 ECDHE-RSA-AES256-SHA384
-ECDHE-RSA-CAMELLIA128-SHA256
-ECDHE-RSA-CAMELLIA256-SHA384
 ECDHE-RSA-CHACHA20-POLY1305
+PSK-AES128-CBC-SHA
+PSK-AES128-CBC-SHA256
+PSK-AES128-GCM-SHA256
+PSK-AES256-CBC-SHA
+PSK-AES256-CBC-SHA384
+PSK-AES256-GCM-SHA384
+PSK-CHACHA20-POLY1305
+RSA-PSK-AES128-CBC-SHA
+RSA-PSK-AES128-CBC-SHA256
+RSA-PSK-AES128-GCM-SHA256
+RSA-PSK-AES256-CBC-SHA
+RSA-PSK-AES256-CBC-SHA384
+RSA-PSK-AES256-GCM-SHA384
+RSA-PSK-CHACHA20-POLY1305
+SRP-AES-128-CBC-SHA
+SRP-AES-256-CBC-SHA
+SRP-RSA-AES-128-CBC-SHA
+SRP-RSA-AES-256-CBC-SHA
+TLS_AES_128_GCM_SHA256
+TLS_AES_256_GCM_SHA384
+TLS_CHACHA20_POLY1305_SHA256
{code}","27/Feb/19 4:17 AM;iweiss;[~jstourac], do you know the compilation options used for OpenSSL 1.1.1a?

I just tested on Fedora 29 and it worked, no problems.

{noformat}
 $ rpm -qi openssl
Name        : openssl
Epoch       : 1
Version     : 1.1.1a
Release     : 1.fc29
Architecture: x86_64
{noformat}

But I only see the NPE when connecting to the server.","27/Feb/19 10:56 AM;jstourac;[~iweiss], I can see the very same issue even on my Fedora 29. See:
# get and download WildFly 15.0.1.Final
# unzip and start ./bin/standalone.sh
# configure openssl provider:
{code}
/core-service=management/security-realm=ApplicationRealm/server-identity=ssl:write-attribute(name=protocol,value=openssl.TLSv1.2)
reload
{code}
# perform https request against server: curl -k https://localhost:8443
# see error in server.log

Same version of OpenSSL library:
{code}
$ rpm -qi openssl
Name        : openssl
Epoch       : 1
Version     : 1.1.1a
Release     : 1.fc29
Architecture: x86_64
{code}

What version of WildFly have you been testing this against?","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
MockitoException in InfinispanBeanTestCase on latest JDK13,WFLY-12429,12824486,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,ropalka,ropalka,25/Aug/19 10:54 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,09/Sep/19 9:42 PM,,,,,,18.0.0.Final,,,Clustering,,,,,,,0,jdk13,,,,,,"[INFO] Running org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanTestCase
[ERROR] Tests run: 7, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.929 s <<< FAILURE! - in org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanTestCase
[ERROR] isExpired(org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanTestCase)  Time elapsed: 0.027 s  <<< ERROR!
org.mockito.exceptions.base.MockitoException: 

Cannot call abstract real method on java object!
Calling real methods is only possible when mocking non abstract method.
  //correct example:
  when(mockOfConcreteClass.nonAbstractMethod()).thenCallRealMethod();
	at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanTestCase.isExpired(InfinispanBeanTestCase.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-26 11:09:08.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12616,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z087wc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Aug/19 10:55 AM;ropalka;Just FYI [~brian.stansberry] this issue is new regression on latest JDK13 ","26/Aug/19 11:09 AM;brian.stansberry;[~ropalka] Can you apply some label to these JDK 13 issues so it's easy to query them? Thanks.","27/Aug/19 6:18 AM;ropalka;Added jdk13 label to known issues [~brian.stansberry]","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
Running testsuite/integration/microprofile-tck/opentracing twice without cleaning fails,WFLY-12398,12823855,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ehugonnet,brian.stansberry,brian.stansberry,20/Aug/19 6:14 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,21/Aug/19 6:58 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP OpenTracing,,,,,,,0,,,,,,,"If you try to run testsuite/integration/microprofile-tck/opentracing twice without cleaning you get:

{code}
[INFO] Running TestSuite
[ERROR] Tests run: 46, Failures: 1, Errors: 0, Skipped: 45, Time elapsed: 4.175 s <<< FAILURE! - in TestSuite
[ERROR] arquillianBeforeClass(org.eclipse.microprofile.opentracing.tck.OpentracingClientTests)  Time elapsed: 3.661 s  <<< FAILURE!
org.jboss.shrinkwrap.api.exporter.FileExistsException: Target exists and we haven't been flagged to overwrite it: /Users/bstansberry/dev/wildfly/wildfly/testsuite/integration/microprofile-tck/opentracing/target/archives/testapp.war
	at org.jboss.shrinkwrap.impl.base.exporter.AbstractStreamExporterImpl.getOutputStreamToFile(AbstractStreamExporterImpl.java:87)
	at org.jboss.shrinkwrap.impl.base.exporter.AbstractStreamExporterImpl.exportTo(AbstractStreamExporterImpl.java:144)
	at org.jboss.shrinkwrap.impl.base.exporter.AbstractStreamExporterImpl.exportTo(AbstractStreamExporterImpl.java:167)
	at io.smallrye.opentracing.arquillian.DeploymentProcessor.process(DeploymentProcessor.java:75)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.applyApplicationProcessors(DeploymentGenerator.java:223)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.buildTestableDeployments(DeploymentGenerator.java:172)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.createTestableDeployments(DeploymentGenerator.java:148)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.generateDeployment(DeploymentGenerator.java:85)
{code}

The io.smallrye.opentracing.arquillian.DeploymentProcessor class is in this maven module so perhaps the exportTo variant with an 'overwrite' field could be used. I have no idea if it's 'legal' in terms of TCK compliance to change those files though. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12440,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08450:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Default routing cache in HA profiles should use replicated-cache,WFLY-12245,12815760,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,27/Jun/19 12:19 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,28/Jun/19 1:10 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Clustering,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:06.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12393,https://github.com/wildfly/wildfly/pull/12399,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06tvg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core to 10.0.0.Final,WFLY-12577,12829282,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,brian.stansberry,brian.stansberry,19/Sep/19 12:47 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,24/Sep/19 7:54 PM,,,,,,18.0.0.Final,,,Server,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFCORE-4671,WFCORE-4677,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12669,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08zdw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
java.net.URISyntaxException: Illegal character in opaque part at index 7: file:C:\Java\jboss\jboss-as\standalone\configuration/logging.properties,WFLY-12085,12807542,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,16/May/19 11:40 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,27/Sep/19 1:46 PM,17.0.0.Alpha1,17.0.0.Final,,,,18.0.0.Final,,,JMS,,,,,,,0,downstream_dependency,,,,,,"There seems to be a regression in JBoss EAP 7.2.1 patch. After applying it the following exception can be seen in the server log file during the startup:

{noformat} 
2019-05-13 11:45:11,419 WARN  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 78) AMQ222277: Problem initializing automatic logging configuration reload for file:C:\Java\jboss\jboss-as\standalone\configuration/logging.properties: java.net.URISyntaxException: Illegal character in opaque part at index 7: file:C:\Java\jboss\jboss-as\standalone\configuration/logging.properties
	at java.net.URI$Parser.fail(URI.java:2848)
	at java.net.URI$Parser.checkChars(URI.java:3021)
	at java.net.URI$Parser.parse(URI.java:3058)
	at java.net.URI.<init>(URI.java:588)
	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.initialisePart1(ActiveMQServerImpl.java:2369)
	at org.apache.activemq.artemis.core.server.impl.LiveOnlyActivation.run(LiveOnlyActivation.java:64)
	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.internalStart(ActiveMQServerImpl.java:544)
	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.start(ActiveMQServerImpl.java:481)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.start(JMSServerManagerImpl.java:376)
	at org.wildfly.extension.messaging.activemq.jms.JMSService.doStart(JMSService.java:206)
	at org.wildfly.extension.messaging.activemq.jms.JMSService.access$000(JMSService.java:65)
	at org.wildfly.extension.messaging.activemq.jms.JMSService$1.run(JMSService.java:100)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{noformat}

This issue only affects Microsoft Windows platform.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-16 15:11:35.0,,,,,,,,https://developer.jboss.org/message/989719#989719,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z05l8s:",9223372036854775807,,0.0,,,,,"- install JBoss EAP 7.2.0 in Microsoft Windows 10
- apply patch 7.2.1 
- start JBoss server with standalone-full.xml profile",,,,,,,,,,"While not ideal you can filter out the message since it's a warning and doesn't cause any real issues.
{code}
/subsystem=logging/logger=org.apache.activemq.artemis.core.server:add(filter-spec=not(match(""AMQ222277.*"")))
{code}","16/May/19 12:06 PM;ehugonnet;The automatic logging configuration reload functionality in ActiveMQ Artemis is meant to be used when the broker is standalone. It will monitor whatever file is referenced by the -Dlogging.configuration system property and reload the configuration therein if necessary so that users/administrators can update the logging configuration while the broker is running. Obviously this behavior is not desirable in the EAP use-case. Therefore, the messaging subsystem can invoke setConfigurationFileRefreshPeriod(-1) on its instance of org.apache.activemq.artemis.core.config.Configuration to avoid any reload attempts. via [~jbertram]
","16/May/19 3:11 PM;jamezp;This unfortunately won't fix this warning from being logged. The {{ReloadManager}} will not be scheduled, but the {{new URL(System.getProperty(""logging.proeprties"")).toURL()}} will still be invoked. This is because it's registered as a callback to the reload manager.

{code:java}
if (System.getProperty(""logging.configuration"") != null) {
   try {
      reloadManager.addCallback(new URI(System.getProperty(""logging.configuration"")).toURL(), new LoggingConfigurationFileReloader());
   } catch (Exception e) {
      // a syntax error with the logging system property shouldn't prevent the server from starting
      ActiveMQServerLogger.LOGGER.problemAddingConfigReloadCallback(System.getProperty(""logging.configuration""), e);
   }
}
{code}

I don't know enough about the reload manager, but we may want to set it to {{-1}} anyway if the configuration should be coming from WildFly itself anyway.","06/Jun/19 11:38 AM;brian.stansberry;Rejecting https://github.com/wildfly/wildfly/pull/12301 as it is not a fix for this, it's a fix for WFLY-12174","11/Jul/19 5:30 AM;ehugonnet;This has been fixed in Apache Artemis 2.9.0
commit 4fffc0277835815699f2a740910175683155df78
Author: James Perkins <jperkins@redhat.com>
Date:   Thu May 16 14:07:25 2019 -0700

    ARTEMIS-2342 Use a URL instead of a URI for the logging.configuration property

    The property the log manager itself expects is a URL which could result in an invalid URI missing the // prefix after file:.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on org.jboss.ws.common,WFLY-11318,12778669,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,09/Nov/18 6:39 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,08/Aug/19 2:24 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Server,,,,,,,0,,,,,,,"Validate the need of these module dependencies in org.jboss.ws.common module:

{code:xml}
 <module name=""javax.transaction.api""/>
 <module name=""javax.xml.rpc.api""/>
 <module name=""javax.rmi.api""/>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:05.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/11827,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01648:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
SimpleLoadProviderResourceDefinition - identical code in different branches,WFLY-12238,12815214,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Optional,Done,rhusar,rsvoboda,rsvoboda,25/Jun/19 4:00 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,11/Jul/19 6:52 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,mod_cluster,,,,,,,0,,,,,,,"SimpleLoadProviderResourceDefinition - identical code in different branches

https://github.com/wildfly/wildfly/blob/master/mod_cluster/extension/src/main/java/org/wildfly/extension/mod_cluster/SimpleLoadProviderResourceDefinition.java#L93

{{parent.addChildResource(PATH)}} in both branches of {{ResourceTransformationDescriptionBuilder builder = ModClusterModel.VERSION_6_0_0.requiresTransformation(version) ? parent.addChildResource(PATH) : parent.addChildResource(PATH);}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:05.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12410,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06qto:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Log WARN if application specifies @RunAsPrincipal and not @RunAs,WFLY-12216,12814539,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,tmiyar,tmiyar,20/Jun/19 10:04 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Jul/19 11:11 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,"Log WARN if application specifies @RunAsPrincipal and not @RunAs

As per: https://docs.jboss.org/author/display/WFLY10/EJB+3+Reference+Guide

Specification of Run-as Principal using Metadata Annotations
...
Using this annotation without specifying a run-as role is considered an error.

For example:

{code}
@RunAs(""admin"")
@RunAsPrincipal(""MyBean"")
{code}

If a user specifies @RunAsPrincipal and not @RunAs (or the xml equivalent), then the user shows up as anonymous, we should log a warning to let the application know that there is an issue so that they know it needs to be corrected.",,,,,,,,,,,JBEAP-17061,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:05.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12377,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06nek:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
wildfly-clustering-web-* deps missing provided scope in galleon-pack pom.xml,WFLY-12498,12826604,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,05/Sep/19 2:39 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,06/Sep/19 4:23 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Build System,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:05.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08k3w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Add product maven repository to BOMs and Quickstarts ,WFLY-12494,12826414,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,05/Sep/19 5:30 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,05/Sep/19 5:38 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,BOM,Quickstarts,,,,,,0,,,,,,,"Product artifacts are now being used by WildFly, thus such repos are needed also in BOMs and Quickstarts parent poms.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:05.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08iyc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-batch-api_1.0_spec from 1.0.2.Final to 2.0.0.Final,WFLY-12355,12821545,12818626,Component Upgrade Subtask,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,cfang,cfang,cfang,06/Aug/19 10:54 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,03/Sep/19 6:45 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Batch,,,,,,,0,,,,,,,"JBoss Jakarta Batch API:
https://github.com/jboss/jboss-jakarta-batch-api_spec

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:04.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,6.0,,,,,,,,,,"1|z07rb8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Aug/19 12:33 AM;cfang;As of Aug 8 2019, Jakarta Batch spec and API have published staging releases, but have yet to be approved for EE specifications.

jakarta.inject api has not been formally released.  So need to wait for this dependency to satisfy.","27/Aug/19 4:43 PM;cfang;Opened PR to WildFly to upgrade this component to version 2.0.0.CR1, as a first step: https://github.com/wildfly/wildfly/pull/12539 (merged on 2019-08-27)","29/Aug/19 7:41 PM;cfang;Current dependency tree as of 2019-08-29, and need to be converted to jboss-forked GAVs.

[INFO] org.jboss.spec.javax.batch:jboss-batch-api_1.0_spec:jar:2.0.0.Final-SNAPSHOT
[INFO] +- jakarta.enterprise:jakarta.enterprise.cdi-api:jar:2.0.1:compile
[INFO] +- javax.inject:javax.inject:jar:1:compile
[INFO] \- jakarta.transaction:jakarta.transaction-api:jar:1.3.2:compile","03/Sep/19 12:03 AM;cfang;Opened PR to WildFly to upgrade this component to version 2.0.0.CR2:
https://github.com/wildfly/wildfly/pull/12574

Diff between 2.0.0.CR1 and 2.0.0.CR2:
https://github.com/jboss/jboss-jakarta-batch-api_spec/compare/2.0.0.CR1...2.0.0.CR2","13/Sep/19 4:10 PM;cfang;2.0.0.Final released on 2019-09-13:

<groupId>org.jboss.spec.javax.batch</groupId>
<artifactId>jboss-batch-api_1.0_spec</artifactId>
<version>2.0.0.Final</version>","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,
Memory Leak: RemoteConnectionHandler objects are created but not being freed when jboss-cli commands are executed,WFLY-12522,12827289,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,flavia.rainone,super6349,super6349,09/Sep/19 12:11 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,18/Sep/19 11:54 AM,16.0.0.Final,17.0.0.Final,17.0.1.Final,,,18.0.0.Final,,,CLI,Remoting,Web (Undertow),,,,,0,,,,,,,"When the user executes jboss-cli commands on a fresh installation of wildfly, RemoteConnectionHandler objects are created but never released. 

We identified this problem when we configured a readiness probe on openshift using jboss-cli (repeating every 15 seconds) and the memory started to increase along the days. The application was in development and nobody was accessing it, but the memory increased nonetheless.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-09 16:02:55.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z08o8c:",9223372036854775807,,0.0,,,,,"1. Install and start Wildfly 17.0.1.Final Java EE Full & Web Distribution
2. Execute a random command using jboss-cli. 
    Examples: 
       jboss-cli.sh -c --commands=""ls""
       jboss-cli.sh -c --commands=""version""

3. using jcmd, search for the occurrences of ""RemoteConnectionHandler"" on the class-histogram:
       jcmd <PID> GC.class_histogram | grep RemoteConnectionHandler

4. Repeat steps 2 and 3 and observe the ever increasing number of RemoteConnectionHandler objects",,,,,,,,,,,"09/Sep/19 4:02 PM;jdenise;Analysis shows that the root cause could be the fix for UNDERTOW-770 in particular: https://github.com/undertow-io/undertow/blob/master/core/src/main/java/io/undertow/server/protocol/http/HttpOpenListener.java#L152
We are in a context where the protocol is upgraded to remoting, once the upgrade is done, the connections list is never cleared.
[~swd847], [~flavia.rainone] what do you think? If I am not wrong, the list should be cleared even in the case of upgrade.
","11/Sep/19 7:55 AM;jdenise;Assigning to [~flavia.rainone].","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-jaxb-api_2.3_spec from 1.0.1.Final to 2.0.0.CR1,WFLY-12441,12824962,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jim.ma,jim.ma,jim.ma,28/Aug/19 5:21 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,30/Aug/19 6:35 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Web Services,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:04.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08af8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"Integration test for EJBCLIENT-335, display host:port on connecting to server error",WFLY-12101,12808005,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,tmiyar,tmiyar,20/May/19 2:23 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,28/Jun/19 5:47 PM,,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,EJBCLIENT-335,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:03.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12375,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05nss:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Allow setting create-on-start / drop-on-exit on Infinispan JDBC tables,WFLY-12072,12806835,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,galder.zamarreno,galder.zamarreno,13/May/19 12:21 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,31/Jul/19 2:57 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,A port of ISPN-5267.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:03.0,,,,,,,,https://stackoverflow.com/questions/55881179/infinispan-cache-table-not-auto-created-with-wildfly-15-using-invalidation-cach,https://github.com/wildfly/wildfly/pull/12298,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05h30:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
IJ020017: Invalid archive: file://RaActivatoractivemq-ra WARN during start with standalone-full*.xml,WFLY-12226,12814810,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,brian.stansberry,okotek,okotek,21/Jun/19 7:52 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,01/Jul/19 11:03 AM,18.0.0.Beta1,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,JMS,,,,,,,0,,,,,,,"There is a warning during start with standalone-full*.xml:

{noformat}
12:19:04,432 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-3) WFLYJCA0007: Registered connection factory java:/JmsXA
12:19:04,440 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 84) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory
12:19:04,441 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 83) WFLYMSGAMQ0002: Bound messaging object to jndi name java:/ConnectionFactory
12:19:04,441 WARN  [org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-3) IJ020017: Invalid archive: file://RaActivatoractivemq-ra
12:19:04,486 INFO  [org.apache.activemq.artemis.ra] (MSC service thread 1-3) AMQ151007: Resource adaptor started
12:19:04,486 INFO  [org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-3) IJ020002: Deployed: file://RaActivatoractivemq-ra
12:19:04,492 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-6) WFLYJCA0002: Bound JCA ConnectionFactory [java:/JmsXA]
12:19:04,493 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-3) WFLYJCA0118: Binding connection factory named java:/JmsXA to alias java:jboss/DefaultJMSConnectionFactory
{noformat}

For an automation checking the server log for issues, this WARN causes false positive. Hence, I set the Priority to Critical.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-25 20:20:07.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z06oj0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Jun/19 8:20 PM;brian.stansberry;[~ehugonnet] This is an Artemis bug. Here's the org.jboss.jca.validator.Failure that is triggering this WARN message:

Severity: WARNING
Section: 20.7
Description: Invalid config-property-type for ResourceAdapter.
Code: Class: org.wildfly.extension.messaging.activemq.ActiveMQResourceAdapter Property: useTopologyForLoadBalancing Type: boolean

That property is inherited from org.apache.activemq.artemis.ra.ActiveMQResourceAdapter which has 'boolean' as the return type.  Apparently these RA getters are meant to use object wrappers, not primitives. See org.jboss.jca.validator.rules.ConfigPropertiesHelper.containGetOrIsMethod

Unfortunately java doesn't let org.wildfly.extension.messaging.activemq.ActiveMQResourceAdapter override this method and broaden the return type. :)","25/Jun/19 9:36 PM;brian.stansberry;Well, it is kind of possible to override the return type for the *property*, just not for the method. Add a 'get' getter method to go along with the 'is'. Hacky but stops the WARN

https://github.com/wildfly/wildfly/pull/12388

That would just be a temp fix though; the real fix needs to be in Artemis.","01/Jul/19 11:03 AM;brian.stansberry;I'm resolving this as we've worked around it. The Artemis issue tracks the real fix.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
Remove Quickstarts docs references to Java EE,WFLY-12594,12830343,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,26/Sep/19 4:05 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,26/Sep/19 4:10 AM,,,,,,18.0.0.Final,,,Quickstarts,,,,,,,0,,,,,,,... replacing these with Jakarta EE,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:03.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z095gk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Microprofile Health 2.1,WFLY-12555,12828225,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,13/Sep/19 6:46 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,14/Sep/19 6:07 PM,,,,,,18.0.0.Final,,,MP Health,,,,,,,0,,,,,,,"https://github.com/eclipse/microprofile-health/compare/2.0.1...2.1
",,,,,,,,,,,,,,,,,,,,,WFLY-12554,WFLY-12628,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:03.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08tp8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Sep/19 6:50 AM;jmesnil;smallrye-health 2.0 depends on mp-health 2.1","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core to 10.0.0.Beta5,WFLY-12451,12825190,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,28/Aug/19 10:23 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,29/Aug/19 7:10 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Server,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12372,,,,,,,,,WFLY-12373,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12559,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08bs4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"Broken links in ""Description of the Management Model""",WFLY-12175,12811735,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,bobjohns,bobjohns,06/Jun/19 1:51 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Jul/19 11:11 PM,12.0.0.Final,13.0.0.Final,14.0.0.Final,15.0.0.Final,16.0.0.Final,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Documentation,Management,,,,,,0,,,,,,,"In the section ""http://docs.wildfly.org/16/Admin_Guide.html#Description_of_the_Management_Model"", the links on the following text strings return 404 errors when clicked:

* Global operations
* Management Resource",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12381,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z068uk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Galleon layer for datasources,WFLY-12431,12824579,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,26/Aug/19 9:58 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,26/Aug/19 7:28 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,0,,,,,,,Define the galleon layer to enable datasources feature.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z088g4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"socket-binding ""jgroups-tcp-fd"" for FD_SOCK is used for UDP stack",WFLY-12232,12815032,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,vramik,vramik,24/Jun/19 8:41 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,27/Jun/19 5:14 AM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Clustering,,,,,,,0,,,,,,,"There are switched names of socket bindings in jgroups.xml

* https://github.com/wildfly/wildfly/commit/5ee199b7ecd3166a5afdc97425af412f0bc796c0#diff-1706d0bcdcaec20af3babae4dd52e5a7R14
* https://github.com/wildfly/wildfly/commit/5ee199b7ecd3166a5afdc97425af412f0bc796c0#diff-1706d0bcdcaec20af3babae4dd52e5a7R29

when legacy build system is used, e.g. like [here|https://github.com/keycloak/keycloak/blob/master/distribution/feature-packs/server-feature-pack/src/main/resources/configuration/standalone/subsystems-ha.xml#L33] it ends with switched values than in standalone-ha.xml from wildfly17 dist
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12383,https://github.com/wildfly/wildfly/pull/12385,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06prg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Need to use principal-transformer in aggregate-realm in between authentication-realm and authorization-realm,WFLY-12202,12814020,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aabdelsa,aabdelsa,aabdelsa,17/Jun/19 4:52 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,04/Sep/19 5:30 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,0,,,,,,,"It is requirement to use principal-transformer in aggregate-realm in between authentication-realm and authorization-realm .
--------------------------------------

<security-domain name=""TestDomain"" default-realm=""TestAggRealm"" permission-mapper=""default-permission-mapper"" pre-realm-principal-transformer=""test-transformer"" security-event-listener=""local-audit"">
<realm name=""TestAggRealm"" role-decoder=""from-roles-attribute""/>
</security-domain>

.
.

<aggregate-realm name=""TestAggRealm"" authentication-realm=""TestLdapRealm"" authorization-realm=""Test_Auth_LdapRealm""/>

--------------------------------------

I think to achieve this there need to be something like ""mid-realm-principal-transformer"" in <aggregate-realm> only .

",,,,,,,,,,,WFCORE-4496,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12579,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06kec:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
page-size-bytes should be an INT instead of a LONG,WFLY-12515,12827126,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,09/Sep/19 3:23 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,11/Sep/19 9:14 AM,18.0.0.Beta1,,,,,18.0.0.Final,,,JMS,,,,,,,0,,,,,,,page-size-bytes is defined as a LONG in the model but in fact only an INT value makes sense. We should fix the model to represent that.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12610,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08na4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Include the original cause of deployment failure when trying to find jsf-injection module,WFLY-12487,12826261,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,jaikiran,jaikiran,jaikiran,04/Sep/19 10:36 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,08/Sep/19 4:58 PM,17.0.1.Final,,,,,18.0.0.Final,,,JSF,,,,,,,0,,,,,,,"When processing a JSF deployment, if the user has configured a different vendor/version of JSF implementation to use, then one step involves setting up the (JBoss) modules correctly for such a custom implementation. Details of which are here[1].

If for whatever reason, the module setup isn't correctly done, then the deployment can run into a deployment exception which looks like:

{quote}
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJSF0016: Failed to inject JSF from slot mojarra-2.2.8.21

at org.jboss.as.jsf.deployment.JSFDependencyProcessor.addJSFInjection(JSFDependencyProcessor.java:156)

at org.jboss.as.jsf.deployment.JSFDependencyProcessor.deploy(JSFDependencyProcessor.java:97)

at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:176) [wildfly-server-9.0.2.Final.jar:9.0.2.Final]
{quote}
One such example is reported by an user here[2].

That exception stacktrace can be improved a bit if the original cause is included in it, to make it easier to debug such issues.

[1] https://docs.jboss.org/author/display/WFLY/JSF+Configuration#JSFConfiguration-InstallinganewJSFimplementationmanually
[2] https://developer.jboss.org/thread/280549",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,https://developer.jboss.org/thread/280549,https://github.com/wildfly/wildfly/pull/12588,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08i3g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Sep/19 10:43 AM;jaikiran;A pull request with the proposed change has been issued https://github.com/wildfly/wildfly/pull/12588","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Apache Artemis from 2.8.1 to 2.9.0,WFLY-12479,12826063,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,03/Sep/19 12:47 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,03/Sep/19 10:49 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,0,,,,,,,Upgrade Apache Artemis from 2.8.1 to 2.9.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08gzg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Elytron: Ability to load the attributes of an identity from multiple sources,WFLY-12051,12805908,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,07/May/19 7:35 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,04/Sep/19 7:58 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,0,,,,,,,"In previous versions a {{security-domain}} was used to merge or add roles from multiple repositories. For example the roles for the users were obtained from two different ldaps and a database. All the roles were merged and the final authenticated principal belonged to all of them. The old picketbox subsystem used stacking of login modules (and password) to implement this feature. This use-case is not rare among the customers.

This issue is avoiding migrations from the old security subsystem to elytron.",,,,,,,,,,,WFCORE-4447,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Documentation (Ref Guide, User Guide, etc.)",Release Notes,,,,,,,,,,,,2019-10-14 12:29:01.0,,,,,,,,https://developer.jboss.org/thread/279849,https://github.com/wildfly/wildfly/pull/12354,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05bl0:",9223372036854775807,,0.0,,,,,,,,,,,,okotek,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
SSL certificate revocation list community docs,WFLY-12124,12808936,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mmazanek,mmazanek,mmazanek,24/May/19 9:36 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,11/Jul/19 6:48 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:01.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12316,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05srg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Memory leak in wildfly transaction client,WFLY-12031,12804841,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,cfang,petrjoac,petrjoac,29/Apr/19 9:54 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Jul/19 11:16 PM,15.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,0,,,,,,,"After a volume run of our system we recognized millions of entries in the openFilePaths Object of class FileSystemXAResourceRegistry. When enabling traces for org.wildfly.transaction it seems that for adding an entry a xid string is used
{code:java}
        XAResourceRegistryFile(Xid xid) throws SystemException {
            xaRecoveryPath.toFile().mkdir(); // create dir if non existent
            final String xidString = SimpleXid.of(xid).toHexString('_');
            this.filePath = xaRecoveryPath.resolve(xidString);
            openFilePaths.add(*xidString*);
{code}

and for removing the entire file path:

{code:java}
        protected void removeResource(XAResource resource) throws XAException {
            if (resources.remove(resource)) {
                if (resources.isEmpty()) {
                    // delete file
                    try {
                        if (fileChannel != null) {
                            fileChannel.close();
                        }
                        Files.delete(filePath);
                        // deleting using the filepath as key caused a memory leak,
                        // if xid string have been added, therefore build the xid string for removing
                        openFilePaths.remove(*filePath.toString()*);
 {code}

We didn't find any code where this xid are cleaned up.
As workaround we additionally extract the xid String from the file path and remove the corresponding entry.
{code:java}
                        String xidString = filePath.toString().substring(filePath.toString().indexOf(
                        		xaRecoveryPath.toString()) + xaRecoveryPath.toString().length() + 1);
                        openFilePaths.remove(xidString);
{code}",,,,,,,,,,,,,WFLY-12258,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-29 10:11:30.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,15.0,,,,,,,,,,"1|z055qk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"29/Apr/19 10:11 AM;tomjenkinson;/cc [~tomekadamski]","30/Apr/19 12:53 PM;cfang;When adding to {{openFilePaths}} set, the file name part (the last element in the path) is used.  So when removing it, we should also use the file name part of the path {{filePath}}.

I think changing the remove line to the following should work (around line 272):

{code:java}
openFilePaths.remove(filePath.getFileName().toString());
{code}

/cc [~flavia.rainone]","24/May/19 3:42 AM;petrjoac;Your proposed change is working.","31/May/19 12:28 PM;jamezp;[~cfang] What is the status of this?","31/May/19 10:31 PM;cfang;I'll need to review it with Flavia for a thorough assessment and will post updates soon.","05/Jun/19 3:34 PM;flavia.rainone;[~cfang] please see https://github.com/wildfly/wildfly-transaction-client/pull/80/commits/34620c495f5e9cc9507f46ffa3fe069af6dca160
This is for WFTC-62 and it solved a problem of the registry not being deleted.","05/Jun/19 3:37 PM;flavia.rainone;[~petrjoac] please test with the aforementioned PR. This fix will probably solve your problem, because if (resources.remove(resource) was always returning false as the resource was not being added at all to the list.","05/Jun/19 3:38 PM;flavia.rainone;I other words, [~petrjoac] and [~cfang] the delete statement is unreachable without the fix for WFTC-62","25/Jun/19 4:36 PM;brian.stansberry;[~cfang] Is this fixed now? WFTC was upgraded.","26/Jun/19 10:41 AM;cfang;[~petrjoac] could you try running with the latest wildfly-transaction-client [1.1.4.Final|https://github.com/wildfly/wildfly-transaction-client/releases/tag/1.1.4.Final], and see if that fixes the issue?  If not, then we will need to apply the proposed fix on [2019-04-30|https://issues.jboss.org/browse/WFLY-12031?focusedCommentId=13728380&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13728380] in next release (maybe 1.1.5.Final).  So either way, I think it's helpful to try out wildfly-transaction-client 1.1.4.Final","27/Jun/19 11:39 AM;cfang;[~petrjoac] do you have a reproducer test app that I can try to verify wildfly-transaction-client 1.1.4.Final?
[~ochaloup] do you have reproducer related to WFTC that I can reuse for this issue?","28/Jun/19 5:16 AM;ochaloup;[~cfang] hi. Unfortunately I do not have a reproducer for this one. I did manual testing of the behaviour but I didn't automatize. I still have plan to start with some testsuite for WFTC (possibly as part of the WFTC-63) but I haven't started with that effort yet :-/","28/Jun/19 2:28 PM;cfang;[~ochaloup]not a problem.  Flavia suggested I could use the one from JBEAP-12611, and I'll give it a try.","12/Jul/19 11:16 PM;brian.stansberry;Fixed via https://github.com/wildfly/wildfly/pull/12424","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,
Upgrade jboss-jaxrs-api_2.1_spec to 2.0.0.Final,WFLY-12433,12824676,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,27/Aug/19 3:28 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,12/Sep/19 4:42 PM,,,,,,18.0.0.Final,,,REST,,,,,,,0,,,,,,,"JBoss Jakarta JAX-RS API fork:
https://github.com/jboss/jboss-jakarta-jaxrs-api_spec/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-27 22:37:21.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|z088zw:",9223372036854775807,https://github.com/tomjenkinson/jboss-as/pull/8 merged into https://github.com/tomjenkinson/jboss-as,0.0,,,,,,,,,,,,,,,,"27/Aug/19 6:48 AM;asoldano;CR1 tag: https://github.com/jboss/jboss-jakarta-jaxrs-api_spec/commits/jboss-jaxrs-api_2.1_spec-2.0.0.CR1","27/Aug/19 10:37 PM;brian.stansberry;I'm ""rejecting"" the PR for CR1 to get this out of PR Sent state. I merged it but this JIRA is to get to 2.0.0.Final so we're not there yet. :)","04/Sep/19 6:42 AM;asoldano;CR2 tag: https://github.com/jboss/jboss-jakarta-jaxrs-api_spec/commits/jboss-jaxrs-api_2.1_spec-2.0.0.CR2","07/Sep/19 5:01 PM;ron_sigal;[~smarlow],  [~brian.stansberry], should I re-open this JIRA to merge 2.0.0.Final or create a new one?","07/Sep/19 5:09 PM;ron_sigal;There have been no changes to https://github.com/eclipse-ee4j/jaxrs-api branch EE4J_8 since [~asoldano]'s most recent tag on https://github.com/jboss/jboss-jakarta-jaxrs-api_spec, and I was about to add a Final tag, but I don't have permission: ""Permission to jboss/jboss-jakarta-jaxrs-api_spec.git denied to ronsigal.""

I could fork it and tag my own version, if that's OK.","08/Sep/19 6:51 PM;brian.stansberry;[~ron_sigal] Either is fine. Re-opening seems easier for you. :)","09/Sep/19 11:10 AM;ron_sigal;Re-opening for 2.0.0.Final.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-client from 4.0.18 to 4.0.20,WFLY-12200,12813882,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,tmiyar,tmiyar,17/Jun/19 7:36 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,28/Jun/19 5:46 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,EJB,,,,,,,0,,,,,,,"compare between 4.0.18.Final and the next version (4.0.20.Final):
https://github.com/wildfly/jboss-ejb-client/compare/4.0.18.Final...4.0.20.Final

Any particular fixes are you expecting?",,,,,,,,,,,,,,,,,,,,,JBEAP-16778,JBEAP-17207,,,,,,,,EJBCLIENT-335,WFLY-12101,EJBCLIENT-336,EJBCLIENT-338,WFLY-12205,,,,,,,,,,,,,,,,,,,,,,2019-06-26 05:50:14.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06jl8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Confusing error message when writing simple-load-provider attribute when dynamic load provider is present,WFLY-10872,12765049,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,jkasik,jkasik,16/Aug/18 5:29 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,19/Jun/19 6:11 PM,14.0.0.Beta2,17.0.0.Final,,,,18.0.0.Beta1,18.0.0.Final,,mod_cluster,,,,,,,0,,,,,,,"Following should add simple load provider with factor=0:
{code}
/subsystem=modcluster/mod-cluster-config=configuration/:write-attribute(name=simple-load-provider, value=0)
{code}

Instead, this error shows up:

{code}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0216: Management resource '[
    (\""subsystem\"" => \""modcluster\""),
    (\""proxy\"" => \""default\""),
    (\""load-provider\"" => \""simple\"")
]' not found"",
    ""rolled-back"" => true
}
{code}

There is missing translation to create the resource, same is the situation for undefine operation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Regression,,,,,,,,,,2018-08-20 10:12:51.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12358,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|i000gv:",9223372036854775807,,0.0,,,,,"{code}
/subsystem=modcluster/mod-cluster-config=configuration/:write-attribute(name=simple-load-provider, value=0)
{code}

or

{code}
/subsystem=modcluster/mod-cluster-config=configuration/:undefine-attribute(name=simple-load-provider)
{code}",,,,,,,,,Workaround Exists,"{code}
/subsystem=modcluster/proxy=default/load-provider=simple:add(factor=0)
{code}","20/Aug/18 10:12 AM;pferraro;The reason this fails is because there is only 1 load provider allowed at a given time, and the current load provider is the dynamic one.  Consequently, the existing load provider needs to be removed first (adding the load-provider=simple will also do this).  The error message is admittedly confusing, since the operation executed is not the same as the one entered, meaning:
/subsystem=mod_cluster/mod-cluster-config=configuration:write-attribute(name=simple-load-provider, value=0)
will actually execute:
/subsystem=mod_cluster/mod-cluster-config=configuration/load-provider=simple:write-attribute(name=factor, value=0)
What we should do is validate the existence of the load-provider=simple resource first and use a more contextual message rather than the current one.","20/Aug/18 10:14 AM;pferraro;Lowering priority, as this is not a bug, but rather needs a better error message.","11/Jun/19 10:40 AM;rhusar;Agreed, this should just be a logging change, rather than auto creating and/or removing resources. Submitted a PR with this approach.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.websockets to 2.0.0.CR1,WFLY-12438,12824940,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,28/Aug/19 4:04 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,30/Aug/19 8:36 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,Web (Undertow),,,,,,0,,,,,,,Upgrade the WebSockets API to 2.0.0.CR1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:00.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08aak:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Transition  OpenTracing to 1.3,WFLY-12306,12819022,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,19/Jul/19 12:17 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,21/Aug/19 6:57 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP OpenTracing,,,,,,,0,EAP-CD18,OS_Observability,tp_candidate,,,,"Upgrading MP opentracing to Microprofile 3.0 aka OpenTracing 1.3

",,,,,,,,,,,EAP7-1082,,WFLY-10847,WFLY-10876,WFLY-10877,,,,,,EAP7-1061,WFLY-11270,WFCORE-4225,EAP7-1027,,,,,,,,,,,,,,,,,,,"Documentation (Ref Guide, User Guide, etc.)",Release Notes,,,,,,,,,,,,2019-10-14 12:29:00.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ck4:",9223372036854775807,,0.0,,,,,,,,,,,,okotek,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Make opentracing an optional dependency of observability layer,WFLY-11990,12802673,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,15/Apr/19 10:14 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,17/Sep/19 9:06 PM,,,,,,18.0.0.Final,,,Build System,,,,,,,0,,,,,,,"It appears that the opentracing should have its own 'open-tracing' layer.
observability layer should have an optional dependency on open-tracing layer. 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:00.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04tac:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Document missing clustering capabilities,WFLY-10594,12755792,12755791,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,jmesnil,jmesnil,18/Jun/18 12:25 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,16/Sep/19 9:08 PM,,,,,,18.0.0.Final,,,Clustering,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-21 07:10:52.0,,,,,,,,,https://github.com/wildfly/wildfly-capabilities/pull/39,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|hzylxr:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Jun/19 7:10 AM;rhusar;JGroups is missing these

https://github.com/wildfly/wildfly-capabilities/tree/master/org/wildfly/clustering/default-group/capability.adoc
https://github.com/wildfly/wildfly-capabilities/tree/master/org/wildfly/clustering/jgroups/default-channel-cluster/capability.adoc
https://github.com/wildfly/wildfly-capabilities/tree/master/org/wildfly/clustering/default-command-dispatcher-factory/capability.adoc
https://github.com/wildfly/wildfly-capabilities/tree/master/org/wildfly/clustering/default-node-factory/capability.adoc","21/Jun/19 7:11 AM;rhusar;Singleton is missing these

https://github.com/wildfly/wildfly-capabilities/tree/master/org/wildfly/clustering/singleton-policy/capability.adoc
https://github.com/wildfly/wildfly-capabilities/tree/master/org/wildfly/clustering/default-singleton-policy/capability.adoc
https://github.com/wildfly/wildfly-capabilities/tree/master/org/wildfly/clustering/singleton-policy/election/capability.adoc","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Document missing undertow capabilities,WFLY-10596,12755794,12755791,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,jmesnil,jmesnil,18/Jun/18 12:26 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,04/Sep/19 7:56 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Web (Undertow),,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-21 07:05:07.0,,,,,,,,,https://github.com/wildfly/wildfly-capabilities/pull/22,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|hzyly7:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Jun/19 7:05 AM;rhusar;e.g. https://github.com/wildfly/wildfly-capabilities/tree/master/org/wildfly/undertow/byte-buffer-pool/capability.adoc is missing","21/Jun/19 7:05 AM;rhusar;Fixing assignee.","21/Jun/19 7:07 AM;rhusar;Actually, PR is already up https://github.com/wildfly/wildfly-capabilities/pull/22","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
doPrivileged is needed for JASPICSecurityContext AuthConfigFactory access.,WFLY-12530,12827483,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,dlofthouse,dlofthouse,dlofthouse,10/Sep/19 10:37 AM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,16/Sep/19 10:42 PM,,,,,,18.0.0.Final,,,Web (Undertow),,,,,,,0,,,,,,,"A doPrivileged is required for the following error: -

{noformat}
Permission check failed (permission ""(""java.security.SecurityPermission"" ""getProperty.authconfigprovider.factory"")"" in code source ""(vfs:/content/some_deployment.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""somedeployment.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at javax.security.auth.message.config.AuthConfigFactory.checkPermission(AuthConfigFactory.java:166)
	at javax.security.auth.message.config.AuthConfigFactory.getFactory(AuthConfigFactory.java:201)
	at org.wildfly.extension.undertow.security.jaspi.JASPICSecurityContext.logout(JASPICSecurityContext.java:114)
	at io.undertow.servlet.spec.HttpServletRequestImpl.logout(HttpServletRequestImpl.java:505)
{noformat}

The deployment is invoking a standard servlet API however it's ProtectionDomain is being taken into account for the inner details of implementation.

A deployment could require these permissions if interacting with the JASPI APIs directly however it should not require these permissions to interact with the Servlet APIs and the JASPI interaction becomes an implementation detail.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:00.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12623,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pck:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Remove org.jboss.spec.javax.rmi:jboss-rmi-api_1.0_spec from javaee8 BOMs,WFLY-12489,12826336,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,04/Sep/19 2:47 PM,14/Oct/19 12:29 PM,15/Jan/20 1:31 PM,04/Sep/19 2:51 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,BOM,,,,,,,0,,,,,,,"WFLY-12416 removed the artifact from server's dependency management, and such change should be propagated to BOMs",,,,,,,,,,,,,,,,,,,,,,,,WFLY-12416,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:00.0,,,,,,,,,https://github.com/wildfly/boms/pull/68,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ihg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Refresh Infinispan cache metrics,WFLY-12020,12804675,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,26/Apr/19 5:26 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,17/Sep/19 9:05 PM,16.0.0.Final,,,,,18.0.0.Final,,,Clustering,,,,,,,0,,,,,,,"The cache metrics exposes by WildFly were setup a long time ago.  The set of metrics we expose should be reassessed, deprecating those that don't make sense within the context of WildFly (e.g. cache-status), and adding those that do make sense, but are missing from WildFly.

Additionally, cache metrics should be registered with the cache runtime resources (now that these exist), and the metrics previously registered with the cache configuration resource definition deprecated.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:59.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z054r0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Add a testcase that checks remote client transaction afinity in case of failed server,WFLY-12194,12813361,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,ochaloup,ochaloup,14/Jun/19 7:48 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,16/Jul/19 9:35 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,0,,,,,,,"The remote client transaction affinity is not well covered in testsuite.

Particularly, it would be good to test what happens when a transaction starts on a standalone client. The call goes to a stateless bean. There are two servers started in server that the client can choose. The client starts transaction, calls the bean and then the server fails. Will be the next call to bean fails correctly? (as it could be expected as the affinity points to the non-existent server, despite the fact there is another server deploying the same stateless bean)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:59.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12370,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z06ics:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Jun/19 5:36 AM;ochaloup;for stateful bean there is such testcase in as testsuite here: https://github.com/wildfly/wildfly/blob/17.0.0.Final/testsuite/integration/clustering/src/test/java/org/jboss/as/test/clustering/cluster/ejb/remote/TransactionalRemoteStatefulEJBFailoverTestCase.java
The SFSB affinity works fine, the test should be enhanced for SLSB affinity as well.","18/Jun/19 12:25 PM;ochaloup;Based on the investigation of behaviour described in the documentation (see https://issues.jboss.org/browse/JBEAP-16879) adding new testcases working with EJB remoting protocols and transaction affinity.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
DefaultConcurrencyCDITestCase fails on JDK11 with secman due to lack of permissions,WFLY-12529,12827482,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,istraka,istraka,istraka,10/Sep/19 10:35 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,14/Sep/19 10:48 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Test Suite,,,,,,,0,,,,,,,"org.jboss.as.test.integration.ee.naming.defaultbindings.concurrency.DefaultConcurrencyCDITestCase.testCDI fails on JDK11 with secman. This happens because the bean  calls WildFlySecurityManager.getCurrentContextClassLoaderPrivileged() but misses the permission.

{code:java}
java.util.concurrent.ExecutionException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar"" from Service Module Loader"")
	at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)
	at deployment.c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar//org.jboss.as.test.integration.ee.naming.defaultbindings.concurrency.DefaultConcurrencyTestCDIBean.test(DefaultConcurrencyTestCDIBean.java:72)
	at deployment.c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar//org.jboss.as.test.integration.ee.naming.defaultbindings.concurrency.DefaultConcurrencyCDITestCase.testCDI(DefaultConcurrencyCDITestCase.java:57)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at deployment.arquillian-service//org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at deployment.arquillian-service//org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$8$1.invokeMethod(Arquillian.java:325)
	at deployment.arquillian-service//org.jboss.arquillian.junit.MethodInvoker$1.invoke(MethodInvoker.java:18)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:57)
	at jdk.internal.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:36)
	at jdk.internal.reflect.GeneratedMethodAccessor28.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at jdk.internal.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at jdk.internal.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at jdk.internal.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:139)
	at deployment.arquillian-service//org.jboss.arquillian.junit.MethodInvoker.invoke(MethodInvoker.java:15)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:332)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:204)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:215)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:279)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at jdk.internal.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at jdk.internal.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at jdk.internal.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:273)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at deployment.arquillian-service//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at deployment.arquillian-service//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:166)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
	at deployment.arquillian-service//org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at deployment.arquillian-service//org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at deployment.arquillian-service//org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:61)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:153)
	at deployment.arquillian-service//org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:137)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:119)
	at deployment.arquillian-service//org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at jdk.internal.reflect.GeneratedMethodAccessor18.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at jdk.internal.reflect.GeneratedMethodAccessor13.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at java.base/sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:260)
	at java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at java.management/com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at java.management/com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at java.management/com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remoting-jmx@3.0.3.Final//org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remoting-jmx@3.0.3.Final//org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.elytron-private@1.10.0.CR6//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.elytron-private@1.10.0.CR6//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller@10.0.0.Beta5//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller@10.0.0.Beta5//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remoting-jmx@3.0.3.Final//org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar"" from Service Module Loader"")
	at org.wildfly.security.elytron-private@1.10.0.CR6//org.wildfly.security.manager.WildFlySecurityManager.checkPDPermission(WildFlySecurityManager.java:1112)
	at org.wildfly.security.elytron-private@1.10.0.CR6//org.wildfly.security.manager.WildFlySecurityManager.getCurrentContextClassLoaderPrivileged(WildFlySecurityManager.java:1257)
	at deployment.c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar//org.jboss.as.test.integration.ee.naming.defaultbindings.concurrency.DefaultConcurrencyTestCDIBean.lambda$test$0(DefaultConcurrencyTestCDIBean.java:69)
	at org.jboss.as.ee@18.0.0.Beta1-SNAPSHOT//org.jboss.as.ee.concurrent.ControlPointUtils$ControlledRunnable.run(ControlPointUtils.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.glassfish.javax.enterprise.concurrent//org.glassfish.enterprise.concurrent.internal.ManagedFutureTask.run(ManagedFutureTask.java:141)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
	at org.glassfish.javax.enterprise.concurrent//org.glassfish.enterprise.concurrent.ManagedThreadFactoryImpl$ManagedThread.run(ManagedThreadFactoryImpl.java:250)
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:59.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pcc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Invalid logger exclude in org.wildfly.clustering.web.hotrod module.xml,WFLY-12513,12827099,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,pferraro,brian.stansberry,brian.stansberry,07/Sep/19 3:28 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,08/Sep/19 2:02 PM,,,,,,18.0.0.Final,,,Clustering,,,,,,,0,,,,,,,"This looks like a copy-and-paste error from a different file. The Logger in this module is not in that package.

{code}
    <exports>
        <exclude path=""org/wildfly/clustering/web/infinispan/logging""/>
    </exports>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12608,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08n4k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Allow the main testsuite/integration/clustering surefire execution to run for 75 mins,WFLY-12481,12826083,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,03/Sep/19 3:56 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,03/Sep/19 4:31 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,Test Suite,,,,,,0,,,,,,,We are regularly seeing CI failures because the clustering testsuite has a surefire execution that runs over an hour. So bump the surefire.forked.process.timeout setting to 4500 from the current 3600.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12581,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08h3w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"Single action timer is not triggered automatically after a DB outage, requires server restart",WFLY-12457,12825374,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,elguardian,elguardian,30/Aug/19 2:59 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,17/Sep/19 9:07 PM,,,,,,18.0.0.Final,,,EJB,,,,,,,0,,,,,,,"A timer is created with the {{timerService.createSingleActionTimer(..)}} method. When the database is down at the time this timer expires, the timer execution fails with the following ERROR:

{noformat}
09:01:32,968 ERROR [org.jboss.as.ejb3.timer] (EJB timer-thread-pool - 4) WFLYEJB0502: Exception checking if timer [id=7ac2a79a-daa8-46fb-afa1-9e72f39a5b01 timedObjectId=ejb-timer-db-outage.ejb-timer-db-outage.TimeoutExample auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@7071c87c initialExpiration=Fri Aug 09 09:01:32 MDT 2019 intervalDuration(in milli sec)=0 nextExpiration=Fri Aug 09 09:01:32 MDT 2019 timerState=ACTIVE info=timer_1565362882955_10000] should run: java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:jboss/datasources/ejb_timer
	at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:159)
	at org.jboss.as.connector.subsystems.datasources.WildFlyDataSource.getConnection(WildFlyDataSource.java:64)
	at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.shouldRun(DatabaseTimerPersistence.java:405)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.shouldRun(TimerServiceImpl.java:1148)
	at org.jboss.as.ejb3.timerservice.TimerTask.run(TimerTask.java:133)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl$Task$1.run(TimerServiceImpl.java:1304)
	at org.wildfly.extension.requestcontroller.RequestController$QueuedTask$1.run(RequestController.java:494)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:jboss/datasources/ejb_timer
	at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.getManagedConnection(AbstractConnectionManager.java:690)
	at org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.getManagedConnection(TxConnectionManagerImpl.java:440)
	at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.allocateConnection(AbstractConnectionManager.java:789)
	at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:151)
	... 10 more
{noformat}

EXPECTATION: The timer should fire once the DB is accessible again.
RESULT: The timer is not executed even after the DB connection has been restored.

After a server restart, the timer is executed again.

Note: This issue has originally been reported in the context of RHPAM as RHPAM-2180 where processes with timers get stuck after a DB outage. The relevant [jBPM code|https://github.com/kiegroup/jbpm/blob/master/jbpm-services/jbpm-services-ejb/jbpm-services-ejb-timer/src/main/java/org/jbpm/services/ejb/timer/EJBTimerScheduler.java#L107] calls {{timerService.createSingleActionTimer(..)}}. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:59.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12558,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08ctw:",9223372036854775807,,0.0,,,,,"See attached zip file for a reproducer:
# Configure EAP 7.2 with EJB timers backed by a DB
# Deploy the test application - it creates a single timer upon application startup, and a 10s single action timer on each subsequent timer execution
# Stop the DB
# Check that the next timer execution results in an ERROR
# Restart the DB
=> The timer execution is not resumed automatically, a server restart is required",,,,,,,,,,,"30/Aug/19 3:01 AM;elguardian;When the ejb timers datastore is not accesible and a timer is in timeout it causes an inconsistency. first the timer is never retried, and in memory is in a end state. ","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
JSF modules should not depend on javaee.api,WFLY-12392,12823649,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aabdelsa,brian.stansberry,brian.stansberry,19/Aug/19 6:55 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,08/Sep/19 5:02 PM,,,,,,18.0.0.Final,,,JSF,,,,,,,0,,,,,,,"The javaee.api module is just a convenience wrapper around the various EE API modules it depends on and exports. There are 3 JSF modules that depend on this; those should be updated to depend on the specific APIs they need.

Depending on javaee.api is problematic because in a server that has been slimmed using Galleon we only want to depend on modules that are actually needed and not pull in other API.

The problematic modules:

feature-pack/src/main/resources/modules/system/layers/base/com/sun/jsf-impl/main/module.xml
jsf/multi-jsf-installer/src/main/resources/mojarra-impl-module.xml
jsf/multi-jsf-installer/src/main/resources/myfaces-impl-module.xml",,,,,,,,,,,,,,,,,,,,,WFLY-5966,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12600,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z082x8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Fix inadvertent inverse tautology in local command dispatching assertion.,WFLY-12314,12819368,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,23/Jul/19 8:19 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,25/Jul/19 9:48 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:58.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12445,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ej0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate ORM from 5.3.11 to 5.3.12,WFLY-12534,12827534,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gbadner,gbadner,gbadner,10/Sep/19 6:15 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,13/Sep/19 4:04 PM,,,,,,18.0.0.Final,,,JPA / Hibernate,,,,,,,0,,,,,,,Hibernate needs private dependencies on JAXB 2.3 API + IMPL.,,,,,,,,,,,,,WFLY-12546,,,,,,,,,,,WFLY-12233,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:58.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12638,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pn0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade smallrye-metrics 2.1.4,WFLY-12474,12825894,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,03/Sep/19 4:01 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,03/Sep/19 10:48 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Metrics,,,,,,,0,,,,,,,https://github.com/smallrye/smallrye-metrics/compare/smallrye-metrics-2.0-1.1.0...2.1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12413,WFLY-12403,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:58.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08fzo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"03/Sep/19 4:10 AM;jmesnil;smallrye-metrics 2.1.4 upgraded to MP metrics 2.0.2","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Update jboss-jakarta-ejb-api_spec to 2.0.0.CR1,WFLY-12449,12825179,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,28/Aug/19 5:52 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,30/Aug/19 6:35 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:58.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08bpo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor deprecated WorkerService constructor usages,WFLY-12363,12821826,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,08/Aug/19 7:05 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,09/Aug/19 4:39 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:58.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12486,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07sus:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Global EJB Client Side Interceptors Configuration,WFLY-6144,12603065,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,bmaxwell,bmaxwell,08/Feb/16 4:20 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,04/Sep/19 5:27 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,,,,,,,"Ability to configure global client side JBoss EJB interceptors and specify their order via the JBoss profile xml.
",,,,,,,,,,,,,,,,,,,,,PRODMGT-650,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2017-03-03 10:03:37.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|hzdl9r:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"03/Mar/17 10:03 AM;dmlloyd;All the jboss-ejb-client scaffolding is present now.  Just needs management model changes to add the interceptors.","30/Jul/19 12:41 PM;jamezp;The PR is for the proposal, placing this back into the open state.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
wildfly-ejb-client-bom does not manage org.jboss.ejb3:jboss-ejb3-ext-api anymore,WFLY-12376,12822797,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,14/Aug/19 4:11 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,14/Aug/19 4:59 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,BOM,,,,,,,0,,,,,,,"When using {{org.jboss.eap:wildfly-ejb-client-bom:7.3.0.CD17}}, {{org.jboss.ejb3:jboss-ejb3-ext-api}} is not provided anymore. This is a regression compared to {{org.jboss.eap:wildfly-ejb-client-bom:7.3.0.CD16}}.

From the user point of view, this will mean they will have to modify their existing applications to include version of this dependency, which is pretty bad UX.

The BOM is the only recommended and documented way to consume EJB client libraries in standalone applications, please see [Developing EJB Applications|https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/developing_ejb_applications/index#project_dependencies_for_remote_ejb_clients].",,,,,,,,,,,JBEAP-17248,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Regression,,+,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,https://github.com/wildfly/boms/pull/65,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07xzg:",9223372036854775807,,0.0,,,,,"1. run {{mvn clean install -Dversion.wildfly-ejb-client-bom=7.3.0.CD16 dependency:tree}} on the provided rudimentary {{pom.xml}} reproducer. As you can see, with CD16, {{org.jboss.ejb3:jboss-ejb3-ext-api}} is successfully resolved.

2.  run {{mvn clean install -Dversion.wildfly-ejb-client-bom=7.3.0.CD17 dependency:tree}} on the provided rudimentary {{pom.xml}} reproducer. As you can see, with CD17, {{org.jboss.ejb3:jboss-ejb3-ext-api}} is not successfully resolved.

{code:bash} mjurc@tigris  ~/Code/mock-artifacts/ejbclient/eap7.1-httpclient/client   master ●  mvn clean install -Dversion.wildfly-ejb-client-bom=7.3.0.CD17 dependency:tree -Dmaven.repo.local=/home/mjurc/Playground/cd17/jboss-eap-7.3.0.CD17-maven-repository/maven-repository
[INFO] Scanning for projects...
[ERROR] [ERROR] Some problems were encountered while processing the POMs:
[ERROR] 'dependencies.dependency.version' for org.jboss.ejb3:jboss-ejb3-ext-api:jar is missing. @ line 39, column 21
 @ 
[ERROR] The build could not read 1 project -> [Help 1]
[ERROR]   
[ERROR]   The project client:client:1.0-SNAPSHOT (/home/mjurc/Code/mock-artifacts/ejbclient/eap7.1-httpclient/client/pom.xml) has 1 error
[ERROR]     'dependencies.dependency.version' for org.jboss.ejb3:jboss-ejb3-ext-api:jar is missing. @ line 39, column 21
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException
{code}",,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Jackson2 databind to 2.9.9.3,WFLY-12357,12821617,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,07/Aug/19 5:52 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,08/Aug/19 2:24 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-12325,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12477,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07rqs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"Mojarra 4596 - Scripts with CDATA cause ""empty response"" error on Ajax render",WFLY-12336,12820554,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,mstefank,mstefank,31/Jul/19 3:59 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,04/Sep/19 7:46 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JSF,,,,,,,0,downstream_dependency,,,,,,"Fix required for Mojarra Issue 4388 / Scripts with CDATA cause ""empty response"" error on Ajax render

Ref: https://github.com/javaserverfaces/mojarra/issues/4388

--

The RenderKitImpl (com.sun.jsf-impl) class is returning a wrong configured ResponseWriter on partial responses. It is breaking the xhtml when it contains a javascript with CDATA; the final xhtml has a bad closed nested CDATAs.

The JSF 2.2.15 RenderKitImpl: https://github.com/javaserverfaces/mojarra/blob/2.2.15/jsf-ri/src/main/java/com/sun/faces/renderkit/RenderKitImpl.java
The JSF 2.3.5 RenderKitImpl: https://github.com/javaserverfaces/mojarra/blob/2.3.5/jsf-ri/src/main/java/com/sun/faces/renderkit/RenderKitImpl.java

The issue was introduced with the following commits:
https://github.com/javaserverfaces/mojarra/commit/8a5a562e129a31f3655de86cfeb79c33d3eaa1f8
https://github.com/javaserverfaces/mojarra/commit/ee3671db95986395e3a40a591c52522421b25bf2

The issue is fixed on JSF 2.3.9 reverting those above commits.
https://github.com/javaserverfaces/mojarra/issues/4358#issuecomment-440093385

Apply:
https://github.com/javaserverfaces/mojarra/commit/cebcd9bd41f562ec02450d55bf0c3e2b1b287607
https://github.com/javaserverfaces/mojarra/commit/954773aa256b68e744ae9178013faccfb05ca204

Final class:
https://github.com/javaserverfaces/mojarra/blob/MOJARRA_2_3X_ROLLING/jsf-ri/src/main/java/com/sun/faces/renderkit/RenderKitImpl.java",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Jul/19 3:59 AM;mstefank;reproducer2.war;https://issues.redhat.com/secure/attachment/12453730/reproducer2.war",,,,,,,,,,,,?,?,,?,?,?,,2019-10-14 12:28:57.0,,,,,,,,,https://github.com/jboss/mojarra/pull/39,,,,,,,,,,,,,,,,1.0,1.0,,,,,,,,,,"1|z07lhw:",9223372036854775807,,0.0,,,,,"-  Deploy the attached reproducer.
-  Navigate to the view: http://localhost:8080/reproducer2/index.xhtml
-  Click the rerender CDATA script container button.

The browser will display ""An empty response was received from the server"" error message.
",,,7.backlog.GA,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Jackson2 databind to 2.9.9.1,WFLY-12325,12819739,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mstefank,mstefank,mstefank,25/Jul/19 6:34 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,29/Jul/19 9:54 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-12143,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07gno:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Disable failing SSL tests on JDK14+,WFLY-12219,12814623,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,20/Jun/19 5:35 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,06/Aug/19 10:51 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12380,https://github.com/wildfly/wildfly/pull/12470,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06nwc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate Search to 5.10.7.Final,WFLY-12550,12828115,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gbadner,gbadner,gbadner,12/Sep/19 3:06 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,13/Sep/19 4:04 PM,,,,,,18.0.0.Final,,,JPA / Hibernate,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12638,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08t0c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
JGroups get modified in a wrong way after cli command,WFLY-12539,12827691,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,thofman,thofman,thofman,11/Sep/19 7:49 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,11/Sep/19 11:36 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Clustering,Management,,,,,,0,,,,,,,"What happens:
  While trying to run domain with EAP 7 with EAP 6 as slaves the following happens: 

Intro:

On running following cli commands after domain controller started, the jgroups get modified by themselves in a wrong way:
------
cli commands run:
/profile=MP_NONSINGLETONS/subsystem=bean-validation:remove
/profile=MP_TRANS_RMP_RAY/subsystem=bean-validation:remove
-------
Before running cli command:
                       <protocol type=""pbcast.NAKACK""/>
                       <protocol type=""UNICAST2""/>
After running cli command:
                        <protocol type=""pbcast.NAKACK2""/>
                        <protocol type=""UNICAST3""/>

------
Full jgroups section before running cli command for MP_TRANS_RMP_RAY, MP_NONSINGLETONS profiles:

Before running cli command:
    <subsystem xmlns=""urn:jboss:domain:jgroups:1.1"" default-stack=""udp"">
        <stack name=""udp"">
            <transport type=""UDP"" socket-binding=""jgroups-udp""/>
            <protocol type=""PING""/>
            <protocol type=""MERGE3""/>
            <protocol type=""FD_SOCK"" socket-binding=""jgroups-udp-fd""/>
            <protocol type=""FD""/>
            <protocol type=""VERIFY_SUSPECT""/>
            <protocol type=""pbcast.NAKACK""/>
            <protocol type=""UNICAST2""/>
            <protocol type=""pbcast.STABLE""/>
            <protocol type=""pbcast.GMS""/>
            <protocol type=""UFC""/>
            <protocol type=""MFC""/>
            <protocol type=""FRAG2""/>
            <protocol type=""RSVP""/>
        </stack>
    </subsystem>

After running cli command:
~~~
            <subsystem xmlns=""urn:jboss:domain:jgroups:6.0"">
                <channels default=""auto"">
                    <channel name=""ee-web"" stack=""udp""/>
                    <channel name=""ee-hibernate"" stack=""udp""/>
                    <channel name=""auto"" stack=""udp""/>
                </channels>
                <stacks default=""udp"">
                    <stack name=""udp"">
                        <transport type=""UDP"" socket-binding=""jgroups-udp"">
                            <property name=""port_range"">
                                50
                            </property>
                        </transport>
                        <protocol type=""PING""/>
                        <protocol type=""MERGE3""/>
                        <protocol type=""FD_SOCK"" socket-binding=""jgroups-udp-fd""/>
                        <protocol type=""FD""/>
                        <protocol type=""VERIFY_SUSPECT""/>
                        <protocol type=""pbcast.NAKACK2""/>
                        <protocol type=""UNICAST3""/>
                        <protocol type=""pbcast.STABLE""/>
                        <protocol type=""pbcast.GMS""/>
                        <protocol type=""UFC""/>
                        <protocol type=""MFC""/>
                        <protocol type=""FRAG2""/>
                        <protocol type=""RSVP""/>
                    </stack>
                </stacks>
            </subsystem>
~~~
The architecture EAP 7 master - EAP 6 slave is supported according to https://access.redhat.com/articles/2568341",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12625,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08qjw:",9223372036854775807,,0.0,,,,,"1. Start JBoss
2. Run Domain mode
3. Execute bean-validation remove:
~~~
/profile=MP_NONSINGLETONS/subsystem=bean-validation:remove
/profile=MP_TRANS_RMP_RAY/subsystem=bean-validation:remove
~~~
4. Compare before and after",,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Replace deprecated Mockito Matchers class with ArgumentMatchers,WFLY-12177,12811759,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,williamcollishaw,williamcollishaw,06/Jun/19 11:26 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,13/Jun/19 4:49 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,"Matchers class got replaced with ArgumentMatchers, the following is from the [Javadoc|https://static.javadoc.io/org.mockito/mockito-core/2.18.0/org/mockito/Matchers.html]:


{code:java}
Deprecated.
Use ArgumentMatchers. This class is now deprecated in order to avoid a name clash with Hamcrest org.hamcrest.Matchers class. This class will likely be removed in version 3.0.
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:56.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12351,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z068zg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
More fine grain dependency for galleon basic layers,WFLY-12299,12818621,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,17/Jul/19 12:43 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,22/Aug/19 2:51 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,0,,,,,,,"Having basic layers to only depend on the layers (and features) they do require will offer more flexibility than depending on web-server layer.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-18 18:49:00.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12511,,,,,,,,,,,,,,,,0.0,9.0,,,,,,,,,,"1|z07a98:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Jul/19 6:49 PM;brian.stansberry;I'm going to copy the discussion between myself and Jean-Francois on https://github.com/wildfly/wildfly/pull/12417 into comments here so we can carry on the conversation and others can read it here.
","18/Jul/19 6:49 PM;brian.stansberry;bstansberry 10 days ago  Member
@jfdenise Does this need to depend on this aggregation layer, as opposed to specific detail layers from servlet f-p?

There are a few in this category. Here's what depends on web-server:

{code}
$ git grep ""layer name=\""web-server\""""
galleon-pack/src/main/resources/layers/standalone/cdi/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/h2-database/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/jaxrs/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/jms-activemq/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/jpa/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/observability/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/resource-adapters/layer-spec.xml:        <layer name=""web-server""/>
{code}

Obviously jaxrs needs web-server. The others it's less obvious that HTTP is required.

The advantage of doing it this way is for a servlet app with jpa support you can just say ""jpa"" instead of ""web-server, jpa"". And perhaps for compatibility reasons we have to leave it that way for the existing layers. But that doesn't apply to this 'transactions' one, since it is new.

Apologies if we've discussed this and I've forgotten. The wildfly-dev ""Wildfly layers"" doesn't have any discussion, other than your initial post that stated it would work this way.","18/Jul/19 6:50 PM;brian.stansberry;jfdenise 10 days ago  Author Member
The idea was that web-server would be the minimal layer any ""full feature (cdi, ...)"" would require. Making the layer ""runnable"" and reachable from http.
transactions only requires elytron, so we could define the layer to only depend on elytron, but doing so it would have to be combined with other full features (if used outside cloud-profile or other layers that depend on it).
transaction is perhaps not a feature you add alone in your config, it is a dependency for top level layers. I agree that having it depend on elytron should be sufficient. It should be still runnable and you could combine it with smaller layers.
I would be ready to revisit them all and change documentation. They are not yet supported so changes can occur.","18/Jul/19 6:50 PM;brian.stansberry;bstansberry 8 days ago  Member
@jfdenise A question then would be whether we would provide other layers that depend on transactions but which don't also involve an a servlet container.

Not just whether they might exist in theory, but whether we would provide them. If we don't provide them, then the user who would want that would be somehow doing fairly complex provisioning config manipulation anyway, and excluding the servlet container / undertow parts would just be another part of that. Not unreasonable.

So what layer that would use transactions would we provide that doesn't have an HTTP endpoint? It would have to be something that involves some other remote access protocol (e.g. native remoting or IIOP or QPID.) Or something that doesn't involve listening for outside connections at all.

For the 'other remote access protocol' case, I don't see us providing such a layer. Our standard configs aim toward having a single HTTP socket for application use with HTTP Upgrade used if needed.

The ""doesn't involve listening for outside connections at all"" case is valid though. A server set up for batch jobs. Or a server that runs MDBs, where the messages processed by the MDB are pulled from a remote broker over a client socket, not a server socket.","18/Jul/19 6:51 PM;brian.stansberry;jfdenise yesterday  Author Member
@bstansberry , now that I see these ""mini aggregations"" of web-server+feature, it looks wrong. We are loosing some flexibility to make layers ""simpler"" to use. Having to express web-server in some cases is not that difficult and makes sense.
For future layers definition it would create, as you noted, some un-necessary complexity.

This transactions layer should depend on elytron+ee (it needs it in order to set use-transaction-setup-provider).

I would be ready to open another JIRA and update layers and doc with the removal of web-server for all layers that don't 100% require a web-server.
If we keep the web-server dependency for jaxrs, we could possibly rename it to be ""jaxrs-server"" that would be the aggregation, jaxrs layer would not depend on web-server (for very exotic case). That would seem more homogeneous.

We would keep the rule that all layers identified to be used from user configuration should be provisioned and runnable alone (even if they don't offer any valid feature).","18/Jul/19 7:02 PM;brian.stansberry;[~jdenise]
In the above, I think a 'jaxrs-server' would only differ from 'jaxrs' in not having a dependency on deployment-scanner. Otherwise all the layers in 'web-server' are things a JAX-RS app would need.

I'm doubtful about having two variants just to include/exclude the scanner.

Tangent -- what do you think makes a ""xxx-server""? (Let's ignore core-server for now).  I'll try and come back later and brainstorm about that...

","18/Jul/19 9:45 PM;brian.stansberry;Back to ""what makes a xxx-server""...  

I think it does work triggered by external activity of some sort or has some sort of internal trigger. It handles the triggering event, so its layer includes/depends on whatever is needed for that.

web-server
ejb-server (remote session beans; listens for requests)
mdb-server (pulls messages from a broker)
batch-server
messaging-server

If we limit ourselves to cases that involve deployments, then messaging-server comes off the list. (Which is fine; Artemis itself provides a server; wrapping it in WF for no users other than external clients is an anti-pattern.) Since they all involve deployments, they all get deployment-scanner just to keep it simple.

Then the other layers are either

1) dependencies of servers
2) ""decorators"" of one particular server (and thus can depend on it) -- e.g. jax-rs, webservices, jsf
3) ""decorators"" for potentially many servers (and thus don't depend on them) -- cdi, jpa, lots of stuff

And then a xxx-profile is a server + a set of decorators.","26/Jul/19 10:40 AM;jdenise;The current xxx-server is not very well formalized. It is a mix of WildFly server and ""feature server"" (such as web-server or core-server).

We have base-server (root resource and default public interface), core-server (an aggregation of the main features core-feature pack is expected to offer), web-server (a servlet container).

The server aspect of ""base-server"" meant that a WildFly server would be able to start when provisioning this layer. There is no ""server"" aspect, no entry point open for interaction.

The server aspect of ""core-server"" meant that a WildFly server offering the expected ""management"" feature would be provisioned. It could have been named ""management-support"" or ""core-support"". There is a ""server"" aspect, the management interface. This entry-point is not bound to the ""core-server"", it is the ""management"" layer that brings it, so provisioning ""management"" with any other layer would bring a ""management server"".

The server aspect of ""web-server"" meant both an aggregation of all features expected by a servlet container (ee, naming, deployment scanner) and the servlet server.

The jaxrs-server vs jaxrs is to be consistent with other decorators, but if jaxrs is not usable at all without a servlet container, it is implicit that the webserver is needed. The scanner can be explicitly excluded from the web-server, it is an optional dependency.

Questions on the servers you listed. Having the ""xxx-server"" layer seems to help separate use-cases when defining new layers.

""ejb-server""

Do you see splitting the ejb features into multiple layers, eg: ejb-common (dependency for other layers, eg: timers), ejb-session, ejb-mdb? We could still imagine a web-server+ejb-session kind of provisioned server.

The ejb-server would depend on ejb-session, configure a remote-connector, enable remote-naming, depend on undertow (no servlet support) + optionally iiop layer. 

""mdb-server""

Do you see it as something like the ejb-mdb + jms-activemq + resource-adapters layer?

""batch-server""

From what I read, batch needs to be explicitly called. What would be the entry-point? Could be a servlet, jsf, ... So shouldn't it be a ""batch"" layer provisioned with another server that has the entry-point? eg: jsf+batch","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,
Add support for injecting Optional<T> parameter types,WFLY-12192,12813287,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,weinanli,tagliola,weinanli,14/Jun/19 12:24 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,02/Sep/19 12:01 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,REST,,,,,,,0,,,,,,,"Currently, PathParam and QueryParam support the following construct (from https://docs.jboss.org/resteasy/docs/3.0.17.Final/userguide/html_single/#_PathParam):
{quote}The parameter type you inject into can be any primitive type, a String, or any Java object that has a constructor that takes a String parameter, or a static valueOf method that takes a String as a parameter.{quote}
Proposal is to also support java.util.Optional.ofNullable as a wrapper object for Strings, which is always called. This will eliminate all null checks for optional parameters in resource classes with the different Optional followup methods, such as optional.ifPresent.",,,,,,,,,,,RESTEASY-1419,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-18 13:14:08.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06hxo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Jun/19 1:14 PM;jamezp;The PR is for the analysis document. ","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade netty-xnio-transport to 0.1.7.Final,WFLY-12525,12827395,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,flavia.rainone,flavia.rainone,flavia.rainone,10/Sep/19 4:50 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,27/Sep/19 1:43 PM,,,,,,18.0.0.Final,,,,,,,,,,0,,,,,,,"Upgrade the netty-xnio-transport containing fix for: [XNIO#14|https://github.com/xnio/netty-xnio-transport/issues/14]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:56.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12571,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08ov0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"27/Sep/19 8:22 AM;flavia.rainone;I'm downgrading to Critical, because the problem is not entirely solved by netty-xnio-transport 0.1.7.Final, we are still investigating.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Testsuite deleting git managed files,WFLY-12447,12825077,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aabdelsa,dlofthouse,dlofthouse,28/Aug/19 11:32 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,30/Aug/19 10:05 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,Test Suite,,,,,,0,,,,,,,"After an allTests run the following is the status from git: -

{noformat}
$ git status
HEAD detached from 004c344b7d
Changes not staged for commit:
  (use ""git add/rm <file>..."" to update what will be committed)
  (use ""git checkout -- <file>..."" to discard changes in working directory)

	deleted:    testsuite/integration/manualmode/keystores-workdir/client.crt
	deleted:    testsuite/integration/manualmode/keystores-workdir/client.keystore
	deleted:    testsuite/integration/manualmode/keystores-workdir/client.truststore
	deleted:    testsuite/integration/manualmode/keystores-workdir/server.crt
	deleted:    testsuite/integration/manualmode/keystores-workdir/server.keystore
	deleted:    testsuite/integration/manualmode/keystores-workdir/server.truststore
	deleted:    testsuite/integration/manualmode/keystores-workdir/untrusted.crt
	deleted:    testsuite/integration/manualmode/keystores-workdir/untrusted.keystore

no changes added to commit (use ""git add"" and/or ""git commit -a"")
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:56.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12563,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08b3w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JGroups to 4.1.4.Final,WFLY-12395,12823700,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,rhusar,rhusar,20/Aug/19 5:54 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,10/Sep/19 8:52 PM,,,,,,18.0.0.Final,,,Clustering,,,,,,,0,,,,,,,Brings in changes for {{SSL_KEY_EXCHANGE}} integration.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JGRP-2370,JGRP-2371,JGRP-2373,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:55.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12619,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08370:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.el from 1.0.13.Final to 2.0.0.Final,WFLY-12360,12821702,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,smarlow,smarlow,smarlow,07/Aug/19 11:53 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,12/Sep/19 4:40 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,,,,,,,0,,,,,,,"JBoss Jakarta Expression Language API:
https://github.com/jboss/jboss-jakarta-el-api_spec",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:55.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z07s44:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Aug/19 7:23 PM;smarlow;initial pr [https://github.com/wildfly/wildfly/pull/12552]","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade galleon to 4.0.4 and galleon-plugins to 4.0.3,WFLY-12293,12818374,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,jdenise,jdenise,16/Jul/19 8:46 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,29/Aug/19 7:10 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFCORE-4567,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:55.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12559,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z078y4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Update Netty 4.1.29.Final to 4.1.34.Final,WFLY-12193,12813331,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,jamezp,iweiss,iweiss,14/Jun/19 5:46 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,28/Jun/19 3:45 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,https://github.com/netty/netty/compare/netty-4.1.29.Final...netty-4.1.34.Final,,,,,,,,,,,WFLY-10995,,,,,,,,,,JBEAP-15385,JBEAP-17103,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:55.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12400,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06i6k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Unify line-endings of bat scripts (regression against WF15),WFLY-11983,12802279,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,mkopecky,mkopecky,12/Apr/19 7:32 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,04/Sep/19 7:57 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Scripts,,,,,,,0,,,,,,,"Line-endings of bat scripts should be unified. This is regression against WF15.

Some files in WF16 uses CRLF, another LF only. We need to clarify the recommended line ending and use this line ending in all Windows scripts.

WF16:
{noformat}
$ find | grep bat$ | xargs file
./wsprovide.bat:       DOS batch file, ASCII text, with CRLF line terminators
./jboss-cli.bat:       DOS batch file, ASCII text
./elytron-tool.bat:    DOS batch file, ASCII text
./domain.bat:          DOS batch file, ASCII text, with CRLF line terminators
./wsconsume.bat:       DOS batch file, ASCII text, with CRLF line terminators
./standalone.bat:      DOS batch file, ASCII text, with CRLF line terminators
./vault.bat:           DOS batch file, ASCII text, with CRLF line terminators
./domain.conf.bat:     ASCII text, with CRLF line terminators
./common.bat:          DOS batch file, ASCII text, with CRLF line terminators
./jdr.bat:             DOS batch file, ASCII text
./jconsole.bat:        DOS batch file, ASCII text
./appclient.bat:       DOS batch file, ASCII text, with CRLF line terminators
./appclient.conf.bat:  ASCII text, with CRLF line terminators
./standalone.conf.bat: ASCII text, with CRLF line terminators
./add-user.bat:        DOS batch file, ASCII text
$ 
{noformat}
WF15:
{noformat}
$ find | grep bat$ | xargs file
./wsprovide.bat:       DOS batch file, ASCII text, with CRLF line terminators
./jboss-cli.bat:       DOS batch file, ASCII text, with CRLF line terminators
./elytron-tool.bat:    DOS batch file, ASCII text, with CRLF line terminators
./domain.bat:          DOS batch file, ASCII text, with CRLF line terminators
./wsconsume.bat:       DOS batch file, ASCII text, with CRLF line terminators
./standalone.bat:      DOS batch file, ASCII text, with CRLF line terminators
./vault.bat:           DOS batch file, ASCII text, with CRLF line terminators
./domain.conf.bat:     ASCII text, with CRLF line terminators
./common.bat:          DOS batch file, ASCII text, with CRLF line terminators
./jdr.bat:             DOS batch file, ASCII text, with CRLF line terminators
./jconsole.bat:        DOS batch file, ASCII text, with CRLF line terminators
./appclient.bat:       DOS batch file, ASCII text, with CRLF line terminators
./appclient.conf.bat:  ASCII text, with CRLF line terminators
./standalone.conf.bat: ASCII text, with CRLF line terminators
./add-user.bat:        DOS batch file, ASCII text, with CRLF line terminators
$ 
{noformat}",,,,,,,,,,,,,WFGP-144,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-31 12:33:19.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12336,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|z04qzw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"31/May/19 12:33 PM;jamezp;This seems like something that would be difficult to enforce. Is this needed for a specific reason?","03/Jun/19 9:32 AM;rhusar;[~jamezp] On the contrary, this is easy to enforce with basic git functionality called {{.gitattributes}}. We just need to configure it to always checkout these files with CRLF line endings regardless of the OS.

However, the core of the problem is in wildfly-core where the scripts are coming from – opened WFCORE-4502.","03/Jun/19 9:35 AM;rhusar;[~mkopecky] How about the .ps1 files? Shouldn't those also enforce CRLF line ends? Can you check and update the Jira accordingly?","03/Jun/19 11:15 AM;jamezp;Ah good call [~rhusar]. I didn't even think about that :)","03/Jun/19 12:06 PM;rhusar;Looking at Beta1, this is also problem for our ps1 scripts. I will update the PR.

{noformat}
[rhusar@ribera wildfly-17.0.0.Beta1]$ find . | grep ps1$ | xargs file
./bin/add-user.ps1:        ASCII text
./bin/jdr.ps1:             ASCII text
./bin/standalone.ps1:      ASCII text
./bin/common.ps1:          ASCII text
./bin/appclient.conf.ps1:  ASCII text
./bin/appclient.ps1:       ASCII text
./bin/wsprovide.ps1:       ASCII text
./bin/jconsole.ps1:        ASCII text
./bin/elytron-tool.ps1:    ASCII text
./bin/domain.ps1:          ASCII text
./bin/domain.conf.ps1:     ASCII text
./bin/jboss-cli.ps1:       ASCII text
./bin/wsconsume.ps1:       ASCII text
./bin/standalone.conf.ps1: ASCII text
./bin/vault.ps1:           ASCII text
[rhusar@ribera wildfly-17.0.0.Beta1]$ find . | grep bat$ | xargs file
./bin/add-user.bat:                         DOS batch file text, ASCII text
./bin/jdr.bat:                              DOS batch file text, ASCII text
./bin/standalone.bat:                       DOS batch file text, ASCII text, with CRLF line terminators
./bin/appclient.bat:                        DOS batch file text, ASCII text, with CRLF line terminators
./bin/wsprovide.bat:                        DOS batch file text, ASCII text, with CRLF line terminators
./bin/appclient.conf.bat:                   ASCII text, with CRLF line terminators
./bin/common.bat:                           DOS batch file text, ASCII text, with CRLF line terminators
./bin/elytron-tool.bat:                     DOS batch file text, ASCII text
./bin/jconsole.bat:                         DOS batch file text, ASCII text
./bin/domain.bat:                           DOS batch file text, ASCII text, with CRLF line terminators
./bin/wsconsume.bat:                        DOS batch file text, ASCII text, with CRLF line terminators
./bin/standalone.conf.bat:                  ASCII text, with CRLF line terminators
./bin/domain.conf.bat:                      ASCII text, with CRLF line terminators
./bin/jboss-cli.bat:                        DOS batch file text, ASCII text
./bin/vault.bat:                            DOS batch file text, ASCII text, with CRLF line terminators
./docs/contrib/scripts/service/service.bat: DOS batch file text, ASCII text, with very long lines, with CRLF line terminators
{noformat}","18/Jun/19 6:10 PM;brian.stansberry;I merged https://github.com/wildfly/wildfly/pull/12336 but I believe the files themselves need to be updated so I'm not resolving this. If I'm wrong and this can be resolved, go for it!","18/Jun/19 7:01 PM;jamezp;You are correct the files themselves need to be updated. You'd have to apply this change then do something like {{find feature-pack/src -name ""*.bat"" | xargs -I \{\} git reset-file ""\{\}""}}. Every user would have to do this though or more importantly whoever does the release.

That said there is also WFGP-144 which fixes this issue with the changes on the [WFCORE-4502|https://issues.jboss.org/browse/WFCORE-4502?focusedCommentId=13741905&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13741905] comment.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,
Expose UndertowOptions.PRESERVE_PATH_ON_FORWARD in Undertow settings,WFLY-11764,12793843,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,spyrkob,spyrkob,spyrkob,22/Feb/19 8:44 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,17/Sep/19 11:52 AM,,,,,,18.0.0.Final,,,Web (Undertow),,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-10 13:25:15.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12107,https://github.com/wildfly/wildfly/pull/12633,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03gqc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Sep/19 6:12 AM;kabirkhan;I have opened https://github.com/wildfly/wildfly/pull/12633 as a system property alternative to https://github.com/wildfly/wildfly/pull/12107. 

#12665 includes the following PRs (squashed) from the 7.2.x branch 

https://github.com/jbossas/jboss-eap7/pull/2977
https://github.com/jbossas/jboss-eap7/pull/3014

","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Remove Quickstarts BOM,WFLY-12199,12813788,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,15/Jun/19 3:51 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,15/Jun/19 4:27 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,0,,,,,,,"As followup of WFLY-12195, WFLY-12197 and WFLY-12198, the Quickstarts BOM now has a single managed dependency, the H2 driver, which fits well in the tools BOM, so we may move it to such BOM and remove the Quickstarts BOM.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:55.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06j1g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Timely topology changes can defer expiration of distributed SFSB,WFLY-12401,12823861,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,20/Aug/19 9:08 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,23/Aug/19 9:49 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,EJB,,,,,,0,,,,,,,"Currently, the expiration of a given SFSB is scheduled for the current time + the @StatefulTimeout duration.  However, a topology change cause a change in ownership, expiration for newly owned SFSBs are scheduled on the local member.  Because these are not scheduled using the last accessed time, it is possible that regular topology changes can defer SFSBs from expiring indefinitely.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:54.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0846c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-client from 4.0.20 to 4.0.21,WFLY-12281,12817628,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,10/Jul/19 10:46 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,12/Jul/19 11:14 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,,,,,,,"compare jboss-ejb-client 4.0.20.Final vs 4.0.21.Final:
https://github.com/wildfly/jboss-ejb-client/compare/4.0.20.Final...4.0.21.Final

including fix for issues:
*     EJBCLIENT-339 Remove some doPrivileged calls
*    EJBCLIENT-340 Ensure any AuthenticationContext associated with the invocation is propagated to the transaction call",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:54.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z074no:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade ByteBuddy to 1.9.11,WFLY-12546,12827884,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gbadner,gbadner,gbadner,12/Sep/19 3:44 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,13/Sep/19 4:04 PM,,,,,,18.0.0.Final,,,JPA / Hibernate,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:54.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12638,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08rp0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade smallrye-metrics 2.1.5,WFLY-12553,12828186,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,13/Sep/19 3:37 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,16/Sep/19 7:34 PM,,,,,,18.0.0.Final,,,MP Metrics,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:54.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12632/,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08tgk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused dependency on Quickstart jaxws-ejb,WFLY-12198,12813783,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,15/Jun/19 10:20 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,15/Jun/19 3:47 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,0,,,,,,,The Quickstart depends on com.sun.istack:istack-commons-runtime but seems to be not needed and thus may be removed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:54.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06j0c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Global EJB Server Side Interceptors Configuration,WFLY-6143,12603064,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,bmaxwell,bmaxwell,08/Feb/16 4:18 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,09/Aug/19 9:59 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,affects-model,,,,,,Ability to configure global server side interceptors (container interceptors) and specify their order via the JBoss profile xml.,,,,,,,,,,,,,,,,,,,,,PRODMGT-613,WFLY-6144,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-15 05:55:06.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,7.0,,,,,,,,,,"1|hzdl9j:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"15/Apr/19 5:55 AM;harald.pehl;[~tomekadamski] I'm planing the console payload for WF 17. AIUI this RFE will have an impact on the management model, right? Will this be part of WF 17?","15/Apr/19 6:45 AM;tomekadamski;[~harald.pehl] Yes, this would impact the management model and I plan for it to be a part of WF17. Currently I'm working on draft implementation to clarify a bit of stuff. I plan to update analysis document with stuff learned this week.  Having, said that I expect the changes to be fairy small (adding server-interceptors tag to ejb3 subsystem).

","15/Apr/19 6:57 AM;harald.pehl;Ok, thanks. Could you ping me, if you have a local branch so that I can start to add this to HAL.","15/Apr/19 7:01 AM;tomekadamski;The local branch is https://github.com/tadamski/wildfly/tree/WFLY-6143 but please give me few more days to confirm the management model.","29/Apr/19 11:39 AM;harald.pehl;[~tomekadamski] Any update when this will be available in WildFly master?","29/Apr/19 11:47 AM;tomekadamski;@HaraldPehl the draft is ready. I will open PR today. This would require reviews but I hope the management model will stay unchanged.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,
Make the certificate authority used by a certificate-authority-account configurable,WFLY-12044,12805547,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dvilkola,dvilkola,dvilkola,03/May/19 8:58 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,11/Jul/19 6:47 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Documentation,Security,,,,,,0,,,,,,,"Currently, Let's Encrypt (https://acme-v02.api.letsencrypt.org/directory) is the only certificate authority that can be used by a certificate-authority-account. In the future, if/when other certificate authorities implement the server side of the ACME protocol, this will need to be configurable. In addition, making this configurable would also allow local Let's Encrypt server instances to be used for testing purposes.",,,,,,,,,,,WFCORE-4362,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:53.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z059us:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Resolve failure with EAP 7.2 mixed domain tests on JDK 12,WFLY-12182,12812223,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,brian.stansberry,brian.stansberry,10/Jun/19 2:28 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,13/Jul/19 12:49 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Management,Test Suite,,,,,,0,,,,,,,"The EAP 7.2 mixed domain tests have been failing with JDK 12 since May 1.  Task is to figure out why.

The changes that went into master before the first failure are here:

https://ci.wildfly.org/viewLog.html?buildId=148651&buildTypeId=WF_MasterLinuxJdk12&tab=buildChangesDiv

Note this includes a WildFly Core upgrade, so that could include all sorts of things.

The mixed domain runs report 12 failures, but the non-EAP 7.2 ones looks to be just because the 7.2 problems mess up the test env state, breaking later tests. This is something we've always seen.

The failure occurs when starting the legacy Process Controller:

{code}
&amp#27;[0m05:12:02,434 INFO  [org.jboss.modules] (main) JBoss Modules version 1.8.6.Final-redhat-00001
&amp#27;[0m&amp#27;[33m05:12:02,692 WARN  [org.jboss.modules.define] (main) Failed to define class org.jboss.logging.MDC in Module ""org.jboss.logging"" version 3.3.2.Final-redhat-00001 from local module loader @2ddc9a9f (finder: local module finder @298a5e20 (roots: /store/work/tc-work/8edf911abfd02209/testsuite/mixed-domain/target/domains/MixedDomain720TestSuite/slave/added-modules,/store/work/tc-work/8edf911abfd02209/testsuite/mixed-domain/target/domains/MixedDomain720TestSuite/added-modules,/store/work/tc-work/8edf911abfd02209/testsuite/mixed-domain/target/old-versions/jboss-eap-7.2.0/modules,/store/work/tc-work/8edf911abfd02209/testsuite/mixed-domain/target/old-versions/jboss-eap-7.2.0/modules/system/layers/base)): org.jboss.modules.ModuleLoadError: java.se
	at org.jboss.modules.ModuleLoadException.toError(ModuleLoadException.java:74)
	at org.jboss.modules.Module.getPathsUnchecked(Module.java:1608)
	at org.jboss.modules.Module.loadModuleClass(Module.java:726)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at java.base/java.lang.ClassLoader.defineClass1(Native Method)
	at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)
	at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:423)
	at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:519)
	at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)
	at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)
	at org.jboss.modules.Module.loadModuleClass(Module.java:731)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at org.jboss.as.process-controller@6.0.11.Final-redhat-00001//org.jboss.as.process.Main.start(Main.java:80)
	at org.jboss.as.process-controller@6.0.11.Final-redhat-00001//org.jboss.as.process.Main.main(Main.java:76)
	at org.jboss.modules.Module.run(Module.java:352)
	at org.jboss.modules.Module.run(Module.java:320)
	at org.jboss.modules.Main.main(Main.java:593)

&amp#27;[0mException in thread ""main"" org.jboss.modules.ModuleLoadError: java.se
	at org.jboss.modules.ModuleLoadException.toError(ModuleLoadException.java:74)
	at org.jboss.modules.Module.getPathsUnchecked(Module.java:1608)
	at org.jboss.modules.Module.loadModuleClass(Module.java:726)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at java.base/java.lang.ClassLoader.defineClass1(Native Method)
	at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)
	at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:423)
	at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:519)
	at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)
	at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)
	at org.jboss.modules.Module.loadModuleClass(Module.java:731)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at org.jboss.as.process-controller@6.0.11.Final-redhat-00001//org.jboss.as.process.Main.start(Main.java:80)
	at org.jboss.as.process-controller@6.0.11.Final-redhat-00001//org.jboss.as.process.Main.main(Main.java:76)
	at org.jboss.modules.Module.run(Module.java:352)
	at org.jboss.modules.Module.run(Module.java:320)
	at org.jboss.modules.Main.main(Main.java:593)
{code}

I'm labeling this a Task for now rather than a Bug because I suspect the problem may be in the test infrastructure.  In particular I recommend having a look at anything that changed in the WF Core launcher module in the 9.0.0.Beta4 release.  The mixed domain tests use DomainLifecycleUtil, which in turn uses launcher's DomainCommandBuilder. Those use java.lang.Process to start a legacy PC using the JDK 11 jvm on the CI server. So the PC process is completely separate from the test client or the master PC/HC/servers. No reason the old code should stop working with JDK 11 so I suspect something has changed with the launcher.

[~jamezp] [~ropalka] FYI",,,,,,,,,,,,,WFCORE-4517,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-10 14:35:29.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z06bp0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/Jun/19 2:35 PM;jamezp;My guess is that it's related to WFCORE-4415. The PR removed the {{--add-modules=java.se}} in several places including the launcher. Since the current launcher would be used and the older versions of the {{jboss-modules.jar}} likely don't automatically add the {{java.se}} module we should still have the launcher add this property as it should work with any version of WildFly.","10/Jun/19 3:20 PM;jamezp;It does look like we could add a workaround as well by adding a {{-Dextra.server.jvm.args=--add-modules=java.se}} property. This worked for me locally at least. Sorry I spoke too soon. This only works for 7.2.0 tests for some reason, but it's something we can likely figure out a way to workaround.

This obviously won't work when Java 8 is used so this is an unusable workaround.","10/Jun/19 4:53 PM;jamezp;I can confirm that this would fix it https://github.com/wildfly/wildfly-core/compare/master...jamezp:WFLY-12182.","13/Jul/19 12:49 PM;brian.stansberry;The WFCORE fix in 10.0.0.Beta1 did indeed fix it.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,
Use maven project.groupId for wildfly-client-all dependency in integration manual mode test suite,WFLY-12421,12824402,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,23/Aug/19 11:00 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,23/Aug/19 9:51 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,The use of maven property ${project.groupid} instead of the hardcoded org.wildfly group id facilitates the transition to the product branches.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:53.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12522,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z087ec:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.16.Final,WFLY-12350,12821351,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,05/Aug/19 12:14 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,07/Aug/19 3:03 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,https://issues.jboss.org/projects/ISPN/versions/12342253,,,,,,,,,,,JBEAP-17097,,,,,,,,,,,,,,,,,,,WFLY-12334,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:53.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12471,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07q78:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Server doesn't start when DNS_PING is configured,WFLY-12631,12831739,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,rhusar,jdenise,jdenise,03/Oct/19 7:52 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,03/Oct/19 11:38 AM,,,,,,18.0.0.Final,,,Clustering,,,,,,,0,,,,,,,"NPE at start.
 The root cause is that <module name=""sun.jdk""/> is missing from org.wildfly.clustering.service module.

Exception:
Caused by: java.lang.NullPointerException
at org.jgroups.protocols.dns.DNS_PING.destroy(DNS_PING.java:70)
at java.util.ArrayList.forEach(ArrayList.java:1257)
at org.jgroups.stack.ProtocolStack.destroy(ProtocolStack.java:876)
at org.jgroups.stack.ProtocolStack.initProtocolStack(ProtocolStack.java:867)
at org.jgroups.stack.ProtocolStack.init(ProtocolStack.java:849)
at org.jgroups.JChannel.<init>(JChannel.java:155)
at org.jboss.as.clustering.jgroups.JChannelFactory.createChannel(JChannelFactory.java:116)
at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceConfigurator.get(ChannelServiceConfigurator.java:96)

Hidden exception:
Failed instantiate InitialContextFactory com.sun.jndi.dns.DnsContextFactory from classloader ModuleClassLoader for Module ""org.wildfly.clustering.service"" version 18.0.0.Final-SNAPSHOT from local module loader @2d3fcdbd (finder: local module finder @617c74e5 (roots: /home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules,/home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules/system/layers/base)) [Root exception is java.lang.ClassNotFoundException: com.sun.jndi.dns.DnsContextFactory from [Module ""org.wildfly.clustering.service"" version 18.0.0.Final-SNAPSHOT from local module loader @2d3fcdbd (finder: local module finder @617c74e5 (roots: /home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules,/home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules/system/layers/base))]]",,,,,,,,,WFLY-12505,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-03 09:45:20.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12690,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z09dms:",9223372036854775807,,0.0,,,,,"Configuration:
<protocol type=""dns.DNS_PING"">
                        <property name=""dns_query"">eap-app-ping</property>
                        <property name=""async_discovery_use_separate_thread_per_request"">true</property>
                    </protocol>",,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Document usage of EJB and JMS Client BOM in Quickstarts,WFLY-12630,12831676,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,03/Oct/19 3:37 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,03/Oct/19 4:17 AM,,,,,,18.0.0.Final,,,Quickstarts,,,,,,,0,,,,,,,"Similar to WFLY-12377, all Quickstarts should explain usage of the EJB Client and JMS Client BOMs, as the proper way to manage/use the dependencies in server, assuring compatibility with it.",,,,,,,,,,,WFLY-12377,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,User Experience,,,,,,,,,,,,,2019-10-14 12:28:53.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z09dak:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Subsystem metrics are missing from microprofile-metrics JSON output,WFLY-12543,12827866,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,rcd,rcd,11/Sep/19 6:16 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,24/Sep/19 1:18 PM,17.0.1.Final,18.0.0.Beta1,,,,18.0.0.Final,,,MP Metrics,,,,,,,0,,,,,,,"Calling /metrics with Accept = application/json results in much fewer metrics being returned than when it is called without Accept (and thus returns data in the OpenMetrics format). Specifically, all the subsystem metrics (anything affected by the prefix configured in the microprofile-metrics subsystem) are missing.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:53.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z08rl0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Sep/19 6:25 PM;rcd;I just noticed this in the WildFly 17 documentation:

bq. The WildFly metrics (that measures activity in the subsystem or application deployments) are exposed only on the /metrics endpoint with the Prometheus format.

Okay, so I guess this isn't a bug, but that still seems like a strange limitation. It really cripples the usefulness of the JSON format.","18/Sep/19 2:08 PM;rcd;This is now working in the latest nightly (665). Probably fixed by WFLY-12311.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Move to jakarta.security.enterprise:jakarta.security.enterprise-api and org.glassfish.soteria:jakarta.security.enterprise ,WFLY-12418,12824320,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dvilkola,dvilkola,dvilkola,23/Aug/19 6:13 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,26/Aug/19 6:18 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,Security,,,,,,0,,,,,,,This is simple component upgrade to jakarta since we will not be forking EE security for now. ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-23 14:59:05.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12520,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z086vw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"23/Aug/19 2:59 PM;brian.stansberry;[~dvilkola] [~dlofthouse] Please make sure any related changes to the boms are completed.","27/Aug/19 4:21 AM;dlofthouse;Had a chat with [~emmartins] this morning, it sounds like there are lot of changes flying around the boms so Eduardo will sync the boms with the component upgrades.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Using hotrod session manager with near cache throws IllegalAccessError,WFLY-12334,12820252,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,29/Jul/19 7:45 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,07/Aug/19 3:04 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"Until an Infinispan release containing ISPN-10248 is incorporated, the org.wildfly.clustering.infinispan.spi module needs to extend package protected classes from the org.infinispan.client.hotrod module.  However, this throws a IllegalAccessError since the package protected class to which we are attempting to extend resides in a different module.

Until Infinispan 9.4.16.Final is released, we need to absorb the org.infinispan.client.hotrod module into the org.wildfly.clustering.infinispan.spi module.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:52.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12471,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07jp0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Re-add jboss public maven repos to BOMs and Quickstart's parents ,WFLY-12288,12818221,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,15/Jul/19 2:57 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,18/Jul/19 4:03 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,0,,,,,,,"The repositories are still needed, not all dependencies are available in Maven Central",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:52.0,,,,,,,,,https://github.com/wildfly/boms/pull/62,https://github.com/wildfly/quickstart/pull/357,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07844:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Default VERIFY_SUSPECT timeout is too high,WFLY-12242,12815600,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,26/Jun/19 4:06 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,27/Jun/19 4:51 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"In a world where WF starts in 2 seconds on a 2 year old laptop, the default VERIFY_SUSPECT timeout of WF (currently 5 seconds) can easily create the condition where a killed and restarted server shows up in the topology before the old server leaves.  Ideally, the VERIFY_SUSPECT timeout should not be longer than the time it takes to start the server process.  A timeout of 1 second should suffice.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:52.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06szg:",9223372036854775807,,0.0,,,,,,,,,,,,,,Workaround Exists,"<protocol type=""VERIFY_SUSPECT"">
    <property name=""timeout"">1000</property>
</protocol>","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
doPrivileged needed for isUserInRole,WFLY-12526,12827437,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,dlofthouse,dlofthouse,dlofthouse,10/Sep/19 7:37 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,11/Sep/19 1:30 PM,,,,,,18.0.0.Final,,,Web (Undertow),,,,,,,0,,,,,,,"Currently experiencing the following error: -

{noformat}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""org.jboss.security.plugins.ClassLoaderLocatorFactory.get"")"" in code source ""(vfs:/content/mydeployment.war/ <no signer certificates>)"" of ""org.apache.jasper.servlet.JasperLoader@24d700ba"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294) [wildfly-elytron-security-manager-1.10.0.Final.jar:1.10.0.Final]
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191) [wildfly-elytron-security-manager-1.10.0.Final.jar:1.10.0.Final]
	at org.jboss.security.plugins.ClassLoaderLocatorFactory.get(ClassLoaderLocatorFactory.java:51) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.jboss.security.plugins.authorization.JBossAuthorizationContext.initializeModules(JBossAuthorizationContext.java:187) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.jboss.security.plugins.authorization.JBossAuthorizationContext.authorize(JBossAuthorizationContext.java:141) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.jboss.security.plugins.JBossAuthorizationManager.internalAuthorization(JBossAuthorizationManager.java:438) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.jboss.security.plugins.JBossAuthorizationManager.authorize(JBossAuthorizationManager.java:115) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.jboss.security.plugins.javaee.WebAuthorizationHelper.hasRole(WebAuthorizationHelper.java:201) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.wildfly.extension.undertow.security.JbossAuthorizationManager.isUserInRole(JbossAuthorizationManager.java:99)
	at io.undertow.servlet.spec.HttpServletRequestImpl.isUserInRole(HttpServletRequestImpl.java:337) [undertow-servlet-2.0.26.Final.jar:2.0.26.Final]
	at org.apache.jsp.secured_jsp._jspService(secured_jsp.java:109)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [jastow-2.0.7.Final.jar:2.0.7.Final]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) [jboss-servlet-api_4.0_spec-2.0.0.CR2.jar:2.0.0.CR2]
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433) [jastow-2.0.7.Final.jar:2.0.7.Final]
	... 51 more
{noformat}

The reason I believe this requires a doPrivileged is the permission required is entirely internal to our implementation of isUserInRole - whilst the deployment can trigger this call the deployment can not influence how this is implemented so the deployment's ProtectionDomain should not require the permissions needed for our internal class loading so a doPrivileged call will drop the deployment's ProtectionDomain from the stack.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-11 11:35:20.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z08p30:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Sep/19 11:35 AM;kabirkhan;[~flavia.rainone] There is a small pull request for this one waiting for your review.","11/Sep/19 1:03 PM;flavia.rainone;[~kabirkhan] done","11/Sep/19 1:29 PM;kabirkhan;Thanks!","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
Add attribute to model which will indicate that backup is synchronized with live server ,WFLY-11293,12729443,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,ehugonnet,mnovak,kabirkhan,17/Jan/18 7:29 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,04/Sep/19 7:37 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,0,,,,,,,"If HA is configured with replicated journal then it takes some time to backup to synchronize with live server.  Once backup is in sync with live then following information appears in server.log:
{code}
13:20:00,739 INFO  [org.apache.activemq.artemis.core.server] (Thread-3 (ActiveMQ-client-netty-threads-457000966)) AMQ221024: Backup server ActiveMQServerImpl::serverUUID=bc015b34-fd73-11e5-80ca-1b35f669abb8 is synchronized with live-server.
13:20:01,500 INFO  [org.apache.activemq.artemis.core.server] (Thread-2 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$2@41f992ab-83559664)) AMQ221031: backup announced
{code}

Reading server logs to see whether backup is in sync is not convinient and user friendly way. Could we add this information to model so it can be detected through CLI command?

New attribute with name {{synchronized-with-live}} should be added to {{/subsystem=messaging-activemq/server=default/ha-policy=replication-slave}}

This information can be gathered by calling: {{SharedNothingBackupActivation.isRemoteBackupUpToDate()}}

Additionally we should provide this attribute also in replicated live server in: {{/subsystem=messaging-activemq/server=default/ha-policy=replication-master}} as Administrator might want to know whether live can be shutdown.

",,,,,,,,,,,WFLY-6589,,WFLY-12326,,,,,,,,EAP7-884,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,+,,,2019-10-14 12:28:52.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|hzusmn:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"07/Nov/18 6:02 AM;mnovak;Moving to PRODMGT jira.","07/Nov/18 6:04 AM;mnovak;There is already RFE for this feature - EAP7-884. Closing.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Add support for configuring load-balancer with ranked routing,WFLY-12144,12810137,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,30/May/19 10:12 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,14/Aug/19 7:33 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,Web (Undertow),,,,,,0,affects-model,,,,,,"Support none/single/ranked affinity strategies for both:

* mod_cluster
* regular proxy",,,,,,,,,,,,,WFLY-12173,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:51.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12347,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05zfw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Aug/19 7:04 AM;rhusar;Update for wildfly-proposals https://github.com/wildfly/wildfly-proposals/pull/239.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
The subscribed topic is removed if reconnecting to messaging system with legacy-connection-factory,WFLY-12129,12809053,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ehugonnet,terryyrliang,terryyrliang,26/May/19 10:47 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,27/Sep/19 1:44 PM,17.0.0.Alpha1,17.0.0.Beta1,,,,18.0.0.Final,,,JMS,,,,,,,0,blocker-WF18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-17 11:00:37.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,10.0,,,,,,,,,,"1|z05tgc:",9223372036854775807,,0.0,,,,,"1. Setup below configuration in wildfly
{code}
<subsystem xmlns=""urn:jboss:domain:messaging-activemq:5.0"">
    <server name=""default"">
        <security enabled=""false""/>
        <management jmx-enabled=""true"" address=""jms.queue.activemq.management"" jmx-domain=""org.activemq"" />
        <security-setting name=""activemq.management"">
            <role name=""admin""/>
        </security-setting>
        <address-setting name=""#"" dead-letter-address=""jms.queue.DLQ"" expiry-address=""jms.queue.ExpiryQueue"" max-size-bytes=""10485760000"" page-size-bytes=""2097152"" message-counter-history-day-limit=""10""/>
        <http-connector name=""http-connector"" socket-binding=""http"" endpoint=""http-acceptor""/>
        <http-connector name=""http-connector-throughput"" socket-binding=""http"" endpoint=""http-acceptor-throughput"">
            <param name=""batch-delay"" value=""50""/>
        </http-connector>
        <remote-connector name=""legacy-messaging-connector"" socket-binding=""legacy-messaging""/>
        <in-vm-connector name=""in-vm"" server-id=""0"">
            <param name=""buffer-pooling"" value=""false""/>
        </in-vm-connector>
        <http-acceptor name=""http-acceptor"" http-listener=""default""/>
        <http-acceptor name=""http-acceptor-throughput"" http-listener=""default"">
            <param name=""batch-delay"" value=""50""/>
            <param name=""direct-deliver"" value=""false""/>
        </http-acceptor>
        <remote-acceptor name=""legacy-messaging-acceptor"" socket-binding=""legacy-messaging""/>
        <in-vm-acceptor name=""in-vm"" server-id=""0"">
            <param name=""buffer-pooling"" value=""false""/>
        </in-vm-acceptor>
        <jms-topic name=""testTopic"" entries=""topic/newTestTopic java:jboss/exported/topic/newTestTopic"" legacy-entries=""topic/testTopic jms/topic/testTopic java:jboss/exported/topic/testTopic""/>
        <connection-factory name=""InVmConnectionFactory"" entries=""java:/ConnectionFactory java:jboss/exported/ConnectionFactory"" connectors=""in-vm""/>
        <connection-factory name=""NewRemoteConnectionFactory"" entries=""java:jboss/exported/jms/NewRemoteConnectionFactory"" connectors=""http-connector""/>
        <legacy-connection-factory name=""legacy-discovery"" entries=""java:jboss/exported/jms/RemoteConnectionFactory"" connectors=""legacy-messaging-connector""/>
        <pooled-connection-factory name=""activemq-ra"" entries=""java:/JmsXA java:jboss/DefaultJMSConnectionFactory"" connectors=""in-vm"" transaction=""xa""/>
    </server>
</subsystem>
<subsystem xmlns=""urn:jboss:domain:remoting:4.0"">
    <connector name=""legacy-remoting-connector"" socket-binding=""legacy-remoting""/>
    <http-connector name=""http-remoting-connector"" connector-ref=""default""/>
</subsystem>

<interfaces>
    <interface name=""management"">
        <any-address/>
    </interface>
    <interface name=""public"">
        <any-address/>
    </interface>
    <interface name=""messaging-interface"">
        <any-address/>
    </interface>
</interfaces>

<socket-binding-group name=""standard-sockets"" default-interface=""public"" port-offset=""${my.jboss.port.offset:0}"">
    <socket-binding name=""legacy-remoting"" port=""4447""/>
    <socket-binding name=""legacy-messaging"" interface=""messaging-interface"" port=""5445""/>
    
</socket-binding-group>

{code}

2. Use JMS client tool such as JMSToolBox to connect to wildfly messaging system with Apache Active MQ Artemis v2.x and port 5445
3. Subscribe the topic testTopic
4. Disconnect to wildfly messaging system
5. Wait for 30 seconds
6. Reconnect to wildfly messaging system again
7. The topic testTopic disappear.",,,,,,,,,,No workaround,"16/Jul/19 10:03 PM;terryyrliang;Hello, could this issue can be fixed in Wildfly 18.0? High appreciate your response. Thank you.","17/Jul/19 11:00 AM;brian.stansberry;[~terryyrliang] You put a 'regression' label on this. What's the latest WildFly version where you have not seen this problem?  If that's not WildFly 16.0.0.Final and if you've tried with any others prior to 17.0.0.Beta1 please let us know as that might help narrow down the problem. Thanks!","17/Jul/19 10:10 PM;terryyrliang;[~brian.stansberry], Sorry that I thought regression label means which stage I got this error and I already removed it. I upgrade from wildfly 16.0 Final to 17.0 beta, and got that error that I disconnect from messaging activemq, the topic was removed. Actually this happens in Wildfly 17.0 Final too as I tried.","26/Jul/19 12:17 PM;ehugonnet;This seems to be the same issue.","26/Jul/19 12:37 PM;ehugonnet;This seems related to ARTEMIS-1856 which causes the AddressInfo to be deleted even if it is not auto-created .
The fix is https://issues.apache.org/jira/browse/ARTEMIS-2391","29/Jul/19 5:32 AM;terryyrliang;[~ehugonnet] yes, looks like it's the same issue. I found the activemq-artemis version in Wildfly 17.0.1 is 2.8, will it upgrade in next release?","29/Jul/19 8:40 AM;ehugonnet;The fix is not in Apache Artemis 2.9.0 so currently even an upgrade wouldn't fix it.
We need to wait for a 2.10 release.","04/Sep/19 10:22 PM;terryyrliang;[~ehugonnet], I just found activemq artemis 2.10 released 10 days ago, could you kindly advise which release will contain this fix?","05/Sep/19 2:49 AM;ehugonnet;[~terryyrliang] we can't just upgrade for now as there are issues.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,
Test BridgeFromJTATestCase is not run by default,WFLY-12391,12823496,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ochaloup,ochaloup,ochaloup,19/Aug/19 6:09 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,21/Aug/19 8:36 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,0,,,,,,,The jta txbridge test `org.jboss.as.test.txbridge.fromjta.BridgeFromJTATestCase` is not enabled to be run by default when `integration/xts` tests are run.,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11849,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:51.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12505,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0821o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.15.Final,WFLY-12208,12814336,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,19/Jun/19 8:45 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,19/Jun/19 5:47 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,https://issues.jboss.org/projects/ISPN/versions/12342165,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:51.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12374,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06m7w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Update legacy wildfly-build-tools to 1.2.12.Final,WFLY-12552,12828154,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,12/Sep/19 5:04 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,13/Sep/19 5:37 PM,,,,,,18.0.0.Final,,,Build System,,,,,,,0,,,,,,,Pick up WFBUILD-48 to allow cleaner comparisons between build/dist and build-legacy/dist-legacy output.,,,,,,,,,,,WFCORE-4664,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12639,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08t9g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Transaction could not handle remote EJB invocation even if the transaction is not used remote,WFLY-12077,12806981,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,tomekadamski,wdfink,wdfink,14/May/19 8:52 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,18/Jun/19 6:07 PM,17.0.0.Alpha1,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,downstream_dependency,Regression,,,,,"An EJB marked as BMT which start a Tx and invoke a CMT managed Bean annotated with REQUIRES_NEW will fail if the BMT bean will show unexpected Arjuna WARN messages and the Tx seems not finished correctly.

The same works in former releases.

{code}
WARN  [com.arjuna.ats.jta] (default task-2) ARJUNA016129: Could not end XA resource Subordinate XAResource at http-remoting://localhost:8180: javax.transaction.xa.XAException: WFTXN0029: The peer threw an XA exception
	at org.wildfly.transaction.client.provider.remoting.TransactionClientChannel.setRollbackOnly(TransactionClientChannel.java:167)
	at org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer$1.end(RemotingRemoteTransactionPeer.java:158)
	at org.wildfly.transaction.client.SubordinateXAResource.end(SubordinateXAResource.java:138)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.doEnd(TransactionImple.java:1088)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.endAssociation(TransactionImple.java:1059)
	at com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord.endAssociation(XAResourceRecord.java:1286)
	at com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord.topLevelAbort(XAResourceRecord.java:313)
	at com.arjuna.ats.arjuna.coordinator.BasicAction.doAbort(BasicAction.java:3023)
	at com.arjuna.ats.arjuna.coordinator.BasicAction.doAbort(BasicAction.java:3002)
	at com.arjuna.ats.arjuna.coordinator.BasicAction.Abort(BasicAction.java:1674)
	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.cancel(TwoPhaseCoordinator.java:124)
	at com.arjuna.ats.arjuna.AtomicAction.abort(AtomicAction.java:186)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.rollbackAndDisassociate(TransactionImple.java:1370)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.rollback(BaseTransaction.java:143)
	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.rollback(BaseTransactionManagerDelegate.java:134)
	at org.wildfly.transaction.client.LocalTransaction.rollbackAndDissociate(LocalTransaction.java:109)
	at org.wildfly.transaction.client.ContextTransactionManager.rollback(ContextTransactionManager.java:83)
	at org.wildfly.transaction.client.LocalUserTransaction.rollback(LocalUserTransaction.java:58)
	at xa.transaction.BeanA.testRemoteCMTxnFailure(BeanA.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.tx.EjbBMTInterceptor.handleInvocation(EjbBMTInterceptor.java:103)
	at org.jboss.as.ejb3.tx.BMTInterceptor.processInvocation(BMTInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:406)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeWithIdentity(AssociationImpl.java:565)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeMethod(AssociationImpl.java:546)
	at org.jboss.as.ejb3.remote.AssociationImpl.lambda$receiveInvocationRequest$0(AssociationImpl.java:197)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
	at java.lang.Thread.run(Thread.java:748)
Caused by: Remote exception javax.transaction.xa.XAException
	Public fields:
		errorCode=-4
	at org.wildfly.transaction.client.provider.remoting.TransactionServerChannel.lambda$handleXaTxnRollbackOnly$3(TransactionServerChannel.java:398)
	at org.wildfly.security.auth.server.SecurityIdentity.runAsObjIntConsumer(SecurityIdentity.java:381)
	at org.wildfly.transaction.client.provider.remoting.TransactionServerChannel.handleXaTxnRollbackOnly(TransactionServerChannel.java:394)
	at org.wildfly.transaction.client.provider.remoting.TransactionServerChannel$ReceiverImpl.handleMessage(TransactionServerChannel.java:132)
	at org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:430)
	at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:942)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	... 1 more
{code}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/May/19 8:52 AM;wdfink;reproducer.zip;https://issues.redhat.com/secure/attachment/12450655/reproducer.zip",,,,,,,,,Regression,,,,,,,,,,2019-05-14 10:11:51.0,,,,,,,,,,,,,,,,,,,,,,,,,1.0,7.0,,,,,,,,,,"1|z05hwc:",9223372036854775807,,0.0,,,,,"USe attached reproducer:

- Build project
- use vanilla EAP WildFly server
- cp Reproducer.ear to standalone/deployments
- cp -a standalone node1
- cp -a standalone node2
- start servers
  - bin/standalone.sh -Djboss.server.base.dir=node1 -Djboss.socket.binding.port-offset=0 -Djboss.server.name=node1 -Djboss.tx.node.id=node1
  - bin/standalone.sh -Djboss.server.base.dir=node2 -Djboss.socket.binding.port-offset=0 -Djboss.server.name=node2 -Djboss.tx.node.id=node2
  -> Note jboss.tx.node.id to have a unique tx identivier and prevent from warning - but it does not matter
- start client
  java -cp client/target/Reproducer-client.jar:ejb/target/Reproducer-ejb-client.jar:SERVER/bin/client/jboss-client.jar xa.transaction.XATxnTest localhost:8080 localhost:8180
",,,,,,,,,,,"14/May/19 9:52 AM;wdfink;To be more preceise for the reproducer and expectation.

The BeanB is CMT and annotated with REQUIRES_NEW.
From the EJB specification the thown (checked) Exception is an application exception without any influence to the Tx.
So the expected spec conform behaviour is this transaction at backend (8180) is committed.
BeanA is at frontend server is a BMT bean (in general it would not matter if correct implemented) but this bean will catch the Exception from backend and decide to rollback here and return successfully.
So the expectation on data is
- backend committed
- frontend rolled back
If this is the behaviour the WARNING is just confusing as ""ARJUNA016129: Could not end XA resource Subordinate XAResource at http-remoting://localhost:8180: javax.transaction.xa.XAException: WFTXN0029: The peer threw an XA exception""
gave the impression that the transaction at the backend side is not ended correctly.


If the Tx for BeanB is not committed this is a spec violation, the WARN message is an ERROR or FATAL and it is a serious spec violation which need to be fixed (as blocker) !!!

If the Tx for BeanB is committed and the Tx for BeanA is rolled back, everything is as expected and the WARN message need to be removed (or logged as DEBUG/TRACE) to not confuse the users.","14/May/19 10:18 AM;ochaloup;> If the Tx for BeanB is committed and the Tx for BeanA is rolled back, everything is as expected and the WARN message need to be removed (or logged as DEBUG/TRACE) to not confuse the users.
[~wdfink]
Yes, the behaviour is the one you described - BeanB is committed, BeanA can be committed or rolled-back as the user wishes (driven by BMT {{UserTransaction}})
it's what I can see when reproducing the test case and it's what is content of the warning[1] in the customer case.

Agree, probably the solution is for WARN message being logged to TRACE/DEBUG. It's the same what's done for {{XAER_NOTA}} e.g. during recovery {{rollback}}. The client side can't be sure about the existency of the remote transaction in the distributed system. The code counts with the option that the transaction doesn't exist. Logging the XAER_NOTA should be only informative and not causing confusion.

[1]
The WARNING comes from {{TransactionClientChannel.setRollbackOnly}}
{code}
WARN  [com.arjuna.ats.jta] (default task-1) ARJUNA016129: Could not end XA resource Subordinate XAResource at http-remoting://localhost:8120: javax.transaction.xa.XAException: WFTXN0029: The peer threw an XA exception
        at org.wildfly.transaction.client.provider.remoting.TransactionClientChannel.setRollbackOnly(TransactionClientChannel.java:167)
{code}




","22/May/19 7:19 AM;tomekadamski;[~wdfink] [~mmusgrov] [~ochaloup] I have proposed the PR: https://github.com/wildfly/wildfly-transaction-client/pull/76
I have checked that the error in the reproducer does not occur. ","03/Jun/19 4:40 PM;flavia.rainone;To keep track of this Jira in WFTC, I created WFTC-66 and linked the PR to it.","07/Jun/19 2:55 PM;jamezp;The pull request was for the naming client and should be back in the Open state as an upgrade will be required.","18/Jun/19 6:07 PM;brian.stansberry;AIUI this was resolved via https://github.com/wildfly/wildfly/pull/12365. If not, please re-open.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,
Align jgroups stacks in example configurations with default ha configuration,WFLY-12248,12815794,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,27/Jun/19 9:35 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,28/Jun/19 1:08 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Clustering,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:50.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12394,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06u2c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.websockets to 2.0.0.Final,WFLY-12544,12827867,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,jamezp,11/Sep/19 6:27 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,11/Sep/19 11:35 PM,,,,,,18.0.0.Final,,,EE,Web (Undertow),,,,,,0,,,,,,,Upgrade the WebSockets API to 2.0.0.CR1,,,,,,,,,,,WFLY-12438,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:50.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12629,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08rl8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Narayana to 5.9.7.Final,WFLY-12422,12824416,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,23/Aug/19 11:17 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,23/Aug/19 5:03 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,0,,,,,,,Release notes: https://issues.jboss.org/projects/JBTM/versions/12326302,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:50.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z087hg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
WildFlyCustomJtaPlatform does not cache TSR for manually bootstrapped hibernate apps,WFLY-12365,12821907,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,swd847,swd847,08/Aug/19 7:56 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,09/Aug/19 4:34 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,JPA / Hibernate,,,,,,,0,,,,,,,This results in the TSR being looked up from JNDI every time which has a performance impact,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:49.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07tc4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
SecurityManager push/pull is expensive also for datasources,WFLY-12344,12820965,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,maeste,maeste,01/Aug/19 5:59 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,13/Aug/19 3:47 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JCA,,,,,,,0,,,,,,,"Pushing SecurityDefinition in securityManager in eery SubjectFactory is creating a lot of object with an impact on performance.
Double checking WFLY-6372 it seems not needed for that issue.",,,,,,,,,,,WFLY-12318,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:49.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07nys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Missing license info from core feature pack,WFLY-12229,12814942,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,23/Jun/19 5:15 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,03/Jul/19 2:48 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Build System,,,,,,,0,,,,,,,The docs/licenses/core-feature-pack-licenses.html file and thus the overall docs/licenses/licenses.html file is missing most of the expected content. Seems to have only org.wildfly.core:wildfly-event-logger and various org.wildfly.security items.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06p90:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
MixedDomainTestSuite might not set version to null in AfterClass method ,WFLY-12519,12827272,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,istraka,istraka,istraka,09/Sep/19 10:29 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,10/Sep/19 6:30 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Test Suite,,,,,,,0,,,,,,,"In our environment server might not start within a timeout (see MixedDomain710TestSuite fail in [1]). 

{code:java}
java.lang.AssertionError: Slave server-one did not start within 20000 ms
	at org.junit.Assert.fail(Assert.java:88)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSupport.startSlaveServer(MixedDomainTestSupport.java:166)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSupport.start(MixedDomainTestSupport.java:129)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSuite.getSupport(MixedDomainTestSuite.java:157)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSuite.getSupport(MixedDomainTestSuite.java:133)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSuite.getSupport(MixedDomainTestSuite.java:78)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSuite.getSupport(MixedDomainTestSuite.java:68)
	at org.jboss.as.test.integration.domain.mixed.eap710.MixedDomain710TestSuite.initializeDomain(MixedDomain710TestSuite.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
{code}

If this happens during the initialization phase [here|https://github.com/wildfly/wildfly/blob/18.0.0.Beta1/testsuite/mixed-domain/src/test/java/org/jboss/as/test/integration/domain/mixed/MixedDomainTestSuite.java#L157] support static field is not set. When AfterClass close method is called version is not set to null [here|https://github.com/wildfly/wildfly/blob/18.0.0.Beta1/testsuite/mixed-domain/src/test/java/org/jboss/as/test/integration/domain/mixed/MixedDomainTestSuite.java#L172]. This results to other fails in [1]. Simply because of [this|https://github.com/wildfly/wildfly/blob/18.0.0.Beta1/testsuite/mixed-domain/src/test/java/org/jboss/as/test/integration/domain/mixed/MixedDomainTestSuite.java#L55] - version is supposed to be null but it is not.


[1] https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/eap-7.x-as-testsuite-mixed-domain-rhel/384/jdk=ibm-java-1.8,label_exp=RHEL7&&dynamic&&large/testReport/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:49.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12613,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08o4k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent failures in DynamicJNDIContextEJBInvocationTestCase,WFLY-12512,12827097,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,brian.stansberry,brian.stansberry,07/Sep/19 12:12 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,10/Sep/19 6:26 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,EJB,,,,,,,0,,,,,,,"We're starting to see quite frequent intermittent failures of DynamicJNDIContextEJBInvocationTestCase.

Looking at the history[1] it seems that this first started popping up with the EJB Client Interceptors PR.[2]

[1] https://ci.wildfly.org/project.html?projectId=WF_PullRequest&buildTypeId=&tab=testDetails&testNameId=3633635619745467113&order=TEST_STATUS_DESC&branch_WF_PullRequest=__all_branches__&itemsCount=50

[2] https://github.com/wildfly/wildfly/pull/12490

I'm putting Blocker priority on this because it's a potential regression. But if it's not a regression, just a test that needs improvement, please lower the Priority right away, i.e. don't wait to fix the test.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-09 13:40:32.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z08n44:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Sep/19 1:40 PM;cfang;I was able to reproduce it with WildFly 18 snapshot (after commenting out the @Ignore line in {{DynamicJNDIContextEJBInvocationTestCase}}, and with the following command that mimics LInux+Elytron build:

mvn -U -Dinsecure.repositories=WARN -DallTests -Dmaven.test.failure.ignore=true -DfailIfNoTests=false -Dipv6 -Delytron clean install

The important params seem to be {{-Dipv6 -Delytron}}.  When running without these params (i.e., running {{mvn clean install}}), I did not see these failures.

{code}
[ERROR] testServerToServerSFSBUsingEJB2xHomeView(org.jboss.as.test.multinode.remotecall.scoped.context.DynamicJNDIContextEJBInvocationTestCase)  Time elapsed: 0.093 s  <<< ERROR!
javax.naming.NameNotFoundException: StatefulBeanA!org.jboss.as.test.multinode.remotecall.scoped.context.StatefulBeanA [Root exception is java.lang.IllegalStateException: WFLYEE0046: Failed to instantiate component view]
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:153)
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:83)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:207)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:239)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.doLookup(InitialContext.java:290)
	at org.jboss.as.test.multinode.remotecall.scoped.context.DynamicJNDIContextEJBInvocationTestCase.testServerToServerSFSBUsingEJB2xHomeView(DynamicJNDIContextEJBInvocationTestCase.java:187)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invokeMethod(Arquillian.java:325)
	at org.jboss.arquillian.junit.MethodInvoker$1.invoke(MethodInvoker.java:18)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:139)
	at org.jboss.arquillian.junit.MethodInvoker.invoke(MethodInvoker.java:15)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:332)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:215)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:279)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:273)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:166)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:61)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:153)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:137)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:119)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: WFLYEE0046: Failed to instantiate component view
	at org.jboss.as.ee.component.ViewManagedReferenceFactory.getReference(ViewManagedReferenceFactory.java:58)
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:143)
	... 156 more
{code}","09/Sep/19 7:31 PM;tomekadamski;Thanks [~cfang]. ","10/Sep/19 6:26 PM;brian.stansberry;Thanks, Tomek!","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.servlet.jsp.jboss-jsp-api_2.3_spec to 2.0.0.Final,WFLY-12439,12824941,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,28/Aug/19 4:06 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,11/Sep/19 11:35 PM,,,,,,18.0.0.Final,,,EE,Web (Undertow),,,,,,0,,,,,,,Upgrade the JSP Spec API to 2.0.0.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:48.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12629,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08aas:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Inputs to the standalone-gossip-[full-ha].xml examples use a TCPGOSSIP config that will persist differently,WFLY-12430,12824506,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,25/Aug/19 11:04 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,26/Aug/19 6:19 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"Minor thing I want to sort to make legacy feature-pack-driven builds as consistent as possible with galleon-driven ones....

The docs/examples/configs/standalone-gossip-[full-ha].xml examples configure a TCPGOSSIP protocol but without the required outbound-socket-bindings attribute. Compatibility code in the subsystem handles this by converting the address value to 'org.jgroups.protocols.TCPGOSSIP', which in turn has a different resource registration and Galleon feature spec.  Upshot is when the resource is persisted the xml will read org.jgroups.protocols.TCPGOSSIP. To clarify this, rather than relying on magic compatibility code the inputs for generating the configs should explicitly use 'org.jgroups.protocols.TCPGOSSIP'.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12530,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0880s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
NPE thrown from io.smallrye.metrics when unnamed package is used,WFLY-12403,12823898,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,ochaloup,ochaloup,21/Aug/19 5:36 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,03/Sep/19 10:48 PM,18.0.0.Beta1,,,,,18.0.0.Beta1,18.0.0.Final,,MP Metrics,,,,,,,0,,,,,,,"Update of the metrics in WFLY to {{io.smallrye:smallrye-metrics-2.0:1.1.0}} causes NPE being thrown when unnamed package is used.

{code}
ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.""test.war"".WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.""test.war"".WeldStartService: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1729)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1557)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.weld.exceptions.DefinitionException: Exception List with 1 exceptions:
Exception 0 :
java.lang.NullPointerException
	at io.smallrye.metrics.setup.MetricCdiInjectionExtension.findAnnotatedMethods(MetricCdiInjectionExtension.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$SimpleMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:168)
	at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:330)
	at org.jboss.weld.event.ExtensionObserverMethodImpl.sendEvent(ExtensionObserverMethodImpl.java:123)
	at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:308)
	at org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:286)
	at javax.enterprise.inject.spi.ObserverMethod.notify(ObserverMethod.java:124)
	at org.jboss.weld.util.Observers.notify(Observers.java:166)
	at org.jboss.weld.event.ObserverNotifier.notifySyncObservers(ObserverNotifier.java:285)
	at org.jboss.weld.event.ObserverNotifier.notify(ObserverNotifier.java:273)
	at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:177)
	at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:171)
	at org.jboss.weld.bootstrap.events.AbstractContainerEvent.fire(AbstractContainerEvent.java:53)
	at org.jboss.weld.bootstrap.events.AbstractDefinitionContainerEvent.fire(AbstractDefinitionContainerEvent.java:44)
	at org.jboss.weld.bootstrap.events.ProcessManagedBeanImpl.fire(ProcessManagedBeanImpl.java:31)
	at org.jboss.weld.bootstrap.events.ContainerLifecycleEvents.fireProcessBean(ContainerLifecycleEvents.java:246)
	at org.jboss.weld.bootstrap.events.ContainerLifecycleEvents.fireProcessBean(ContainerLifecycleEvents.java:240)
	at org.jboss.weld.bootstrap.AbstractBeanDeployer.fireProcessBeanEvents(AbstractBeanDeployer.java:128)
	at org.jboss.weld.bootstrap.BeanDeployer.deploy(BeanDeployer.java:331)
	at org.jboss.weld.bootstrap.BeanDeployment.deployBeans(BeanDeployment.java:264)
	at org.jboss.weld.bootstrap.WeldStartup.deployBeans(WeldStartup.java:453)
	at org.jboss.weld.bootstrap.WeldBootstrap.deployBeans(WeldBootstrap.java:86)
	at org.jboss.as.weld.WeldStartService.start(WeldStartService.java:97)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1737)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1699)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1557)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)

	at org.jboss.weld.bootstrap.events.AbstractDefinitionContainerEvent.fire(AbstractDefinitionContainerEvent.java:46)
	at org.jboss.weld.bootstrap.events.ProcessManagedBeanImpl.fire(ProcessManagedBeanImpl.java:31)
	at org.jboss.weld.bootstrap.events.ContainerLifecycleEvents.fireProcessBean(ContainerLifecycleEvents.java:246)
	at org.jboss.weld.bootstrap.events.ContainerLifecycleEvents.fireProcessBean(ContainerLifecycleEvents.java:240)
	at org.jboss.weld.bootstrap.AbstractBeanDeployer.fireProcessBeanEvents(AbstractBeanDeployer.java:128)
	at org.jboss.weld.bootstrap.BeanDeployer.deploy(BeanDeployer.java:331)
	at org.jboss.weld.bootstrap.BeanDeployment.deployBeans(BeanDeployment.java:264)
	at org.jboss.weld.bootstrap.WeldStartup.deployBeans(WeldStartup.java:453)
	at org.jboss.weld.bootstrap.WeldBootstrap.deployBeans(WeldBootstrap.java:86)
	at org.jboss.as.weld.WeldStartService.start(WeldStartService.java:97)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1737)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1699)
	... 6 more
	Suppressed: java.lang.NullPointerException
		at io.smallrye.metrics.setup.MetricCdiInjectionExtension.findAnnotatedMethods(MetricCdiInjectionExtension.java:148)
		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
		at java.lang.reflect.Method.invoke(Method.java:498)
		at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
		at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
		at org.jboss.weld.injection.MethodInvocationStrategy$SimpleMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:168)
		at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:330)
		at org.jboss.weld.event.ExtensionObserverMethodImpl.sendEvent(ExtensionObserverMethodImpl.java:123)
		at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:308)
		at org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:286)
		at javax.enterprise.inject.spi.ObserverMethod.notify(ObserverMethod.java:124)
		at org.jboss.weld.util.Observers.notify(Observers.java:166)
		at org.jboss.weld.event.ObserverNotifier.notifySyncObservers(ObserverNotifier.java:285)
		at org.jboss.weld.event.ObserverNotifier.notify(ObserverNotifier.java:273)
		at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:177)
		at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:171)
		at org.jboss.weld.bootstrap.events.AbstractContainerEvent.fire(AbstractContainerEvent.java:53)
		at org.jboss.weld.bootstrap.events.AbstractDefinitionContainerEvent.fire(AbstractDefinitionContainerEvent.java:44)
		... 17 more
{code}",,,,,,,,,,,,,,,,,,,,,JBTM-3176,WFLY-12294,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-21 06:00:46.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z084ec:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Aug/19 5:39 AM;ochaloup;the MP metrics issue and PR is at
* https://github.com/smallrye/smallrye-metrics/issues/164
* https://github.com/smallrye/smallrye-metrics/pull/166","21/Aug/19 6:00 AM;tomjenkinson;I made this a blocker as it is a backwards compatibility issue","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Out of specification: Singleton EJB is allowed to implement SessionBean interface.,WFLY-12265,12816234,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,thofman,cfang,cfang,01/Jul/19 2:15 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,20/Aug/19 7:51 PM,16.0.0.Final,17.0.0.Final,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,,,,,,,"Singleton EJB is allowed to implement SessionBean interface and the EJB 3.2 spec says in section 4.9.2 Session Bean Class: 

""The class may implement, directly or indirectly, the javax.ejb.SessionBean interface. Except for singleton session beans.""

EAP should throw an exception or log a warning that it is not valid by the spec.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jul/19 2:15 PM;cfang;SingletonBean.java;https://issues.redhat.com/secure/attachment/12452775/SingletonBean.java",,,,,,,,,,,,,,,,,,,2019-10-14 12:28:48.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12460,,,,,,,,,,,,,,,,1.0,1.0,,,,,,,,,,"1|z06wp0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Move from javax.activation:activation:1.1.1 to com.sun.activation:jakarta.activation:1.2.1,WFLY-12540,12827718,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,11/Sep/19 9:12 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,14/Sep/19 7:36 PM,,,,,,18.0.0.Final,,,Server,,,,,,,0,,,,,,,Move to the Jakarta JAF project.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-11 19:52:46.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12630,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z08qpo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Sep/19 7:52 PM;jamezp;I meant to reject the PR as there seems to be some issues with the migration I'll need to sort out. See https://ci.wildfly.org/viewLog.html?buildId=167626&buildTypeId=WF_PullRequest_LinuxElytro.","11/Sep/19 10:23 PM;brian.stansberry;I changed the title as jakarta.activation:jakarta.activation-api is not meant to be used at runtime, as discussed at https://github.com/eclipse-ee4j/jaf/issues/18. I expect that's why the CI job linked above failed.

Another twist is the javax.activation:activation:1.1.1 we use is really old, e.g. a 1.2 came out in 2017: https://github.com/javaee/activation/releases","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Remove Bouncycastle API usage on Quickstarts helloworld-mutual-ssl,WFLY-12195,12813771,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,14/Jun/19 6:45 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,15/Jun/19 10:19 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,0,,,,,,,"The Bouncycastle API is only used to convert a certificate to PEM string, which may be done instead with the JDK's Base64 encoder.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:48.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06iyc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
RESTEasy support for setting HTTP proxy by using JAX-RS API,WFLY-11737,12792735,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,pjurak,pjurak,18/Feb/19 8:45 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,15/Jul/19 5:36 AM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,REST,,,,,,,0,,,,,,,Provide support for setting HTTP proxy by using JAX-RS API.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:48.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12373,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03avo:",9223372036854775807,,0.0,,,,,,,,,,,,mkopecky,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"Skip redundant put operations when distributable SFSBs use local, non-persistent cache configuration",WFLY-12331,12820206,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,29/Jul/19 10:04 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,31/Jul/19 3:00 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,EJB,,,,,,0,downstream_dependency,,,,,,"When a distributable SFSB is released, we perform a cache put to ensure state is persisted/replicated.  However, when the cache configuration is both local and non-persistent, this cache operation is redundant.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:47.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12456,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07jfw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Basic integration tests for OCSP,WFLY-12332,12820207,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jstourac,jstourac,jstourac,29/Jul/19 10:11 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,16/Sep/19 7:57 PM,,,,,,18.0.0.Final,,,Security,,,,,,,0,,,,,,,Let's provide integration tests for OCSP feature into WildFly testsuite.,,,,,,,,,,,,,,,,,,,,,EAP7-715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:47.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12455,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07jg4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
SecurityManager push/pull is expensive,WFLY-12318,12819637,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,maeste,maeste,24/Jul/19 12:00 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,29/Jul/19 9:53 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JCA,,,,,,,0,,,,,,,"Pushing SecurityDefinition in securityManager in eery SubjectFactory is creating a lot of object with an impact on performance.
Double checking WFLY-6372 it seems not needed for that issue.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:47.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07g2k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Convert to Jakarta EE 8 specification APIs,WFLY-12300,12818626,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,smarlow,brian.stansberry,brian.stansberry,17/Jul/19 1:02 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,26/Sep/19 12:10 PM,,,,,,18.0.0.Final,,,Server,,,,,,,0,,,,,,,"This is a top-level task for moving WildFly to specification API artifacts associated with Jakarta EE 8. 

The Jakarta EE 8 spec APIs are meant to be fully compatible with their Java EE 8 analogues, so this is not expected to result in runtime behavioral differences.

I don't anticipate code changes specific to this top level task. Instead changes will be associated with other issues linked to this one.

The overall goal is to use API jars that either directly come from the Jakarta EE projects, or that use code closely based on those projects; i.e. that are forks derived from the Jakarta EE code that incorporate jboss.org specific changes and whose maintainers monitor the Jakarta EE projects and bring over needed changes and contribute any relevant jboss.org changes back.

For each JBoss specification API fork that existed in EAP 7.2, a designated owner for that API jar has been determined. The task for each owner consists of:

# Create/update a jboss.org Jakarta fork.
# Track work on that fork via issues in the https://issues.jboss.org/projects/JBEE JIRA project. If there is a high-level issue for that fork, the component owner *should* link it to this issue via a 'relates to' link.
# For the fork, the component owner *must* create a WFLY or WFCORE JIRA to track the change of the WildFly code to use the Jarkarta EE based artifact. That can either be a subtask of this task, or a separate issue linked to this once such that that issue is 'incorporated by' this one. That JIRA should have priority 'Critical' and should have its Fix Version set to 18.0.0.Final or 10.0.0.Final for WFCORE.

Generally, WildFly and WildFly Core do not accept non-Final artifacts into their master branch. For projects that we are forking from the Jakarta EE projects, we are making an exception to this rule:

_Once a Jakarta API project has made a staging release and submitted the specification for formal approval, it is acceptable for the jboss.org fork of that project to produce a CR release based on the code in that staged release and ask that it be incorporated into master._

_In fact, doing this is strongly encouraged as it allows us to further verify the fork._

Once the staged release is approved, the component owner *must* as soon as possible (e.g. the next working day) produce a .Final artifact from the fork and submit a component upgrade PR.

For artifacts that will not involve a fork (e.g. JPA), the component owner should plan to file a PR moving to the Jakarta artifact (e.g. jakarta.persistence:jakarta.persistence-api) as soon as the official version after Jakarta is available in maven central (after Jakarta EE 8 final release).

Following are the relevant APIs, organized by the maven GA of the artifact produced by the Jakarta project, along with the 'owner' of that component:

||API||Owner||
|jakarta.annotation:jakarta.annotation-api|Yeray Borges|
|jakarta.batch:jakarta.batch-api|Cheng Fang|
|jakarta.ejb:jakarta.ejb-api|Cheng Fang/Tomasz Adamski|
|jakarta.el:jakarta.el-api|Scott Marlow|
|jakarta.enterprise.concurrent:jakarta.enterprise.concurrent-api|Eduardo Martins|
|jakarta.faces:jakarta.faces-api|Farah Juma|
|jakarta.interceptor:jakarta.interceptor-api|Yeray Borges|
|jakarta.jms:jakarta.jms-api|Emmanuel Hugonnet|
|jakarta.management.j2ee:jakarta.management.j2ee-api|Jeff Mesnil|
|jakarta.resource:jakarta.resource-api|Stefano Maestri|
|jakarta.security.auth.message:jakarta.security.auth.message-api|Darran Lofthouse / Farah Juma|
|jakarta.security.jacc:jakarta.security.jacc-api|Darran Lofthouse / Farah Juma|
|jakarta.servlet:jakarta.servlet-api|Flavia Rainone|
|jakarta.servlet.jsp:jakarta.servlet.jsp-api|Flavia Rainone|
|jakarta.transaction:jakarta.transaction-api|Tom Jenkinson|
|jakarta.websocket:jakarta.websocket-all|Flavia Rainone|
|jakarta.ws.rs:jakarta.ws.rs-api|Ron Sigal|
|jakarta.xml.bind:jakarta.xml.bind-api|Jim Ma|
|jakarta.xml.rpc:jakarta.xml.rpc-api|Jim Ma|
|jakarta.xml.soap:jakarta.xml.soap-api|Jim Ma|
|jakarta.xml.ws:jakarta.xml.ws-api|Jim Ma|

 ",,,,,,,,,,,,,WFLY-12541,,,,,,,,,,,,,,,,,WFLY-12397,WFCORE-4618,WFCORE-4628,WFCORE-4632,WFLY-12460,WFLY-12436,WFCORE-4657,,,,,,,,,,,,,,,,,,,,2019-08-08 02:40:44.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,6.0,,,,,,,,,,"1|z07aac:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Aug/19 2:40 AM;cfang;What's the rules for generating javadocs in these forked api projects?  For current jboss batch api fork project, its pom inherits from jboss-parent so the javadocs rules are specified in the parent and influenced by some configurable properties.  So the javadoc page footer will have:

Copyright © 2019 JBoss by Red Hat. All rights reserved.

Now it seems Jakarta api projects are required to have a link (license terms) pointing to EFSL.html.  For example,

© Copyright IBM Corp. 2014, 2019.
Use is subject to license terms.

So shall we use the upstream javadoc settings, and override the jboss-parent ones?  I think we didn't modify the api substantially enough to warrant our own copyright declaration, and using the original Jakarta one is more suitable. ","08/Aug/19 2:09 PM;smarlow;[~cfang]

{quote}
So shall we use the upstream javadoc settings, and override the jboss-parent ones? I think we didn't modify the api substantially enough to warrant our own copyright declaration, and using the original Jakarta one is more suitable. 
{quote}

As part of forking, we should use the copyright declaration that Jakarta is using, as I think anything else would violate their copyright.  Thanks for catching this important point. :-)

As far as the *how* we do this, your idea of overriding the jboss-parent settings, makes sense.  I haven't tried this myself.  Please let us know if that works for you, so we can follow your example.

For source files, we should also use the copyright declaration that Jakarta is using.","08/Aug/19 11:16 PM;cfang;I added a javadoc plugin section that kinda combines both javadoc settings from jboss-parent and upstream spec project, and it worked ok.  I found it necessary to check:

* generated javadoc title, footer, header and copyright declaration
* MANIFEST.MF in javadoc.jar, source.jar, and api.jar

So they don't contain reference to old names and Java, or defaults that are not suitable for forked spec projects.","11/Sep/19 10:09 AM;mkopecky;This jira blocks EAP7-1114 RFE, so I increase the priority of this jira to blocker","26/Sep/19 12:11 PM;smarlow;Marking as resolved, as all of the subtasks are resolved!  Time for champagne or beer to celebrate this milestone! :-)","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,
Replace CompositeCharSequence with version from wildfly-common,WFLY-12508,12826853,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,06/Sep/19 10:22 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,08/Sep/19 5:04 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Web (Undertow),,,,,,,0,,,,,,,"CompositeCharSequence is now available in wildfly-common, thus we can remove the class from web-common.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:47.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12598,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08lm4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.servlet.jboss-servlet-api_4.0_spec to 2.0.0.Final,WFLY-12531,12827515,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,flavia.rainone,jamezp,10/Sep/19 3:33 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,10/Sep/19 8:52 PM,,,,,,18.0.0.Final,,,EE,Web (Undertow),,,,,,0,,,,,,,Upgrade the servlet spec API to 2.0.0.Final https://github.com/jboss/jboss-jakarta-servlet-api_spec/tree/2.0.0.Final,,,,,,,,,,,WFLY-12437,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:47.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12624,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pj8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade CXF to 3.3.3 ,WFLY-12087,12807615,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jim.ma,jim.ma,jim.ma,16/May/19 10:51 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,04/Sep/19 5:29 PM,17.0.0.Alpha1,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,0,,,,,,,"We need to remove the getClassloader permission in these tests when upgrade CXF:
* testsuite/integration/xts/src/test/java/org/jboss/as/test/xts/suspend/AbstractTestCase.java 
* testsuite/integration/xts/src/test/java/org/jboss/as/test/xts/suspend/wsat/AtomicTransactionSuspendTestCase.java

CXF issue for this permission problem: https://issues.apache.org/jira/browse/CXF-8042




",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12424,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:46.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05lo4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Separate out feature groups related to clustering,WFLY-12495,12826431,12826192,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,05/Sep/19 7:08 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,06/Sep/19 4:12 PM,,,,,,18.0.0.Final,,,Build System,Clustering,,,,,,0,,,,,,,The Galleon pack has a number of feature groups that incorporate in one group chunks of clustering-related config that are related to different use cases. Separate these out to make them useful for distinct layers related to those use cases.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08j24:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
CallerPrincipal will be anonymous (randomly) if EJB2 is called,WFLY-12301,12818796,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,wdfink,wdfink,18/Jul/19 10:37 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,06/Aug/19 10:58 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,Security,,,,,,0,EJB2,security,,,,,"An EJB application which call an EJB2 SLSB will fail (randomly) to show the correct user if getCallerPrincipal is used inside. Also the roles are not set.

The EJB2 Bean is secured by ejb-jar.xml so it is not expected that it will be called without role
  <assembly-descriptor>
    <method-permission>
      <role-name>testRole</role-name>
      <method>
        <ejb-name>simpleejb.server.SomeEJB2Bean</ejb-name>
        <method-intf>Remote</method-intf>
        <method-name>*</method-name>
      </method>
    </method-permission>

This error is constant seen if the server is up and running but each restart will change the behaviour randomly.
Note that an EJB3 bean of the same EAR file will work always correctly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/19 10:36 AM;wdfink;reproducer.zip;https://issues.redhat.com/secure/attachment/12453412/reproducer.zip",,,,,,,,,,,,,,,,,,,2019-07-19 05:39:03.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12468,,,,,,,,,,,,,,,,1.0,3.0,,,,,,,,,,"1|z07b9g:",9223372036854775807,,0.0,,,,,"build the project and deploy ear/target/EJB2EJB3Principal.ear to a fresh server.
run
   bin/add-user.sh -a -u test -p password1 -g testRole,testRole2
to add the user
Execute
java -cp ""SRV_HOME/bin/client/jboss-client.jar:client/target/EJB2EJB3Principal-client.jar:ejb2App/target/EJB2EJB3Principal-ejb2-client.jar:ejb3App/target/EJB2EJB3Principal-ejb3-client.jar Client
or use ""mvn exec:java"" in Client directory

This will show that the EJB3 and EJB2 are called with the correct user and role.

Now change the security to Elytron by using the quickstart script configure-elytron.cli from the ejb-security quickstart (https://github.com/wildfly/quickstart/blob/master/ejb-security/configure-elytron.cli)",,,,,,,,,,,"19/Jul/19 5:39 AM;cfang;By following the steps and running the test.sh script included in reproducer, I was able to reproduce it with the recent WildFly build.  If I replace jboss-ejb-client in the reproducer to be 4.0.21.Final (the current latest), the test still failed, but takes more rounds to reproduce than running with the original jboss-ejb-client (version 4.0.12.Final-redhat-00001).  Not sure if this is significant data point.  

One of the bug fixes in 4.0.21.Final is EJBCLIENT-340 (Ensure any AuthenticationContext associated with the invocation is propagated to the transaction call.), not sure if it's related.

From various symptom described here (e.g., slight difference between running server vs restarted server, passed with default security config vs failed with elytron), I suspect the problem is at server side security context intake, rather than at the client side propagation.  [~dlofthouse] can you take a look?","01/Aug/19 4:26 PM;fjuma;I was able to reproduce this locally and found the following:

* When the caller principal for the EJB2 bean is correct, the corresponding {{EJBComponentDescription}} always has {{securityRequired}} set to {{true}}.
* When the caller principal for the EJB2 bean is anonymous, the corresponding {{EJBComponentDescription}} always has {{securityRequired}} set to {{false}}.
* Whether or not security is required for the {{EJBComponentDescription}} gets set in [EJBSecurityViewConfigurator|https://github.com/wildfly/wildfly/blob/1bf993be72b570a0c780a58ba05cabafe1ce7935/ejb3/src/main/java/org/jboss/as/ejb3/security/EJBSecurityViewConfigurator.java#L147-L148].
* The {{EJBSecurityViewConfigurator}} gets called for each view that is associated with the {{EJBComponentDescription}}.
* For EJB2, unlike EJB3, there are actually two views associated with the {{EJBComponentDescription}}: {{server.SomeEJB2}} and {{server.SomeEJBHome}}. Currently, whether or not security is required for the {{EJBComponentDescription}} associated with the EJB2 bean depends on the order in which these two views are processed. If {{server.SomeEJB2}} is processed last, {{securityRequired}} will be set to {{true}} since it has method level security metadata. However, if {{server.SomeEJBHome}} is processed last, {{securityRequired}} will be set to {{false}} since it does not have method level security metadata.

The following PR fixes this by ensuring that {{EJBComponentDescription#setSecurityRequired}} only gets called in {{EJBSecurityViewConfigurator}} if security is actually required to avoid resetting the value when there are multiple views:

https://github.com/wildfly/wildfly/pull/12468","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Tasks-* quickstarts have no pre-requisite of tasks quickstart,WFLY-12262,12816004,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,30/Jun/19 6:21 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,30/Jun/19 6:37 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Quickstarts,,,,,,,0,,,,,,,"The README.adoc of tasks-rf and tasks-jsf quickstart refers tasks QuickStart as pre-requisite, this is outdated and should be fixed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:46.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06vbg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade microprofile-health to 2.0.1,WFLY-12228,12814860,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,21/Jun/19 11:31 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,20/Aug/19 7:49 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-26 16:42:06.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z06otg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Jun/19 11:32 AM;jmesnil;The upgrade to MicroProfile Health 2.0.1 requires to upgrade smallrye-health implementation too.

SmallRye has changed its GAV convention and the upgraded GAV is io.smallrye:smallrye-health-2.0:1.0.2 (the version in the artifactId is the version of the implemented API).","26/Jun/19 4:42 PM;brian.stansberry;This is part of an RFE, right? MP 3.0 variant of MP Health.","28/Jun/19 4:01 AM;jmesnil;Right, MP Health 2.0.1 is the version in MicroProfile 3.0 umbrella","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
Align license.xml content with standard names and urls,WFLY-12566,12828846,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,17/Sep/19 7:22 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,18/Sep/19 8:23 PM,,,,,,18.0.0.Final,,,Build System,,,,,,,0,,,,,,,"Our licenses.xml files use standard values for the various 'name' elements and standard remote urls for the license text. Adapt the various changes made in these files to conform.

This is primarily

{code}
            <name>EPL 2.0</name>
            <url>http://www.eclipse.org/legal/epl-2.0</url>
{code}

becomes

{code}
          <name>Eclipse Public License 2.0</name>
          <url>http://www.eclipse.org/legal/epl-2.0</url>
{code}

and

{code}
            <name>GPL2 w/ CPE</name>
            <url>https://www.gnu.org/software/classpath/license.html</url>
{code}

becomes

{code}
          <name>GNU General Public License, Version 2 with the Classpath Exception</name>
          <url>http://repository.jboss.org/licenses/gpl-2.0-ce.txt</url>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12659,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08wvw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Support SSL Certificate revocation using OCSP community docs,WFLY-12123,12808935,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mmazanek,mmazanek,mmazanek,24/May/19 9:30 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,11/Jul/19 6:48 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,0,,,,,,,"- Provide undertow's client certificate revocation capability when undertow is used as a load balancer using OCSP.
(CRL capability is provided in the earlier release as part of Elytron SSL Consolidation effort that this JIRA is cloned from)",,,,,,,,,,,WFCORE-3947,,,,,,,,,,,,,WFLY-12124,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:45.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12317,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05sr8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Update permission names in tests to fix failures that occur with the security manager enabled after the JBoss Jakarta JACC and JASPI upgrades,WFLY-12455,12825350,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,29/Aug/19 2:25 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,29/Aug/19 7:10 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,0,,,,,,,"The upgrades to JBoss Jakarta JACC 2.0.0.CR1 and JBoss Jakarta JASPI fork 2.0.0.CR1 are causing the following test failures with the security manager enabled:

PolicyContextTestCase.testHttpServletRequestFromPolicyContext
{code}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.security.SecurityPermission"" ""setPolicy"")"" in code source ""(vfs:/content/ear-jacc-context.ear/ear-jacc-context.jar &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.ear-jacc-context.ear.ear-jacc-context.jar"" from Service Module Loader"")
 at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
 at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
 at javax.security.jacc.PolicyContext.checkSetPolicyPermission(PolicyContext.java:237)
 at javax.security.jacc.PolicyContext.getContext(PolicyContext.java:226)
{code}
 
AuthenticationPolicyContextTestCase.test
{code}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.security.SecurityPermission"" ""setPolicy"")"" in code source ""(vfs:/content/picketlink-sts-ws.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.picketlink-sts-ws.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at javax.security.jacc.PolicyContext.checkSetPolicyPermission(PolicyContext.java:237)
	at javax.security.jacc.PolicyContext.getContext(PolicyContext.java:226)
{code}

The above two failures are occurring because {{PolicyContext.getContext}} now checks for the ""setPolicy"" permission instead of the ""getPolicy"" permission:

PolicyContext.getContext before JACC upgrade:
https://github.com/jboss/jboss-jacc-api_spec/blob/master/src/main/java/javax/security/jacc/PolicyContext.java#L93

PolicyContext.getContext after JACC upgrade:
https://github.com/jboss/jboss-jakarta-jacc-api_spec/blob/6b5f2641b115239df97b10ad95b4972ac62d01e3/api/src/main/java/javax/security/jacc/PolicyContext.java#L226
 
DynamicJaspiTestCase.testCalls
{code}
&amp#27;[0m&amp#27;[31m09:18:43,183 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /ConfiguredJaspiTestCase/: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.security.SecurityPermission"" ""getProperty.authconfigprovider.factory"")"" in code source ""(vfs:/content/ConfiguredJaspiTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ConfiguredJaspiTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at javax.security.auth.message.config.AuthConfigFactory.checkPermission(AuthConfigFactory.java:166)
	at javax.security.auth.message.config.AuthConfigFactory.getFactory(AuthConfigFactory.java:201)
	at org.wildfly.security.auth.jaspi.JaspiConfigurationBuilder.register(JaspiConfigurationBuilder.java:106)
{code}
 
The above failure occurs because {{AuthConfigFactory.getFactory}} now checks for the ""getProperty.authconfigprovider.factory"" permission instead of the ""getFactory"" permission:

AuthConfigFactory.getFactory before JASPI upgrade:
https://github.com/jboss/jboss-jaspi-api_spec/blob/jboss-jaspi-api_1.1_spec-1.0.2.Final/src/main/java/javax/security/auth/message/config/AuthConfigFactory.java#L205

AuthConfigFactory.getFactory after JASPI upgrade:
https://github.com/jboss/jboss-jakarta-jaspi-api_spec/blob/3e290bd05a6518015f6f2e4ab6defe6a5e07fc29/api/src/main/java/javax/security/auth/message/config/AuthConfigFactory.java#L201

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:45.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12559,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08cok:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core to 10.0.0.Beta4,WFLY-12428,12824481,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,24/Aug/19 1:58 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,04/Sep/19 7:43 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Server,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z087v8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Testing adding an Elytron jdbc-realm in admin mode,WFLY-12346,12821073,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aabdelsa,aabdelsa,aabdelsa,01/Aug/19 2:49 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,15/Aug/19 5:19 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:45.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07om4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade java-support to 7.3.0 for opensmal 3.3.0,WFLY-12267,12816280,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jim.ma,jim.ma,jim.ma,02/Jul/19 3:33 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,11/Jul/19 6:52 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Web Services,,,,,,,0,,,,,,,"OpenSmal 3.3.0 depends on java-support 7.3.0. 
We need to upgrade java-support dependency from 7.1.1 to 7.3.0",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:45.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06wyk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Memoryleak in Metrics-Endpoint,WFLY-12504,12826790,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ropalka,mwerlitz,stianst,06/Sep/19 7:35 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,16/Sep/19 9:02 PM,17.0.1.Final,,,,,18.0.0.Final,,,MP Metrics,,,,,,,0,blocker-WF18,fixed_needs_core,,,,,"I noticed there seems to be a memory leak when calling the /metrics endpoint (with Prometheus). I don't know if this relates to the Keycloak metrics or the general Wildfly base metrics.

Every request to /metrics seems to consume some more heap memory until a OOME occurs. No other requests are done.

If the metrics endpoint isn't used at all the server works fine. 

{noformat}
15:14:50,951 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([(""deployment"" => ""keycloak-server.war"")]): java.lang.OutOfMemoryError: GC overhead limit exceeded
        at java.util.HashMap.resize(HashMap.java:704)
        at java.util.HashMap.putVal(HashMap.java:629)
        at java.util.HashMap.put(HashMap.java:612)
        at java.util.HashSet.add(HashSet.java:220)
        at org.jboss.as.controller.PathAddress.pathAddress(PathAddress.java:95)
        at org.jboss.as.controller.AbstractOperationContext$OperationId.<init>(AbstractOperationContext.java:1571)
        at org.jboss.as.controller.OperationContextImpl.authorize(OperationContextImpl.java:1326)
        at org.jboss.as.controller.OperationContextImpl.authorize(OperationContextImpl.java:1321)
        at org.jboss.as.controller.operations.global.ReadAttributeHandler$AuthorizeAttributeReadHandler.doExecuteInternal(ReadAttributeHandler.java:244)
        at org.jboss.as.controller.operations.global.ReadAttributeHandler$AuthorizeAttributeReadHandler.execute(ReadAttributeHandler.java:229)
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1412)
        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)
        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
        at org.jboss.as.controller.ModelControllerImpl$$Lambda$553/974545249.run(Unknown Source)
        at org.wildfly.security.auth.server.SecurityIdentity$$Lambda$554/2003274744.run(Unknown Source)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:255)
        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$LocalClient$$Lambda$552/516471669.apply(Unknown Source)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$LocalClient.executeInModelControllerCl(ModelControllerClientFactoryImpl.java:259)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$LocalClient.executeOperation(ModelControllerClientFactoryImpl.java:157)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$1$$Lambda$546/98454422.apply(Unknown Source)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl.lambda$executeInVm$0(ModelControllerClientFactoryImpl.java:351)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$$Lambda$550/226565561.run(Unknown Source)
        at org.jboss.as.controller.access.InVmAccess.runInVm(InVmAccess.java:85)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl.executeInVm(ModelControllerClientFactoryImpl.java:351)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl.access$000(ModelControllerClientFactoryImpl.java:59)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$1.executeOperation(ModelControllerClientFactoryImpl.java:82)
        at org.jboss.as.controller.LocalModelControllerClient.execute(LocalModelControllerClient.java:54)

15:14:50,955 ERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0012: Scan of /opt/jboss/keycloak/standalone/deployments threw Exception: java.lang.RuntimeException: WFLYDS0036: Deployment model operation failed. undefined
        at org.jboss.as.server.deployment.scanner.DefaultDeploymentOperations.getUnrelatedDeployments(DefaultDeploymentOperations.java:109)
        at org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$ScanContext.<init>(FileSystemDeploymentService.java:1692)
        at org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$ScanContext.<init>(FileSystemDeploymentService.java:1640)
        at org.jboss.as.server.deployment.scanner.FileSystemDeploymentService.scan(FileSystemDeploymentService.java:589)
        at org.jboss.as.server.deployment.scanner.FileSystemDeploymentService.scan(FileSystemDeploymentService.java:493)
        at org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$DeploymentScanRunnable.run(FileSystemDeploymentService.java:255)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)
        at org.jboss.threads.JBossThread.run(JBossThread.java:485)

15:14:52,319 ERROR [org.jboss.as.controller.management-operation] (management I/O-1) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""channel"" => ""ee""),
    (""protocol"" => ""pbcast.NAKACK2"")
]): java.lang.OutOfMemoryError: GC overhead limit exceeded
        at sun.reflect.generics.parser.SignatureParser.parsePackageNameAndSimpleClassTypeSignature(SignatureParser.java:331)
        at sun.reflect.generics.parser.SignatureParser.parseClassTypeSignature(SignatureParser.java:310)
        at sun.reflect.generics.parser.SignatureParser.parseFieldTypeSignature(SignatureParser.java:289)
        at sun.reflect.generics.parser.SignatureParser.parseFieldTypeSignature(SignatureParser.java:283)
        at sun.reflect.generics.parser.SignatureParser.parseTypeSignature(SignatureParser.java:485)
        at sun.reflect.generics.parser.SignatureParser.parseTypeSig(SignatureParser.java:188)
        at sun.reflect.annotation.AnnotationParser.parseSig(AnnotationParser.java:436)
        at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:241)
        at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)
        at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)
        at java.lang.reflect.Field.declaredAnnotations(Field.java:1150)
        at java.lang.reflect.Field.declaredAnnotations(Field.java:1148)
        at java.lang.reflect.Field.getAnnotation(Field.java:1120)
        at org.jgroups.stack.Configurator.resolveAndAssignField(Configurator.java:926)
        at org.jgroups.stack.Configurator.resolveAndAssignFields(Configurator.java:921)
        at org.jgroups.stack.Protocol.setProperties(Protocol.java:133)
        at org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationServiceConfigurator.lambda$createProtocol$0(AbstractProtocolConfigurationServiceConfigurator.java:119)
        at org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationServiceConfigurator$$Lambda$590/1559509553.run(Unknown Source)
        at org.wildfly.security.manager.WildFlySecurityManager.doUnchecked(WildFlySecurityManager.java:849)
        at org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationServiceConfigurator.createProtocol(AbstractProtocolConfigurationServiceConfigurator.java:125)
        at org.jboss.as.clustering.jgroups.subsystem.ChannelRuntimeResourceRegistration.findProtocol(ChannelRuntimeResourceRegistration.java:87)
        at org.jboss.as.clustering.jgroups.subsystem.ProtocolMetricsHandler.executeRuntimeStep(ProtocolMetricsHandler.java:244)
        at org.jboss.as.controller.AbstractRuntimeOnlyHandler$1.execute(AbstractRuntimeOnlyHandler.java:59)
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1412)
        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)
        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
        at org.jboss.as.controller.ModelControllerImpl$$Lambda$553/974545249.run(Unknown Source)
        at org.wildfly.security.auth.server.SecurityIdentity$$Lambda$554/2003274744.run(Unknown Source)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)

15:14:52,322 ERROR [io.undertow.request] (management I/O-1) UT005071: Undertow request failed HttpServerExchange{ GET /metrics request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8], Connection=[keep-alive], Accept-Language=[de,en-US;q=0.7,en;q=0.3], Cache-Control=[max-age=0], Accept-Encoding=[gzip, deflate], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:68.0) Gecko/20100101 Firefox/68.0], Upgrade-Insecure-Requests=[1], Host=[192.168.99.100:9990]} response {Access-Control-Allow-Origin=[*], Access-Control-Allow-Headers=[origin, content-type, accept, authorization], Access-Control-Allow-Credentials=[true], Content-Type=[text/plain], Access-Control-Allow-Methods=[GET, POST, PUT, DELETE, OPTIONS, HEAD], Access-Control-Max-Age=[1209600]}}: java.lang.IllegalStateException: WFLYMETRICS0003: Unable to read attribute xmit_table_num_purges on [
    (""subsystem"" => ""jgroups""),
    (""channel"" => ""ee""),
    (""protocol"" => ""pbcast.NAKACK2"")
]: ""WFLYCTL0158: Operation handler failed: java.lang.OutOfMemoryError: GC overhead limit exceeded"".
        at org.wildfly.extension.microprofile.metrics.MetricCollector.lambda$collectResourceMetrics0$0(MetricCollector.java:143)
        at org.wildfly.extension.microprofile.metrics.PrometheusCollector.collect(PrometheusCollector.java:51)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.findNextElement(CollectorRegistry.java:183)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.<init>(CollectorRegistry.java:147)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.<init>(CollectorRegistry.java:168)
        at io.prometheus.client.CollectorRegistry.metricFamilySamples(CollectorRegistry.java:130)
        at org.wildfly.extension.microprofile.metrics.MetricsContextService$1.handleRequest(MetricsContextService.java:100)
        at org.jboss.as.domain.http.server.security.RealmReadinessHandler.handleRequest(RealmReadinessHandler.java:51)
        at org.jboss.as.domain.http.server.security.ServerErrorReadinessHandler.handleRequest(ServerErrorReadinessHandler.java:35)
        at io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:91)
        at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:211)
        at io.undertow.server.handlers.cache.CacheHandler.handleRequest(CacheHandler.java:92)
        at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:78)
        at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)
        at org.jboss.as.domain.http.server.ManagementHttpRequestHandler.handleRequest(ManagementHttpRequestHandler.java:57)
        at org.jboss.as.domain.http.server.cors.CorsHttpHandler.handleRequest(CorsHttpHandler.java:75)
        at org.jboss.as.domain.http.server.ManagementHttpServer$UpgradeFixHandler.handleRequest(ManagementHttpServer.java:662)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364)
        at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)
        at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)
        at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
        at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
        at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)

15:14:58,673 ERROR [org.jboss.as.controller.management-operation] (management I/O-2) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""channel"" => ""ee""),
    (""protocol"" => ""UDP"")
]): java.lang.OutOfMemoryError: GC overhead limit exceeded

15:14:58,675 ERROR [io.undertow.request] (management I/O-2) UT005071: Undertow request failed HttpServerExchange{ GET /metrics request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8], Connection=[keep-alive], Accept-Language=[de,en-US;q=0.7,en;q=0.3], Cache-Control=[max-age=0], Accept-Encoding=[gzip, deflate], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:68.0) Gecko/20100101 Firefox/68.0], Upgrade-Insecure-Requests=[1], Host=[192.168.99.100:9990]} response {Access-Control-Allow-Origin=[*], Access-Control-Allow-Headers=[origin, content-type, accept, authorization], Access-Control-Allow-Credentials=[true], Content-Type=[text/plain], Access-Control-Allow-Methods=[GET, POST, PUT, DELETE, OPTIONS, HEAD], Access-Control-Max-Age=[1209600]}}: java.lang.IllegalStateException: WFLYMETRICS0003: Unable to read attribute max_bundle_size on [
    (""subsystem"" => ""jgroups""),
    (""channel"" => ""ee""),
    (""protocol"" => ""UDP"")
]: ""WFLYCTL0158: Operation handler failed: java.lang.OutOfMemoryError: GC overhead limit exceeded"".
        at org.wildfly.extension.microprofile.metrics.MetricCollector.lambda$collectResourceMetrics0$0(MetricCollector.java:143)
        at org.wildfly.extension.microprofile.metrics.PrometheusCollector.collect(PrometheusCollector.java:51)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.findNextElement(CollectorRegistry.java:183)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.<init>(CollectorRegistry.java:147)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.<init>(CollectorRegistry.java:168)
        at io.prometheus.client.CollectorRegistry.metricFamilySamples(CollectorRegistry.java:130)
        at org.wildfly.extension.microprofile.metrics.MetricsContextService$1.handleRequest(MetricsContextService.java:100)
        at org.jboss.as.domain.http.server.security.RealmReadinessHandler.handleRequest(RealmReadinessHandler.java:51)
        at org.jboss.as.domain.http.server.security.ServerErrorReadinessHandler.handleRequest(ServerErrorReadinessHandler.java:35)
        at io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:91)
        at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:211)
        at io.undertow.server.handlers.cache.CacheHandler.handleRequest(CacheHandler.java:92)
        at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:78)
        at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)
        at org.jboss.as.domain.http.server.ManagementHttpRequestHandler.handleRequest(ManagementHttpRequestHandler.java:57)
        at org.jboss.as.domain.http.server.cors.CorsHttpHandler.handleRequest(CorsHttpHandler.java:75)
        at org.jboss.as.domain.http.server.ManagementHttpServer$UpgradeFixHandler.handleRequest(ManagementHttpServer.java:662)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364)
        at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)
        at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)
        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:162)
        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:100)
        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:57)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)
        at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:131)
        at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)
        at org.xnio.nio.WorkerThread.run(WorkerThread.java:479)
{noformat}

",,,,,,,,,MSC-245,,KEYCLOAK-10880,,,,,,,,,,WFCORE-4660,WFCORE-4663,,,,,,,,,,,,,,,"07/Sep/19 8:31 AM;brian.stansberry;Screen Shot 2019-09-07 at 7.27.24 AM.png;https://issues.redhat.com/secure/attachment/12455153/Screen+Shot+2019-09-07+at+7.27.24+AM.png","07/Sep/19 8:31 AM;brian.stansberry;Screen Shot 2019-09-07 at 7.29.02 AM.png;https://issues.redhat.com/secure/attachment/12455154/Screen+Shot+2019-09-07+at+7.29.02+AM.png",,,,,,,,,,,,,,,,,,2019-09-06 12:56:24.0,,,,,,,,,,,,,,,,,,,,,,,,,2.0,8.0,,,,,,,,,,"1|z08l8k:",9223372036854775807,,0.0,,,,,"{code:sh}
docker run -it --rm -p 8080:8080 -p 9990:9990 jboss/keycloak:6.0.1 -Djboss.bind.address.management=0.0.0.0 -b 0.0.0.0
{code}

Make a lot requests to :9990/metrics
",,,,,,,,,,,"06/Sep/19 1:23 PM;brian.stansberry;[~stianst] If this didn't have Affects Version 17.0.1.Final I'd suspect it's WFLY-12167 but that's reported as fixed in 17.0.0.Final.","06/Sep/19 2:13 PM;brian.stansberry;The PNG attachments in KEYCLOAK-10880 very much look like WFLY-12167, which was not fixed in the WF 16 that it looks like Keycloak 6.0.1 used.

There is a comment at https://issues.jboss.org/browse/KEYCLOAK-10880?focusedCommentId=13780144&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13780144 that a problem still exists in Keycloak 7.0.0, which uses WF 17.0.1. But it's not certain that's the same problem.","07/Sep/19 9:09 AM;brian.stansberry;[~ropalka] I can reproduce this with current WildFly master so it's not a case of a re-report of something already fixed. And it looks like WFLY-12567 is not completely fixed.

This is easy to reproduce; just start WF using the standalone-full-ha.xml config, take a heap dump, point a browser at http://localhost:9990/metrics, keep refreshing for a while, take another dump, and compare.

I attached a jvisualvm comparision like that and it's showing thousands of additional ServiceRegistrationImpl instances.

I randomly picked one and I believe it's a good example and attached a screenshot showing its state. Its name (not shown in the png) is a UUID so highly likely it's one installed by PassiveServiceSupplier.  I see that it's state has 'removed=false' and 'pendingDependents=1'. I see that 'removed' will only be set to 'true' if SRI.clear() is called when pendingDependents == 0, and if it doesn't get set to true the SRI will not be removed from the ServiceContainerImpl.registry map.

I *think* the problem here is that ServiceContainerImpl.getOrCreateRegistration calls SRI.addPendingDependent both for cases where it is handling the installation of the service itself, and for cases where it is recording a new dependent for a registration.  But the pendingDependents counter only gets decremented when a addDependent gets called; i.e. when dealing with the new dependent. The effect is the initial increment of pendingDependents, when service is being created, never gets an offsetting decrement and AFAICT no SRI will ever be removed.","07/Sep/19 9:10 AM;brian.stansberry;[~pferraro] [~jmesnil] FYI.","11/Sep/19 6:23 AM;ropalka;Your analysis was correct [~brian.stansberry]","11/Sep/19 11:32 AM;kabirkhan;[~ropalka] I merged the upgrade - https://issues.jboss.org/browse/WFCORE-4660. Can we assume that once we upgrade WildFly Core in full that this issue can be resolved?

CC [~brian.stansberry] [~jamezp] [~jmesnil]","11/Sep/19 12:42 PM;ropalka;Correct [~kabirkhan]","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,
Move to Jakarta approved version of jakarta.security.enterprise:jakarta.security.enterprise-api,WFLY-12426,12824449,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,dlofthouse,brian.stansberry,brian.stansberry,23/Aug/19 2:56 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,12/Sep/19 4:44 PM,,,,,,18.0.0.Final,,,Security,,,,,,,0,,,,,,,"WFLY-12418 moves us to jakarta.security.enterprise:jakarta.security.enterprise-api but the version has not been approved by Jakarta as the official release for use in Jakarta EE 8. It's fine to do that upgrade; this issue is just to make sure we move to the approved version if it is different.",,,,,,,,,,,,,,,,,,,,,,,,WFLY-12418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z087ok:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-jaxws-api_2.3_spec from 1.0.0.Final to 2.0.0.Final,WFLY-12440,12824960,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jim.ma,jim.ma,jim.ma,28/Aug/19 5:20 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,12/Sep/19 4:42 PM,,,,,,18.0.0.Final,,,Web Services,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:44.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08aes:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
IllegalStateException when bad metrics scope requested,WFLY-12413,12824217,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jstourac,jstourac,22/Aug/19 11:01 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,03/Sep/19 10:48 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Metrics,,,,,,,0,,,,,,,"With WildFly build from master branch (commit {{0e13252d9e7a6c82e6e170bac1a2faf727287c1d}}), I can see following exception in log:
{code}
16:38:57,964 ERROR [io.undertow.request] (management I/O-1) UT005071: Undertow request failed HttpServerExchange{ GET /metrics/test}: java.lang.IllegalStateException: UT000002: The response has already been started
	at io.undertow.server.HttpServerExchange.setStatusCode(HttpServerExchange.java:1406)
	at org.wildfly.extension.microprofile.metrics.MetricsContextService$1.lambda$handleRequest$0(MetricsContextService.java:85)
	at io.smallrye.metrics.MetricsRequestHandler.handleRequest(MetricsRequestHandler.java:142)
	at io.smallrye.metrics.MetricsRequestHandler.handleRequest(MetricsRequestHandler.java:73)
	at org.wildfly.extension.microprofile.metrics.MetricsContextService$1.handleRequest(MetricsContextService.java:84)
	at org.jboss.as.domain.http.server.security.RealmReadinessHandler.handleRequest(RealmReadinessHandler.java:51)
	at org.jboss.as.domain.http.server.security.ServerErrorReadinessHandler.handleRequest(ServerErrorReadinessHandler.java:35)
	at io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:91)
	at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:211)
	at io.undertow.server.handlers.cache.CacheHandler.handleRequest(CacheHandler.java:92)
	at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:78)
	at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)
	at org.jboss.as.domain.http.server.ManagementHttpRequestHandler.handleRequest(ManagementHttpRequestHandler.java:57)
	at org.jboss.as.domain.http.server.cors.CorsHttpHandler.handleRequest(CorsHttpHandler.java:75)
	at org.jboss.as.domain.http.server.ManagementHttpServer$UpgradeFixHandler.handleRequest(ManagementHttpServer.java:664)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)
	at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)
	at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:162)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:100)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:57)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:132)
	at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:479)
{code}

This exception is caused by following request:
{code}
$ curl -v http://localhost:9990/metrics/test
*   Trying ::1:9990...
* TCP_NODELAY set
* connect to ::1 port 9990 failed: Connection refused
*   Trying 127.0.0.1:9990...
* TCP_NODELAY set
* Connected to localhost (127.0.0.1) port 9990 (#0)
> GET /metrics/test HTTP/1.1
> Host: localhost:9990
> User-Agent: curl/7.65.3
> Accept: */*
> 
* Mark bundle as not supporting multiuse
< HTTP/1.1 404 Not Found
< Connection: keep-alive
< Content-Length: 25
< Date: Thu, 22 Aug 2019 14:57:20 GMT
< 
* Connection #0 to host localhost left intact
Bad scope requested: test

The 404 Not Found HTTP response code is expected and also 'Bad scope request: test' in this case. Although, I think that mentioned IllegalStateException should be avoided. Also, this exception is not thrown in WildFly 17.0.1.
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-22 21:44:27.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z0869w:",9223372036854775807,,0.0,,,,,"# Build WildFly from master branch with commit {{0e13252d9e7a6c82e6e170bac1a2faf727287c1d}}
# Start server ./bin/standalone.sh
# perform request 'curl http://localhost:9990/metrics/test'
# see exception in server.log",,,,,,,,,,,"22/Aug/19 9:44 PM;brian.stansberry;Problem is in MetricsRequestHandler:

{code}
            MetricRegistry.Type scope = getScopeFromPath(responder, scopePath);
            if (scope == null) {
                responder.respondWith(404, ""Scope "" + scopePath + "" not found"", Collections.emptyMap());
                return;
            }
{code}

Problem is that 'getScopeFromPath(...) call also calls 'responder.respondWith(404...)' when the scopePath is wrong.

Needs a smallrye bug; WildFly can probably work around it by having the Responder lambda check if it's been invoked and ignore the second request.","23/Aug/19 9:36 PM;brian.stansberry;I filed issue https://github.com/smallrye/smallrye-metrics/pull/167 and submitted PRs https://github.com/smallrye/smallrye-metrics/pull/168 and https://github.com/smallrye/smallrye-metrics/pull/169 for the smallrye-metrics master and 2.1.x branches.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.annotation from 1.0.1.Final to 2.0.1.Final,WFLY-12387,12823334,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,yersan,yersan,yersan,16/Aug/19 6:24 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,11/Sep/19 6:11 PM,,,,,,18.0.0.Final,,,EE,,,,,,,0,,,,,,,"Upgrade Common Annotations JSR-250 to Jakarta EE
Fork: https://github.com/jboss/jboss-jakarta-annotations-api_spec
Working branch: [JBEE-207 | https://github.com/jboss/jboss-jakarta-annotations-api_spec/tree/JBEE-207]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-28 12:28:41.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12535,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z0814k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Aug/19 9:46 AM;yersan;[~brian.stansberry] Should not this one be resolved once we have the final release or should we use a different issue? Whatever is more comfortable, let me know.

Currently, we have merged only CR1, we will get the final once Jakarta final is released, then I would update this issue with another PR including Jboss annotation final release. ","28/Aug/19 12:28 PM;brian.stansberry;[~yersan] Reopened. Sorry, I'd resolved another one that said .CR1 in the title and didn't notice this one said .Final. Most of them say .Final so I stopped resolving them.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Avoid redispatching to a worker the ejb call if it is not async (at AssociationImpl),WFLY-12322,12819683,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,flavia.rainone,flavia.rainone,24/Jul/19 6:29 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,26/Sep/19 1:49 PM,,,,,,18.0.0.Final,,,EJB,,,,,,,0,,,,,,,"Prevent the extra cost of dispatching the message at AssociationImpl.execute if the message is synchronous, by just executing it right away",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:44.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07gc4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"Use ModelNode.TRUE, ModelNode.FALSE, ModelNode.ZERO and ModelNode.ZERO_LONG",WFLY-12284,12817983,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,13/Jul/19 9:17 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,15/Jul/19 5:18 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Management,,,,,,,0,,,,,,,"ModelNode declares constants ModelNode.TRUE, ModelNode.FALSE, ModelNode.ZERO and ModelNode.ZERO_LONG. Save memory and a bit of runtime cost by using these instead of the hundreds of 'new ModelNode(true)' etc.

This kind of thing does the trick for me:

find ~/dev/wildfly/wildfly -type f -name ""*.java"" -exec grep -i ""new ModelNode(false)"" -l {} \;  -exec sed -i """" 's/new ModelNode(false)/ModelNode.FALSE/g' {} \;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12430,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z076ro:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Persist empty aliases list for ejb cache causes IllegalArgumentException on server reload,WFLY-12545,12827876,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,soul2zimate,soul2zimate,soul2zimate,12/Sep/19 2:29 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,17/Sep/19 9:07 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,EJB,,,,,,,0,,,,,,,"Persist Empty aliases list for ejb cache causes IllegalArgumentException on reload


{noformat}
[standalone@localhost:9990 /] /subsystem=ejb3/cache=simple:list-add(name=aliases,value=simpleAlias)
[standalone@localhost:9990 /] reload
[standalone@localhost:9990 /] /subsystem=ejb3/cache=simple:list-clear(name=aliases)
[standalone@localhost:9990 /] reload

{noformat}


{noformat}
14:17:22,624 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 49) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""ejb3""),
    (""cache"" => ""simple"")
]): java.lang.IllegalArgumentException: Empty name segment is not allowed for factory
	at org.jboss.msc@1.4.9.Final//org.jboss.msc.service.ServiceName.of(ServiceName.java:90)
	at org.jboss.msc@1.4.9.Final//org.jboss.msc.service.ServiceName.append(ServiceName.java:117)
	at org.jboss.as.ejb3@18.0.0.Final-SNAPSHOT//org.jboss.as.ejb3.cache.CacheFactoryBuilderServiceNameProvider.<init>(CacheFactoryBuilderServiceNameProvider.java:36)
	at org.jboss.as.ejb3@18.0.0.Final-SNAPSHOT//org.jboss.as.ejb3.subsystem.CacheFactoryAdd.performRuntime(CacheFactoryAdd.java:76)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.AbstractAddStepHandler.performRuntime(AbstractAddStepHandler.java:338)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.AbstractAddStepHandler$1.execute(AbstractAddStepHandler.java:159)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:384)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
	at java.base/java.lang.Thread.run(Thread.java:834)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.JBossThread.run(JBossThread.java:485)
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:44.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12631,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08rn8:",9223372036854775807,,0.0,,,,,,,,,,,,,,Workaround Exists,undefine the attribute list.,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Fix NPE in JndiNamingDependencyProcessor if EE subsystem is not present,WFLY-12472,12825818,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,02/Sep/19 12:51 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,03/Sep/19 9:18 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Naming,,,,,,,0,,,,,,,"03:48:16,932 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service jboss.deployment.unit.""infinispan-server-testsuite-9.4.16.ER1-redhat-00001-tests.jar"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.""infinispan-server-testsuite-9.4.16.ER1-redhat-00001-tests.jar"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment ""infinispan-server-testsuite-9.4.16.ER1-redhat-00001-tests.jar""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:151)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.jboss.as.naming.deployment.JndiNamingDependencyProcessor.installComponentJndiAggregatingServices(JndiNamingDependencyProcessor.java:83)
	at org.jboss.as.naming.deployment.JndiNamingDependencyProcessor.deploy(JndiNamingDependencyProcessor.java:67)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:144)
	... 8 more",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-03 14:03:10.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12573,https://github.com/wildfly/wildfly/pull/12580,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08fjg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Move javax.json.bind to jakarta.json.bind,WFLY-12499,12826612,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,05/Sep/19 3:59 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,10/Sep/19 9:30 PM,,,,,,18.0.0.Final,,,EE,,,,,,,0,,,,,,,"https://github.com/eclipse-ee4j/jsonb-api

* Check license
* Move {{javax.json.bind:javax.json.bind-api:1.0}} to {{jakarta.json.bind:jakarta.json.bind-api:1.0.2}}
* Upgrade Yasson form 1.0.3 to 1.0.4",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12603,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08k5g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
OpenTracing tests are in legacy org.jboss.as package in widlfly-ts-integ-basic,WFLY-11270,12777371,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Optional,Done,mjurc,mjurc,mjurc,02/Nov/18 4:28 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,21/Aug/19 6:57 PM,14.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,0,,,,,,,"Currently, all the OpenTracing integration tests are in {{org.jboss.as.test.integration.microprofile.opentracing}} package. They should be moved to {{org.wildfly.test.integration.microprofile.opentracing}} package.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00ymg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect ImageandTemplateImportURL in CD QS,WFLY-12261,12816003,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,emmartins,emmartins,emmartins,30/Jun/19 5:49 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,30/Jun/19 6:14 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Documentation,Quickstarts,,,,,,0,Doc_prio_2,,,,,,"The readmes in CD16 QS use this incorrect imange and template import url:
[https://raw.githubusercontent.com/jboss-container-images/jboss-eap-7-openshift-image/CD\{productVersion\}/templates/]

Defined at:
https://github.com/wildfly/quickstart/blob/master/shared-doc/attributes.adoc#L86

Which resolves to:
https://raw.githubusercontent.com/jboss-container-images/jboss-eap-7-openshift-image/CD7.3/templates

There's no CD7.3 tag or branch in the repo:
https://github.com/jboss-container-images/jboss-eap-7-openshift-image

It should probably be CD16.",,,,,,,,,,,JBEAP-16936,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06vb8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade CDI dependency to the one from Jakarta,WFLY-12528,12827474,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,10/Sep/19 10:03 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,10/Sep/19 8:45 PM,,,,,,18.0.0.Final,,,CDI / Weld,,,,,,,0,,,,,,,2.0.2 according to https://github.com/jakartaee/specifications/blob/master/cdi/2.0/_index.md,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12620,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pak:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-transaction-api_1.2_spec to jboss-transaction-api_1.3_spec 2.0.0CR1,WFLY-12460,12825405,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,30/Aug/19 5:27 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,03/Sep/19 10:47 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,0,,,,,,,https://github.com/jboss/jboss-jakarta-jta-api/commits/1.3-2.0.0.CR1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08d0c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Apache Artemis from 2.9.0 to 2.10.0,WFLY-12304,12818918,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ehugonnet,mstefank,mstefank,19/Jul/19 7:26 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,27/Sep/19 1:43 PM,,,,,,18.0.0.Final,,,JMS,,,,,,,0,blocker-WF18,downstream_dependency,,,,,"Upgrade Apache Artemis from 2.9.0.Final to 2.10.0.Final.

Due to HA issue with Apache Artemis 2.10.0 this may not be the final version upgrade",,,,,,,,,,,,,WFLY-12525,,,,,,,,,,,WFLY-12105,,,,,,WFLY-12129,WFLY-12085,WFLY-10968,,,,,,,,,,,,,,,,,,,,,,,,2019-07-22 14:49:07.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,18.0,,,,,,,,,,"1|z07bxw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Jul/19 2:49 PM;jamezp;I removed the fix version as those two versions have already been released so this can't be a blocker for those versions.","31/Jul/19 3:32 PM;ehugonnet;I'd rather have Artemis 2.10 instead which should be released soon.","04/Sep/19 5:47 PM;clebert.suconic;I believe the issue is on the netty-http-bridge (netty-xnio-transport)

Artemis is using this API now to transfer file, making the transfer zero-copy:

A ChunkedFile will be sent downstream on netty on these two events:

https://github.com/apache/activemq-artemis/blob/0106329816a4ea8cc641ebceed215169adf25da2/artemis-core-client/src/main/java/org/apache/activemq/artemis/core/remoting/impl/netty/NettyConnection.java#L428

https://github.com/apache/activemq-artemis/blob/0106329816a4ea8cc641ebceed215169adf25da2/artemis-core-client/src/main/java/org/apache/activemq/artemis/core/remoting/impl/netty/NettyConnection.java#L363


And apparently the netty-http-bridge does not know how to handle such object.


Is it possible to update the Netty-http-bridge to accept such events.","04/Sep/19 6:19 PM;brian.stansberry;[~flavia.rainone] is ^^^ a question for you?","04/Sep/19 7:23 PM;clebert.suconic;It's definitely the netty-xnio-transport not being able to handle DefaultFileRegion

I tried debugging netty-xnio-transport, around AbstractXnioSocketChannel, and it's not possible to handle FileRegion

It seems to me that AbstractXnioSocketChannel is missing some calls on he chain as the write is never called for any FileRegion:

https://github.com/xnio/netty-xnio-transport/blob/b301ada03be308ea2751ae6a25d2a8f4932f117f/src/main/java/org/xnio/netty/transport/AbstractXnioSocketChannel.java#L270

Debugging this more carefully, I realized the object sent is actually an implementation of FileRegion, and the write is not being completed.","05/Sep/19 11:13 AM;clebert.suconic;A Quick fix would be to add a Chain handler on the pipeline that would convert FileRegion into a Regular NettyBuf

I am not sure how we could do a proper fix here. it's up to [~flavia.rainone]","06/Sep/19 8:31 AM;flavia.rainone;[~clebert.suconic] Im taking a look at this one. I dont rule out adding a handler. I'll keep the Jira posted. Thanks for the reproducer, [~ehugonnet]!","09/Sep/19 2:43 AM;flavia.rainone;[~clebert.suconic]I debugged, and I have questions about this :-)
According to the error I'm seeing, the problem is that the second server waits for a REPLICATION_START_FINISH_SYNC packet that it never gets, the one with synchronizationIsFinished set to true. It receives quite a few packets like that one before, though, they are just not the last one.
This packet is attempted to be sent by server 1, I can see that everything up to this line seems to be executed correctly: 
[JournalStorageManager.startReplication|https://github.com/apache/activemq-artemis/blob/0106329816a4ea8cc641ebceed215169adf25da2/artemis-server/src/main/java/org/apache/activemq/artemis/core/persistence/impl/journal/JournalStorageManager.java#L699] / [ReplicationManager.sendSynchronizationDone|https://github.com/apache/activemq-artemis/blob/0106329816a4ea8cc641ebceed215169adf25da2/artemis-server/src/main/java/org/apache/activemq/artemis/core/replication/ReplicationManager.java#L684]
However, the second server never receives the packet. Notice that, as I said before, the second server is receiving several packets just like that one prior to this, it seems to be missing only that last one, that has synchronizationIsFinished true. So, I don't see how Netty is failing to handle that type of Packet? Or is it another Packet you're talking about when you say that Netty fails to handle FileRegion?

When debugging, it seems to me that this task is never executed: [sendPacket runnable task|https://github.com/apache/activemq-artemis/blob/0106329816a4ea8cc641ebceed215169adf25da2/artemis-server/src/main/java/org/apache/activemq/artemis/core/replication/ReplicationManager.java#L382]

I am not sure if it is because of a timeout I'm not seeing, or if there is something wrong with the executor at this point (dunno what), but are you seeing this packet being sent/that task being executed for the missing packet above?","09/Sep/19 7:26 AM;clebert.suconic;The REPLICATION_START_FINISH_SYNC  packet never arriving is a symptom of the issue I explained.

Look at this commit on artemis: https://github.com/apache/activemq-artemis/commit/85b93f0883bc06a2dfe2de9d560805a59d626d38


Since this commit, we are using NonFileClosingDefaultFileRegion to send the body of the file. it's sending it with zero copy.

On the same commit, look at the change on NettyConnectionm, method getFileObject.


NonFileClosingDefaultFileRegion is being ignored by the netty-xnio-transport handler, what will make the whole thing to freeze, not receive any data on the other side of the replication, and the replication-finish to never arrive.


I tried implementing a proper handler for the FileRegion, but it did not work.


The handler has code for FileRegion but for some reason that code is never happening... and I don't know the component well enough to fix it.","09/Sep/19 9:24 AM;clebert.suconic;BTW: The same works without any problem if you just use netty directly.","09/Sep/19 9:31 AM;flavia.rainone;[~clebert.suconic] Hm... okay, thanks for the explanation, I'll debug some more :-) I'll keep this Jira posted.","09/Sep/19 3:43 PM;flavia.rainone;It appears that this could be the cause of all the trouble:
{code}java.lang.ClassCastException: class org.apache.activemq.artemis.core.remoting.impl.netty.NonClosingDefaultFileRegion cannot be cast to class io.netty.buffer.ByteBuf (org.apache.activemq.artemis.core.remoting.impl.netty.NonClosingDefaultFileRegion is in unnamed module of loader 'org.apache.activemq.artemis@2.10.0' @209880f3; io.netty.buffer.ByteBuf is in unnamed module of loader 'io.netty@4.1.34.Final' @4af22e87)


16:44:53,000 ERROR [stderr] (default I/O-7) java.lang.ClassCastException: class org.apache.activemq.artemis.core.remoting.impl.netty.NonClosingDefaultFileRegion cannot be cast to class io.netty.buffer.ByteBuf (org.apache.activemq.artemis.core.remoting.impl.netty.NonClosingDefaultFileRegion is in unnamed module of loader 'org.apache.activemq.artemis@2.10.0' @209880f3; io.netty.buffer.ByteBuf is in unnamed module of loader 'io.netty@4.1.34.Final' @4af22e87)
16:44:53,006 ERROR [stderr] (default I/O-7) 	at org.jboss.xnio.netty.netty-xnio-transport@0.1.6.Final//org.xnio.netty.transport.AbstractXnioSocketChannel.doWrite(AbstractXnioSocketChannel.java:197)
16:44:53,010 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:939)
16:44:53,015 ERROR [stderr] (default I/O-7) 	at org.jboss.xnio.netty.netty-xnio-transport@0.1.6.Final//org.xnio.netty.transport.AbstractXnioSocketChannel$AbstractXnioUnsafe.flush0(AbstractXnioSocketChannel.java:371)
16:44:53,021 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:906)
16:44:53,025 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1370)
16:44:53,029 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:739)
16:44:53,034 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:731)
16:44:53,039 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:717)
16:44:53,046 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.ChannelDuplexHandler.flush(ChannelDuplexHandler.java:117)
16:44:53,050 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:739)
16:44:53,057 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:731)
16:44:53,063 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.access$2100(AbstractChannelHandlerContext.java:38)
16:44:53,068 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext$WriteAndFlushTask.write(AbstractChannelHandlerContext.java:1139)
16:44:53,073 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext$AbstractWriteTask.run(AbstractChannelHandlerContext.java:1062)
16:44:53,079 ERROR [stderr] (default I/O-7) 	at org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)
16:44:53,083 ERROR [stderr] (default I/O-7) 	at org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)
{code}
","09/Sep/19 4:16 PM;clebert.suconic;Yes. As I said it does not know how to handle it. ","10/Sep/19 3:56 AM;flavia.rainone;Fixing that caused a new code to be reached that wasn't reached before (because the channel already handles FileRegion, but this code was unreachable because of the CCE). That code seems to contain another bug:
{code}04:43:32,284 ERROR [org.apache.activemq.artemis.core.client] (Thread-1 (ActiveMQ-client-netty-threads)) AMQ214031: Failed to decode buffer, disconnect immediately.: java.lang.IllegalStateException: java.lang.IndexOutOfBoundsException: readerIndex(4) + length(1) exceeds writerIndex(4): PooledUnsafeDirectByteBuf(ridx: 4, widx: 4, cap: 4)
	at org.apache.activemq.artemis@2.10.0//org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:390)
	at org.apache.activemq.artemis@2.10.0//org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$DelegatingBufferHandler.bufferReceived(ClientSessionFactoryImpl.java:1191)
	at org.apache.activemq.artemis@2.10.0//org.apache.activemq.artemis.core.remoting.impl.netty.ActiveMQChannelHandler.channelRead(ActiveMQChannelHandler.java:73)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337)
	at io.netty@4.1.34.Final//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)
	at io.netty@4.1.34.Final//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)
	at io.netty@4.1.34.Final//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:426)
	at io.netty@4.1.34.Final//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:278)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337)
	at io.netty@4.1.34.Final//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345)
	at io.netty@4.1.34.Final//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930)
	at io.netty@4.1.34.Final//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:796)
	at io.netty@4.1.34.Final//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:427)
	at io.netty@4.1.34.Final//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:328)
	at io.netty@4.1.34.Final//io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905)
	at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)
Caused by: java.lang.IndexOutOfBoundsException: readerIndex(4) + length(1) exceeds writerIndex(4): PooledUnsafeDirectByteBuf(ridx: 4, widx: 4, cap: 4)
	at io.netty@4.1.34.Final//io.netty.buffer.AbstractByteBuf.checkReadableBytes0(AbstractByteBuf.java:1428)
	at io.netty@4.1.34.Final//io.netty.buffer.AbstractByteBuf.readByte(AbstractByteBuf.java:723)
	at io.netty@4.1.34.Final//io.netty.buffer.WrappedByteBuf.readByte(WrappedByteBuf.java:521)
	at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.core.buffers.impl.ChannelBufferWrapper.readByte(ChannelBufferWrapper.java:280)
	at org.apache.activemq.artemis@2.10.0//org.apache.activemq.artemis.core.protocol.ServerPacketDecoder.decode(ServerPacketDecoder.java:124)
	at org.apache.activemq.artemis@2.10.0//org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:377)
	... 21 more{code}

I'm still working on this.","10/Sep/19 4:37 AM;flavia.rainone;The problem is fixed here: https://github.com/xnio/netty-xnio-transport/pull/15
I'll do a release after running a few more tests locally.","10/Sep/19 4:52 AM;flavia.rainone;Jira for netty-xnio-transport upgrade: WFLY-12525","14/Sep/19 7:57 PM;brian.stansberry;Per comments on WFLY-10968 this may incorporate the fix for that one, so I've linked them.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,
Update subsystem schemas to reference the new XML schema for credential-reference,WFLY-12217,12814596,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,20/Jun/19 1:40 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,04/Sep/19 7:56 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Management,Security,,,,,,0,credential-reference,eap72,,,,,"With https://issues.jboss.org/browse/EAP7-538, all passwords references in the subsystems must support credential references.

The model attribute is provided by wildlfy-controller module (including its XML parser and marshaller) but the corresponding XML element has been added directly to the subsystems XML schemas. This will become a maintenance issue when/if the credential references has to be updated and all the subsystems schema risk to be out of sync with the actual code reading/writing the credential reference.

We should follow the same design than for threads attributes (provided by the willdfly-threads module): the wildlfy-controller module provides a XML schema for the credential-references with its own versioned namespace and any subsystem that requires it will just refer to it.",,,,,,,,,,,WFCORE-4501,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:42.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12378,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06nqc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Use a separate package for org.wildfly.dist.subsystem.xml in the dist-legacy module,WFLY-12456,12825358,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,29/Aug/19 4:58 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,30/Aug/19 7:44 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,Test Suite,,,,,,0,,,,,,,"The same tests in package org.wildfly.dist.subsystem.xml are included in the code of both the 'dist' and 'dist-legacy' modules. It's not worth the hassle of trying to share the code. But to reduce confusion, change the package in dist-legacy so if there are test failures it is clear where.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12560,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08cqc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core from 10.0.0.Beta5 to 10.0.0.Beta6,WFLY-12478,12826060,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,03/Sep/19 12:42 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,03/Sep/19 10:50 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12315422&version=12342764,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:42.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12578,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08gys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade MicroProfile Metrics 2.0.2,WFLY-12475,12825897,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,03/Sep/19 4:06 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,03/Sep/19 10:48 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Metrics,,,,,,,0,,,,,,,https://github.com/eclipse/microprofile-metrics/compare/2.0.1...2.0.2,,,,,,,,,,,,,,,,,,,,,WFLY-12474,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:42.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08g04:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Bump the Undertow subsystem model version and schema to version 10,WFLY-12173,12811620,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,06/Jun/19 6:16 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,14/Aug/19 7:32 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Web (Undertow),,,,,,,0,,,,,,,The Undertow subsystem schema should be bumped from 9 to 10 and the model version should be bumped from 9 to 10.,,,,,,,,,,,WFLY-11816,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:41.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12346,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0685o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Missing io.smallrye.health dependency on org.jboss.logging,WFLY-12427,12824465,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,jmesnil,brian.stansberry,brian.stansberry,23/Aug/19 8:44 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,08/Sep/19 4:57 PM,,,,,,18.0.0.Final,,,MP Health,,,,,,,0,,,,,,,"I happened to notice this in a server log of a CI job:

{code}
16:03:53,351 INFO  [org.jboss.weld.Bootstrap] (Weld Thread Pool -- 2) WELD-000119: Not generating any bean definitions from io.smallrye.health.SmallRyeHealthReporter because of underlying class loading error: Type org.jboss.logging.Logger from [Module ""io.smallrye.health"" version 1.0.2 from local module loader @4909b8da (finder: local module finder @3a03464 (roots: C:\buildAgent\work\37b47ae8b9c60325\full\testsuite\integration\smoke\target\wildfly\modules,C:\buildAgent\work\37b47ae8b9c60325\full\testsuite\integration\smoke\target\wildfly\modules\system\layers\base,C:\buildAgent\work\37b47ae8b9c60325\full\testsuite\integration\smoke\target\modules))] not found.  If this is unexpected, enable DEBUG logging to see the full error.
{code}

The io.smallrye:smallrye-health-2.0:1.0.2 pom shows a dependency on JBoss Logging but the module.xml for its module does not.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12572,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z087rw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"24/Aug/19 12:43 PM;brian.stansberry;As I commented on the https://github.com/wildfly/wildfly/pull/12527
 PR I tried for this (and ultimately closed):

Adding the org.jbss.logging dependency causes all sorts of failures due to:

{code}
org.jboss.arquillian.container.spi.client.container.DeploymentException: Cannot deploy jaxws-authentication-ejb.jar: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""jaxws-authentication-ejb.jar\"".WeldStartService"" => ""Failed to start service
    Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type String with qualifiers @Default
  at injection point [BackedAnnotatedField] @Inject io.smallrye.health.SmallRyeHealthReporter.uncheckedExceptionDataStyle
  at io.smallrye.health.SmallRyeHealthReporter.uncheckedExceptionDataStyle(SmallRyeHealthReporter.java:0)
""}}}}
org.jboss.arquillian.container.spi.client.container.DeploymentException: 
Cannot deploy jaxws-authentication-ejb.jar: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""jaxws-authentication-ejb.jar\"".WeldStartService"" => ""Failed to start service
    Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type String with qualifiers @Default
  at injection point [BackedAnnotatedField] @Inject io.smallrye.health.SmallRyeHealthReporter.uncheckedExceptionDataStyle
  at io.smallrye.health.SmallRyeHealthReporter.uncheckedExceptionDataStyle(SmallRyeHealthReporter.java:0)
""}}}}
{code}

It seems that resolving the INFO logged problem in the JIRA produces bigger problems, so perhaps not having the org.jboss.logging dependency was deliberate.

In any case I will downgrade this to Minor as the logging is at INFO, it's just a bit scary looking.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-client from 4.0.21 to 4.0.22,WFLY-12369,12822293,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,mstefank,mstefank,12/Aug/19 2:29 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,13/Aug/19 3:50 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,0,,,,,,,"compare jboss-ejb-client 4.0.21.Final vs 4.0.22.Final:
https://github.com/wildfly/jboss-ejb-client/compare/4.0.21.Final...4.0.22.Final
",,,,,,,,,,,,,,,,,,,,,,,,WFLY-12281,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-12 05:27:59.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z07v0k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Aug/19 5:27 AM;cfang;[~tomekadamski], [~flavia.rainone] apart from https://github.com/wildfly/jboss-ejb-client/pull/412, do you see anything else that should be included in ejb-client 4.0.22?","12/Aug/19 10:36 AM;cfang;jboss-ejb-client 4.0.22.Final was released on 2019-08-12.
","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 10.0.0.Beta2,WFLY-12296,12818544,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,17/Jul/19 6:23 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,17/Jul/19 4:36 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Management,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:41.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z079ss:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-transaction-api_1.2_spec to 2.0.0.CR1,WFLY-12448,12825116,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,28/Aug/19 1:00 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,28/Aug/19 10:25 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,0,,,,,,,"Available here: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/2.0.0.CR1/ 

Commits are here https://github.com/jboss/jboss-jakarta-jta-api/commits/2.0.0.CR1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:40.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08bb8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Support for https in galleon layers,WFLY-12407,12824120,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,22/Aug/19 5:04 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,26/Aug/19 7:28 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,0,,,,,,,When building a configuration with galleon layers we need a way to evolve undertow with a support for https.,,,,,,,,,,,,,WFCORE-4616,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:40.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z085pg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
"Undertow should not create WebResourcePermission with an action of ""!""",WFLY-12397,12823821,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,20/Aug/19 10:58 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,23/Aug/19 9:50 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Web (Undertow),,,,,,,0,,,,,,,"As Undertow processes a deployment to convert the security constraints to a JACC Policy using JACC Permissions there is a step which adds unchecked permissions based on the HTTP methods seen so far: -

{noformat}
            if(jbossWebMetaData.getDenyUncoveredHttpMethods() == null) {
                if (seenMethods.size() != NUMBER_OF_HTTP_METHODS) {
                    WebResourcePermission wrpUnchecked = new WebResourcePermission(qurl, ""!""
                            + getCommaSeparatedString(seenMethods.toArray(new String[seenMethods.size()])));
                    pc.addToUncheckedPolicy(wrpUnchecked);
                }
            }
{noformat}

If no methods have been seen so far this can lead to an action of ""!"".

Where an action is null or empty String the meaning is ""all methods"".
Where a list of methods of prefixed with ""!"" the meaning is ""all methods except those listed"".

Where we use ""!"" we mean all methods as we have not already encountered any, however the API does specify the syntax and a single ""!"" without any actions is invalid so for that scenario we should use null or empty String.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-23 16:14:46.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12516,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z083xg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"23/Aug/19 4:14 PM;brian.stansberry;[~dlofthouse] In the last paragraph in the description there is some strange quoted text. I think you meant two occurrences of ""!"" but some other text got swapped in.

No big deal. I was doing PR review and wanted to understand what I was looking at and that paragraph got me scratching my head a bit. :)","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
ClassNotFoundException over org.glassfish.jersey.client.JerseyClientBuilder when sec-mgr is enabled,WFLY-12235,12815071,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,24/Jun/19 9:58 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,24/Jun/19 4:52 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,0,,,,,,,"From JBEAP-17069:

When the security manager is enabled the resteasy client initialization fails with the following exception:

{noformat}
ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /resteasy/SampleServlet: java.lang.RuntimeException: java.lang.ClassNotFoundException: org.glassfish.jersey.client.JerseyClientBuilder from [Module ""javax.ws.rs.api"" version 1.0.1.Final-redhat-00001 from local module loader @69d9c55 (finder: local module finder @13a57a3b (roots: /opt/jboss/jboss-eap-7.2/modules,/opt/jboss/jboss-eap-7.2/modules/system/layers/base/.overlays/layer-base-jboss-eap-7.2.1.CP,/opt/jboss/jboss-eap-7.2/modules/system/layers/base))]
	at javax.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:132)
	at com.redhat.sample.SampleServlet.processRequest(SampleServlet.java:29)
	at com.redhat.sample.SampleServlet.doGet(SampleServlet.java:48)
        ...
Caused by: java.lang.ClassNotFoundException: org.glassfish.jersey.client.JerseyClientBuilder from [Module ""javax.ws.rs.api"" version 1.0.1.Final-redhat-00001 from local module loader @69d9c55 (finder: local module finder @13a57a3b (roots: /opt/jboss/jboss-eap-7.2/modules,/opt/jboss/jboss-eap-7.2/modules/system/layers/base/.overlays/layer-base-jboss-eap-7.2.1.CP,/opt/jboss/jboss-eap-7.2/modules/system/layers/base))]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:264)
	at javax.ws.rs.client.FactoryFinder.newInstance(FactoryFinder.java:120)
	at javax.ws.rs.client.FactoryFinder.find(FactoryFinder.java:227)
	at javax.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:96)
	... 52 more
{noformat}

It seems that the issue is that the internal resteasy class is not found and the default {{org.glassfish.jersey.client.JerseyClientBuilder}} is tried but fails.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JBEE-204,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:40.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06pzw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade  jboss-jakarta-connector-api_spec to 2.0.0.Final,WFLY-12434,12824842,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,maeste,maeste,27/Aug/19 11:22 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,13/Sep/19 4:03 PM,,,,,,18.0.0.Final,,,JCA,,,,,,,0,,,,,,,"JBoss Jakarta Connectors API fork:
https://github.com/jboss/jboss-jakarta-connector-api_spec",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-13 13:28:58.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12641,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z089pw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Sep/19 1:28 PM;jamezp;I'm reopening this as it's not in WildFly master.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Generic JMS RA 2.0.2.Final,WFLY-12497,12826529,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,05/Sep/19 10:12 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,08/Sep/19 4:59 PM,,,,,,18.0.0.Final,,,JMS,,,,,,,0,,,,,,,https://github.com/jms-ra/generic-jms-ra/compare/2.0.1.Final...jms-ra:2.0.2.Final,,,,,,,,,,,,,,,,,,,,WFLY-12419,,,,,,,,,,WFLY-12415,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08jnw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
WFLY integration test for WFCORE-3670,WFLY-12362,12821752,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,soul2zimate,soul2zimate,soul2zimate,07/Aug/19 11:10 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,08/Aug/19 2:30 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,0,,,,,,,WFCORE-3670 is fixed in 10.0.0.Beta3,,,,,,,,,,,,,,,,,,,,,WFCORE-3670,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12484,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07sek:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Move Messaging management model version to 8,WFLY-12326,12819801,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,25/Jul/19 9:29 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,14/Aug/19 7:35 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,0,,,,,,,Update messaging subsystem model to 8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07h0k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade smallrye-config 1.3.6,WFLY-12213,12814449,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,20/Jun/19 3:14 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,24/Jun/19 3:52 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Config,,,,,,,0,,,,,,,"Upgrade smallrye-config to 1.3.6.

There is a more recent version of smallrye-config (1.3.7) but it challenges TCK tests from MicroProfile Config 1.3 (regarding the semantic of empty config property).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06mvo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Add MicroProfile Config TCK to the WildFly integration test suite,WFLY-12189,12813235,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,13/Jun/19 11:16 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,27/Jun/19 8:43 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Config,Test Suite,,,,,,0,,,,,,,"Add module to run MicroProfile Config TCK[1] to the existing MicroProfile TCKs in https://github.com/wildfly/wildfly/tree/master/testsuite/integration/microprofile-tck

https://github.com/eclipse/microprofile-config/tree/master/tck",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:38.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06hms:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Downgrade Yasson from 1.0.4 to 1.0.3,WFLY-12565,12828822,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,jamezp,jamezp,17/Sep/19 3:27 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,17/Sep/19 8:04 PM,,,,,,18.0.0.Final,,,EE,,,,,,,0,,,,,,,Yasson should be downgraded back to 1.0.3 instead of 1.0.5 for compatibility.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12657,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08wr0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unnecessary module dependencies in clustering modules,WFLY-12505,12826820,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,06/Sep/19 8:39 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,12/Sep/19 10:11 AM,18.0.0.Beta1,,,,,18.0.0.Final,,,Clustering,,,,,,,0,,,,,,,"In particular, ensure that dynamic dependencies (i.e. loaded via service loader) are optional whenever appopriate.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12614,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08lf0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade IronJacamar from 1.4.16.Final to 1.4.17.Final,WFLY-12283,12817644,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mstefank,mstefank,mstefank,11/Jul/19 3:57 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,11/Aug/19 6:28 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JCA,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11973,,,,,,JBJCA-1389,WFLY-12315,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-30 15:09:43.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12485,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z074r8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"30/Jul/19 3:09 PM;brian.stansberry;The PR for this should also incorporate the test commit currently found in https://github.com/wildfly/wildfly/pull/12439","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-transaction-client from 1.1.4.Final to 1.1.5.Final,WFLY-12258,12815967,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,28/Jun/19 3:48 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,12/Jul/19 11:15 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,Transactions,,,,,,0,,,,,,,"compare 1.1.4.Final vs 1.1.5.Final:
https://github.com/wildfly/wildfly-transaction-client/compare/1.1.4.Final...1.1.5.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:38.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06v3o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
JGroups subsystem pbcast.GMS/view attribute only shows the viewId,WFLY-11873,12798112,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,19/Mar/19 1:57 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,17/Sep/19 5:42 AM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,0,,,,,,,"{code}
[standalone@127.0.0.1:10190 /] /subsystem=jgroups/channel=ee/protocol=pbcast.GMS:read-resource(include-runtime=true
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""after_creation_hook"" => undefined,
        ""coord"" => false,
        ""ergonomics"" => true,
        ""flush_invoker_class"" => undefined,
        ""id"" => 12,
        ""implementation"" => ""ParticipantGmsImpl"",
        ""install_view_locally_first"" => true,
        ""is_leaving"" => false,
        ""join_timeout"" => 3000L,
        ""leave_timeout"" => 3000L,
        ""level"" => undefined,
        ""local_address"" => ""node3"",
        ""log_collect_msgs"" => false,
        ""log_view_warnings"" => true,
        ""max_bundling_time"" => 50L,
        ""max_join_attempts"" => 10L,
        ""members"" => ""(2) node2,node3"",
        ""merge_id"" => undefined,
        ""merge_in_progress"" => false,
        ""merge_killer_running"" => false,
        ""merge_task_running"" => false,
        ""merge_timeout"" => 5000L,
        ""num_members"" => 2,
        ""num_prev_mbrs"" => 50,
        ""num_prev_views"" => 10,
        ""number_of_views"" => 0,
        ""print_local_addr"" => false,
        ""print_physical_addrs"" => true,
        ""stats"" => false,
        ""use_delta_views"" => true,
        ""use_flush_if_present"" => true,
        ""view"" => ""[node2|1]"",
        ""view_ack_collection_timeout"" => 2000L,
        ""view_bundling"" => true,
        ""view_handler_size"" => 0,
        ""view_handler_suspended"" => false
    }
}
{code}",,,,,,,,,JGRP-2333,WFLY-11890,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:38.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z043ng:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Mar/19 2:23 PM;rhusar;The problem is jgroups implementation of getView():

{code}
    @ManagedAttribute
    public String getView() {return view != null? view.getViewId().toString() : ""null"";}
{code}","17/Sep/19 5:42 AM;rhusar;This is fixed for WF18 with JGroups upgrade. Resolving.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate Validator to 6.0.17,WFLY-12533,12827531,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,10/Sep/19 5:30 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,11/Sep/19 11:46 AM,,,,,,18.0.0.Final,,,Bean Validation,,,,,,,0,,,,,,,"https://github.com/hibernate/hibernate-validator/compare/6.0.16.Final...6.0.17.Final

Guillaume Smet notes we should do this if we are moving to the Jakarta variant of the BV API.

https://github.com/wildfly/wildfly/pull/12615#discussion_r322610996",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12615,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pmc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Switch from javax.persistence:javax.persistence-api to jakarta.persistence:jakarta.persistence-api,WFLY-12480,12826073,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,smarlow,smarlow,03/Sep/19 2:31 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,10/Sep/19 8:44 PM,,,,,,18.0.0.Final,,,JPA / Hibernate,,,,,,,0,,,,,,,Switch to [https://github.com/eclipse-ee4j/jpa-api/tree/master/api],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:38.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12589,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08h1o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"03/Sep/19 3:00 PM;smarlow;https://github.com/scottmarlow/wildfly/tree/WFLY-12480 doesn't build yet, that should change after https://github.com/eclipse-ee4j/jpa-api/issues/228 is done.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade MicroProfile Metrics 2.0.1,WFLY-12294,12818538,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,17/Jul/19 5:28 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,15/Aug/19 4:06 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Metrics,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:37.0,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z079rg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Wildfly 15 documentation missing images,WFLY-11786,12794504,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,,vokail,vokail,27/Feb/19 8:10 AM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,15/Jul/19 4:57 AM,15.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Documentation,,,,,,,0,,,,,,,"In getting started guide  for Wildfly 15 some images are missing, for example reference to: http://docs.wildfly.org/15/images/gfx/Eclipse_Helloworld_Deploy_1.jpg return 404 not found

(see attached image)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Feb/19 8:09 AM;vokail;Screenshot_2019-02-27 Getting Started Developing Applications Guide.png;https://issues.redhat.com/secure/attachment/12447638/Screenshot_2019-02-27+Getting+Started+Developing+Applications+Guide.png",,,,,,,,,,,,,,,,,,,2019-04-26 12:33:50.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12432,,,,,,,,,,,,,,,,1.0,4.0,,,,,,,,,,"1|z03k24:",9223372036854775807,,0.0,,,,,"1) go to http://docs.wildfly.org/15/Getting_Started_Developing_Applications_Guide.html#cdi-servlet-helloworld-quickstart
2) go to 3.1
3) you can see only alt description for image
",,,,,,,,,,,"26/Apr/19 12:33 PM;heatmanofurioso;Issue is solved. Can it be closed for cleanup?","26/Apr/19 2:47 PM;brian.stansberry;[~heatmanofurioso] It's not fixed in the WildFly 16 docs. Are you aware of a commit that fixed this since 16 was released?","18/Jul/19 4:42 PM;brian.stansberry;I added the images to the WildFly 17 docs. They are also in master so when we generate 18 docs they will be there.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,
Distributed session changes fail to replicate if subsequent request arrives < 1 second after session was created.,WFLY-12266,12816239,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,pferraro,pferraro,01/Jul/19 2:57 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,01/Jul/19 10:20 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Clustering,,,,,,,0,,,,,,,"As a marshalling optimization, the last access duration of a session (i.e. the duration of time since the session was created) is stored with second precision (since session timeouts only have second precision).  However, we assume that a given distributed session is ""new"" if its last access duration is 0.  When the backing cache is transactional, we don't perform any mutations when a new session is closed.  Thus if a request arrives < 1 second after a session was created, any changes will not be replicated.  Given the prevalence of redirects after a session is created, it is not unlikely that users will encounter this problem.

Essentially, the existing code assumes that Duration.ofSeconds(0) != Duration.ZERO. Unfortunately, this is false.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:37.0,,,,,,,,,https://github.com/wildfly/wildfly/pull/12411,https://github.com/wildfly/wildfly/pull/12412,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06wpw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
Add entries to maven-enforcer-plugin ban-bad-dependencies config for artifacts whose maven GA has changed,WFLY-12551,12828152,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,12/Sep/19 5:01 PM,14/Oct/19 12:28 PM,15/Jan/20 1:31 PM,18/Sep/19 11:00 PM,,,,,,18.0.0.Final,,,Build System,,,,,,,0,,,,,,,"For the updates where the maven GA has changed, add the old GA to the root pom.xml config of the maven-enforcer-plugin ban-bad-dependencies execution. And then add any necessary excludes.

This is being done as part of the upgrade PR some of the APIs; task is to do it for the rest.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12660,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08t90:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,
