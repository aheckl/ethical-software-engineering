Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Component/s,Component/s,Component/s,Component/s,Component/s,Component/s,Component/s,Component/s,Component/s,Component/s,Due Date,Votes,Labels,Labels,Labels,Labels,Description,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Outward issue link (Causality),Outward issue link (Causality),Outward issue link (Causality),Outward issue link (Causality),Outward issue link (Cloners),Outward issue link (Cloners),Outward issue link (Dependency),Outward issue link (Dependency),Outward issue link (Dependency),Outward issue link (Dependency),Outward issue link (Dependency),Outward issue link (Dependency),Outward issue link (Documentation),Outward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Related),Outward issue link (Related),Outward issue link (Related),Outward issue link (Related),Outward issue link (Sequence),Outward issue link (Sequence),Outward issue link (Sequence),Outward issue link (Sequence),Outward issue link (Sequence),Outward issue link (Sequence),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Outward issue link (Superset),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Acceptance Criteria),Custom field (Affects),Custom field (Affects),Custom field (Affects),Custom field (Affects Testing),Custom field (Affects Testing),Custom field (Bugzilla References),Custom field (Bugzilla Update),Custom field (CDW blocker),Custom field (CDW devel_ack),Custom field (CDW docs_ack),Custom field (CDW exception),Custom field (CDW pm_ack),Custom field (CDW qa_ack),Custom field (CDW release),Custom field (Cascading Select),Custom field (Date of First Comment),Custom field (Delivery Owner),Custom field (Effort),Custom field (Epic Colour),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Estimated Difficulty),Custom field (Forum Reference),Custom field (Forum Reference),Custom field (Git Pull Request),Custom field (Git Pull Request),Custom field (Git Pull Request),Custom field (Git Pull Request),Custom field (Git Pull Request),Custom field (Git Pull Request),Custom field (Help Desk Ticket Reference),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Involved),Custom field (Notes),Custom field (Number of attachments),Custom field (Number of comments),Custom field (Original story points),Custom field (Parent Link),Custom field (Patch Instructions),Custom field (Patch Repository Link),Custom field (Percent complete),Custom field (Percent confident),Custom field (Product),Custom field (QA Contact),Custom field (QE Acceptance Test Link),Custom field (Rank),Custom field (Rank (Obsolete)),Custom field (Release Notes Text),Custom field (SFDC Cases Counter),Custom field (SFDC Cases Links),Custom field (SVN / CVS Isolated Branch),Custom field (SourceForge Reference),Custom field (Stackoverflow ID),Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (Support Case Reference),Custom field (Target Release),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Tester),Custom field (User Story),Custom field (Workaround),Custom field (Workaround Description),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
Clustering: java.lang.ClassCastException when SYBASE is used as invalidation-cache,WFLY-12889,12893518,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Rejected,pferraro,tommaso-borgato,tommaso-borgato,17/Dec/19 4:56 AM,17/Dec/19 10:49 AM,28/Dec/19 1:28 PM,17/Dec/19 10:49 AM,19.0.0.Beta1,,,,,,,,Clustering,,,,,,,,,,,0,,,,,"The error happens when using relational database SYBASE as invalidation cache for storing HTTP session data;
EAP is configured as follows:

{noformat}
embed-server --server-config=standalone-ha.xml
/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=tcp)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload:add()
/subsystem=infinispan/cache-container=web/invalidation-cache==offload/component=transaction:write-attribute(name=mode, value=BATCH)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/component=locking:write-attribute(name=isolation, value=REPEATABLE_READ)
data-source add --name=testDS --jndi-name=java:jboss/datasources/testDS --driver-name=sybase-connector.jar --connection-url=jdbc:sybase:Tds:sybase-160.hosts.mwqe.eng.bos.redhat.com:5000/dballo03 --enabled=true --jta=true --use-java-context=true --transaction-isolation=TRANSACTION_READ_COMMITTED --min-pool-size=1 --max-pool-size=5 --pool-prefill=true --user-name=dballo03 --password=dballo03 --prepared-statements-cache-size=32 --share-prepared-statements=true
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc:add(data-source=testDS,fetch-state=false,passivation=false,purge=false,shared=true,dialect=SYBASE){allow-resource-service-restart=true}
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=prefix,value=s)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=id-column.name,value=id)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=id-column.type,value=VARCHAR(255))
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=data-column.name,value=datum)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=data-column.type,value=IMAGE)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=timestamp-column.name,value=version)
/subsystem=infinispan/cache-container=web/invalidation-cache=offload/store=jdbc/table=string:write-attribute(name=timestamp-column.type,value=BIGINT)
/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache, value=offload)
/subsystem=transactions:write-attribute(name=node-identifier,value=wildfly3)
{noformat}

As soon as the first HTTP request is sent to server we get the following:

{noformat}
2019-12-17 08:36:13,821 INFO  [org.jboss.test.clusterbench.common.session.CommonHttpSessionServlet] (default task-1) New session created: mVGeUKuqqi-DZJdRTEiT7hxq9XVu_beIprUvi3to with 4kB cargo
2019-12-17 08:36:14,156 WARN  [org.jboss.jca.core.connectionmanager.listener.TxConnectionListener] (default task-1) IJ000305: Connection error occured: org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@26270b42[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@11ee2446 connection handles=1 lastReturned=1576571773800 lastValidated=1576571714494 lastCheckedOut=1576571774106 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@48ad5723 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@38a84373[pool=testDS] xaResource=LocalXAResourceImpl@56beec82[connectionListener=26270b42 connectionManager=26eda85 warned=false currentXid=null productName=Adaptive Server Enterprise productVersion=16.0.02.05 jndiName=java:jboss/datasources/testDS] txSync=null]: java.lang.ClassCastException: class java.io.ByteArrayInputStream cannot be cast to class com.sybase.jdbc4.jdbc.SybLob (java.io.ByteArrayInputStream is in module java.base of loader 'bootstrap'; com.sybase.jdbc4.jdbc.SybLob is in unnamed module of loader 'deployment.sybase-connector.jar' @4b04036f)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.TdsParam.prepareForSend(TdsParam.java:229)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.ParamManager.checkParams(ParamManager.java:1179)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.Tds.sendDynamicExecuteParams(Tds.java:1499)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.Tds.dynamicExecute(Tds.java:1403)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybPreparedStatement.sendQuery(SybPreparedStatement.java:2887)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.sendBatch(SybStatement.java:1922)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.executeBatch(SybStatement.java:1881)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.executeBatch(SybStatement.java:1799)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybPreparedStatement.executeBatch(SybPreparedStatement.java:1831)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.CachedPreparedStatement.executeBatch(CachedPreparedStatement.java:714)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.WrappedStatement.executeBatch(WrappedStatement.java:1180)
	at org.infinispan.persistence.jdbc@9.4.16.Final-redhat-00002//org.infinispan.persistence.jdbc.stringbased.JdbcStringBasedStore.writeBatch(JdbcStringBasedStore.java:302)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.persistence.manager.PersistenceManagerImpl.lambda$writeBatchToAllNonTxStores$17(PersistenceManagerImpl.java:718)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.persistence.manager.PersistenceManagerImpl.writeBatchToAllNonTxStores(PersistenceManagerImpl.java:718)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.store(CacheWriterInterceptor.java:410)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.commitCommand(CacheWriterInterceptor.java:128)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitPrepareCommand(CacheWriterInterceptor.java:114)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.prepareHandler(EntryWrappingInterceptor.java:178)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.wrapEntriesForPrepareAndApply(EntryWrappingInterceptor.java:847)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:173)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:41)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:120)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.TxInterceptor.handlePrepareCommand(TxInterceptor.java:158)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.TxInterceptor.visitPrepareCommand(TxInterceptor.java:127)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:183)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:203)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:69)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.BatchingInterceptor.handleDefault(BatchingInterceptor.java:69)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:156)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.impl.TransactionTable.afterCompletion(TransactionTable.java:861)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:33)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.notifyAfterCompletion(TransactionImpl.java:512)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:338)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
	at org.wildfly.clustering.ee.cache@7.3.0.GA-redhat-00001//org.wildfly.clustering.ee.cache.tx.TransactionalBatch.close(TransactionalBatch.java:98)
	at org.wildfly.clustering.web.undertow@7.3.0.GA-redhat-00001//org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:87)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:950)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:627)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)
	at io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-12-17 08:36:15,174 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (default task-1) ISPN000136: Error executing command PrepareCommand on Cache 'cbnc.ear.a.war', writing keys [SessionAccessMetaDataKey(mVGeUKuqqi-DZJdRTEiT7hxq9XVu_beIprUvi3to), SessionCreationMetaDataKey(mVGeUKuqqi-DZJdRTEiT7hxq9XVu_beIprUvi3to), SessionAttributesKey(mVGeUKuqqi-DZJdRTEiT7hxq9XVu_beIprUvi3to)]: org.infinispan.persistence.spi.PersistenceException: ISPN008037: Error while writing entries in batch to the database:
	at org.infinispan.persistence.jdbc@9.4.16.Final-redhat-00002//org.infinispan.persistence.jdbc.stringbased.JdbcStringBasedStore.writeBatch(JdbcStringBasedStore.java:305)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.persistence.manager.PersistenceManagerImpl.lambda$writeBatchToAllNonTxStores$17(PersistenceManagerImpl.java:718)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.persistence.manager.PersistenceManagerImpl.writeBatchToAllNonTxStores(PersistenceManagerImpl.java:718)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.store(CacheWriterInterceptor.java:410)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.commitCommand(CacheWriterInterceptor.java:128)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitPrepareCommand(CacheWriterInterceptor.java:114)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.prepareHandler(EntryWrappingInterceptor.java:178)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.wrapEntriesForPrepareAndApply(EntryWrappingInterceptor.java:847)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:173)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:41)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:120)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.TxInterceptor.handlePrepareCommand(TxInterceptor.java:158)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.TxInterceptor.visitPrepareCommand(TxInterceptor.java:127)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:183)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:203)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:69)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.BatchingInterceptor.handleDefault(BatchingInterceptor.java:69)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:187)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:156)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.impl.TransactionTable.afterCompletion(TransactionTable.java:861)
	at org.infinispan@9.4.16.Final-redhat-00002//org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:33)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.notifyAfterCompletion(TransactionImpl.java:512)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:338)
	at org.infinispan.commons@9.4.16.Final-redhat-00002//org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
	at org.wildfly.clustering.ee.cache@7.3.0.GA-redhat-00001//org.wildfly.clustering.ee.cache.tx.TransactionalBatch.close(TransactionalBatch.java:98)
	at org.wildfly.clustering.web.undertow@7.3.0.GA-redhat-00001//org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:87)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:950)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:627)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow@7.3.0.GA-redhat-00001//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet@2.0.28.SP1-redhat-00001//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)
	at io.undertow.core@2.0.28.SP1-redhat-00001//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.sql.SQLException: Error
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.WrappedConnection.checkException(WrappedConnection.java:2046)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.WrappedStatement.checkException(WrappedStatement.java:1436)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.WrappedStatement.executeBatch(WrappedStatement.java:1184)
	at org.infinispan.persistence.jdbc@9.4.16.Final-redhat-00002//org.infinispan.persistence.jdbc.stringbased.JdbcStringBasedStore.writeBatch(JdbcStringBasedStore.java:302)
	... 82 more
Caused by: java.lang.ClassCastException: class java.io.ByteArrayInputStream cannot be cast to class com.sybase.jdbc4.jdbc.SybLob (java.io.ByteArrayInputStream is in module java.base of loader 'bootstrap'; com.sybase.jdbc4.jdbc.SybLob is in unnamed module of loader 'deployment.sybase-connector.jar' @4b04036f)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.TdsParam.prepareForSend(TdsParam.java:229)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.ParamManager.checkParams(ParamManager.java:1179)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.Tds.sendDynamicExecuteParams(Tds.java:1499)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.tds.Tds.dynamicExecute(Tds.java:1403)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybPreparedStatement.sendQuery(SybPreparedStatement.java:2887)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.sendBatch(SybStatement.java:1922)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.executeBatch(SybStatement.java:1881)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybStatement.executeBatch(SybStatement.java:1799)
	at deployment.sybase-connector.jar//com.sybase.jdbc4.jdbc.SybPreparedStatement.executeBatch(SybPreparedStatement.java:1831)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.CachedPreparedStatement.executeBatch(CachedPreparedStatement.java:714)
	at org.jboss.ironjacamar.jdbcadapters@1.4.19.Final-redhat-00001//org.jboss.jca.adapters.jdbc.WrappedStatement.executeBatch(WrappedStatement.java:1180)
	... 83 more
{noformat}

We used Java 11.0.4:
{noformat}
[hudson@eap-clustering-net3-7 ~]$ java -version
java version ""11.0.4"" 2019-07-16 LTS
Java(TM) SE Runtime Environment 18.9 (build 11.0.4+10-LTS)
Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.4+10-LTS, mixed mode)
{noformat}

We used the following driver and database:
* JDBC driver [jconn4.jar|http://10.19.64.31/jdbc-drivers-products/EAP/7.2.0/sybase157/jdbc4/jconn4.jar]
* Database sybase160

The table objects are present in the DB, e.g.:
{noformat}
CREATE TABLE ""dballo03"".""s_cbnc_ear_a_war""
(
   id varchar(255) PRIMARY KEY NOT NULL,
   datum image NOT NULL,
   version numeric(19) NOT NULL
)
GO
CREATE UNIQUE INDEX s_cbnc_ear_17249837532 ON ""dballo03"".""s_cbnc_ear_a_war""(id)
GO
CREATE INDEX s_cbnc_ear_a_war_timestamp_index ON ""dballo03"".""s_cbnc_ear_a_war""(version)
GO
{noformat}


Complete logs attached in the liked issue.

The issue has been files as blocker because we don't have a workaround at the moment and SYBASE is one of the supported databases",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-12-17 10:13:14.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0js38:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Dec/19 10:13 AM;pferraro;Can you try using VARBINARY for the datum column type?
Otherwise, this looks like a bug in (or a misalignment with) the jconnect JDBC driver.  According to the jconnect documentation, getBinaryStream(...) should be compatible with the image column type.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Memory leak when deployment is redeployed multiple times,WFLY-10991,12768766,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,juraci.costa,jstourac,jstourac,07/Sep/18 9:25 AM,12/Dec/19 3:42 AM,28/Dec/19 1:27 PM,10/Sep/18 10:45 AM,14.0.0.Beta2,,,,,15.0.0.Beta1,15.0.0.Final,,MP OpenTracing,,,,,,,,,,,0,,,,,"It looks like redeploying attached deployment [^memoryLeaks.war] multiple times (our automated test does it 100 times), there seems to be some memory leak in the WildFly. Using git bisect, the commit that started to fail is [651dc8a2f0d4ccad6a35f7b1d28626b43ebb2a5d in WildFly repository|https://github.com/wildfly/wildfly/commits/651dc8a2f0d4ccad6a35f7b1d28626b43ebb2a5d]. That is why I selected MP OpenTracing component for this issue. Actual testing deployment is very simple and contains just some jsp file with some EJB classes that are used to call GC and check current heap usage.

Brief description of the test:
# attached deployment is deployed
# System.gc() is called via EJB call
# it checks initial heap usage at the beginning of the test via EJB call that checks all instances of ManagementFactory.getMemoryPoolMXBeans()
# deployment is redeployed 100 times
# calls System.gc() via EJP call again and checks heap usage again via EJB call and compares the results

Size of the extra heap in use is about 25MB plus when compared to the initial size.

I tried to check manually via [visualVM|https://visualvm.github.io/] tool. You can create a heapdump at the beginning of the test and at the end of the test. Then compare them easily and check the differences. Using a filter I can see quite a huge increase of instances of the {{org.jboss.modules.*}} classes. However, biggest memory footprint is huge increase of the instances of the {{java.util.HashMap$Node}}, {{char[]}}, {{java.util.HashMap$Node[]}} and few others. I don't see such huge increase of the instances of these classes when I use older build of WildFly prior to the problematic commit. To be honest I don't see direct link with the problematic commit I linked before. As the heapdumps are too big to be attached here, I am attaching some screenshots.

Also, when microprofile-opentracing-smallrye subsystem is removed via:
{code}
/subsystem=microprofile-opentracing-smallrye:remove()
{code}
then no more memory leak is detected, after adding the subsystem back, the leak is present again. Thus opentracing is involved somehow into this indeed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/18 8:39 AM;jstourac;memoryLeaks.war;https://issues.redhat.com/secure/attachment/12440285/memoryLeaks.war","07/Sep/18 9:23 AM;jstourac;problematic-wf-build-heap-diff-start-end-org-filter.png;https://issues.redhat.com/secure/attachment/12440283/problematic-wf-build-heap-diff-start-end-org-filter.png","07/Sep/18 9:23 AM;jstourac;problematic-wf-build-heap-diff-start-end.png;https://issues.redhat.com/secure/attachment/12440284/problematic-wf-build-heap-diff-start-end.png","07/Sep/18 9:24 AM;jstourac;sane-wf-build-heap-diff-start-end-org-filter.png;https://issues.redhat.com/secure/attachment/12440281/sane-wf-build-heap-diff-start-end-org-filter.png","07/Sep/18 9:23 AM;jstourac;sane-wf-build-heap-diff-start-end.png;https://issues.redhat.com/secure/attachment/12440282/sane-wf-build-heap-diff-start-end.png",,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-07 09:31:16.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11654,,,,,,,,,,,,,,,,5.0,7.0,,,,,,,,,,"1|w0036w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"07/Sep/18 9:31 AM;juraci.costa;Could you try adding a TracerFactory service to your deployment, to get Jaeger out of the picture? We have examples of how to do that in the test suite and the NoopTracer could be used instead of the MockTracer.

https://github.com/wildfly/wildfly/blob/master/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/microprofile/opentracing/DeploymentWithTracerProducerTestCase.java#L30-L32

IIRC, no new Jaeger instances are created when a custom TraceFactory is provided, so, if the memory leak is related to Jaeger, it should disappear once you use NoopTracer.","07/Sep/18 10:59 AM;jstourac;Thanks for the tip, [~juraci.costa].

I've tried to add {{MockTracer}}, {{MockTracer}} and {{MockTracerFactory}} into deployment as is done in the example you posted. Now the leak is suddenly fixed. The very same applies also in case when I replace {{MockTracer}} with {{NoopTracer}} - no leak is present anymore.","07/Sep/18 11:02 AM;juraci.costa;So, we probably have a leak in Jaeger itself. I'll investigate this as part of TRACING-231","10/Sep/18 5:48 AM;juraci.costa;[~jstourac], are you getting 25MB extra for each deployment, or 25 MB after 100 re-deployments? I submitted a PR that solves a memory leak that I could find, but this is probably not the right fix if we are talking about 25 MB per deployment.

https://github.com/wildfly/wildfly/pull/11654","10/Sep/18 6:30 AM;juraci.costa;I was able to run the test and it seems it passes when the fix is applied:

{code}
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 120.088 s - in org.jboss.qa.management.web.UndeployMemoryLeakIT
...
[INFO] jbossqe-eap-tests-management-parent ................ SUCCESS [  0.217 s]
[INFO] jbossqe-eap-tests-management-common ................ SUCCESS [  8.609 s]
[INFO] jbossqe-eap-tests-management-integration-tests ..... SUCCESS [02:28 min]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 02:37 min
{code}

Without this fix, I get:

{code}
[ERROR]   UndeployMemoryLeakIT.undeployWithELTest:105 There was an increase in used heap size of 26521296 bytes. There is probably a leak, investigate. This might be caused by https://issues.jboss.org/browse/JBEAP-14901 
{code}","10/Sep/18 6:52 AM;jstourac;[~juraci.costa], yeah - the leak was 25MB for 100 re-deployments, so the fix you provided is probably the right-one.

Thank you for running our test against that version. I'll do that myself manually too but as test passed for you I believe that the fix is correct :)

EDIT: Already commented on MR on GitHub, but just for the reference - attached MR fixes the issue. Thanks Juraci!","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Jackson2 to 2.9.10,WFLY-12585,12830018,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,asoldano,asoldano,asoldano,24/Sep/19 12:24 PM,20/Nov/19 3:25 PM,28/Dec/19 1:29 PM,24/Sep/19 9:47 PM,,,,,,18.0.0.Final,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:06.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12670,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z093jo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename BOMs artifactIds with javaee8-* to jakartaee8-*,WFLY-12468,12825574,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,emmartins,emmartins,emmartins,31/Aug/19 10:43 PM,18/Nov/19 6:28 AM,28/Dec/19 1:29 PM,12/Nov/19 5:47 AM,,,,,,18.0.0.Final,,,BOM,Quickstarts,,,,,,,,,,0,,,,,"The following WildFly BOM artifactIds should be renamed to not include javaee, replacing it with jakartaee8:
 * wildfly-javaee8
 * wildfly-javaee8-with-tools

Reference to renamed BOMs in Quickstarts project should also be updated.",,,,,,,,,,,,,,,WFLY-12490,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Documentation (Ref Guide, User Guide, etc.)",,,,,,,,,,,,,,,2019-09-10 03:27:13.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z08e04:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/Sep/19 6:34 AM;mkopecky;[~emmartins] (cc [~smarlow]): Do you plan to have two variants of clients bom? For example, something like ""wildfly-ejb-client-bom"" for JavaEE artifacts and ""wildfly-ejb-client-jakarta-bom"" for JakartaEE artifacts?","26/Sep/19 3:41 AM;emmartins;Since it's a task that should not block WFLY I did ""extract"" the JBoss BOMs final update into a new JIRA JBEE-246, since it should be managed at JBEE project.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.","23/Oct/19 7:15 AM;mkopecky;{quote}When both JIRA done there will be the following WildFly/EAP BOMs only, which will include only the spec artifacts managed at server i.e. jakarta:
* ejb-client
* ejb-legacy-client
* jaxws-client
* jms-client
* jakartaee8
* jakartaee8-with-tools
* jakartaee8-with-spring4 (EAP only)
{quote}

[~emmartins]: Both WFLY-12468 and WFLY-12490 jiras are done. So what about jakartaee8-with-tools and other boms? Are these boms ready? Can you please link jira/PR for these boms?

bq. Last subtask that will be done here

What about this last subtask?","11/Nov/19 3:15 AM;mkopecky;Reopening, question from my previous comment is still not answered",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-saaj-api and saaj-impl from 1.3 to  1.4,WFLY-12442,12824963,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jim.ma,jim.ma,jim.ma,28/Aug/19 5:23 AM,08/Nov/19 1:31 AM,28/Dec/19 1:29 PM,19/Sep/19 7:38 PM,,,,,,18.0.0.Final,,,Web Services,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-28 05:27:19.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z08afg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Aug/19 5:27 AM;dlofthouse;Maybe check with [~asoldano] but I believed the idea was to do a major version bump if part of this migration effort.","28/Aug/19 5:52 AM;asoldano;[~dlofthouse], my understanding here is that the 1.3 and 1.4 versions Jim is referring to are the actual spec versions, so nothing we control. ","28/Aug/19 5:55 AM;dlofthouse;Ah ok - I saw this was a sub task to the migration effort so thought it was in relation to the forks.","19/Sep/19 7:38 PM;jamezp;While this upgrade is complete the JIRA's in the followed up by need to be upgraded before WildFly 18 Final. If they are not this PR needs to be reverted. There should also be a follow up of re-enabling the ignored test.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clustering: scattered cache sampling errors,WFLY-12669,12833280,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Explained,pferraro,tommaso-borgato,tommaso-borgato,14/Oct/19 12:12 PM,29/Oct/19 6:00 AM,28/Dec/19 1:29 PM,22/Oct/19 8:43 AM,18.0.0.Final,,,,,,,,Clustering,,,,,,,,,,,0,,,,,"The issue is about scattered cache replication across cluster nodes;
WildFly is started in clustered mode using a scattered cache for replicating HTTP session data across cluster nodes; all 4 nodes in the cluster are initialized with the following {{cli}} script:

{noformat}
embed-server --server-config=standalone-ha.xml
/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=tcp)
/subsystem=infinispan/cache-container=web/scattered-cache=testScattered:add()
/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache, value=testScattered)
{noformat}


The test is run with [wildfly-18.​0.0.Final.zip|https://download.jboss.org/wildfly/18.0.0.Final/wildfly-18.0.0.Final.zip]; 
The same tests run with version [wildfly-17.​0.1.Final.zip|https://download.jboss.org/wildfly/17.0.1.Final/wildfly-17.0.1.Final.zip] do not have any problem; 
hence this looks like a regression;

As usual, we test that the serial value stored in the scattered cache is incremented at every call: when this is not true, we say we have a *sampling error*;

Using MOD_JK as load balancer, we have a *22.46%* of *sampling errors* with wildfly-18.​0.0.Final.zip (0% with  wildfly-17.​0.1.Final.zip):

- OK [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-17.​0.1.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/34/artifact/report/jm/html/index.html]
- ERROR [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-18.​0.0.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/33/artifact/report/jm/html/index.html]

Using HAPROXY as load balancer, we have a *1.71%* of *sampling errors* with wildfly-18.​0.0.Final.zip (0% with  wildfly-17.​0.1.Final.zip):

- OK [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-17.​0.1.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/36/artifact/report/jm/html/index.html]
- ERROR [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-18.​0.0.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/38/artifact/report/jm/html/index.html]

Using MOD_CLUSTER as load balancer, we have a *1.85%* of *sampling errors* with wildfly-18.​0.0.Final.zip (0% with  wildfly-17.​0.1.Final.zip):

- OK [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-17.​0.1.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/42/artifact/report/jm/html/index.html]
- ERROR [eap-7.x-clustering-http-session-shutdown-scattered with wildfly-18.​0.0.Final.zip|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/41/artifact/report/jm/html/index.html]

On the server we deploy, as usual, {{clusterbench}} (see attachment clusterbench-ee8.ear).



",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/19 12:10 PM;tommaso-borgato;clusterbench-ee8.ear;https://issues.redhat.com/secure/attachment/12456506/clusterbench-ee8.ear",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-22 08:41:32.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,3.0,,,,,,,,,,"1|z09m50:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Oct/19 8:41 AM;pferraro;The behavior difference is a result of changes to the behavior of HttpSession.setAttribute(...) for SESSION granularity:
https://github.com/wildfly/wildfly/blob/17.0.x/clustering/web/cache/src/main/java/org/wildfly/clustering/web/cache/session/coarse/CoarseSessionAttributes.java#L68
https://github.com/wildfly/wildfly/blob/18.0.x/clustering/web/cache/src/main/java/org/wildfly/clustering/web/cache/session/coarse/CoarseSessionAttributes.java#L72

WF17 performs a cache write of all session attributes every call to setAttribute(...) whereas WF18 only performs the cache write at the end of the request.  A request received by another node the arrives before the node completes this write will be dirty, since the cache is non-tx.  However, in practice, non-tx caches are more appropriately used with ATTRIBUTE granularity.  SESSION granularity with a non-tx cache is not a common use case.","22/Oct/19 8:43 AM;pferraro;It's also worth mentioning that something is definitely amiss with the mod_jk configuration used by these tests.  I suspect that the response code handling is not correct or the retry configuration is not consistent with that of the other load balancers.","28/Oct/19 2:08 PM;tommaso-borgato;[~pferraro] Thank you, after switching to a transactional cache the fail rate got back to zero: [eap-7.x-clustering-http-session-shutdown-scattered/47|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session/job/eap-7.x-clustering-http-session-shutdown-scattered/47]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade BOMs and QS due to spec artifacts which groupId/artifactId changed  ,WFLY-12490,12826338,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,emmartins,emmartins,emmartins,04/Sep/19 2:57 PM,24/Oct/19 3:29 AM,28/Dec/19 1:29 PM,25/Sep/19 11:25 AM,,,,,,18.0.0.Final,,,BOM,Quickstarts,,,,,,,,,,0,,,,,The Jakarta related component upgrades which changed groupId and/or artifactId of spec artifacts should be propagated to BOMs and Quickstarts projects.,,,,,,,,,,,,,,,WFLY-12442,WFLY-12499,WFLY-12502,WFLY-12501,WFLY-12523,WFLY-12524,,,,WFLY-12418,WFLY-12460,,,WFLY-12480,WFLY-12418,WFLY-12460,WFLY-12528,WFLY-12540,WFCORE-4648,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-10 02:53:32.0,,,,,,,,,,https://github.com/wildfly/boms/pull/69,https://github.com/wildfly/quickstart/pull/358,https://github.com/wildfly/boms/pull/71,https://github.com/wildfly/quickstart/pull/360,https://github.com/wildfly/boms/pull/72,https://github.com/wildfly/boms/pull/73,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08ihw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/Sep/19 2:53 AM;mkopecky;[~emmartins]: AFAICS, this jira also needs to update javaee bom to jakartaee8 bom files  from WFLY-12468 in quickstarts (pom.xml && template/pom.xml), so this jira is blocked by WFLY-12468, right?

Edit: the answer is in WFLY-12468 description:
bq. Reference to renamed BOMs in Quickstarts project should also be updated.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade PicketLink bindings from 2.5.5.SP12-redhat-00006 to 2.5.5.SP12-redhat-00009-jbossorg-1,WFLY-12568,12828892,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ivassile,istudens,istudens,18/Sep/19 5:07 AM,23/Oct/19 1:25 PM,28/Dec/19 1:29 PM,01/Oct/19 2:31 PM,,,,,,18.0.0.Final,,,Build System,,,,,,,,,,,0,downstream_dependency,,,,"Branch: https://github.com/jbossas/redhat-picketlink-bindings/tree/2.5.5.SP
",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12442,,,,,,WFLY-12569,WFLY-12484,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:56.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12684,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08x5w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[CVE-2016-3720]: Usage of vulnarable Jackson 1.9.13 libraries,WFLY-11887,12798361,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,brian.stansberry,rady66,rady66,20/Mar/19 8:09 PM,22/Oct/19 10:42 AM,28/Dec/19 1:29 PM,02/Oct/19 2:32 PM,14.0.0.Final,,,,,18.0.0.Final,,,REST,,,,,,,,,,,0,,,,,"We have a couple of high prio vulnerabilities reported around usage of Jackson libraries on WildFly with regards to CVE-2016-3720:

{code:java}
jackson-core-asl-1.9.13.jar	
jackson-jaxrs-1.9.13.jar	
jackson-mapper-asl-1.9.13.jar	
jackson-xc-1.9.13.jar
{code}

Could you please review and remove/update them?
",,,,,,,,,,,,,,,,,,,,,,,,WFLY-6713,WFLY-12670,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/19 2:34 PM;brian.stansberry;redhat-0006.txt;https://issues.redhat.com/secure/attachment/12456086/redhat-0006.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-25 22:39:47.0,,,,,,,,,,,,,,,,,asoldano,jamezp,kabirkhan,mkopecky,msvehla,ron_sigal,tomjenkinson,wolfc,,1.0,9.0,,,,,,,,,,"1|z04530:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Mar/19 10:39 PM;brian.stansberry;[~rsigal] [~asoldano] FYI.

I believe that CVE does not actually apply to the artifacts in the description and was only about jackson-dataformat-xml, which was updated via https://issues.jboss.org/browse/WFLY-6713.

See https://github.com/jeremylong/DependencyCheck/issues/517 for a discussion of how the CVE was published in such a way that it wrongly appears to impact unrelated libraries.","29/Apr/19 10:07 PM;rady66;Any plans on those here?","01/May/19 1:22 PM;brian.stansberry;[~rady66] We're evaluating whether CVE-2016-3720 actually applies to Jackson 1.9.13. The specific classes in question don't exist in Jackson 1.

This is taking some time, but we're definitely not ignoring this.

Oh, and my saying this is long overdue... Thanks for the report!","05/May/19 9:25 PM;rady66;Thanks, Brian. That's my initial thoughts, so confirming that is false positive would be enough. 
BTW is that the right path (creating Jira items) to ask for false positives?","07/Jun/19 4:37 PM;brian.stansberry;[~rady66] I wanted to let you know that we've determined CVE-2016-3720 does not apply to Codehaus Jackson 1.9.13. The relevant classes are not present. ","10/Jun/19 8:28 PM;rady66;Thanks, [~brian.stansberry].","11/Jun/19 8:55 AM;jamezp;Can we get a status update on this?","02/Oct/19 2:32 PM;brian.stansberry;Thank you for your report of this!

After investigating the applicability to Codehaus Jackson 1.x of various CVEs reported against FasterXML Jackson 2.x, particularly the jackson-databind project, we determined that while the code in the two projects is quite different, the basic issue of the jackson polymorphic deserialization feature being vulnerable to attacks applied to Codehaus Jackson 1.9.x as well.

Red Hat chose to file a CVE for this[1,] which became public this week.

Red Hat produced a patched version of 1.9.13 for use in its products. See [2].

As the binaries and source for that patched version are publicly available[3], use of that version is suitable for WildFly in order to resolve this issue.

The basic solution to the issue is to prevent the polymorphic deserialization feature from deserializing classes in packages that have not be explicitly allowed via a whitelist. The whitelist is configured using the system property 'jackson.deserialization.whitelist.packages'.

I'll attach a file showing the detail of the change.

[1] https://access.redhat.com/security/cve/cve-2019-10202
[2] https://access.redhat.com/errata/RHSA-2019:2937
[3] https://maven.repository.redhat.com/ga/org/codehaus/jackson/jackson-mapper-asl/1.9.13.redhat-00006/","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Downgrade MicroProfile Health to 2.0.1,WFLY-12628,12831543,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,jmesnil,jmesnil,02/Oct/19 10:51 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,02/Oct/19 6:00 PM,,,,,,18.0.0.Final,,,MP Health,,,,,,,,,,,0,,,,,"MP Health was upgraded to 2.1 in WFLY-12555 at the same time that smallrye-health was upgrade to 2.0.0 in WFLY-12554

That was a mistake as smallrye-health is depending on MP Health 2.0.1.

There is no harm on staying on MP Health 2.1 as the API changes are internal to the API and do not require any implementation from the provider:

 https://github.com/eclipse/microprofile-health/compare/2.0.1...2.1

However, if we decide to keep WildFly 18 under the same MP Umbrella release (3.0) at the moment, it might be better to downgrade to 2.0.1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:25.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z09cic:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Migrate javax.json to jakarta.json,WFLY-12501,12826615,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,jamezp,jamezp,05/Sep/19 4:10 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,10/Sep/19 9:30 PM,,,,,,18.0.0.Final,,,EE,,,,,,,,,,,0,,,,,"This will be a two commit, three step process since the {{javax.json.api}} module is in WildFly Core.
# Create the {{javax.json.api}} and {{org.glassfish.javax.json}} modules in full. This is the first commit
# Change the {{javax.json:javax.json-api}} and {{org.glassfish:javax.json}} dependencies in other modules to {{jakarta.json:jakarta.json-api}} and {{org.glassfish:jakarta.json}} respectively. This is the second commit.
# Once core, WFCORE-4648, is merged into WildFly revert the first commit.",,,,,,,,,,,,,WFCORE-4648,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:22.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12603,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08k64:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Jakarta EE 8 Certification for WildFly,WFLY-12297,12818600,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,smarlow,brian.stansberry,brian.stansberry,17/Jul/19 10:46 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,09/Oct/19 11:01 PM,,,,,,18.0.0.Final,,,Server,,,,,,,,,,,0,,,,,Certify WildFly 18 as Jakarta EE 8 compatible. Publish the certification results on https://github.com/wildfly/certifications,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-17 13:32:16.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z07a4k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Oct/19 11:01 PM;brian.stansberry;[~smarlow] I'm resolving this as AFAIK it's done. :)","10/Oct/19 11:41 AM;smarlow;Thanks Brian, I think it is fine to resolve now, as it looks like we will be approved as per [https://github.com/eclipse-ee4j/jakartaee-platform/issues/121] + [https://github.com/eclipse-ee4j/jakartaee-platform/issues/120]","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make org.picketlink.trust.jbossws.handler.SMALHandler supports SAAJ1.4,WFLY-12484,12826181,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jim.ma,jim.ma,jim.ma,04/Sep/19 7:09 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,01/Oct/19 2:32 PM,17.0.1.Final,,,,,18.0.0.Final,,,Web Services,,,,,,,,,,,0,,,,,"To support SAAJ 1.4, Picketlink  SMALHandler needs get DOM Element with CXF's DOMUtils to append/remove element from soap message. 
This handler now fails 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12442,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Sep/19 4:36 AM;wolfc;0001-Upgrade-jaxb-saaj.patch;https://issues.redhat.com/secure/attachment/12455565/0001-Upgrade-jaxb-saaj.patch",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-18 04:37:24.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12684,,,,,,,,,,,,,,,,1.0,2.0,,,,,,,,,,"1|z08hms:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Sep/19 4:37 AM;wolfc;The original error can be reproduced by overriding jaxb & saaj.
{noformat}
org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.
{noformat}","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 10.0.0.Beta9,WFLY-12562,12828481,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,jmesnil,jmesnil,16/Sep/19 7:14 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,16/Sep/19 7:08 PM,,,,,,18.0.0.Final,,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12522,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:14.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08uys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace Prometheus Simpleclient by smallrye-metrics,WFLY-12311,12819161,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,jmesnil,jmesnil,22/Jul/19 9:57 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,16/Sep/19 7:34 PM,,,,,,18.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,"The microprofile-metrics-smallrye extension uses prometheus simple client to collect and expose subsystem metrics because MP Metrics 1.x had blocking limitations (mainly that the metric names must be globally unique and tags/labels were not taken into account to determine uniqueness).

With MP Metrics 2.x, some of these limitations have been removed and it should be possible to use smallrye-metrics internally to expose WildFly subsystem metrics",,,,,,,,,,,,,,,WFLY-12294,WFLY-12553,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:12.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z07dck:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Sep/19 8:09 AM;jmesnil;In order to replace prometheus client by smallrye-metrics, we need to be able to output WIldFly subsystem metrics in the OpenMetrics format *without* the microprofile scope prefix.

A RFE for smallrye-metrics has been opened at https://github.com/smallrye/smallrye-metrics/pull/177. Once it merged and release, we will be able to remove Prometheus simpleclient from WildFly codebase (draft PR at https://github.com/wildfly/wildfly/pull/12632 that relies on a local build of smallrye-metrics with #177 merged)","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade smallrye-health 2.0,WFLY-12554,12828198,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,jmesnil,jmesnil,13/Sep/19 5:09 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,14/Sep/19 6:07 PM,,,,,,18.0.0.Final,,,,,,,,,,,,,,0,,,,,"Upgrade smallrye-metrics 2.0.0 to use the correct naming/version scheme

https://github.com/smallrye/smallrye-health/compare/smallrye-health-2.0-1.0.2...2.0.0",,,,,,,,,,,,,,,,,,,,,,,,WFLY-12628,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:12.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08tj8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Log spam in category org.apache.activemq.audit.base,WFLY-12236,12815081,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,brian.stansberry,brian.stansberry,24/Jun/19 10:54 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,28/Jun/19 2:17 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,JMS,,,,,,,,,,,0,,,,,"Artemis is spamming the logs with what look like low-level messages, but recorded at INFO level:

{code}
14:43:29,427 INFO  [org.apache.activemq.audit.base] (Thread-40 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@39c78b17)) AMQ601265: User 4dd3d543-be6a-4a9a-b5d2-5cac9efe8f0f is creating a core consumer on target resource ServerSessionI mpl(jms-session=*N/A*) [with parameters: [175, jms.queue.DCS_DEV.processDcsIntegrationQueue, null, 0, false, true, null]]                                                                                                                                                      
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-24 11:47:54.0,,,,,,,,https://developer.jboss.org/thread/280272,,https://github.com/wildfly/wildfly/pull/12386,https://github.com/wildfly/wildfly/pull/12395,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z06q1w:",9223372036854775807,,0.0,,,,,,,,,,,,,,Workaround Exists,"Configure the logging subsystem to limit the offending category to WARN or higher severity:

{code}
            <logger category=""org.apache.activemq.audit.base"">
                <level name=""WARN""/>
            </logger>
{code}

CLI examples for both the {{org.apache.activemq.audit.base}} and {{org.apache.activemq.audit.message}} categories.
{code}
/subsystem=logging/logger=org.apache.activemq.audit.base:add(level=WARN)
/subsystem=logging/logger=org.apache.activemq.audit.message:add(level=WARN)
{code}","24/Jun/19 11:00 AM;brian.stansberry;As the reporter has noted this logs enough that their system is running out of disk space, I'm elevating this to Blocker.","24/Jun/19 11:47 AM;jamezp;We probably also want to do the same config change for {{org.apache.activemq.audit.message}} which is part of the same audit logger.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core to 10.0.0.Final,WFLY-12577,12829282,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,brian.stansberry,brian.stansberry,19/Sep/19 12:47 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,24/Sep/19 7:54 PM,,,,,,18.0.0.Final,,,Server,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFCORE-4671,WFCORE-4677,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12669,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08zdw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Memory Leak: RemoteConnectionHandler objects are created but not being freed when jboss-cli commands are executed,WFLY-12522,12827289,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,flavia.rainone,super6349,super6349,09/Sep/19 12:11 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,18/Sep/19 11:54 AM,16.0.0.Final,17.0.0.Final,17.0.1.Final,,,18.0.0.Final,,,CLI,Remoting,Web (Undertow),,,,,,,,,0,,,,,"When the user executes jboss-cli commands on a fresh installation of wildfly, RemoteConnectionHandler objects are created but never released. 

We identified this problem when we configured a readiness probe on openshift using jboss-cli (repeating every 15 seconds) and the memory started to increase along the days. The application was in development and nobody was accessing it, but the memory increased nonetheless.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-09 16:02:55.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z08o8c:",9223372036854775807,,0.0,,,,,"1. Install and start Wildfly 17.0.1.Final Java EE Full & Web Distribution
2. Execute a random command using jboss-cli. 
    Examples: 
       jboss-cli.sh -c --commands=""ls""
       jboss-cli.sh -c --commands=""version""

3. using jcmd, search for the occurrences of ""RemoteConnectionHandler"" on the class-histogram:
       jcmd <PID> GC.class_histogram | grep RemoteConnectionHandler

4. Repeat steps 2 and 3 and observe the ever increasing number of RemoteConnectionHandler objects",,,,,,,,,,,"09/Sep/19 4:02 PM;jdenise;Analysis shows that the root cause could be the fix for UNDERTOW-770 in particular: https://github.com/undertow-io/undertow/blob/master/core/src/main/java/io/undertow/server/protocol/http/HttpOpenListener.java#L152
We are in a context where the protocol is upgraded to remoting, once the upgrade is done, the connections list is never cleared.
[~swd847], [~flavia.rainone] what do you think? If I am not wrong, the list should be cleared even in the case of upgrade.
","11/Sep/19 7:55 AM;jdenise;Assigning to [~flavia.rainone].","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Server doesn't start when DNS_PING is configured,WFLY-12631,12831739,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,rhusar,jdenise,jdenise,03/Oct/19 7:52 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,03/Oct/19 11:38 AM,,,,,,18.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"NPE at start.
 The root cause is that <module name=""sun.jdk""/> is missing from org.wildfly.clustering.service module.

Exception:
Caused by: java.lang.NullPointerException
at org.jgroups.protocols.dns.DNS_PING.destroy(DNS_PING.java:70)
at java.util.ArrayList.forEach(ArrayList.java:1257)
at org.jgroups.stack.ProtocolStack.destroy(ProtocolStack.java:876)
at org.jgroups.stack.ProtocolStack.initProtocolStack(ProtocolStack.java:867)
at org.jgroups.stack.ProtocolStack.init(ProtocolStack.java:849)
at org.jgroups.JChannel.<init>(JChannel.java:155)
at org.jboss.as.clustering.jgroups.JChannelFactory.createChannel(JChannelFactory.java:116)
at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceConfigurator.get(ChannelServiceConfigurator.java:96)

Hidden exception:
Failed instantiate InitialContextFactory com.sun.jndi.dns.DnsContextFactory from classloader ModuleClassLoader for Module ""org.wildfly.clustering.service"" version 18.0.0.Final-SNAPSHOT from local module loader @2d3fcdbd (finder: local module finder @617c74e5 (roots: /home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules,/home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules/system/layers/base)) [Root exception is java.lang.ClassNotFoundException: com.sun.jndi.dns.DnsContextFactory from [Module ""org.wildfly.clustering.service"" version 18.0.0.Final-SNAPSHOT from local module loader @2d3fcdbd (finder: local module finder @617c74e5 (roots: /home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules,/home/jdenise/workspaces/wildfly-jfdenise/build/target/wildfly-18.0.0.Final-SNAPSHOT/modules/system/layers/base))]]",,,,,,,,,WFLY-12505,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-03 09:45:20.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12690,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z09dms:",9223372036854775807,,0.0,,,,,"Configuration:
<protocol type=""dns.DNS_PING"">
                        <property name=""dns_query"">eap-app-ping</property>
                        <property name=""async_discovery_use_separate_thread_per_request"">true</property>
                    </protocol>",,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
doPrivileged needed for isUserInRole,WFLY-12526,12827437,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,dlofthouse,dlofthouse,dlofthouse,10/Sep/19 7:37 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,11/Sep/19 1:30 PM,,,,,,18.0.0.Final,,,Web (Undertow),,,,,,,,,,,0,,,,,"Currently experiencing the following error: -

{noformat}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""org.jboss.security.plugins.ClassLoaderLocatorFactory.get"")"" in code source ""(vfs:/content/mydeployment.war/ <no signer certificates>)"" of ""org.apache.jasper.servlet.JasperLoader@24d700ba"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294) [wildfly-elytron-security-manager-1.10.0.Final.jar:1.10.0.Final]
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191) [wildfly-elytron-security-manager-1.10.0.Final.jar:1.10.0.Final]
	at org.jboss.security.plugins.ClassLoaderLocatorFactory.get(ClassLoaderLocatorFactory.java:51) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.jboss.security.plugins.authorization.JBossAuthorizationContext.initializeModules(JBossAuthorizationContext.java:187) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.jboss.security.plugins.authorization.JBossAuthorizationContext.authorize(JBossAuthorizationContext.java:141) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.jboss.security.plugins.JBossAuthorizationManager.internalAuthorization(JBossAuthorizationManager.java:438) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.jboss.security.plugins.JBossAuthorizationManager.authorize(JBossAuthorizationManager.java:115) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.jboss.security.plugins.javaee.WebAuthorizationHelper.hasRole(WebAuthorizationHelper.java:201) [picketbox-5.0.3.Final.jar:5.0.3.Final]
	at org.wildfly.extension.undertow.security.JbossAuthorizationManager.isUserInRole(JbossAuthorizationManager.java:99)
	at io.undertow.servlet.spec.HttpServletRequestImpl.isUserInRole(HttpServletRequestImpl.java:337) [undertow-servlet-2.0.26.Final.jar:2.0.26.Final]
	at org.apache.jsp.secured_jsp._jspService(secured_jsp.java:109)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [jastow-2.0.7.Final.jar:2.0.7.Final]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590) [jboss-servlet-api_4.0_spec-2.0.0.CR2.jar:2.0.0.CR2]
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433) [jastow-2.0.7.Final.jar:2.0.7.Final]
	... 51 more
{noformat}

The reason I believe this requires a doPrivileged is the permission required is entirely internal to our implementation of isUserInRole - whilst the deployment can trigger this call the deployment can not influence how this is implemented so the deployment's ProtectionDomain should not require the permissions needed for our internal class loading so a doPrivileged call will drop the deployment's ProtectionDomain from the stack.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-11 11:35:20.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z08p30:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Sep/19 11:35 AM;kabirkhan;[~flavia.rainone] There is a small pull request for this one waiting for your review.","11/Sep/19 1:03 PM;flavia.rainone;[~kabirkhan] done","11/Sep/19 1:29 PM;kabirkhan;Thanks!","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The subscribed topic is removed if reconnecting to messaging system with legacy-connection-factory,WFLY-12129,12809053,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ehugonnet,terryyrliang,terryyrliang,26/May/19 10:47 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,27/Sep/19 1:44 PM,17.0.0.Alpha1,17.0.0.Beta1,,,,18.0.0.Final,,,JMS,,,,,,,,,,,0,blocker-WF18,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-17 11:00:37.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,10.0,,,,,,,,,,"1|z05tgc:",9223372036854775807,,0.0,,,,,"1. Setup below configuration in wildfly
{code}
<subsystem xmlns=""urn:jboss:domain:messaging-activemq:5.0"">
    <server name=""default"">
        <security enabled=""false""/>
        <management jmx-enabled=""true"" address=""jms.queue.activemq.management"" jmx-domain=""org.activemq"" />
        <security-setting name=""activemq.management"">
            <role name=""admin""/>
        </security-setting>
        <address-setting name=""#"" dead-letter-address=""jms.queue.DLQ"" expiry-address=""jms.queue.ExpiryQueue"" max-size-bytes=""10485760000"" page-size-bytes=""2097152"" message-counter-history-day-limit=""10""/>
        <http-connector name=""http-connector"" socket-binding=""http"" endpoint=""http-acceptor""/>
        <http-connector name=""http-connector-throughput"" socket-binding=""http"" endpoint=""http-acceptor-throughput"">
            <param name=""batch-delay"" value=""50""/>
        </http-connector>
        <remote-connector name=""legacy-messaging-connector"" socket-binding=""legacy-messaging""/>
        <in-vm-connector name=""in-vm"" server-id=""0"">
            <param name=""buffer-pooling"" value=""false""/>
        </in-vm-connector>
        <http-acceptor name=""http-acceptor"" http-listener=""default""/>
        <http-acceptor name=""http-acceptor-throughput"" http-listener=""default"">
            <param name=""batch-delay"" value=""50""/>
            <param name=""direct-deliver"" value=""false""/>
        </http-acceptor>
        <remote-acceptor name=""legacy-messaging-acceptor"" socket-binding=""legacy-messaging""/>
        <in-vm-acceptor name=""in-vm"" server-id=""0"">
            <param name=""buffer-pooling"" value=""false""/>
        </in-vm-acceptor>
        <jms-topic name=""testTopic"" entries=""topic/newTestTopic java:jboss/exported/topic/newTestTopic"" legacy-entries=""topic/testTopic jms/topic/testTopic java:jboss/exported/topic/testTopic""/>
        <connection-factory name=""InVmConnectionFactory"" entries=""java:/ConnectionFactory java:jboss/exported/ConnectionFactory"" connectors=""in-vm""/>
        <connection-factory name=""NewRemoteConnectionFactory"" entries=""java:jboss/exported/jms/NewRemoteConnectionFactory"" connectors=""http-connector""/>
        <legacy-connection-factory name=""legacy-discovery"" entries=""java:jboss/exported/jms/RemoteConnectionFactory"" connectors=""legacy-messaging-connector""/>
        <pooled-connection-factory name=""activemq-ra"" entries=""java:/JmsXA java:jboss/DefaultJMSConnectionFactory"" connectors=""in-vm"" transaction=""xa""/>
    </server>
</subsystem>
<subsystem xmlns=""urn:jboss:domain:remoting:4.0"">
    <connector name=""legacy-remoting-connector"" socket-binding=""legacy-remoting""/>
    <http-connector name=""http-remoting-connector"" connector-ref=""default""/>
</subsystem>

<interfaces>
    <interface name=""management"">
        <any-address/>
    </interface>
    <interface name=""public"">
        <any-address/>
    </interface>
    <interface name=""messaging-interface"">
        <any-address/>
    </interface>
</interfaces>

<socket-binding-group name=""standard-sockets"" default-interface=""public"" port-offset=""${my.jboss.port.offset:0}"">
    <socket-binding name=""legacy-remoting"" port=""4447""/>
    <socket-binding name=""legacy-messaging"" interface=""messaging-interface"" port=""5445""/>
    
</socket-binding-group>

{code}

2. Use JMS client tool such as JMSToolBox to connect to wildfly messaging system with Apache Active MQ Artemis v2.x and port 5445
3. Subscribe the topic testTopic
4. Disconnect to wildfly messaging system
5. Wait for 30 seconds
6. Reconnect to wildfly messaging system again
7. The topic testTopic disappear.",,,,,,,,,,No workaround,"16/Jul/19 10:03 PM;terryyrliang;Hello, could this issue can be fixed in Wildfly 18.0? High appreciate your response. Thank you.","17/Jul/19 11:00 AM;brian.stansberry;[~terryyrliang] You put a 'regression' label on this. What's the latest WildFly version where you have not seen this problem?  If that's not WildFly 16.0.0.Final and if you've tried with any others prior to 17.0.0.Beta1 please let us know as that might help narrow down the problem. Thanks!","17/Jul/19 10:10 PM;terryyrliang;[~brian.stansberry], Sorry that I thought regression label means which stage I got this error and I already removed it. I upgrade from wildfly 16.0 Final to 17.0 beta, and got that error that I disconnect from messaging activemq, the topic was removed. Actually this happens in Wildfly 17.0 Final too as I tried.","26/Jul/19 12:17 PM;ehugonnet;This seems to be the same issue.","26/Jul/19 12:37 PM;ehugonnet;This seems related to ARTEMIS-1856 which causes the AddressInfo to be deleted even if it is not auto-created .
The fix is https://issues.apache.org/jira/browse/ARTEMIS-2391","29/Jul/19 5:32 AM;terryyrliang;[~ehugonnet] yes, looks like it's the same issue. I found the activemq-artemis version in Wildfly 17.0.1 is 2.8, will it upgrade in next release?","29/Jul/19 8:40 AM;ehugonnet;The fix is not in Apache Artemis 2.9.0 so currently even an upgrade wouldn't fix it.
We need to wait for a 2.10 release.","04/Sep/19 10:22 PM;terryyrliang;[~ehugonnet], I just found activemq artemis 2.10 released 10 days ago, could you kindly advise which release will contain this fix?","05/Sep/19 2:49 AM;ehugonnet;[~terryyrliang] we can't just upgrade for now as there are issues.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE thrown from io.smallrye.metrics when unnamed package is used,WFLY-12403,12823898,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,ochaloup,ochaloup,21/Aug/19 5:36 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,03/Sep/19 10:48 PM,18.0.0.Beta1,,,,,18.0.0.Beta1,18.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,"Update of the metrics in WFLY to {{io.smallrye:smallrye-metrics-2.0:1.1.0}} causes NPE being thrown when unnamed package is used.

{code}
ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.""test.war"".WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.""test.war"".WeldStartService: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1729)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1557)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.weld.exceptions.DefinitionException: Exception List with 1 exceptions:
Exception 0 :
java.lang.NullPointerException
	at io.smallrye.metrics.setup.MetricCdiInjectionExtension.findAnnotatedMethods(MetricCdiInjectionExtension.java:148)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
	at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
	at org.jboss.weld.injection.MethodInvocationStrategy$SimpleMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:168)
	at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:330)
	at org.jboss.weld.event.ExtensionObserverMethodImpl.sendEvent(ExtensionObserverMethodImpl.java:123)
	at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:308)
	at org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:286)
	at javax.enterprise.inject.spi.ObserverMethod.notify(ObserverMethod.java:124)
	at org.jboss.weld.util.Observers.notify(Observers.java:166)
	at org.jboss.weld.event.ObserverNotifier.notifySyncObservers(ObserverNotifier.java:285)
	at org.jboss.weld.event.ObserverNotifier.notify(ObserverNotifier.java:273)
	at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:177)
	at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:171)
	at org.jboss.weld.bootstrap.events.AbstractContainerEvent.fire(AbstractContainerEvent.java:53)
	at org.jboss.weld.bootstrap.events.AbstractDefinitionContainerEvent.fire(AbstractDefinitionContainerEvent.java:44)
	at org.jboss.weld.bootstrap.events.ProcessManagedBeanImpl.fire(ProcessManagedBeanImpl.java:31)
	at org.jboss.weld.bootstrap.events.ContainerLifecycleEvents.fireProcessBean(ContainerLifecycleEvents.java:246)
	at org.jboss.weld.bootstrap.events.ContainerLifecycleEvents.fireProcessBean(ContainerLifecycleEvents.java:240)
	at org.jboss.weld.bootstrap.AbstractBeanDeployer.fireProcessBeanEvents(AbstractBeanDeployer.java:128)
	at org.jboss.weld.bootstrap.BeanDeployer.deploy(BeanDeployer.java:331)
	at org.jboss.weld.bootstrap.BeanDeployment.deployBeans(BeanDeployment.java:264)
	at org.jboss.weld.bootstrap.WeldStartup.deployBeans(WeldStartup.java:453)
	at org.jboss.weld.bootstrap.WeldBootstrap.deployBeans(WeldBootstrap.java:86)
	at org.jboss.as.weld.WeldStartService.start(WeldStartService.java:97)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1737)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1699)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1557)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)

	at org.jboss.weld.bootstrap.events.AbstractDefinitionContainerEvent.fire(AbstractDefinitionContainerEvent.java:46)
	at org.jboss.weld.bootstrap.events.ProcessManagedBeanImpl.fire(ProcessManagedBeanImpl.java:31)
	at org.jboss.weld.bootstrap.events.ContainerLifecycleEvents.fireProcessBean(ContainerLifecycleEvents.java:246)
	at org.jboss.weld.bootstrap.events.ContainerLifecycleEvents.fireProcessBean(ContainerLifecycleEvents.java:240)
	at org.jboss.weld.bootstrap.AbstractBeanDeployer.fireProcessBeanEvents(AbstractBeanDeployer.java:128)
	at org.jboss.weld.bootstrap.BeanDeployer.deploy(BeanDeployer.java:331)
	at org.jboss.weld.bootstrap.BeanDeployment.deployBeans(BeanDeployment.java:264)
	at org.jboss.weld.bootstrap.WeldStartup.deployBeans(WeldStartup.java:453)
	at org.jboss.weld.bootstrap.WeldBootstrap.deployBeans(WeldBootstrap.java:86)
	at org.jboss.as.weld.WeldStartService.start(WeldStartService.java:97)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1737)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1699)
	... 6 more
	Suppressed: java.lang.NullPointerException
		at io.smallrye.metrics.setup.MetricCdiInjectionExtension.findAnnotatedMethods(MetricCdiInjectionExtension.java:148)
		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
		at java.lang.reflect.Method.invoke(Method.java:498)
		at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)
		at org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)
		at org.jboss.weld.injection.MethodInvocationStrategy$SimpleMethodInvocationStrategy.invoke(MethodInvocationStrategy.java:168)
		at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:330)
		at org.jboss.weld.event.ExtensionObserverMethodImpl.sendEvent(ExtensionObserverMethodImpl.java:123)
		at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:308)
		at org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:286)
		at javax.enterprise.inject.spi.ObserverMethod.notify(ObserverMethod.java:124)
		at org.jboss.weld.util.Observers.notify(Observers.java:166)
		at org.jboss.weld.event.ObserverNotifier.notifySyncObservers(ObserverNotifier.java:285)
		at org.jboss.weld.event.ObserverNotifier.notify(ObserverNotifier.java:273)
		at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:177)
		at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:171)
		at org.jboss.weld.bootstrap.events.AbstractContainerEvent.fire(AbstractContainerEvent.java:53)
		at org.jboss.weld.bootstrap.events.AbstractDefinitionContainerEvent.fire(AbstractDefinitionContainerEvent.java:44)
		... 17 more
{code}",,,,,,,,,,,,,,,,,,,,,,,,JBTM-3176,WFLY-12294,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-21 06:00:46.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z084ec:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Aug/19 5:39 AM;ochaloup;the MP metrics issue and PR is at
* https://github.com/smallrye/smallrye-metrics/issues/164
* https://github.com/smallrye/smallrye-metrics/pull/166","21/Aug/19 6:00 AM;tomjenkinson;I made this a blocker as it is a backwards compatibility issue","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Convert to Jakarta EE 8 specification APIs,WFLY-12300,12818626,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,smarlow,brian.stansberry,brian.stansberry,17/Jul/19 1:02 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,26/Sep/19 12:10 PM,,,,,,18.0.0.Final,,,Server,,,,,,,,,,,0,,,,,"This is a top-level task for moving WildFly to specification API artifacts associated with Jakarta EE 8. 

The Jakarta EE 8 spec APIs are meant to be fully compatible with their Java EE 8 analogues, so this is not expected to result in runtime behavioral differences.

I don't anticipate code changes specific to this top level task. Instead changes will be associated with other issues linked to this one.

The overall goal is to use API jars that either directly come from the Jakarta EE projects, or that use code closely based on those projects; i.e. that are forks derived from the Jakarta EE code that incorporate jboss.org specific changes and whose maintainers monitor the Jakarta EE projects and bring over needed changes and contribute any relevant jboss.org changes back.

For each JBoss specification API fork that existed in EAP 7.2, a designated owner for that API jar has been determined. The task for each owner consists of:

# Create/update a jboss.org Jakarta fork.
# Track work on that fork via issues in the https://issues.jboss.org/projects/JBEE JIRA project. If there is a high-level issue for that fork, the component owner *should* link it to this issue via a 'relates to' link.
# For the fork, the component owner *must* create a WFLY or WFCORE JIRA to track the change of the WildFly code to use the Jarkarta EE based artifact. That can either be a subtask of this task, or a separate issue linked to this once such that that issue is 'incorporated by' this one. That JIRA should have priority 'Critical' and should have its Fix Version set to 18.0.0.Final or 10.0.0.Final for WFCORE.

Generally, WildFly and WildFly Core do not accept non-Final artifacts into their master branch. For projects that we are forking from the Jakarta EE projects, we are making an exception to this rule:

_Once a Jakarta API project has made a staging release and submitted the specification for formal approval, it is acceptable for the jboss.org fork of that project to produce a CR release based on the code in that staged release and ask that it be incorporated into master._

_In fact, doing this is strongly encouraged as it allows us to further verify the fork._

Once the staged release is approved, the component owner *must* as soon as possible (e.g. the next working day) produce a .Final artifact from the fork and submit a component upgrade PR.

For artifacts that will not involve a fork (e.g. JPA), the component owner should plan to file a PR moving to the Jakarta artifact (e.g. jakarta.persistence:jakarta.persistence-api) as soon as the official version after Jakarta is available in maven central (after Jakarta EE 8 final release).

Following are the relevant APIs, organized by the maven GA of the artifact produced by the Jakarta project, along with the 'owner' of that component:

||API||Owner||
|jakarta.annotation:jakarta.annotation-api|Yeray Borges|
|jakarta.batch:jakarta.batch-api|Cheng Fang|
|jakarta.ejb:jakarta.ejb-api|Cheng Fang/Tomasz Adamski|
|jakarta.el:jakarta.el-api|Scott Marlow|
|jakarta.enterprise.concurrent:jakarta.enterprise.concurrent-api|Eduardo Martins|
|jakarta.faces:jakarta.faces-api|Farah Juma|
|jakarta.interceptor:jakarta.interceptor-api|Yeray Borges|
|jakarta.jms:jakarta.jms-api|Emmanuel Hugonnet|
|jakarta.management.j2ee:jakarta.management.j2ee-api|Jeff Mesnil|
|jakarta.resource:jakarta.resource-api|Stefano Maestri|
|jakarta.security.auth.message:jakarta.security.auth.message-api|Darran Lofthouse / Farah Juma|
|jakarta.security.jacc:jakarta.security.jacc-api|Darran Lofthouse / Farah Juma|
|jakarta.servlet:jakarta.servlet-api|Flavia Rainone|
|jakarta.servlet.jsp:jakarta.servlet.jsp-api|Flavia Rainone|
|jakarta.transaction:jakarta.transaction-api|Tom Jenkinson|
|jakarta.websocket:jakarta.websocket-all|Flavia Rainone|
|jakarta.ws.rs:jakarta.ws.rs-api|Ron Sigal|
|jakarta.xml.bind:jakarta.xml.bind-api|Jim Ma|
|jakarta.xml.rpc:jakarta.xml.rpc-api|Jim Ma|
|jakarta.xml.soap:jakarta.xml.soap-api|Jim Ma|
|jakarta.xml.ws:jakarta.xml.ws-api|Jim Ma|

 ",,,,,,,,,,,,,,,WFLY-12541,,,,,,,,,,,,,,,,,,,WFLY-12397,WFCORE-4618,WFCORE-4628,WFCORE-4632,WFLY-12460,WFLY-12436,WFCORE-4657,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-08 02:40:44.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,6.0,,,,,,,,,,"1|z07aac:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Aug/19 2:40 AM;cfang;What's the rules for generating javadocs in these forked api projects?  For current jboss batch api fork project, its pom inherits from jboss-parent so the javadocs rules are specified in the parent and influenced by some configurable properties.  So the javadoc page footer will have:

Copyright © 2019 JBoss by Red Hat. All rights reserved.

Now it seems Jakarta api projects are required to have a link (license terms) pointing to EFSL.html.  For example,

© Copyright IBM Corp. 2014, 2019.
Use is subject to license terms.

So shall we use the upstream javadoc settings, and override the jboss-parent ones?  I think we didn't modify the api substantially enough to warrant our own copyright declaration, and using the original Jakarta one is more suitable. ","08/Aug/19 2:09 PM;smarlow;[~cfang]

{quote}
So shall we use the upstream javadoc settings, and override the jboss-parent ones? I think we didn't modify the api substantially enough to warrant our own copyright declaration, and using the original Jakarta one is more suitable. 
{quote}

As part of forking, we should use the copyright declaration that Jakarta is using, as I think anything else would violate their copyright.  Thanks for catching this important point. :-)

As far as the *how* we do this, your idea of overriding the jboss-parent settings, makes sense.  I haven't tried this myself.  Please let us know if that works for you, so we can follow your example.

For source files, we should also use the copyright declaration that Jakarta is using.","08/Aug/19 11:16 PM;cfang;I added a javadoc plugin section that kinda combines both javadoc settings from jboss-parent and upstream spec project, and it worked ok.  I found it necessary to check:

* generated javadoc title, footer, header and copyright declaration
* MANIFEST.MF in javadoc.jar, source.jar, and api.jar

So they don't contain reference to old names and Java, or defaults that are not suitable for forked spec projects.","11/Sep/19 10:09 AM;mkopecky;This jira blocks EAP7-1114 RFE, so I increase the priority of this jira to blocker","26/Sep/19 12:11 PM;smarlow;Marking as resolved, as all of the subtasks are resolved!  Time for champagne or beer to celebrate this milestone! :-)","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.servlet.jboss-servlet-api_4.0_spec to 2.0.0.Final,WFLY-12531,12827515,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,flavia.rainone,jamezp,10/Sep/19 3:33 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,10/Sep/19 8:52 PM,,,,,,18.0.0.Final,,,EE,Web (Undertow),,,,,,,,,,0,,,,,Upgrade the servlet spec API to 2.0.0.Final https://github.com/jboss/jboss-jakarta-servlet-api_spec/tree/2.0.0.Final,,,,,,,,,,,,,WFLY-12437,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:47.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12624,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pj8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Memoryleak in Metrics-Endpoint,WFLY-12504,12826790,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ropalka,mwerlitz,stianst,06/Sep/19 7:35 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,16/Sep/19 9:02 PM,17.0.1.Final,,,,,18.0.0.Final,,,MP Metrics,,,,,,,,,,,0,blocker-WF18,fixed_needs_core,,,"I noticed there seems to be a memory leak when calling the /metrics endpoint (with Prometheus). I don't know if this relates to the Keycloak metrics or the general Wildfly base metrics.

Every request to /metrics seems to consume some more heap memory until a OOME occurs. No other requests are done.

If the metrics endpoint isn't used at all the server works fine. 

{noformat}
15:14:50,951 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([(""deployment"" => ""keycloak-server.war"")]): java.lang.OutOfMemoryError: GC overhead limit exceeded
        at java.util.HashMap.resize(HashMap.java:704)
        at java.util.HashMap.putVal(HashMap.java:629)
        at java.util.HashMap.put(HashMap.java:612)
        at java.util.HashSet.add(HashSet.java:220)
        at org.jboss.as.controller.PathAddress.pathAddress(PathAddress.java:95)
        at org.jboss.as.controller.AbstractOperationContext$OperationId.<init>(AbstractOperationContext.java:1571)
        at org.jboss.as.controller.OperationContextImpl.authorize(OperationContextImpl.java:1326)
        at org.jboss.as.controller.OperationContextImpl.authorize(OperationContextImpl.java:1321)
        at org.jboss.as.controller.operations.global.ReadAttributeHandler$AuthorizeAttributeReadHandler.doExecuteInternal(ReadAttributeHandler.java:244)
        at org.jboss.as.controller.operations.global.ReadAttributeHandler$AuthorizeAttributeReadHandler.execute(ReadAttributeHandler.java:229)
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1412)
        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)
        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
        at org.jboss.as.controller.ModelControllerImpl$$Lambda$553/974545249.run(Unknown Source)
        at org.wildfly.security.auth.server.SecurityIdentity$$Lambda$554/2003274744.run(Unknown Source)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:255)
        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$LocalClient$$Lambda$552/516471669.apply(Unknown Source)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$LocalClient.executeInModelControllerCl(ModelControllerClientFactoryImpl.java:259)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$LocalClient.executeOperation(ModelControllerClientFactoryImpl.java:157)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$1$$Lambda$546/98454422.apply(Unknown Source)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl.lambda$executeInVm$0(ModelControllerClientFactoryImpl.java:351)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$$Lambda$550/226565561.run(Unknown Source)
        at org.jboss.as.controller.access.InVmAccess.runInVm(InVmAccess.java:85)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl.executeInVm(ModelControllerClientFactoryImpl.java:351)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl.access$000(ModelControllerClientFactoryImpl.java:59)
        at org.jboss.as.controller.ModelControllerClientFactoryImpl$1.executeOperation(ModelControllerClientFactoryImpl.java:82)
        at org.jboss.as.controller.LocalModelControllerClient.execute(LocalModelControllerClient.java:54)

15:14:50,955 ERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0012: Scan of /opt/jboss/keycloak/standalone/deployments threw Exception: java.lang.RuntimeException: WFLYDS0036: Deployment model operation failed. undefined
        at org.jboss.as.server.deployment.scanner.DefaultDeploymentOperations.getUnrelatedDeployments(DefaultDeploymentOperations.java:109)
        at org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$ScanContext.<init>(FileSystemDeploymentService.java:1692)
        at org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$ScanContext.<init>(FileSystemDeploymentService.java:1640)
        at org.jboss.as.server.deployment.scanner.FileSystemDeploymentService.scan(FileSystemDeploymentService.java:589)
        at org.jboss.as.server.deployment.scanner.FileSystemDeploymentService.scan(FileSystemDeploymentService.java:493)
        at org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$DeploymentScanRunnable.run(FileSystemDeploymentService.java:255)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:748)
        at org.jboss.threads.JBossThread.run(JBossThread.java:485)

15:14:52,319 ERROR [org.jboss.as.controller.management-operation] (management I/O-1) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""channel"" => ""ee""),
    (""protocol"" => ""pbcast.NAKACK2"")
]): java.lang.OutOfMemoryError: GC overhead limit exceeded
        at sun.reflect.generics.parser.SignatureParser.parsePackageNameAndSimpleClassTypeSignature(SignatureParser.java:331)
        at sun.reflect.generics.parser.SignatureParser.parseClassTypeSignature(SignatureParser.java:310)
        at sun.reflect.generics.parser.SignatureParser.parseFieldTypeSignature(SignatureParser.java:289)
        at sun.reflect.generics.parser.SignatureParser.parseFieldTypeSignature(SignatureParser.java:283)
        at sun.reflect.generics.parser.SignatureParser.parseTypeSignature(SignatureParser.java:485)
        at sun.reflect.generics.parser.SignatureParser.parseTypeSig(SignatureParser.java:188)
        at sun.reflect.annotation.AnnotationParser.parseSig(AnnotationParser.java:436)
        at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:241)
        at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)
        at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)
        at java.lang.reflect.Field.declaredAnnotations(Field.java:1150)
        at java.lang.reflect.Field.declaredAnnotations(Field.java:1148)
        at java.lang.reflect.Field.getAnnotation(Field.java:1120)
        at org.jgroups.stack.Configurator.resolveAndAssignField(Configurator.java:926)
        at org.jgroups.stack.Configurator.resolveAndAssignFields(Configurator.java:921)
        at org.jgroups.stack.Protocol.setProperties(Protocol.java:133)
        at org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationServiceConfigurator.lambda$createProtocol$0(AbstractProtocolConfigurationServiceConfigurator.java:119)
        at org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationServiceConfigurator$$Lambda$590/1559509553.run(Unknown Source)
        at org.wildfly.security.manager.WildFlySecurityManager.doUnchecked(WildFlySecurityManager.java:849)
        at org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationServiceConfigurator.createProtocol(AbstractProtocolConfigurationServiceConfigurator.java:125)
        at org.jboss.as.clustering.jgroups.subsystem.ChannelRuntimeResourceRegistration.findProtocol(ChannelRuntimeResourceRegistration.java:87)
        at org.jboss.as.clustering.jgroups.subsystem.ProtocolMetricsHandler.executeRuntimeStep(ProtocolMetricsHandler.java:244)
        at org.jboss.as.controller.AbstractRuntimeOnlyHandler$1.execute(AbstractRuntimeOnlyHandler.java:59)
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1412)
        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)
        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
        at org.jboss.as.controller.ModelControllerImpl$$Lambda$553/974545249.run(Unknown Source)
        at org.wildfly.security.auth.server.SecurityIdentity$$Lambda$554/2003274744.run(Unknown Source)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)

15:14:52,322 ERROR [io.undertow.request] (management I/O-1) UT005071: Undertow request failed HttpServerExchange{ GET /metrics request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8], Connection=[keep-alive], Accept-Language=[de,en-US;q=0.7,en;q=0.3], Cache-Control=[max-age=0], Accept-Encoding=[gzip, deflate], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:68.0) Gecko/20100101 Firefox/68.0], Upgrade-Insecure-Requests=[1], Host=[192.168.99.100:9990]} response {Access-Control-Allow-Origin=[*], Access-Control-Allow-Headers=[origin, content-type, accept, authorization], Access-Control-Allow-Credentials=[true], Content-Type=[text/plain], Access-Control-Allow-Methods=[GET, POST, PUT, DELETE, OPTIONS, HEAD], Access-Control-Max-Age=[1209600]}}: java.lang.IllegalStateException: WFLYMETRICS0003: Unable to read attribute xmit_table_num_purges on [
    (""subsystem"" => ""jgroups""),
    (""channel"" => ""ee""),
    (""protocol"" => ""pbcast.NAKACK2"")
]: ""WFLYCTL0158: Operation handler failed: java.lang.OutOfMemoryError: GC overhead limit exceeded"".
        at org.wildfly.extension.microprofile.metrics.MetricCollector.lambda$collectResourceMetrics0$0(MetricCollector.java:143)
        at org.wildfly.extension.microprofile.metrics.PrometheusCollector.collect(PrometheusCollector.java:51)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.findNextElement(CollectorRegistry.java:183)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.<init>(CollectorRegistry.java:147)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.<init>(CollectorRegistry.java:168)
        at io.prometheus.client.CollectorRegistry.metricFamilySamples(CollectorRegistry.java:130)
        at org.wildfly.extension.microprofile.metrics.MetricsContextService$1.handleRequest(MetricsContextService.java:100)
        at org.jboss.as.domain.http.server.security.RealmReadinessHandler.handleRequest(RealmReadinessHandler.java:51)
        at org.jboss.as.domain.http.server.security.ServerErrorReadinessHandler.handleRequest(ServerErrorReadinessHandler.java:35)
        at io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:91)
        at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:211)
        at io.undertow.server.handlers.cache.CacheHandler.handleRequest(CacheHandler.java:92)
        at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:78)
        at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)
        at org.jboss.as.domain.http.server.ManagementHttpRequestHandler.handleRequest(ManagementHttpRequestHandler.java:57)
        at org.jboss.as.domain.http.server.cors.CorsHttpHandler.handleRequest(CorsHttpHandler.java:75)
        at org.jboss.as.domain.http.server.ManagementHttpServer$UpgradeFixHandler.handleRequest(ManagementHttpServer.java:662)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364)
        at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)
        at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)
        at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
        at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
        at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)

15:14:58,673 ERROR [org.jboss.as.controller.management-operation] (management I/O-2) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""subsystem"" => ""jgroups""),
    (""channel"" => ""ee""),
    (""protocol"" => ""UDP"")
]): java.lang.OutOfMemoryError: GC overhead limit exceeded

15:14:58,675 ERROR [io.undertow.request] (management I/O-2) UT005071: Undertow request failed HttpServerExchange{ GET /metrics request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8], Connection=[keep-alive], Accept-Language=[de,en-US;q=0.7,en;q=0.3], Cache-Control=[max-age=0], Accept-Encoding=[gzip, deflate], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:68.0) Gecko/20100101 Firefox/68.0], Upgrade-Insecure-Requests=[1], Host=[192.168.99.100:9990]} response {Access-Control-Allow-Origin=[*], Access-Control-Allow-Headers=[origin, content-type, accept, authorization], Access-Control-Allow-Credentials=[true], Content-Type=[text/plain], Access-Control-Allow-Methods=[GET, POST, PUT, DELETE, OPTIONS, HEAD], Access-Control-Max-Age=[1209600]}}: java.lang.IllegalStateException: WFLYMETRICS0003: Unable to read attribute max_bundle_size on [
    (""subsystem"" => ""jgroups""),
    (""channel"" => ""ee""),
    (""protocol"" => ""UDP"")
]: ""WFLYCTL0158: Operation handler failed: java.lang.OutOfMemoryError: GC overhead limit exceeded"".
        at org.wildfly.extension.microprofile.metrics.MetricCollector.lambda$collectResourceMetrics0$0(MetricCollector.java:143)
        at org.wildfly.extension.microprofile.metrics.PrometheusCollector.collect(PrometheusCollector.java:51)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.findNextElement(CollectorRegistry.java:183)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.<init>(CollectorRegistry.java:147)
        at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.<init>(CollectorRegistry.java:168)
        at io.prometheus.client.CollectorRegistry.metricFamilySamples(CollectorRegistry.java:130)
        at org.wildfly.extension.microprofile.metrics.MetricsContextService$1.handleRequest(MetricsContextService.java:100)
        at org.jboss.as.domain.http.server.security.RealmReadinessHandler.handleRequest(RealmReadinessHandler.java:51)
        at org.jboss.as.domain.http.server.security.ServerErrorReadinessHandler.handleRequest(ServerErrorReadinessHandler.java:35)
        at io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:91)
        at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:211)
        at io.undertow.server.handlers.cache.CacheHandler.handleRequest(CacheHandler.java:92)
        at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:78)
        at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)
        at org.jboss.as.domain.http.server.ManagementHttpRequestHandler.handleRequest(ManagementHttpRequestHandler.java:57)
        at org.jboss.as.domain.http.server.cors.CorsHttpHandler.handleRequest(CorsHttpHandler.java:75)
        at org.jboss.as.domain.http.server.ManagementHttpServer$UpgradeFixHandler.handleRequest(ManagementHttpServer.java:662)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364)
        at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)
        at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)
        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:162)
        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:100)
        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:57)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)
        at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)
        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
        at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:131)
        at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)
        at org.xnio.nio.WorkerThread.run(WorkerThread.java:479)
{noformat}

",,,,,,,,,MSC-245,,,,KEYCLOAK-10880,,,,,,,,,,,WFCORE-4660,WFCORE-4663,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/19 8:31 AM;brian.stansberry;Screen Shot 2019-09-07 at 7.27.24 AM.png;https://issues.redhat.com/secure/attachment/12455153/Screen+Shot+2019-09-07+at+7.27.24+AM.png","07/Sep/19 8:31 AM;brian.stansberry;Screen Shot 2019-09-07 at 7.29.02 AM.png;https://issues.redhat.com/secure/attachment/12455154/Screen+Shot+2019-09-07+at+7.29.02+AM.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-06 12:56:24.0,,,,,,,,,,,,,,,,,,,,,,,,,,2.0,8.0,,,,,,,,,,"1|z08l8k:",9223372036854775807,,0.0,,,,,"{code:sh}
docker run -it --rm -p 8080:8080 -p 9990:9990 jboss/keycloak:6.0.1 -Djboss.bind.address.management=0.0.0.0 -b 0.0.0.0
{code}

Make a lot requests to :9990/metrics
",,,,,,,,,,,"06/Sep/19 1:23 PM;brian.stansberry;[~stianst] If this didn't have Affects Version 17.0.1.Final I'd suspect it's WFLY-12167 but that's reported as fixed in 17.0.0.Final.","06/Sep/19 2:13 PM;brian.stansberry;The PNG attachments in KEYCLOAK-10880 very much look like WFLY-12167, which was not fixed in the WF 16 that it looks like Keycloak 6.0.1 used.

There is a comment at https://issues.jboss.org/browse/KEYCLOAK-10880?focusedCommentId=13780144&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13780144 that a problem still exists in Keycloak 7.0.0, which uses WF 17.0.1. But it's not certain that's the same problem.","07/Sep/19 9:09 AM;brian.stansberry;[~ropalka] I can reproduce this with current WildFly master so it's not a case of a re-report of something already fixed. And it looks like WFLY-12567 is not completely fixed.

This is easy to reproduce; just start WF using the standalone-full-ha.xml config, take a heap dump, point a browser at http://localhost:9990/metrics, keep refreshing for a while, take another dump, and compare.

I attached a jvisualvm comparision like that and it's showing thousands of additional ServiceRegistrationImpl instances.

I randomly picked one and I believe it's a good example and attached a screenshot showing its state. Its name (not shown in the png) is a UUID so highly likely it's one installed by PassiveServiceSupplier.  I see that it's state has 'removed=false' and 'pendingDependents=1'. I see that 'removed' will only be set to 'true' if SRI.clear() is called when pendingDependents == 0, and if it doesn't get set to true the SRI will not be removed from the ServiceContainerImpl.registry map.

I *think* the problem here is that ServiceContainerImpl.getOrCreateRegistration calls SRI.addPendingDependent both for cases where it is handling the installation of the service itself, and for cases where it is recording a new dependent for a registration.  But the pendingDependents counter only gets decremented when a addDependent gets called; i.e. when dealing with the new dependent. The effect is the initial increment of pendingDependents, when service is being created, never gets an offsetting decrement and AFAICT no SRI will ever be removed.","07/Sep/19 9:10 AM;brian.stansberry;[~pferraro] [~jmesnil] FYI.","11/Sep/19 6:23 AM;ropalka;Your analysis was correct [~brian.stansberry]","11/Sep/19 11:32 AM;kabirkhan;[~ropalka] I merged the upgrade - https://issues.jboss.org/browse/WFCORE-4660. Can we assume that once we upgrade WildFly Core in full that this issue can be resolved?

CC [~brian.stansberry] [~jamezp] [~jmesnil]","11/Sep/19 12:42 PM;ropalka;Correct [~kabirkhan]","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move to Jakarta approved version of jakarta.security.enterprise:jakarta.security.enterprise-api,WFLY-12426,12824449,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,dlofthouse,brian.stansberry,brian.stansberry,23/Aug/19 2:56 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,12/Sep/19 4:44 PM,,,,,,18.0.0.Final,,,Security,,,,,,,,,,,0,,,,,"WFLY-12418 moves us to jakarta.security.enterprise:jakarta.security.enterprise-api but the version has not been approved by Jakarta as the official release for use in Jakarta EE 8. It's fine to do that upgrade; this issue is just to make sure we move to the approved version if it is different.",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z087ok:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Apache Artemis from 2.9.0 to 2.10.0,WFLY-12304,12818918,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ehugonnet,mstefank,mstefank,19/Jul/19 7:26 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,27/Sep/19 1:43 PM,,,,,,18.0.0.Final,,,JMS,,,,,,,,,,,0,blocker-WF18,downstream_dependency,,,"Upgrade Apache Artemis from 2.9.0.Final to 2.10.0.Final.

Due to HA issue with Apache Artemis 2.10.0 this may not be the final version upgrade",,,,,,,,,,,,,,,WFLY-12525,,,,,,,,,,,,,WFLY-12105,,,,,,WFLY-12129,WFLY-12085,WFLY-10968,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-22 14:49:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,18.0,,,,,,,,,,"1|z07bxw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Jul/19 2:49 PM;jamezp;I removed the fix version as those two versions have already been released so this can't be a blocker for those versions.","31/Jul/19 3:32 PM;ehugonnet;I'd rather have Artemis 2.10 instead which should be released soon.","04/Sep/19 5:47 PM;clebert.suconic;I believe the issue is on the netty-http-bridge (netty-xnio-transport)

Artemis is using this API now to transfer file, making the transfer zero-copy:

A ChunkedFile will be sent downstream on netty on these two events:

https://github.com/apache/activemq-artemis/blob/0106329816a4ea8cc641ebceed215169adf25da2/artemis-core-client/src/main/java/org/apache/activemq/artemis/core/remoting/impl/netty/NettyConnection.java#L428

https://github.com/apache/activemq-artemis/blob/0106329816a4ea8cc641ebceed215169adf25da2/artemis-core-client/src/main/java/org/apache/activemq/artemis/core/remoting/impl/netty/NettyConnection.java#L363


And apparently the netty-http-bridge does not know how to handle such object.


Is it possible to update the Netty-http-bridge to accept such events.","04/Sep/19 6:19 PM;brian.stansberry;[~flavia.rainone] is ^^^ a question for you?","04/Sep/19 7:23 PM;clebert.suconic;It's definitely the netty-xnio-transport not being able to handle DefaultFileRegion

I tried debugging netty-xnio-transport, around AbstractXnioSocketChannel, and it's not possible to handle FileRegion

It seems to me that AbstractXnioSocketChannel is missing some calls on he chain as the write is never called for any FileRegion:

https://github.com/xnio/netty-xnio-transport/blob/b301ada03be308ea2751ae6a25d2a8f4932f117f/src/main/java/org/xnio/netty/transport/AbstractXnioSocketChannel.java#L270

Debugging this more carefully, I realized the object sent is actually an implementation of FileRegion, and the write is not being completed.","05/Sep/19 11:13 AM;clebert.suconic;A Quick fix would be to add a Chain handler on the pipeline that would convert FileRegion into a Regular NettyBuf

I am not sure how we could do a proper fix here. it's up to [~flavia.rainone]","06/Sep/19 8:31 AM;flavia.rainone;[~clebert.suconic] Im taking a look at this one. I dont rule out adding a handler. I'll keep the Jira posted. Thanks for the reproducer, [~ehugonnet]!","09/Sep/19 2:43 AM;flavia.rainone;[~clebert.suconic]I debugged, and I have questions about this :-)
According to the error I'm seeing, the problem is that the second server waits for a REPLICATION_START_FINISH_SYNC packet that it never gets, the one with synchronizationIsFinished set to true. It receives quite a few packets like that one before, though, they are just not the last one.
This packet is attempted to be sent by server 1, I can see that everything up to this line seems to be executed correctly: 
[JournalStorageManager.startReplication|https://github.com/apache/activemq-artemis/blob/0106329816a4ea8cc641ebceed215169adf25da2/artemis-server/src/main/java/org/apache/activemq/artemis/core/persistence/impl/journal/JournalStorageManager.java#L699] / [ReplicationManager.sendSynchronizationDone|https://github.com/apache/activemq-artemis/blob/0106329816a4ea8cc641ebceed215169adf25da2/artemis-server/src/main/java/org/apache/activemq/artemis/core/replication/ReplicationManager.java#L684]
However, the second server never receives the packet. Notice that, as I said before, the second server is receiving several packets just like that one prior to this, it seems to be missing only that last one, that has synchronizationIsFinished true. So, I don't see how Netty is failing to handle that type of Packet? Or is it another Packet you're talking about when you say that Netty fails to handle FileRegion?

When debugging, it seems to me that this task is never executed: [sendPacket runnable task|https://github.com/apache/activemq-artemis/blob/0106329816a4ea8cc641ebceed215169adf25da2/artemis-server/src/main/java/org/apache/activemq/artemis/core/replication/ReplicationManager.java#L382]

I am not sure if it is because of a timeout I'm not seeing, or if there is something wrong with the executor at this point (dunno what), but are you seeing this packet being sent/that task being executed for the missing packet above?","09/Sep/19 7:26 AM;clebert.suconic;The REPLICATION_START_FINISH_SYNC  packet never arriving is a symptom of the issue I explained.

Look at this commit on artemis: https://github.com/apache/activemq-artemis/commit/85b93f0883bc06a2dfe2de9d560805a59d626d38


Since this commit, we are using NonFileClosingDefaultFileRegion to send the body of the file. it's sending it with zero copy.

On the same commit, look at the change on NettyConnectionm, method getFileObject.


NonFileClosingDefaultFileRegion is being ignored by the netty-xnio-transport handler, what will make the whole thing to freeze, not receive any data on the other side of the replication, and the replication-finish to never arrive.


I tried implementing a proper handler for the FileRegion, but it did not work.


The handler has code for FileRegion but for some reason that code is never happening... and I don't know the component well enough to fix it.","09/Sep/19 9:24 AM;clebert.suconic;BTW: The same works without any problem if you just use netty directly.","09/Sep/19 9:31 AM;flavia.rainone;[~clebert.suconic] Hm... okay, thanks for the explanation, I'll debug some more :-) I'll keep this Jira posted.","09/Sep/19 3:43 PM;flavia.rainone;It appears that this could be the cause of all the trouble:
{code}java.lang.ClassCastException: class org.apache.activemq.artemis.core.remoting.impl.netty.NonClosingDefaultFileRegion cannot be cast to class io.netty.buffer.ByteBuf (org.apache.activemq.artemis.core.remoting.impl.netty.NonClosingDefaultFileRegion is in unnamed module of loader 'org.apache.activemq.artemis@2.10.0' @209880f3; io.netty.buffer.ByteBuf is in unnamed module of loader 'io.netty@4.1.34.Final' @4af22e87)


16:44:53,000 ERROR [stderr] (default I/O-7) java.lang.ClassCastException: class org.apache.activemq.artemis.core.remoting.impl.netty.NonClosingDefaultFileRegion cannot be cast to class io.netty.buffer.ByteBuf (org.apache.activemq.artemis.core.remoting.impl.netty.NonClosingDefaultFileRegion is in unnamed module of loader 'org.apache.activemq.artemis@2.10.0' @209880f3; io.netty.buffer.ByteBuf is in unnamed module of loader 'io.netty@4.1.34.Final' @4af22e87)
16:44:53,006 ERROR [stderr] (default I/O-7) 	at org.jboss.xnio.netty.netty-xnio-transport@0.1.6.Final//org.xnio.netty.transport.AbstractXnioSocketChannel.doWrite(AbstractXnioSocketChannel.java:197)
16:44:53,010 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:939)
16:44:53,015 ERROR [stderr] (default I/O-7) 	at org.jboss.xnio.netty.netty-xnio-transport@0.1.6.Final//org.xnio.netty.transport.AbstractXnioSocketChannel$AbstractXnioUnsafe.flush0(AbstractXnioSocketChannel.java:371)
16:44:53,021 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:906)
16:44:53,025 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1370)
16:44:53,029 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:739)
16:44:53,034 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:731)
16:44:53,039 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:717)
16:44:53,046 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.ChannelDuplexHandler.flush(ChannelDuplexHandler.java:117)
16:44:53,050 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:739)
16:44:53,057 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:731)
16:44:53,063 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.access$2100(AbstractChannelHandlerContext.java:38)
16:44:53,068 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext$WriteAndFlushTask.write(AbstractChannelHandlerContext.java:1139)
16:44:53,073 ERROR [stderr] (default I/O-7) 	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext$AbstractWriteTask.run(AbstractChannelHandlerContext.java:1062)
16:44:53,079 ERROR [stderr] (default I/O-7) 	at org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)
16:44:53,083 ERROR [stderr] (default I/O-7) 	at org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)
{code}
","09/Sep/19 4:16 PM;clebert.suconic;Yes. As I said it does not know how to handle it. ","10/Sep/19 3:56 AM;flavia.rainone;Fixing that caused a new code to be reached that wasn't reached before (because the channel already handles FileRegion, but this code was unreachable because of the CCE). That code seems to contain another bug:
{code}04:43:32,284 ERROR [org.apache.activemq.artemis.core.client] (Thread-1 (ActiveMQ-client-netty-threads)) AMQ214031: Failed to decode buffer, disconnect immediately.: java.lang.IllegalStateException: java.lang.IndexOutOfBoundsException: readerIndex(4) + length(1) exceeds writerIndex(4): PooledUnsafeDirectByteBuf(ridx: 4, widx: 4, cap: 4)
	at org.apache.activemq.artemis@2.10.0//org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:390)
	at org.apache.activemq.artemis@2.10.0//org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl$DelegatingBufferHandler.bufferReceived(ClientSessionFactoryImpl.java:1191)
	at org.apache.activemq.artemis@2.10.0//org.apache.activemq.artemis.core.remoting.impl.netty.ActiveMQChannelHandler.channelRead(ActiveMQChannelHandler.java:73)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337)
	at io.netty@4.1.34.Final//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)
	at io.netty@4.1.34.Final//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)
	at io.netty@4.1.34.Final//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:426)
	at io.netty@4.1.34.Final//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:278)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:337)
	at io.netty@4.1.34.Final//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359)
	at io.netty@4.1.34.Final//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:345)
	at io.netty@4.1.34.Final//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930)
	at io.netty@4.1.34.Final//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:796)
	at io.netty@4.1.34.Final//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:427)
	at io.netty@4.1.34.Final//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:328)
	at io.netty@4.1.34.Final//io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905)
	at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)
Caused by: java.lang.IndexOutOfBoundsException: readerIndex(4) + length(1) exceeds writerIndex(4): PooledUnsafeDirectByteBuf(ridx: 4, widx: 4, cap: 4)
	at io.netty@4.1.34.Final//io.netty.buffer.AbstractByteBuf.checkReadableBytes0(AbstractByteBuf.java:1428)
	at io.netty@4.1.34.Final//io.netty.buffer.AbstractByteBuf.readByte(AbstractByteBuf.java:723)
	at io.netty@4.1.34.Final//io.netty.buffer.WrappedByteBuf.readByte(WrappedByteBuf.java:521)
	at org.apache.activemq.artemis.journal//org.apache.activemq.artemis.core.buffers.impl.ChannelBufferWrapper.readByte(ChannelBufferWrapper.java:280)
	at org.apache.activemq.artemis@2.10.0//org.apache.activemq.artemis.core.protocol.ServerPacketDecoder.decode(ServerPacketDecoder.java:124)
	at org.apache.activemq.artemis@2.10.0//org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:377)
	... 21 more{code}

I'm still working on this.","10/Sep/19 4:37 AM;flavia.rainone;The problem is fixed here: https://github.com/xnio/netty-xnio-transport/pull/15
I'll do a release after running a few more tests locally.","10/Sep/19 4:52 AM;flavia.rainone;Jira for netty-xnio-transport upgrade: WFLY-12525","14/Sep/19 7:57 PM;brian.stansberry;Per comments on WFLY-10968 this may incorporate the fix for that one, so I've linked them.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,
Downgrade Yasson from 1.0.4 to 1.0.3,WFLY-12565,12828822,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,jamezp,jamezp,17/Sep/19 3:27 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,17/Sep/19 8:04 PM,,,,,,18.0.0.Final,,,EE,,,,,,,,,,,0,,,,,Yasson should be downgraded back to 1.0.3 instead of 1.0.5 for compatibility.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12657,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08wr0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
elytron-tool.sh : ClassNotFoundException: org.wildfly.security.password.impl.PasswordFactorySpiImpl,WFLY-11998,12803072,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Rejected,dlofthouse,mchoma,mchoma,17/Apr/19 1:58 AM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,26/Apr/19 9:24 AM,17.0.0.Alpha1,17.0.0.Final,,,,17.0.0.Alpha1,17.0.0.Final,,Security,,,,,,,,,,,0,,,,,"We are hitting regression in our tests against WF master
{code}
01:48:56,706 INFO  [com.redhat.eap.qe.cli.CommandExecutor] (main) Command:[/home/hudson/hudson_workspace/workspace/eap-7.x-security-fips-matrix/d6d35f0f/openjdk-1.8.0/bin/java, -jar, /home/hudson/hudson_workspace/workspace/eap-7.x-security-fips-matrix/d6d35f0f/fips-testsuite/fips/target/dist/jboss-eap/bin/wildfly-elytron-tool.jar, credential-store, -c, -a, secret-key, -x, pass123+, -p, pass123+, -l, /home/hudson/hudson_workspace/workspace/eap-7.x-security-fips-matrix/d6d35f0f/fips-testsuite/fips/target/FipsCsElytronToolTestCase/workaround_dir, -u, keyStoreType=PKCS11;external=true;keyAlias=my-key;externalPath=/home/hudson/hudson_workspace/workspace/eap-7.x-security-fips-matrix/d6d35f0f/fips-testsuite/fips/target/FipsCsElytronToolTestCase/secure-data-file, --debug]
01:48:57,255 INFO  [com.redhat.eap.qe.cli.CommandExecutor] (main) Process output:
01:48:57,255 INFO  [com.redhat.eap.qe.cli.CommandExecutor] (main) 
01:48:57,256 ERROR [com.redhat.eap.qe.cli.CommandExecutor] (main) Process error:
01:48:57,257 ERROR [com.redhat.eap.qe.cli.CommandExecutor] (main) Exception encountered executing the command:
org.wildfly.security.credential.store.CredentialStoreException: ELY09508: Cannot write credential to store
	at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.store(KeyStoreCredentialStore.java:402)
	at org.wildfly.security.credential.store.CredentialStore.store(CredentialStore.java:242)
	at org.wildfly.security.credential.store.CredentialStore.store(CredentialStore.java:226)
	at org.wildfly.security.tool.CredentialStoreCommand.execute(CredentialStoreCommand.java:242)
	at org.wildfly.security.tool.ElytronTool.main(ElytronTool.java:84)
Caused by: java.security.NoSuchAlgorithmException: class configured for PasswordFactory (provider: WildFlyElytron) cannot be found.
	at java.security.Provider$Service.getImplClass(Provider.java:1649)
	at java.security.Provider$Service.newInstanceGeneric(Provider.java:1660)
	at java.security.Provider$Service.newInstance(Provider.java:1584)
	at org.wildfly.security.password.PasswordFactory.getInstance(PasswordFactory.java:119)
	at org.wildfly.security.password.PasswordFactory.getInstance(PasswordFactory.java:76)
	at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.store(KeyStoreCredentialStore.java:276)
	... 4 more
Caused by: java.lang.ClassNotFoundException: org.wildfly.security.password.impl.PasswordFactorySpiImpl
	at java.net.URLClassLoader.findClass(URLClassLoader.java:382)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at java.security.Provider$Service.getImplClass(Provider.java:1636)
	... 9 more
{code}",,,,,,,,,,,,,ELY-1790,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Regression,,,,,,,,,,,,2019-04-26 09:24:54.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04vlo:",9223372036854775807,,0.0,,,,,"#  build WF from master
# {code}./elytron-tool.sh credential-store --add secret_alias --password pass123 --create -x secret_password -l store.jceks --debug{code}
# There is exception {code}Exception encountered executing the command:
org.wildfly.security.credential.store.CredentialStoreException: ELY09508: Cannot write credential to store
	at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.store(KeyStoreCredentialStore.java:402)
	at org.wildfly.security.credential.store.CredentialStore.store(CredentialStore.java:242)
	at org.wildfly.security.credential.store.CredentialStore.store(CredentialStore.java:226)
	at org.wildfly.security.tool.CredentialStoreCommand.execute(CredentialStoreCommand.java:242)
	at org.wildfly.security.tool.ElytronTool.main(ElytronTool.java:84)
Caused by: java.security.NoSuchAlgorithmException: class configured for PasswordFactory (provider: WildFlyElytron) cannot be found.
	at java.security.Provider$Service.getImplClass(Provider.java:1649)
	at java.security.Provider$Service.newInstanceGeneric(Provider.java:1660)
	at java.security.Provider$Service.newInstance(Provider.java:1584)
	at org.wildfly.security.password.PasswordFactory.getInstance(PasswordFactory.java:119)
	at org.wildfly.security.password.PasswordFactory.getInstance(PasswordFactory.java:76)
	at org.wildfly.security.credential.store.impl.KeyStoreCredentialStore.store(KeyStoreCredentialStore.java:276)
	... 4 more
Caused by: java.lang.ClassNotFoundException: org.wildfly.security.password.impl.PasswordFactorySpiImpl
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at java.security.Provider$Service.getImplClass(Provider.java:1636)
	... 9 more
{code}",,,,,,,,,,,"26/Apr/19 9:24 AM;dlofthouse;I am going to reject this one as there is no action required within WildFly, a Blocker has already been raised against WildFly Elytron which also has a PR so will be included in the next component upgrade.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tests regressions after WFLY-10480,WFLY-10906,12766217,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jim.ma,jbliznak,jbliznak,22/Aug/18 10:19 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 3:43 PM,14.0.0.Beta2,,,,,14.0.0.Final,,,Security,Web Services,,,,,,,,,,0,,,,,"There are tests regressions after WFLY-10480 was merged which modified org.jboss.as.webservices.security.ElytronSecurityDomainContextImpl.

Namely these tests in JBWS testsuite fail when running with elytron profile:
UsernameAuthorizationDigestEjbTestCase.test
UsernameAuthorizationDigestEjbTestCase.testConcurrent
UsernameAuthorizationEJBTestCase.test

All fail with the same message and stacktrace:
{code:java}
WFLYEJB0364: Invocation on method: public java.lang.String org.jboss.test.ws.jaxws.samples.wsse.policy.jaas.EJBDigestServiceImpl.sayHello() of bean: EjbEndpoint is not allowed
{code}

{code:java}
13:13:09,199 ERROR [org.jboss.as.ejb3.invocation] (default task-3) WFLYEJB0034: EJB Invocation failed on component EjbEndpoint for method public java.lang.String org.jboss.test.ws.jaxws.samples.wsse.policy.jaas.EJBDigestServiceImpl.sayHello(): javax.ejb.EJBAccessException: WFLYEJB0364: Invocation on method: public java.lang.String org.jboss.test.ws.jaxws.samples.wsse.policy.jaas.EJBDigestServiceImpl.sayHello() of bean: EjbEndpoint is not allowed
	at org.jboss.as.ejb3@14.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.security.RolesAllowedInterceptor.processInvocation(RolesAllowedInterceptor.java:67)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@14.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@14.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@14.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@14.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@14.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.elytron-private@1.5.4.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:619)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@14.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.jboss.as.webservices//org.jboss.as.webservices.invocation.AbstractInvocationHandler.invokeInternal(AbstractInvocationHandler.java:161)
	at org.jboss.as.webservices//org.jboss.as.webservices.invocation.AbstractInvocationHandler.lambda$invoke$0(AbstractInvocationHandler.java:116)
	at org.wildfly.security.elytron-private@1.5.4.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:382)
	at org.wildfly.security.elytron-private@1.5.4.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)
	at org.wildfly.security.elytron-private@1.5.4.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)
	at org.jboss.as.webservices//org.jboss.as.webservices.security.ElytronSecurityDomainContextImpl.runAs(ElytronSecurityDomainContextImpl.java:88)
	at org.jboss.as.webservices//org.jboss.as.webservices.invocation.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:115)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.JBossWSInvoker.performInvocation(JBossWSInvoker.java:170)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)
	at org.apache.cxf.impl//org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.invoke(AbstractJAXWSMethodInvoker.java:232)
	at org.apache.cxf.impl//org.apache.cxf.jaxws.JAXWSMethodInvoker.invoke(JAXWSMethodInvoker.java:85)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.JBossWSInvoker.invoke(JBossWSInvoker.java:146)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:514)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.interceptor.ServiceInvokerInterceptor$2.run(ServiceInvokerInterceptor.java:126)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:131)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
	at org.apache.cxf.impl//org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:110)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.transport.ServletHelper.callRequestHandler(ServletHelper.java:134)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.CXFServletExt.invoke(CXFServletExt.java:88)
	at org.apache.cxf.impl//org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)
	at org.apache.cxf.impl//org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:220)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:706)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.CXFServletExt.service(CXFServletExt.java:136)
	at org.jboss.ws.spi@3.2.2.Final//org.jboss.wsf.spi.deployment.WSFServlet.service(WSFServlet.java:140)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.core@2.0.13.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.0.13.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.0.13.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.core@2.0.13.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.core@2.0.13.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.core@2.0.13.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.core@2.0.13.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.0.13.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.core@2.0.13.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.core@2.0.13.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.core@2.0.13.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.base/java.lang.Thread.run(Thread.java:844)

&amp#27;[0m&amp#27;[33m13:13:09,199 WARNING [org.apache.cxf.phase.PhaseInterceptorChain] (default task-3) Application {http://www.jboss.org/jbossws/ws-extensions/wssecuritypolicy}SecurityService#{http://www.jboss.org/jbossws/ws-extensions/wssecuritypolicy}sayHello has thrown exception, unwinding now: org.apache.cxf.interceptor.Fault: WFLYEJB0364: Invocation on method: public java.lang.String org.jboss.test.ws.jaxws.samples.wsse.policy.jaas.EJBDigestServiceImpl.sayHello() of bean: EjbEndpoint is not allowed
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:162)
	at org.apache.cxf.impl//org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.createFault(AbstractJAXWSMethodInvoker.java:267)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:128)
	at org.apache.cxf.impl//org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.invoke(AbstractJAXWSMethodInvoker.java:232)
	at org.apache.cxf.impl//org.apache.cxf.jaxws.JAXWSMethodInvoker.invoke(JAXWSMethodInvoker.java:85)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.JBossWSInvoker.invoke(JBossWSInvoker.java:146)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:514)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.interceptor.ServiceInvokerInterceptor$2.run(ServiceInvokerInterceptor.java:126)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:131)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
	at org.apache.cxf.impl//org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:110)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.transport.ServletHelper.callRequestHandler(ServletHelper.java:134)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.CXFServletExt.invoke(CXFServletExt.java:88)
	at org.apache.cxf.impl//org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)
	at org.apache.cxf.impl//org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:220)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:706)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.CXFServletExt.service(CXFServletExt.java:136)
	at org.jboss.ws.spi@3.2.2.Final//org.jboss.wsf.spi.deployment.WSFServlet.service(WSFServlet.java:140)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.core@2.0.13.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.0.13.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.0.13.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.core@2.0.13.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.core@2.0.13.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.core@2.0.13.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.core@2.0.13.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.0.13.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.core@2.0.13.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@14.0.0.CR1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.13.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.core@2.0.13.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.core@2.0.13.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.base/java.lang.Thread.run(Thread.java:844)
Caused by: javax.ejb.EJBAccessException: WFLYEJB0364: Invocation on method: public java.lang.String org.jboss.test.ws.jaxws.samples.wsse.policy.jaas.EJBDigestServiceImpl.sayHello() of bean: EjbEndpoint is not allowed
	at org.jboss.as.ejb3@14.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.security.RolesAllowedInterceptor.processInvocation(RolesAllowedInterceptor.java:67)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@14.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@14.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@14.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@14.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@14.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.elytron-private@1.5.4.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:619)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@14.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.jboss.as.webservices//org.jboss.as.webservices.invocation.AbstractInvocationHandler.invokeInternal(AbstractInvocationHandler.java:161)
	at org.jboss.as.webservices//org.jboss.as.webservices.invocation.AbstractInvocationHandler.lambda$invoke$0(AbstractInvocationHandler.java:116)
	at org.wildfly.security.elytron-private@1.5.4.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:382)
	at org.wildfly.security.elytron-private@1.5.4.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)
	at org.wildfly.security.elytron-private@1.5.4.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)
	at org.jboss.as.webservices//org.jboss.as.webservices.security.ElytronSecurityDomainContextImpl.runAs(ElytronSecurityDomainContextImpl.java:88)
	at org.jboss.as.webservices//org.jboss.as.webservices.invocation.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:115)
	at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4-SNAPSHOT//org.jboss.wsf.stack.cxf.JBossWSInvoker.performInvocation(JBossWSInvoker.java:170)
	at org.apache.cxf@3.2.5.jbossorg-1//org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)
	... 62 more

{code}


",,,,,,,,,WFLY-10480,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Regression,,,,,,,,,,,,2018-08-23 05:03:32.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,11.0,,,,,,,,,,"1|i0072f:",9223372036854775807,,0.0,,,,,"{noformat}
mkdir -p /tmp/jbws
cd /tmp/jbws
git clone https://github.com/jbossws/jbossws-cxf.git .
git checkout jbossws-cxf-5.2.3.Final
mvn integration-test -Pwildfly1400,elytron integration-test -Dwildfly1400.version=14.0.0.Beta2 -Dnodeploy -Dtest=UsernameAuthorizationEJBTestCase,UsernameAuthorizationDigestEjbTestCase -DnoLogRedirect -DenableServerLoggingToConsole
{noformat}
",,,,,,,,,,,"23/Aug/18 5:03 AM;jim.ma;There is small issue in elytron team provided code which converts subject to securityIdentity :  identity.withRoleMapper(roleCategory, (rolesToMap) -> Roles.fromSet(roles)) doesn't add roleMapper to this ""identity"". To fix this this roleMapper loss , simply returns the identity.withRoleMapper()'s result when roles is not empty : https://github.com/wildfly/wildfly/pull/11565

","23/Aug/18 5:54 AM;dlofthouse;Hi [~jim.ma] could you please confirm which piece of code it is you are referring to?  If you believe it triggered a bug here we may need to apply the same fix elsewhere.","23/Aug/18 9:23 AM;jbliznak;Pretested with JBossWS testsuite with Elytron enabled with WF build with current PR changes, the reported regressions are gone.","23/Aug/18 10:23 AM;jim.ma;Hi [~dlofthouse], I meant the code from here : https://gist.github.com/hkalina/7db9859647efab75a3c4abee221d2dff#file-subjecttosecurityidentity-java-L71, which I used in webservice eltyron integration code to convert subject to security identity. 
This is only some eltyron api usage bug.  If these lines are used in other places, we need to apply this fix too. ","23/Aug/18 10:32 AM;dlofthouse;[~jim.ma] Ah I see, the Gist does have an update in it, it does appear to be correct now.

https://gist.github.com/hkalina/7db9859647efab75a3c4abee221d2dff#file-subjecttosecurityidentity-java-L89

","23/Aug/18 10:34 AM;jbliznak;Actually, the in gist example the identity is always reassigned to new one after calling with* methods,  in the PR this is done only for identity#withRoleMapper call, so are we safe?

https://github.com/wildfly/wildfly/blob/master/webservices/server-integration/src/main/java/org/jboss/as/webservices/util/SubjectUtil.java#L134-L180
vs
https://gist.github.com/hkalina/7db9859647efab75a3c4abee221d2dff#file-subjecttosecurityidentity-java-L87-L119

{code:java}
SecurityIdentity identity = domain.createAdHocIdentity(identityPrincipal);
...
identity = identity.withRoleMapper(""ejb"", (rolesToMap) -> Roles.fromSet(roles));
...
identity = identity.withPublicCredentials(publicCredentials);
...
identity = identity.withPrivateCredentials(privateCredentials);
..
return identity;
{code}
","23/Aug/18 10:36 AM;dlofthouse;Yeah all good, there was an earlier version of the gist the day before which didn't capture the identity but all good now on both sides.","23/Aug/18 11:33 AM;jbliznak;[~dlofthouse], I think it is not good on WF right now. 
Looking at the latest revision of the Gist and also in code at https://github.com/wildfly-security/wildfly-elytron/blob/1.6.0.Final/src/main/java/org/wildfly/security/auth/server/SecurityIdentity.java the javadocs clearly state that new security identity is always created after calls to {{withPrivateCredentials}}, {{withPublicCredentials}}, {{withRoleMapper}} methods.

So these lines are actually doing nothing:
https://github.com/wildfly/wildfly/blob/master/webservices/server-integration/src/main/java/org/jboss/as/webservices/util/SubjectUtil.java#L157
https://github.com/wildfly/wildfly/blob/master/webservices/server-integration/src/main/java/org/jboss/as/webservices/util/SubjectUtil.java#L175

[~jim.ma], the reported regressions are gone with the fix in PR, but given the code is not entirely ok, could be get additional fix for these calls too?","23/Aug/18 11:08 PM;jim.ma;I think [~jbliznak] is right. We need to sync with the updated version to SubjectUtil which contains the public/private credential settings.
I already sent a PR to fix this : https://github.com/wildfly/wildfly/pull/11573 [~dlofthouse] , Can you please review?","24/Aug/18 7:03 AM;jbliznak;Even with additional fixes all tests passed so it looks like we are good to go.","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Agroal: drivers should expose capability,WFLY-10870,12765041,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,lbarreiro,simkam,simkam,16/Aug/18 5:12 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 3:39 PM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,"item 10 from [Brian's review|https://github.com/wildfly/wildfly/pull/11176#issuecomment-413283172]

{quote}
AIUI the only correct source for a DS/XADS driver is one of the driver resources. So, those drivers should expose a capability (should be private) and the driver attribute on the DS/XADS should be a capability reference.
{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:43.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i000fb:",9223372036854775807,,0.0,,,,,,,,,,,,simkam,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Agroal extension missing from host-excludes,WFLY-10883,12765317,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,brian.stansberry,brian.stansberry,brian.stansberry,17/Aug/18 1:30 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,20/Aug/18 5:06 AM,,,,,,14.0.0.Final,,,Management,,,,,,,,,,,0,,,,,We need to add agroal to the host excludes.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11540,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i001zz:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
jdbc-network-timeout is set in seconds instead of milliseconds causing Artemis to fail on Critical IO Error when jdbc store is used,WFLY-10860,12765023,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,mnovak,mnovak,16/Aug/18 3:03 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,20/Aug/18 5:16 AM,,,,,,14.0.0.Final,,,JMS,,,,,,,,,,,0,,,,,"jdbc-network-timeout is set in seconds instead of milliseconds in:
https://github.com/wildfly/wildfly/blob/master/messaging-activemq/src/main/java/org/wildfly/extension/messaging/activemq/ServerAdd.java#L580

This line must be removed as before it is:
{code}
long networkTimeout = SECONDS.toMillis(JOURNAL_JDBC_NETWORK_TIMEOUT.resolveModelAttribute(context, model).asInt());
        // ARTEMIS-1493: Artemis API is not correct. the value must be in millis but it requires an int instead of a long.
storageConfiguration.setJdbcNetworkTimeout((int)networkTimeout);
{code}
which sets this timeout properly in milliseconds.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:42.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i000bb:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Agroal: The 'module' and 'classname' attributes on the driver resource allows expressions,WFLY-10867,12765037,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,lbarreiro,simkam,simkam,16/Aug/18 5:03 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 3:38 PM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,"item 5 from [Brian's review|https://github.com/wildfly/wildfly/pull/11176#issuecomment-413283172]

{quote}
The 'module' and 'classname' attributes on the driver resource allows expressions. A bit of black art is we don't allow expressions on those kinds of attributes. TBH there's no great reason for it, but we should be consistent.
{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:39.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i000ef:",9223372036854775807,,0.0,,,,,,,,,,,,simkam,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Agroal attributes are not properly described,WFLY-10866,12765036,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,lbarreiro,simkam,simkam,16/Aug/18 5:02 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 3:38 PM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,"item 1 from [Brian's review|https://github.com/wildfly/wildfly/pull/11176#issuecomment-413283172]

{quote}
The DS/XADS 'statistics' attribute is not properly described. It has a static set of response fields and the value of each field has a known type, nillability etc.
{quote}

item 6 from [Brian's review|https://github.com/wildfly/wildfly/pull/11176#issuecomment-413283172]

{quote}
The class-info attribute on the driver is not properly described. It's a map of property name -> single param name, not a primitive list.
{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-16 15:18:25.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|i000e7:",9223372036854775807,,0.0,,,,,,,,,,,,simkam,,,,"16/Aug/18 3:18 PM;brian.stansberry;In both cases the attribute in question uses PrimitiveListAttributeDefinition.  I believe 'statistics' should be ObjectTypeAttributeDefinition and class-info as PropertiesAttributeDefinition or SimpleMapAttributeDefinition.","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade HAL to 3.0.4.Final,WFLY-10874,12765099,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,harald.pehl,harald.pehl,harald.pehl,16/Aug/18 8:34 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,20/Aug/18 5:08 AM,,,,,,14.0.0.Final,,,Web Console,,,,,,,,,,,0,blocker-WF14,,,,,,,,,,,,,,,,,WFLY-10820,,,,,,,,,,,,,,,,,,,,,HAL-1505,HAL-1504,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:33.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11538,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i000pr:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Agroal subsystem should provide configurable application type RBAC constraints,WFLY-10858,12764989,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,brian.stansberry,brian.stansberry,brian.stansberry,15/Aug/18 6:02 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,20/Aug/18 8:22 AM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,We need to add RBAC application type constraints for the agroal resources so admins in the Deployer RBAC role can be allowed to administer them. Now they cannot which is different from the IJ-based subsystem. See for example https://github.com/wildfly/wildfly/blob/master/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/DataSourceDefinition.java#L84,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11532,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i0003r:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove nested logging interfaces for the AgroalLogger,WFLY-10934,12766937,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,jamezp,jamezp,27/Aug/18 12:44 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,27/Aug/18 6:29 PM,,,,,,14.0.0.Final,,,JCA,,,,,,,,,,,0,,,,,"The {{AgroalLogger}} has nested interfaces which don't seem to be uploadable to Zanata. The issue being the URL doesn't seem to be escaped properly given the name {{AgroalLogger$DriverLogger.i18n.properties}}. My assumption would be the {{$}} isn't escaped.

That being said there is no reason to have nested interfaces. Different categories can be used to achieve the same concept. This also reduces the number of class objects needed to be defined.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11597,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00b87:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Agroal subsystem should not expose runtime attributes and operations in profile resources,WFLY-10857,12764987,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,brian.stansberry,brian.stansberry,brian.stansberry,15/Aug/18 5:55 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,20/Aug/18 8:23 AM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,"Items 2, 3, 4 in https://github.com/wildfly/wildfly/pull/11176#issuecomment-413283172",,,,,,,,,,,,,,,,,,,,,,,,EAP7-983,,,,WFLY-10328,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i0003b:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade HAL to 3.0.5.Final,WFLY-10936,12766978,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,claudio4j,claudio4j,claudio4j,27/Aug/18 4:49 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,28/Aug/18 4:23 AM,,,,,,14.0.0.Final,,,Web Console,,,,,,,,,,,0,blocker-WF14,,,,,,,,,,,,,,,,,WFLY-10874,,,,,,,,,,,,,,,,,,,,,HAL-1511,HAL-1512,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:30.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11599,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00bgn:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLI client in jconsole doesn't work with JDK11,WFLY-10890,12765876,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jdenise,mkopecky,mkopecky,21/Aug/18 7:10 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,22/Aug/18 2:36 PM,,,,,,14.0.0.Final,,,Scripts,,,,,,,,,,,0,blocker-WF14,Java11,,,"CLI client in jconsole doesn't work with JDK11.

JConsole uses CLI. CLI uses WildFlySecurityManager (Elytron 1.5.4.Final). WildFlySecurityManager uses sun.misc.Unsafe. Unsafe works just with adding of {{--add-modules=jdk.unsupported}} to JConsole:
{code:diff}
--- a/jconsole.sh
+++ b/jconsole.sh
@@ -79,4 +79,4 @@ CLASSPATH=$CLASSPATH:./bin/client/jboss-cli-client.jar
 echo CLASSPATH $CLASSPATH
 
 cd ""$JBOSS_HOME""
-$JAVA_HOME/bin/jconsole -J-Djava.class.path=""$CLASSPATH"" ""$@""
+$JAVA_HOME/bin/jconsole -J--add-modules=jdk.unsupported -J-Djava.class.path=""$CLASSPATH"" ""$@""
\ No newline at end of file
{code}
But ""jdk.unsupported"" module is not a correct fix.

*Logs:*
{noformat}
Exception in thread ""AWT-EventQueue-0"" java.lang.NoClassDefFoundError: sun/misc/Unsafe
	at org.wildfly.security.manager.WildFlySecurityManager.<clinit>(WildFlySecurityManager.java:122)
	at org.jboss.as.cli.CommandContextFactory.getInstance(CommandContextFactory.java:41)
	at org.jboss.as.cli.gui.ConnectDialog$2.actionPerformed(ConnectDialog.java:182)
	at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)
	at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)
	at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)
	at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)
	at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)
	at java.desktop/java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:297)
	at java.desktop/java.awt.Component.processMouseEvent(Component.java:6631)
	at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)
	at java.desktop/java.awt.Component.processEvent(Component.java:6396)
	at java.desktop/java.awt.Container.processEvent(Container.java:2263)
	at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5008)
	at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)
	at java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)
	at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)
	at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)
	at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)
	at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)
	at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)
	at java.desktop/java.awt.Component.dispatchEvent(Component.java:4840)
	at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)
	at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)
	at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)
	at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)
	at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)
	at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)
	at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)
	at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)
	at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)
	at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)
	at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)
	at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)
Caused by: java.lang.ClassNotFoundException: sun.misc.Unsafe
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	... 39 more
{noformat}

*cc:* [~kabirkhan], [~jamezp], [~darranl], [~mchoma], [~msvehla], [~okotek], [~rsvoboda]",,,,,,,,,,,,,,,,,,,,,,,,WFCORE-4055,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:28.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11550,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i0054f:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
FIPS PKCS11 Client side: only SunJSSE KeyManagers may be used,WFLY-10882,12765311,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,honza889,honza889,honza889,17/Aug/18 12:42 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,23/Aug/18 5:33 PM,,,,,,14.0.0.Final,,,Documentation,,,,,,,,,,,0,,,,,"Fix of ELY-1622 introduced regression. It is not possible to do 1 way ssl (no key-store-ssl-certificate in wildfly-config.xml) with exception 

{code}
14:13:56,143 ERROR [org.jboss.as.cli.impl.CliLauncher] Error processing CLI: org.jboss.as.cli.CliInitializationException: Failed to connect to the controller
        at org.jboss.as.cli.impl.CliLauncher.initCommandContext(CliLauncher.java:330)
        at org.jboss.as.cli.impl.CliLauncher.main(CliLauncher.java:291)
        at org.jboss.as.cli.CommandLineMain.main(CommandLineMain.java:45)
        at org.jboss.modules.Module.run(Module.java:352)
        at org.jboss.modules.Module.run(Module.java:320)
        at org.jboss.modules.Main.main(Main.java:593)
Caused by: org.jboss.as.cli.CommandLineException: Failed to resolve host 'localhost'
        at org.jboss.as.cli.impl.CommandContextImpl.connectController(CommandContextImpl.java:1256)
        at org.jboss.as.cli.impl.CommandContextImpl.connectController(CommandContextImpl.java:1203)
        at org.jboss.as.cli.impl.CommandContextImpl.connectController(CommandContextImpl.java:1198)
        at org.jboss.as.cli.impl.CliLauncher.initCommandContext(CliLauncher.java:328)
        ... 5 more
Caused by: java.io.IOException: Failed to obtain SSLContext
        at org.jboss.as.cli.impl.CLIModelControllerClient.<init>(CLIModelControllerClient.java:156)
        at org.jboss.as.cli.impl.ModelControllerClientFactory$2.getClient(ModelControllerClientFactory.java:85)
        at org.jboss.as.cli.impl.CommandContextImpl.connectController(CommandContextImpl.java:1222)
        ... 8 more
Caused by: java.security.KeyManagementException: FIPS mode: only SunJSSE KeyManagers may be used
        at sun.security.ssl.SSLContextImpl.chooseKeyManager(SSLContextImpl.java:149)
        at sun.security.ssl.SSLContextImpl.engineInit(SSLContextImpl.java:66)
        at javax.net.ssl.SSLContext.init(SSLContext.java:282)
        at org.wildfly.security.ssl.SSLContextBuilder.lambda$build$0(SSLContextBuilder.java:372)
        at org.wildfly.security.OneTimeSecurityFactory.create(OneTimeSecurityFactory.java:53)
        at org.wildfly.security.auth.client.AuthenticationContextConfigurationClient.getSSLContext(AuthenticationContextConfigurationClient.java:221)
        at org.wildfly.security.auth.client.AuthenticationContextConfigurationClient.getSSLContext(AuthenticationContextConfigurationClient.java:208)
        at org.jboss.as.cli.impl.CLIModelControllerClient.<init>(CLIModelControllerClient.java:153)
        ... 10 more
 {code}

It is because after fix Fix of ELY-1622 custom keymanager is used. But it is forbidden by jdk FIPS PKCS11.",,,,,,,,,,,,,ELY-1639,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:26.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11539,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i001yn:",9223372036854775807,,0.0,,,,,"- ./standalone.sh
- run CLI with FIPS PKCS11 java
{code}
./jboss-cli.sh \
    -c \
    -Dwildfly.config.url=file:///from/attachment/cli-test-wildfly-config.xml \
    --connect \
    :read-attribute\(name=server-state\)
{code}",,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Agroal: DataSourceDefinitionDescriptorProcessor is missing i18n in some exception messages,WFLY-10868,12765038,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,lbarreiro,simkam,simkam,16/Aug/18 5:06 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 3:38 PM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,"item 7 from [Brian's review|https://github.com/wildfly/wildfly/pull/11176#issuecomment-413283172]

{quote}
DataSourceDefinitionDescriptorProcessor is missing i18n in some exception messages
{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:21.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i000en:",9223372036854775807,,0.0,,,,,,,,,,,,simkam,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Agroal: service name used for the DS/XADS should be driven by DATASOURCE_RUNTIME_CAPABILITY,WFLY-10871,12765042,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,simkam,simkam,16/Aug/18 5:14 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,20/Aug/18 5:22 PM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,"item 11 from [Brian's review|https://github.com/wildfly/wildfly/pull/11176#issuecomment-413283172]

{quote}
The service name used for the DS/XADS is not correct. It needs to be driven by the DATASOURCE_RUNTIME_CAPABILITY, otherwise other subsystems cannot use the capability to access the service.
{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-16 16:23:34.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11541,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|i000fj:",9223372036854775807,,0.0,,,,,,,,,,,,simkam,,,,"16/Aug/18 4:23 PM;brian.stansberry;Something like this should do it, although I haven't tested this:

https://github.com/wildfly/wildfly/compare/master...bstansberry:WFLY-10871

[~jamezp] expressed interest in adding a test of using an Agroal DS in batch-jberet, which would serve the purpose of validating that the service wiring is done correctly. Something in clustering (probably Infinispan) as well as messaging-activemq also can inject datasources via capabilities.","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade HAL to 3.0.6.Final,WFLY-10955,12767507,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,claudio4j,claudio4j,claudio4j,30/Aug/18 2:18 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,30/Aug/18 5:42 PM,,,,,,14.0.0.Final,,,Web Console,,,,,,,,,,,0,blocker-WF14,,,,,,,,,,,,,,,,,WFLY-10936,,,,,,,,,,,,,,,,,,,,,HAL-1514,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:16.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11599,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00ekn:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Agroal: AgroalSubsystemAdd.populateModel and AgroalSubsystemRemove should be removed,WFLY-10869,12765040,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,lbarreiro,simkam,simkam,16/Aug/18 5:10 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 3:39 PM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,"items 8 and 9 from [Brian's review|https://github.com/wildfly/wildfly/pull/11176#issuecomment-413283172]

{quote}
8. AgroalSubsystemAdd.populateModel should be removed

9 .AgroalSubsystemRemove should be removed; use ReloadRequiredRemoveStepHandler
{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:14.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i000f3:",9223372036854775807,,0.0,,,,,,,,,,,,simkam,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Lower logging level of messages for OpenTracing,WFLY-10904,12766197,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,juraci.costa,jstourac,jstourac,22/Aug/18 9:03 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,23/Aug/18 7:42 PM,14.0.0.Beta2,,,,,14.0.0.Final,,,MP OpenTracing,,,,,,,,,,,0,,,,,"Current logging for OpenTracing is quite verbose logging long messages in INFO level, e.g.:
{code}
17:38:45,359 INFO  [io.jaegertracing.internal.senders.SenderResolver] (ServerService Thread Pool -- 28) Using sender UdpSender(udpTransport=ThriftUdpTransport(socket=java.net.DatagramSocket@3e9a2205, receiveBuf=null, receiveOffSet=-1, receiveLength=0))
17:38:45,395 INFO  [io.jaegertracing.Configuration] (ServerService Thread Pool -- 28) Initialized tracer=JaegerTracer(version=Java-0.30.4, serviceName=deployment.war, reporter=RemoteReporter(queueProcessor=RemoteReporter.QueueProcessor(open=true), sender=UdpSender(udpTransport=ThriftUdpTransport(socket=java.net.DatagramSocket@3e9a2205, receiveBuf=null, receiveOffSet=-1, receiveLength=0)), closeEnqueueTimeout=1000), sampler=RemoteControlledSampler(maxOperations=2000, serviceName=deployment.war, manager=HttpSamplingManager(gson={serializeNulls:false,factories:[Factory[typeHierarchy=com.google.gson.JsonElement,adapter=com.google.gson.internal.bind.TypeAdapters$29@5795d61d], com.google.gson.internal.bind.ObjectTypeAdapter$1@7286f924, com.google.gson.internal.Excluder@10bd7673, Factory[type=java.lang.String,adapter=com.google.gson.internal.bind.TypeAdapters$16@56577ab9], Factory[type=java.lang.Integer+int,adapter=com.google.gson.internal.bind.TypeAdapters$7@2f0b6b50], Factory[type=java.lang.Boolean+boolean,adapter=com.google.gson.internal.bind.TypeAdapters$3@6a01f84c], Factory[type=java.lang.Byte+byte,adapter=com.google.gson.internal.bind.TypeAdapters$5@11f41591], Factory[type=java.lang.Short+short,adapter=com.google.gson.internal.bind.TypeAdapters$6@7c9b37a4], Factory[type=java.lang.Long+long,adapter=com.google.gson.internal.bind.TypeAdapters$11@8be828c], Factory[type=java.lang.Double+double,adapter=com.google.gson.Gson$1@6d18d84f], Factory[type=java.lang.Float+float,adapter=com.google.gson.Gson$2@5c7110e0], Factory[type=java.lang.Number,adapter=com.google.gson.internal.bind.TypeAdapters$14@79f22add], Factory[type=java.util.concurrent.atomic.AtomicInteger,adapter=com.google.gson.TypeAdapter$1@5a47d8d], Factory[type=java.util.concurrent.atomic.AtomicBoolean,adapter=com.google.gson.TypeAdapter$1@2ed507d6], Factory[type=java.util.concurrent.atomic.AtomicLong,adapter=com.google.gson.TypeAdapter$1@7af7f4fc], Factory[type=java.util.concurrent.atomic.AtomicLongArray,adapter=com.google.gson.TypeAdapter$1@123b9dbd], Factory[type=java.util.concurrent.atomic.AtomicIntegerArray,adapter=com.google.gson.TypeAdapter$1@3455c262], Factory[type=java.lang.Character+char,adapter=com.google.gson.internal.bind.TypeAdapters$15@32b89889], Factory[type=java.lang.StringBuilder,adapter=com.google.gson.internal.bind.TypeAdapters$19@772dda36], Factory[type=java.lang.StringBuffer,adapter=com.google.gson.internal.bind.TypeAdapters$20@3935671b], Factory[type=java.math.BigDecimal,adapter=com.google.gson.internal.bind.TypeAdapters$17@23e9f48d], Factory[type=java.math.BigInteger,adapter=com.google.gson.internal.bind.TypeAdapters$18@55634ca9], Factory[type=java.net.URL,adapter=com.google.gson.internal.bind.TypeAdapters$21@4c06d059], Factory[type=java.net.URI,adapter=com.google.gson.internal.bind.TypeAdapters$22@5e997b7d], Factory[type=java.util.UUID,adapter=com.google.gson.internal.bind.TypeAdapters$24@3238a1bf], Factory[type=java.util.Currency,adapter=com.google.gson.TypeAdapter$1@7d71b555], Factory[type=java.util.Locale,adapter=com.google.gson.internal.bind.TypeAdapters$28@70f36ba], Factory[typeHierarchy=java.net.InetAddress,adapter=com.google.gson.internal.bind.TypeAdapters$23@12d8e7b5], Factory[type=java.util.BitSet,adapter=com.google.gson.TypeAdapter$1@659a9908], com.google.gson.internal.bind.DateTypeAdapter$1@153143f3, Factory[type=java.util.Calendar+java.util.GregorianCalendar,adapter=com.google.gson.internal.bind.TypeAdapters$27@6bf50d09], com.google.gson.internal.bind.TimeTypeAdapter$1@3e45ba8d, com.google.gson.internal.bind.SqlDateTypeAdapter$1@f262694, com.google.gson.internal.bind.TypeAdapters$26@1017c258, com.google.gson.internal.bind.ArrayTypeAdapter$1@53c90816, Factory[type=java.lang.Class,adapter=com.google.gson.TypeAdapter$1@40cb5130], com.google.gson.internal.bind.CollectionTypeAdapterFactory@7e67cd3b, com.google.gson.internal.bind.MapTypeAdapterFactory@504cd5ad, com.google.gson.internal.bind.JsonAdapterAnnotationTypeAdapterFactory@4b5efe0a, com.google.gson.internal.bind.TypeAdapters$30@51066480, com.google.gson.internal.bind.ReflectiveTypeAdapterFactory@11c8758e],instanceCreators:{}}, hostPort=localhost:5778), metrics=io.jaegertracing.internal.metrics.Metrics@279f3ba7, sampler=ProbabilisticSampler(positiveSamplingBoundary=9223372036854776, negativeSamplingBoundary=-9223372036854776, samplingRate=0.001, tags={sampler.type=probabilistic, sampler.param=0.001})), ipv4=2130706433, tags={hostname=rhel7-large-74052, jaeger.version=Java-0.30.4, ip=127.0.0.1}, zipkinSharedRpcSpan=false, baggageSetter=io.jaegertracing.internal.baggage.BaggageSetter@1b8d3ff0, expandExceptionLogs=false)
{code}

I think these messages are not useful on INFO level and should be lowered to either DEBUG or TRACE level.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-22 09:07:29.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,18.0,,,,,,,,,,"1|i006yf:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Aug/18 9:07 AM;juraci.costa;The second message was greatly reduced by https://github.com/jaegertracing/jaeger-client-java/pull/528 . As part of WFLY-10877, I'm opening a PR to bump Jaeger to 0.30.5 (released a couple of minutes ago), which includes the mentioned PR. Do you think it would be enough? Otherwise, I think we may want to reduce them via the logging subsystem.","22/Aug/18 9:43 AM;mjurc;[~juraci.costa], [~jstourac]: I'm bumping this up to blocker for WF14, since it bloats the logs by A LOT.","22/Aug/18 9:51 AM;jstourac;[~juraci.costa], this is improvement, but still - I think that such information is quite specific for INFO level from my point of view. I vote to reduce both of the log messages in question to DEBUG or TRACE level.","22/Aug/18 10:03 AM;juraci.costa;I opened a PR at upstream: https://github.com/jaegertracing/jaeger-client-java/pull/531
If it gets accepted/merged in time, I'll release 0.30.6 incorporating this change. In the meantime, I'll open a PR to change the logging subsystem to log only WARN+ messages for io.jaegertracing.","22/Aug/18 10:08 AM;juraci.costa;While testing another issue, I see that this message should also be downgraded/supressed:

{code}
16:07:03,673 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,708 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,712 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,716 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,739 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,740 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,751 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,757 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,762 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,766 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,767 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,777 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,783 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,784 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,785 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,787 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,788 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,789 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,791 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,794 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,797 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
16:07:03,802 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
{code}

cc [~pavol_loffay]","22/Aug/18 10:12 AM;jstourac;Thank you [~juraci.costa]. Yes this looks like a good candidate to move to DEBUG/TRACE too.","22/Aug/18 10:23 AM;juraci.costa;Upstream PR for OT-contrib JAX-RS: https://github.com/opentracing-contrib/java-jaxrs/pull/94","23/Aug/18 9:34 AM;juraci.costa;If we can't get the upstream PR merged in time, I'd need a change like this in the standalone.xml:

{code}
  <logger category=""io.jaegertracing"">
    <level name=""WARN""/>
  </logger>
{code}

I can't seem to find where to do it, though. [~jamezp], perhaps you'd know?","23/Aug/18 9:46 AM;juraci.costa;Looks like the PR just got approved. This version of Jaeger still keeps the ""Initialized tracer..."" message, but in a more useful version: https://github.com/jaegertracing/jaeger-client-java/pull/531#issuecomment-415325132 (the examples there have new lines for better visualization, but these are all in one line on the actual log)

So, the snipped from my previous comment might not be necessary, if [~jstourac] deems this new log entry as acceptable.","23/Aug/18 11:18 AM;jstourac;[~juraci.costa], thank you for the update. The new version looks better as there are much less data provided. Although, to be honest, I still think this kind of data would be better not to include in the INFO level. This message is printed with every deployment that is deployed on the server and JaegerTracer is registered for it.","23/Aug/18 11:22 AM;juraci.costa;As each deployment has its own tracer, I think this is actually a good thing, especially once we allow each deployment to have its own configuration (sampling strategy, collector endpoint, ...). I would assume that an admin managing a server with enough deployments for this to be a concern would suppress this via standalone.xml (along with other log entry candidates).","23/Aug/18 11:48 AM;jamezp;[~juraci.costa] It would have to be done in WildFly Core. I did notice that a lot of the OpenTracing dependencies seem to be fairly verbose with logging. IMO those {{Registering tracing on deployed resources...}} don't really tell you much.

If we want to add a logger to print WARN and higher the [subsystem template|https://github.com/wildfly/wildfly-core/blob/master/logging/src/main/resources/subsystem-templates/logging.xml#L43] and the [logging.properties|https://github.com/wildfly/wildfly-core/blob/master/core-feature-pack/src/main/resources/content/standalone/configuration/logging.properties] need to be modified. There are probably a few different logging.properties that need to be modified really. That's probably something I could do though.","24/Aug/18 8:15 AM;jstourac;[~juraci.costa], thank you for the update.

I've briefly tried how the logging looks like with current master ({{3c8d65218a7e64126f86708e56c0a21bbf281a97}}). The {{Initialized tracer}} info message is shorter indeed and doesn't pollute the log too much anymore. As I stated before, I still think there is too much information on INFO level. Although, I don't consider this part as a blocker anymore. Just one thing - I noticed that it looks like same information is logged on both INFO and DEBUG level. When I increased logging to debug and deployed jax-rs application, I can see following messages in the server.log:
{code}
10:52:11,446 DEBUG [io.undertow.session] (ServerService Thread Pool -- 72) Setting default session timeout to 1800
10:52:11,462 DEBUG [io.undertow.session] (ServerService Thread Pool -- 72) Registered session listener io.undertow.servlet.core.SessionListenerBridge@235e513c
10:52:11,488 DEBUG [io.jaegertracing.thrift.internal.senders.ThriftSenderFactory] (ServerService Thread Pool -- 72) Using the UDP Sender to send spans to the agent.
10:52:11,502 DEBUG [io.jaegertracing.internal.senders.SenderResolver] (ServerService Thread Pool -- 72) Using sender UdpSender()
10:52:11,703 INFO  [io.jaegertracing.Configuration] (ServerService Thread Pool -- 72) Initialized tracer=JaegerTracer(version=Java-0.30.6, serviceName=helloworld-rs.war, reporter=RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), sampler=RemoteControlledSampler(maxOperations=2000, manager=HttpSamplingManager(hostPort=localhost:5778), sampler=ProbabilisticSampler(tags={sampler.type=probabilistic, sampler.param=0.001})), tags={hostname=dhcp-10-40-5-80.brq.redhat.com, jaeger.version=Java-0.30.6, ip=10.40.5.80}, zipkinSharedRpcSpan=false, expandExceptionLogs=false)
10:52:11,706 DEBUG [org.wildfly.microprofile.opentracing.smallrye] (ServerService Thread Pool -- 72) WFLYTRAC0004: Registering io.jaegertracing.internal.JaegerTracer as the OpenTracing Tracer
10:52:11,714 DEBUG [org.wildfly.microprofile.opentracing.smallrye] (ServerService Thread Pool -- 72) WFLYTRAC0001: Tracer initialized: JaegerTracer(version=Java-0.30.6, serviceName=helloworld-rs.war, reporter=RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), sampler=RemoteControlledSampler(maxOperations=2000, manager=HttpSamplingManager(hostPort=localhost:5778), sampler=ProbabilisticSampler(tags={sampler.type=probabilistic, sampler.param=0.001})), tags={hostname=dhcp-10-40-5-80.brq.redhat.com, jaeger.version=Java-0.30.6, ip=10.40.5.80}, zipkinSharedRpcSpan=false, expandExceptionLogs=false)
10:52:11,779 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 72) WFLYUT0021: Registered web context: '/helloworld-rs' for server 'default-server'
10:52:11,903 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0010: Deployed ""helloworld-rs.war"" (runtime-name : ""helloworld-rs.war"")
10:52:11,904 DEBUG [org.jboss.as.server.deployment.scanner] (ServerService Thread Pool -- 72) Updating status after deployment notification for helloworld-rs.war
{code}
Notice the '{{JaegerTracer(version=Java-0.30.6}}...' part - the same information is logged on both INFO and DEBUG level. I think this is what we don't want. We should either remove the INFO level at all in this case or just provide very brief info like:
{code}
10:52:11,703 INFO  \[io.jaegertracing.Configuration\] (ServerService Thread Pool -- 72) Initialized tracer for service helloworld-rs.war
{code}","24/Aug/18 9:13 AM;juraci.costa;That's a good point. The reason it happens is because we allow applications to provide their own tracers, which the MP-OT subsystem logs as DEBUG level, whereas the other message is at the Jaeger level.

If we remove the debug level message, we'll be potentially be removing a valuable source of information to users who are deploying a custom tracer, which might be also a Jaeger tracer, with a different configuration. 

IMO, we can live with that, as DEBUG does imply (to me) that the same info might be printed out at different layers.","24/Aug/18 9:27 AM;jstourac;Just for a clarification - my point was not to remove DEBUG level log message. I just wanted to show that removing INFO level in this case actually does not remove any information as it is there still on DEBUG level. :)

Also, regarding to the log messages you mentioned in [one of your previous comment|https://issues.jboss.org/browse/WFLY-10904?focusedCommentId=13622673&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13622673], 
{code}
16:07:03,673 INFO  [io.opentracing.contrib.jaxrs2.server.ServerTracingDynamicFeature] (ServerService Thread Pool -- 10) Registering tracing on deployed resources...
{code}
Is it still there? I think I cannot reproduce it via running the {{mvn test -Dtest=org.jboss.as.test.integration.microprofile.opentracing.**}} in {{testsuite/integration/basic}}.","24/Aug/18 9:34 AM;juraci.costa;{quote}
I just wanted to show that removing INFO level in this case actually does not remove any information as it is there still on DEBUG level.
{quote}

Alright. I'll assume it's fine then, as they are logged at different levels and potentially only one of them might exist depending on the setup.

{quote}
 I think I cannot reproduce it 
{quote}

The JAX-RS message has been removed: https://github.com/opentracing-contrib/java-jaxrs/pull/94

If the log is set to JUL's FINE (not sure which level relates to JBoss Logging), you should see a more verbose variant of that message.","24/Aug/18 10:09 AM;jstourac;Thank you Juraci.

bq. Alright. I'll assume it's fine then, as they are logged at different levels and potentially only one of them might exist depending on the setup.

I agree it is not blocker now. Logging looks much better, although I have created a followup issue WFLY-10919. In case that DEBUG level is enabled, both INFO and DEBUG log messages are printed together.","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Artemis to 2.6.3.jbossorg-0014,WFLY-11419,12780935,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,martyn-taylor,ehugonnet,ehugonnet,26/Nov/18 9:07 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,27/Nov/18 3:58 PM,15.0.0.Beta1,,,,,15.0.0.Final,,,JMS,,,,,,,,,,,0,,,,,Upgrade Artemis to fix WFLY-11418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:29.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11889,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01izc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Message sent to JMSReplyTo from old client does not find correct binding,WFLY-11143,12773509,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,martyn-taylor,mnovak,mnovak,09/Oct/18 5:54 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,12/Dec/18 9:30 AM,14.0.0.Final,,,,,15.0.0.Final,,,JMS,,,,,,,,,,,0,,,,,"There is regression in backward compatibility of messaging client. JMSReplyTo destination set by older client contains incorrect address which causes that reply message does not have correct binding and such message is lost. 

Impact: Applications will stop work after upgrade to WF14/EAP 7.2.0.CD14.

Test Scenario:
* Start EAP 7.2.0.CD14/WF14 server (Artemis 2.x) with deployed InQueue and OutQueue
* Send message to InQueue from older EAP 7.2.0.CD13/WF13/Artemis 1.5.5 client to InQueue. Message has JMSReplyTo header set to OutQueue. Client got ""OutQueue"" queue from JNDI lookup from EAP7.2.0.CD14/WF14
* Deploy MDB to server
** MDB consumes message from InQueue and sends new message to destination defined in JMSReplyTo header (so to OutQueue)
* Receive message from OutQueue

Result:
No message is received from OutQueue. There is debug message in server log:
{code}
11:36:09,565 DEBUG [org.apache.activemq.artemis.core.postoffice.impl.PostOfficeImpl] (Thread-25 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$5@22848193)) Message CoreMessage[m
essageID=214,durable=true,userID=c0de8bd0-cba6-11e8-840f-f496342f6705,priority=4, timestamp=Tue Oct 09 11:36:09 CEST 2018,expiration=0, durable=true, address=jms.queue.OutQueue,size=580,properties=TypedPropertie
s[inMessageId=ID:c0383a39-cba6-11e8-95ad-f496342f6705,__AMQ_CID=c0d9349a-cba6-11e8-840f-f496342f6705,_AMQ_DUPL_ID=90d1e80e-116d-4eef-9513-84c6085549db,_AMQ_ROUTING_TYPE=0]]@1680840457 is not going anywhere as it
 didn't have a binding on address:jms.queue.OutQueue
{code}

which indicates that jms.queue.OutQueue address does not have a binding.

The same happesn if older EAP/WF server (with Artemis 1.5.5x) is used and new EAP 7.2.0.CD14/WF14(Artemis 2.x) client is used.",,,,,,,,,,,,,JBEAP-15623,,WFLY-11338,,,,,,,,,WFLY-11145,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-18 07:35:40.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,7.0,,,,,,,,,,"1|z00deg:",9223372036854775807,,0.0,,,,,"Steps to reproduce:
{code}
git clone git://git.app.eng.bos.redhat.com/jbossqe/eap-tests-hornetq.git
cd eap-tests-hornetq/scripts/
git checkout master

groovy -DEAP_ZIP_URL=http://download.eng.brq.redhat.com/devel/candidates/JBEAP/JBEAP-7.2.0.CD14.CR2/jboss-eap-7.2.0.CD14.CR2.zip PrepareServers7.groovy
export WORKSPACE=$PWD
export JBOSS_HOME_1=$WORKSPACE/server1/jboss-eap
export JBOSS_HOME_2=$WORKSPACE/server2/jboss-eap
export JBOSS_HOME_3=$WORKSPACE/server3/jboss-eap
export JBOSS_HOME_4=$WORKSPACE/server4/jboss-eap

cd ../jboss-hornetq-testsuite/
mvn clean test -Dtest=JcaTestCase#testReplyTo    -Deap7.org.jboss.qa.hornetq.apps.clients.version=7.2.0.CD13.CR2 | tee log
{code}
",,,,,,,,,,,"09/Oct/18 8:51 AM;mnovak;[~martyn-taylor] it's not possible to configure and try possible workaround with anycast/multicast prefixes as messaging subsystem does not allow to set them atm. This should be addressed in WFLY-11145.","11/Oct/18 9:48 AM;mnovak;[~martyn-taylor] Even [~ehugonnet]] has fixed the prefixes then I think workaround cannot help in this case. MDB is consuming message from InQueue and it does not know if it was sent by old/new client. Thus when it processes the message and sends response to reply queue then it does not know if prefix should be used or not. ","12/Dec/18 5:47 AM;mnovak;[~ehugonnet] Did all the fixes for JBEAP-15889 get to Wildfly 15 or it will be fixed in Wildfly16?","12/Dec/18 8:14 AM;ehugonnet;it went with jboss0014 so I guess it is WF15","12/Dec/18 9:30 AM;mnovak;Ok, setting as resolved.","15/Jan/19 12:54 PM;jamezp;I changed the fix version to WildFly 15 as the fix seems to be in 2.6.3.jbossorg-00014 which is included in WildFly 15.0.0.Final.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix wrong grep escaping on wsprovide and wsconsume scripts,WFLY-11222,12775677,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,mkopecky,mkopecky,mkopecky,22/Oct/18 7:43 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,23/Oct/18 10:33 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Scripts,,,,,,,,,,,0,,,,,"Wrong grep escaping on wsprovide and wsconsume scripts.

How to reproduce:
On solaris11 with latest upgrade of grep:
{noformat}
[hudson@dev36-03 bin]$ ./wsprovide.sh -h
grep: illegal option -- e
grep: illegal option -- m
grep: illegal option -- g
grep: illegal option -- r
Usage: grep [-c|-l|-q] -bhinsvw pattern file . . .
... wsprovide help message  ...
[hudson@dev36-03 bin]$
{noformat}

On RHEL:
Security manager is activated with any non-related property that contains ""cmgr"" string, example:
{code:bash}
export JAVA_OPTS=""-Daaacmgrbbb=false""
./wsconsume.sh https://raw.githubusercontent.com/jbossws/jbossws-cxf/master/modules/testsuite/shared-tests/src/test/resources/jaxws/smoke/tools/wsdl/TestServiceSoap12.wsdl
{code}
",,,,,,,,,,,,,,,,,,,,,,,,WFLY-10241,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11771,https://github.com/wildfly/wildfly/pull/11772,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00pfc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Oct/18 7:48 AM;mkopecky;See also [the discussion on WFLY-10241|https://issues.jboss.org/browse/WFLY-10241?focusedCommentId=13651019&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13651019]","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"XtsAsLogger doesn't compile on JDK11, WildFly can't be build on Java 11",WFLY-11092,12772098,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ochaloup,pkremens,pkremens,01/Oct/18 2:33 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,02/Oct/18 1:11 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Server,XTS,,,,,,,,,,0,Java11,,,,"Compilation failure on JDK 11 introduced by https://github.com/wildfly/wildfly/pull/11702
{noformat}
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project wildfly-xts: Compilation failure
[ERROR] /home/pkremens/devel/wildfly/xts/target/generated-sources/annotations/org/jboss/as/xts/logging/XtsAsLogger_$logger.java:[11,22] '.' expected
{noformat}",,,,,,,,,WFLY-9455,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-01 06:57:10.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11706,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z0057s:",9223372036854775807,,0.0,,,,,"{noformat}
mvn clean compile -pl xts
{noformat}
",,,,,,,,,,,"01/Oct/18 6:57 AM;ochaloup;Thanks [~pkremens], my wrong. I didn't tried that on my local machine thus I haven't realized that the JDK11 removes the `javax` package and the logger can't see it anymore during the code generating.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix verifier and docs version,WFLY-10958,12767578,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,yersan,yersan,yersan,31/Aug/18 3:59 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,31/Aug/18 12:01 PM,No Release,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,,,,,It was left over changing the verifier version after the final release. After each new release the product.docs.server.version and verifier.product.release.version properties should be changed as well.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-31 12:01:56.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11627,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|i00ezr:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"31/Aug/18 12:01 PM;rhusar;Merged.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
wsconsume/wsprovide failure on wildfly14 + JDK 11,WFLY-11128,12773210,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,rsearls,mazounne,mazounne,06/Oct/18 10:42 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,15/Oct/18 3:40 PM,13.0.0.Final,14.0.0.Final,,,,15.0.0.Beta1,15.0.0.Final,,Web Services,,,,,,,,,,,0,Java11,,,,"running wsconsume/wsprovide on a single jax-ws service with JDK 11 failes. (see attached log.txt file)
the service is very simple.
",,,,,,,,,WFLY-10318,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Oct/18 11:18 PM;mazounne;HelloWorldService-imported.xml;https://issues.redhat.com/secure/attachment/12441505/HelloWorldService-imported.xml","08/Oct/18 11:18 PM;mazounne;HelloWorldService.xml;https://issues.redhat.com/secure/attachment/12441504/HelloWorldService.xml","08/Oct/18 1:58 PM;mazounne;demo-service-code.zip;https://issues.redhat.com/secure/attachment/12441500/demo-service-code.zip","06/Oct/18 10:40 AM;mazounne;log.txt;https://issues.redhat.com/secure/attachment/12441471/log.txt","08/Oct/18 1:50 PM;mazounne;logs.zip;https://issues.redhat.com/secure/attachment/12441499/logs.zip",,,,,,,,,,,,Migration,,,,,,,,,,,,,,,2018-10-08 13:16:23.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11725,,,,,,,,,,,,,,,,5.0,9.0,,,,,,,,,,"1|z00bn4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Oct/18 1:16 PM;rsearls;I believe this is related to issue https://issues.jboss.org/browse/MODULES-372.

I do not have access to a windows machine currently.   Please try the following test.
Add --add-module java.se  to your JAVA_OPTS env var and run your app.

If this also fails.  Please provide a simple app to demonstrate the failure.
","08/Oct/18 1:52 PM;mazounne;The --add-module java.se is already included in the standalone.bat java options (wildfly 14).
I added it to the wsconsume.bat java options but I am receiving the same error.
See attached logs for more details along with the demo application. [^logs.zip] 
","08/Oct/18 1:58 PM;mazounne;The source code for the demo service [^demo-service-code.zip] ","08/Oct/18 3:19 PM;rsearls;wsconsume needs a wsdl.  Your zip file is just the java files.  Do you have the wsdl for this?","08/Oct/18 11:18 PM;mazounne;I thought you will deploy the war file (previous attachment) to get the WSDL. Find attached an offline version of the WSDL.
Update the URL as needed. [^HelloWorldService.xml]  [^HelloWorldService-imported.xml] ","09/Oct/18 8:36 AM;rsearls;This failure also occurs on unix for wfly 13 and 14.
The script runs with wfly12 using both jdk 10 and 11.
This is an issue with changes made in jboss-modules.jar since version 1.7.0.Final.
wfly12 uses jboss-modules:1.7.0.Final
wfly13 uses jboss-modules:1.8.5.Final
wfly14 uses jboss-modules:1.8.6.Final","09/Oct/18 11:29 AM;kabirkhan;[~jamezp] [~rsvoboda] [~asoldano] I cloned it to JBEAP-15630","12/Oct/18 5:13 AM;mkopecky;this issue affects also wsprovide:
# use https://issues.jboss.org/secure/attachment/12433975/classes.zip
# ./wsprovide.sh -k -c ~/some-path/classes -o out org.jboss.as.testsuite.integration.scripts.test.tools.Echo1Impl

https://github.com/wildfly/wildfly/pull/11725 fixes wsprovide issue","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Message sent to JMSReplyTo from new client to old server does not find correct binding,WFLY-11418,12780934,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,martyn-taylor,ehugonnet,ehugonnet,26/Nov/18 9:05 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,28/Nov/18 7:54 PM,15.0.0.Beta1,,,,,15.0.0.Final,,,JMS,,,,,,,,,,,0,,,,,"There is regression in backward compatibility of messaging client. JMSReplyTo destination set by new client contains incorrect address which causes that reply message does not have correct binding and such message is lost. 

Impact: Applications will stop work after upgrading client to WF14/EAP 7.2.0.CD14/EAP 7.2.0.GA.

Test Scenario:
* Start EAP 7.1.x/7.2.0.CD13 server (Artemis 1.5.x) with deployed InQueue and OutQueue
* Send message to InQueue by new EAP 7.2.0.GA.CR1 client to InQueue. Message has JMSReplyTo header set to OutQueue. Client got ""OutQueue"" queue from JNDI lookup from EAP 7.1.x/7.2.0.CD13
* Deploy MDB to server
** MDB consumes message from InQueue and sends new message to destination defined in JMSReplyTo header (so to OutQueue)
* Receive message from OutQueue

Result:
No message is received from OutQueue. There is ERROR message in server log:
{code}
15:52:46,005 ERROR [org.jboss.qa.hornetq.apps.mdb.LocalMdbFromQueueJMSReply] (Thread-0 (ActiveMQ-client-global-threads)) Invalid address queue://jms.queue.OutQueue: javax.jms.JMSRuntimeException: Invalid address queue://jms.queue.OutQueue
	at org.apache.activemq.artemis.jms.client.ActiveMQDestination.fromAddress(ActiveMQDestination.java:119)
	at org.apache.activemq.artemis.jms.client.ActiveMQMessage.getJMSReplyTo(ActiveMQMessage.java:356)
	at org.jboss.qa.hornetq.apps.mdb.LocalMdbFromQueueJMSReply.onMessage(LocalMdbFromQueueJMSReply.java:103) [mdb-reply:]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_181]
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45) [wildfly-ee-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:255) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:334) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:240) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponentDescription$5$1.processInvocation(MessageDrivenComponentDescription.java:239) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:609) [wildfly-elytron-1.1.10.Final-redhat-1.jar:1.1.10.Final-redhat-1]
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)
	at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)
	at org.jboss.qa.hornetq.apps.mdb.LocalMdbFromQueueJMSReply$$$view1.onMessage(Unknown Source) [mdb-reply:]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_181]
	at org.jboss.as.ejb3.inflow.MessageEndpointInvocationHandler.doInvoke(MessageEndpointInvocationHandler.java:139) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.as.ejb3.inflow.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:73) [wildfly-ejb3-7.1.3.GA-redhat-2.jar:7.1.3.GA-redhat-2]
	at org.jboss.qa.hornetq.apps.mdb.LocalMdbFromQueueJMSReply$$$endpoint1.onMessage(Unknown Source) [mdb-reply:]
	at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.onMessage(ActiveMQMessageHandler.java:303)
	at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.callOnMessage(ClientConsumerImpl.java:1001)
	at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.access$400(ClientConsumerImpl.java:49)
	at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl$Runner.run(ClientConsumerImpl.java:1124)
	at org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$ExecutorTask.run(OrderedExecutorFactory.java:122)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_181]
{code}",,,,,,,,,,,,,JBEAP-15889,,WFLY-11419,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Regression,,,,+,,,,,,,,2019-10-02 19:05:13.0,,,,,,,,,,https://github.com/rh-messaging/activemq-artemis/pull/168,https://github.com/wildfly/wildfly/pull/11889,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01iz4:",9223372036854775807,,0.0,,,,,"Steps to reproduce:
{code}
git clone git://git.app.eng.bos.redhat.com/jbossqe/eap-tests-hornetq.git
cd eap-tests-hornetq/scripts/
git checkout master

groovy -DEAP_ZIP_URL=http://download.eng.brq.redhat.com/devel/candidates/JBEAP/JBEAP-7.2.0.CD13-SP01.CR1/jboss-eap-7.2.0.CD13-SP01.CR1.zip PrepareServers7.groovy
export WORKSPACE=$PWD
export JBOSS_HOME_1=$WORKSPACE/server1/jboss-eap
export JBOSS_HOME_2=$WORKSPACE/server2/jboss-eap
export JBOSS_HOME_3=$WORKSPACE/server3/jboss-eap
export JBOSS_HOME_4=$WORKSPACE/server4/jboss-eap

cd ../jboss-hornetq-testsuite/
mvn clean test -Dtest=JcaTestCase#testReplyTo    -Deap7.org.jboss.qa.hornetq.apps.clients.version=7.2.0.GA.CR1 | tee log
{code}
",,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Starting WFLY scripts with JDK 11 blows up with ModuleNotFoundException java.se,WFLY-10937,12767006,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ropalka,mkopecky,mkopecky,28/Aug/18 1:51 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,20/Sep/18 10:22 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Scripts,,,,,,,,,,,0,blocker-WF14,Java11,jdk11,,"Starting WFLY scripts with JDK 11 blows up with ModuleNotFoundException java.se

*Affected scripts*
* appclient
* jdr
* wsconsume
* wsprovide

*Example of logs*
{noformat}
[mkopecky@dhcp-10-40-4-197 bin]$ ./jdr.sh 
org.jboss.modules.ModuleNotFoundException: java.se
	at org.jboss.modules.Module.addPaths(Module.java:1266)
	at org.jboss.modules.Module.link(Module.java:1622)
	at org.jboss.modules.Module.relinkIfNecessary(Module.java:1650)
	at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:296)
	at org.jboss.modules.Main.main(Main.java:437)
[mkopecky@dhcp-10-40-4-197 bin]$ 
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,WFCORE-3962,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Jan/19 2:54 AM;suganya_rajeswaran;appclient.conf.bat;https://issues.redhat.com/secure/attachment/12446071/appclient.conf.bat",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-28 16:00:48.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11612,,,,,,,,,,,,,,,,1.0,15.0,,,,,,,,,,"1|i00bn3:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Aug/18 4:00 PM;jamezp;This is likely best to wait for the https://github.com/wildfly/wildfly-core/pull/3488 to be merged. This introduces some common scripts to keep detection consistent.","29/Aug/18 3:06 AM;baranowb;Workaround: add --add-modules java.se to script where eval $JAVA is","25/Jan/19 4:28 AM;suganya_rajeswaran;[~baranowb] How to add the same for windows in appclient.bat??","27/Jan/19 4:06 AM;jamezp;[~suganya_rajeswaran] I believe this is already done in WildFly 15. If you're using an earlier version just edit the {{appclient.conf.bat}} file and add something like {{set ""JAVA_OPTS=%JAVA_OPTS% --add-modules=java.se""}} at the bottom of that file.","28/Jan/19 1:36 AM;suganya_rajeswaran;[~jamezp] I tried it... getting the same exception as below.


org.jboss.modules.ModuleNotFoundException: java.se
	at org.jboss.modules.Module.addPaths(Module.java:1266)
	at org.jboss.modules.Module.link(Module.java:1622)
	at org.jboss.modules.Module.relinkIfNecessary(Module.java:1650)
	at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:296)
	at org.jboss.modules.Main.main(Main.java:437)
","28/Jan/19 2:48 AM;jamezp;Can you attach you're {{standlone.conf.bat}} file?","28/Jan/19 2:54 AM;suganya_rajeswaran; [^appclient.conf.bat] 

FYR [~jamezp]","28/Jan/19 2:59 AM;jamezp;Are your {{JAVA_OPTS}} already set by chance? You could try moving that setting below {{:JAVA_OPTS_SET}}. That way even if the {{JAVA_OPTS}} are set it should be set.","28/Jan/19 3:05 AM;suganya_rajeswaran;I have place 
set ""JAVA_OPTS=%JAVA_OPTS% -add-modules=java.se""
after 
:JAVA_OPTS_SET

my understanding is correct?","28/Jan/19 8:13 AM;jamezp;Yes. In the attached {{standalone.conf.bat}} it appears to be above that label.","29/Jan/19 12:16 AM;suganya_rajeswaran;[~jamezp] Tried as u said... getting the same exception again.","29/Jan/19 4:07 AM;jamezp;I'm not sure what could be causing it then. It seems to work for and really with WildFly 15 the argument should be automatically added.","29/Jan/19 6:23 AM;mkopecky;[~suganya_rajeswaran]: I confirm that appclient.bat works correctly with WF 15, but don't work correctly with WF 14.0.1
{noformat}
C:\Users\Administrator\wildfly-14.0.1.Final\bin>appclient.bat
Calling ""C:\Users\Administrator\wildfly-14.0.1.Final\bin\appclient.conf.bat""
org.jboss.modules.ModuleNotFoundException: java.se
        at org.jboss.modules.Module.addPaths(Module.java:1266)
        at org.jboss.modules.Module.link(Module.java:1622)
        at org.jboss.modules.Module.relinkIfNecessary(Module.java:1650)
        at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:296)
        at org.jboss.modules.Main.main(Main.java:437)

C:\Users\Administrator\wildfly-14.0.1.Final\bin>
{noformat}
{noformat}
C:\Users\Administrator\wildfly-15.0.0.Final\bin>appclient.bat
Calling ""C:\Users\Administrator\wildfly-15.0.0.Final\bin\appclient.conf.bat""
12:22:19,026 INFO  [org.jboss.modules] (main) JBoss Modules version 1.8.7.Final
WFLYAC0004: You must specify the application client to execute
The appclient script starts an application client which can be used to test and access the deployed EJBs.
Usage: appclient [args...]
where args include:
    --appclient-config=<config>         Name of the app client configuration
                                        file to use (default is ""appclient.xml"")


    -h, --help                          Display this message and exit


    --host=<url>, -H=<url>              Set the url of the application server
                                        instance to connect to


    -P=<url>, --properties=<url>        Load system properties from the given
                                        url


    --ejb-client-properties=<url>       Load ejb-client.properties file from
                                        the given url


    -D<name>[=value]                    Set a system property


    -v, --version                       Print version and exit


    -secmgr                             Runs the container with the security
                                        manager enabled.



C:\Users\Administrator\wildfly-15.0.0.Final\bin>
{noformat}","29/Jan/19 6:27 AM;suganya_rajeswaran;Thanks [~mkopecky] and [~jamezp]

Lemme try working out with WildFly 15. :)","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JDK11 ws testsuite SSL failures,WFLY-10945,12767227,12763928,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,honza889,honza889,honza889,29/Aug/18 7:17 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,20/Sep/18 10:34 AM,14.0.0.Beta2,,,,,15.0.0.Beta1,15.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"ws testsuite failures on JDK-11:
* missing local IP in SubjectAlternativeNamesExtension
* TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 + TLS1.2 seems buggy on JDK-11: Invalid ECDH ServerKeyExchange signature
 * not issue after switching to TLS1.1 or to ciphersuite TLS_RSA_WITH_AES_256_CBC_SHA256 -> JDK bug",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-08 10:39:10.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11613,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|i00cxj:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Oct/18 10:39 AM;mchoma;Regarding TLSv1.2 issue this looks similar https://markmail.org/message/5ckezyfj5vj2v63r .
[~jbliznak] Is bouncy castle provider involved in test? It is not obvious at first glance, but is it possible Bouncy Castle is registred before JSSE on client side or server side?","08/Oct/18 11:39 AM;jbliznak;JBWS is not registering BC as a global security provider but it is using dynamic loading mechanism via special interceptors which load the BC provider to exchange of the message being processed to use if needed, check
https://github.com/jbossws/jbossws-cxf/blob/jbossws-cxf-5.2.3.Final/modules/client/src/main/java/org/jboss/wsf/stack/cxf/client/configuration/SecurityProviderConfig.java

Anyway these tests should not require BC to run, however, given the mechanism above, BC might be involved. So I tried to explicitly disable BC loading by -Dorg.jboss.ws.cxf.noLocalBC=true added to both client and server side, the result is the same as before - without the {{System.setProperty(""https.protocols"", ""TLSv1.1"");}} workaround the tests are failing.","08/Oct/18 12:40 PM;mchoma;Looking into modules/system/layers/base/org/bouncycastle/main and I see
* META-INF/services/java.security.Provider defined in bcprov-jdk15on-1.60.0.redhat-00001.jar
* this snippet in module.xml
{noformat}
   <provides>
        <service name=""java.security.Provider"">
            <with-class name=""org.bouncycastle.jce.provider.BouncyCastleProvider""/>
            <with-class name=""org.bouncycastle.pqc.jcajce.provider.BouncyCastlePQCProvider""/>
        </service>
    </provides>
{noformat}

That mean BouncyCastle is registered in JDK9+ automatically on server. BecauseIn JDK9+ providers started to be loaded also with service loader mechanism. [~dmlloyd] Do I recall correctly?","08/Oct/18 1:40 PM;dmlloyd;JDK 9 will load providers from the boot module or JAR with service loader.  But that does not apply here.  JBoss Modules will also load providers from the boot module given to it, so if this module is part of the boot module set, it will be loaded and installed.  Finally, Elytron's authentication components have the capability to locate providers at run time via service loader, but without installing them globally.  Whether this is done depends on configuration and also on what our defaults are (which I do not recall), and also (obviously) on whether the provider module is visible to the class loader on behalf of whom the service loading is being done.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
violation of call-by-value if a outbound connection is configured,WFLY-11262,12777085,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,flavia.rainone,wdfink,wdfink,31/Oct/18 5:49 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,21/Nov/18 9:44 AM,,,,,,15.0.0.Final,,,EJB,,,,,,,,,,,0,Regression,spec_violation,,,"If the server default configuration is used an EJB invocation via @Remote interface is, according to the specification, with call-by-value.

But if the application is configured with jboss-ejb-client.xml to have a remote-outbound-connection the EJB invocation via @Remote is done as call-by-reference no matter whether the configuration is default or
<in-vm-remote-interface-invocation pass-by-value=""true""/>
is used.

This is a violation of the specification and can cause serious unexpected issues at runtime for the application if the parameters or return values are mutable
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:10.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11859,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00wzk:",9223372036854775807,,0.0,,,,,"Every invocation inside of the deployed application EAR/JAR using @Remote interface is affected if a jboss-ejb-client.xml is added to have a remote-outbound-connection for ejb invocation.
It does not matter whether there is a running remote instance or the EJB is available remote!!",,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Concurrent Modification Exception when starting server with external JMS broker,WFLY-10986,12768481,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,kabirkhan,mstyk,mstyk,06/Sep/18 8:18 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Sep/18 5:54 AM,14.0.1.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JCA,JMS,,,,,,,,,,0,,,,,"Start of a WildFly with resource adapter configured to remote messaging broker sometimes fails with following error.
{code}
ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.resourceadapters.ra.""wmq.jmsra"".CF: org.jboss.msc.service.StartException in service jboss.resourceadapters.ra.""wmq.jmsra"".CF: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1728)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1364)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.ConcurrentModificationException
	at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)
	at java.util.ArrayList$Itr.next(ArrayList.java:859)
	at java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1042)
	at org.jboss.as.connector.metadata.api.resourceadapter.ActivationSecurityUtil.isLegacySecurityRequired(ActivationSecurityUtil.java:41)
	at org.jboss.as.connector.subsystems.resourceadapters.ConnectionDefinitionService.start(ConnectionDefinitionService.java:68)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1736)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1698)
	... 6 more
{code}

This issue was introduced in fix for WFLY-9978 in [this commit |https://github.com/ehsavoie/wildfly/commit/8d35c77130c8ba8c47008e1de1225971fa5d8c2e]",,,,,,,,,,,,,,,,,,,,,,,,WFLY-9978,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-06 08:28:14.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11652,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|w0020g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"06/Sep/18 8:28 AM;mnovak;[~maeste] Do you think you might take a look, please?
","07/Sep/18 9:06 AM;kabirkhan;[~mnovak] Can you try with my PR at https://github.com/wildfly/wildfly/pull/11652?","10/Sep/18 5:00 AM;kabirkhan;[~mstyk] I was mentioning Miroslav for some reason. Does my PR at https://github.com/wildfly/wildfly/pull/11652 solve it?","11/Sep/18 7:05 AM;mstyk;Kabir Khan, I tested your fix and it works. Thank you!","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Usage of static fields from java.lang classes as EL expressions in JSPs doesn't work when requested more than once,WFLY-11086,12771793,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,iweiss,adamkrajcik,adamkrajcik,27/Sep/18 8:22 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,16/Oct/18 8:46 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,downstream_dependency,,,,"Java EE7 (which supports EL 3.0 spec) allows JSPs to use EL expressions like:
{code}
<html>
   <body>
      foo: --- ${Boolean.TRUE} ---<br>
      bar: --- ${Integer.MAX_VALUE} ---<br>
   </body>
</html>
{code}
However, the
{code}
${Boolean.TRUE}
{code}
and
{code}
${Integer.MAX_VALUE}
{code}
in the above example aren't evaluated correctly if request is send more than once, and instead a blank string is rendered for them. The [^jsp-expression-lang.war] used in Steps to reproduce works correctly in 7.2.0.CD13.

More details in the linked forum thread https://developer.jboss.org/thread/271825.

The existing tests([JspELTestCase|https://github.com/wildfly/wildfly/blob/master/testsuite/integration/basic/src/test/java/org/wildfly/test/integration/jsp/JspELTestCase.java]) doesn't cover the situation when request is sent more than once.",,,,,,,,,,,,,JBEAP-15538,,,,,,,,,,,JBEAP-15513,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Sep/18 8:22 AM;adamkrajcik;jsp-expression-lang.war;https://issues.redhat.com/secure/attachment/12440945/jsp-expression-lang.war",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:06.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11714,,,,,,,,,,,,,,,,1.0,2.0,,,,,,,,,,"1|z003go:",9223372036854775807,,0.0,,,,,"1. Deploy [^jsp-expression-lang.war] to standalone/deployments
2. start server standalone.sh
3. curl http://127.0.0.1:8080/jsp-expression-lang/index.jsp
4. curl http://127.0.0.1:8080/jsp-expression-lang/index.jsp
5. The second curl does't return evaluated values.",,,,,,,,,,,"27/Sep/18 8:43 AM;adamkrajcik;Commit with updated test for Wildfly TS can be found here: https://github.com/AdamKrajcik/wildfly/commit/2f459d1e54ae000c9f1ee550a4cfec2e8b876b79","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CI - Master linux JDK 11 job - compilation fails - forked embedded process has failed ,WFLY-11121,12773035,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,aloubyansky,rsvoboda,rsvoboda,05/Oct/18 4:30 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Oct/18 11:20 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,Java11,,,,"Compilation of Master linux JDK 11 job fails - forked embedded process has failed.
https://ci.wildfly.org/viewType.html?buildTypeId=WF_MasterLinuxJdk11

{code}
[Step 2/3] [ERROR] Failed to execute goal org.wildfly.galleon-plugins:wildfly-galleon-maven-plugin:
  2.0.0.Final:generate-feature-specs (feature-spec-build) on project wildfly-servlet-galleon-pack: 
  Feature spec generator failed: Forked embedded process has failed -> [Help 1]
{code}

My local machine runs are passing for me, using {{java version ""11"" 2018-09-25 (build 11+28)}}

This fail can be related to VMs setup on TeamCity, another option can be galleon related issue.
CCing also [~aloubyansky]

We need to have valid Java 11 runs on upstream to guard proper functionality of WildFly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-05 04:37:34.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11719,https://github.com/wildfly/wildfly-core/pull/3545,,,,,,,,,,,,,,,0.0,15.0,,,,,,,,,,"1|z00als:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Oct/18 4:37 AM;kabirkhan;[~rsvoboda] test run with -X here https://ci.wildfly.org/viewLog.html?buildId=123870&buildTypeId=WF_MasterLinuxJdk11

[~ropalka] [~aloubyansky] FYI","05/Oct/18 4:42 AM;msvehla;I raised the priority to blocker. While this doesn't really block any build, it's major obstacle for processing PRs.","05/Oct/18 6:25 AM;kabirkhan;THe -X doesn't yield anything super-useful:
{code}
[01:48:35] :	 [Step 2/3] Caused by: org.jboss.galleon.ProvisioningException: Forked embedded process has failed
[01:48:35] :	 [Step 2/3]     at org.wildfly.galleon.plugin.server.ForkedEmbeddedUtil.fork (ForkedEmbeddedUtil.java:148)
[01:48:35] :	 [Step 2/3]     at org.wildfly.galleon.plugin.featurespec.generator.FeatureSpecGenerator.doGenerate (FeatureSpecGenerator.java:175)
[01:48:35] :	 [Step 2/3]     at org.wildfly.galleon.plugin.featurespec.generator.FeatureSpecGenerator.generateSpecs (FeatureSpecGenerator.java:143)
[01:48:35] :	 [Step 2/3]     at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
[01:48:35] :	 [Step 2/3]     at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
[01:48:35] :	 [Step 2/3]     at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
[01:48:35] :	 [Step 2/3]     at java.lang.reflect.Method.invoke (Method.java:566)
[01:48:35] :	 [Step 2/3]     at org.wildfly.galleon.maven.FeatureSpecGeneratorInvoker.generateSpecs (FeatureSpecGeneratorInvoker.java:46)
[01:48:35] :	 [Step 2/3]     at org.wildfly.galleon.maven.WfFeatureSpecBuildMojo.doExecute (WfFeatureSpecBuildMojo.java:294)
[01:48:35] :	 [Step 2/3]     at org.wildfly.galleon.maven.WfFeatureSpecBuildMojo.execute (WfFeatureSpecBuildMojo.java:191)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.cli.MavenCli.execute (MavenCli.java:954)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)
[01:48:35] :	 [Step 2/3]     at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)
[01:48:35] :	 [Step 2/3]     at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)
[01:48:35] :	 [Step 2/3]     at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)
[01:48:35] :	 [Step 2/3]     at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)
[01:48:35] :	 [Step 2/3]     at java.lang.reflect.Method.invoke (Method.java:566)
[01:48:35] :	 [Step 2/3]     at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)
[01:48:35] :	 [Step 2/3]     at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)
[01:48:35] :	 [Step 2/3]     at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)
[01:48:35] :	 [Step 2/3]     at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)
{code}

Looking in the [fork method|https://github.com/wildfly/galleon-plugins/blob/2.0.0.Final/galleon-plugins/src/main/java/org/wildfly/galleon/plugin/server/ForkedEmbeddedUtil.java#L96] it seems to add the --add-modules=java.se stuff:
{code}
        if (getJavaVersion() >= 11) {
            argsList.add(""--add-modules"");
            argsList.add(""java.se"");
        }
{code}
But does this end up as {code}--add-modules=java.se{code} or {code}--add-modules java.se{code}?

From https://github.com/wildfly/wildfly-core/pull/3461/files#diff-28c7f18306232b9dc36e31d167e1a0ebR123 it looks like the equals sign is needed. Also, could it be that we need the {code}--add-exports{code} ones from this PR too?
CC [~ropalka]","05/Oct/18 6:30 AM;aloubyansky;The cause is

[01:40:42] :	 [Step 2/3] Unrecognized option: --add-modules
[01:40:42] :	 [Step 2/3] Error: Could not create the Java Virtual Machine.
[01:40:42] :	 [Step 2/3] Error: A fatal exception has occurred. Program will exit.

This is when I fork a process for the embedded server. Not forking could be a workaround.","05/Oct/18 6:31 AM;aloubyansky;That's to add ""--add-modules java.se"" for JDK11.","05/Oct/18 6:34 AM;kabirkhan;Could it be that the forked vm is not Java11?","05/Oct/18 8:02 AM;ropalka;For JVM both formats are acceptable [~kabirkhan] [~aloubyansky]:
--add-modules java.se
--add-modules=java.se
But WildFly JVM arguments parsing code
is able to deal with second format only.","05/Oct/18 9:50 AM;luck3y;I'm happy to help with this on CI, but this issue should not be assigned to me, IMO.

If I'm wrong, please reassign it back to me, and let me know what you need me to do :)","05/Oct/18 2:59 PM;aloubyansky;Just for the record, if I change it to --add-modules=java.se I get

[11:50:32] :	 [Step 2/3] Unrecognized option: --add-modules=java.se
[11:50:32] :	 [Step 2/3] Error: Could not create the Java Virtual Machine.
[11:50:32] :	 [Step 2/3] Error: A fatal exception has occurred. Program will exit.
[11:50:32] :	 [Step 2/3] [Maven Watcher] 

That's on the CI. I still can't reproduce it locally.","05/Oct/18 3:08 PM;luck3y;[~aloubyansky] Have we confirmed that it doesn't happen with JDK 8 / 9 / 10 in CI and we're sure its something specific to JDK 11?","05/Oct/18 4:19 PM;aloubyansky;This option is added only if the JVM identifies itself as 11 or later.","05/Oct/18 4:55 PM;aloubyansky;The forked process is running Java 1.8.","06/Oct/18 3:31 AM;aloubyansky;I've released Galleon and WFGP 2.0.1.Final that fixes this. The PRs integrating them for Core and WF are

WFCORE-4155 https://github.com/wildfly/wildfly-core/pull/3545
WFLY-11126 https://github.com/wildfly/wildfly/pull/11719

The integration tests in Core CI fail due to the Galleon and WFGP version conflict between WildFly Core and WildFly Full. There are two ways to proceed:

1) merge the corresponding PR for WildFly wildfly/wildfly#11719;
2) include WildFly provisioning plugin into Servlet feature-pack and not inherit it from Core.

Either way it requires a change in WildFly Full build though.","18/Jul/19 5:40 AM;alessio1981;The commit 5beb3281351d4640eff4d5979f65c21612c0f26d (actual master HEAD) with Oracle Java 1.8 212 and OpenJDK 11.0.3 presente this defect.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate ORM from 5.3.6 to 5.3.7,WFLY-11193,12774803,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,gbadner,gbadner,jamezp,16/Oct/18 10:23 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,17/Oct/18 12:47 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,JBEAP-15661,,,,,,,,,,,,,,,,,,,,,JBEAP-15634,JBEAP-15582,JBEAP-15662,JBEAP-15663,JBEAP-15664,JBEAP-15598,JBEAP-15668,JBEAP-15411,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-16 12:09:18.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11753,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00kcw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"16/Oct/18 9:11 PM;jamezp;The diff looks okay to me https://github.com/hibernate/hibernate-orm/compare/5.3.6...5.3.7. The large chunks are tests. The other bug fixes don't look like they have much risk.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Agroal to 1.3,WFLY-11203,12775078,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,lbarreiro,lbarreiro,lbarreiro,17/Oct/18 1:09 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,18/Oct/18 12:15 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Agroal,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:54.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00lxs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WildFly intermittently fails to add pooled-connection-factory but it still got registered after,WFLY-11112,12772898,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ehugonnet,istraka,istraka,04/Oct/18 8:14 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,24/Oct/18 2:25 PM,15.0.0.Beta1,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"We see following error in log of WildFly (master):
{code}
2018-10-03 22:28:02,503 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""messaging-activemq""),
    (""server"" => ""default""),
    (""pooled-connection-factory"" => ""activemq-ra"")
]) - failure description: {
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.naming.context.java.JmsXA-bkp""],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.naming.context.java.jboss.DefaultJMSConnectionFactory is missing [jboss.naming.context.java.JmsXA-bkp]""]
}
{code}

Factory is defined:
{code:java}
<pooled-connection-factory name=""activemq-ra"" entries=""java:/JmsXA-bkp java:jboss/DefaultJMSConnectionFactory"" connectors=""in-vm"" transaction=""xa""/>
{code}

However factory is registered after and deployment is able to use it. Error is logged intermittently.

Log file and xml configuration file are enclosed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/18 8:17 AM;istraka;server.log;https://issues.redhat.com/secure/attachment/12441284/server.log","04/Oct/18 8:17 AM;istraka;standalone-full.xml;https://issues.redhat.com/secure/attachment/12441285/standalone-full.xml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-08 06:40:50.0,,,,,,,,,,,,,,,,,,,,,,,,,,2.0,6.0,,,,,,,,,,"1|z009s8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Oct/18 6:40 AM;kabirkhan;[~istraka] / [~msvehla] Is this a blocker for WF15, or for 7.2.0.GA? If it is for 7.2.0, we should clone a JBEAP.

CC [~jmesnil] [~ehugonnet]","08/Oct/18 10:53 AM;ehugonnet;[~istraka][~msvehla] What is the WF15 build ? There were some changes on JNDI registration in WF15 for pcf.","09/Oct/18 3:51 AM;istraka;[~kabirkhan] We haven't seen the issue with 7.2.0.CD14.CR1
[~ehugonnet] I hit the issue for several times during WF master testing. So 14.0.0.Final is wrong.","09/Oct/18 10:56 AM;ehugonnet;[~istraka] could you 'test' https://github.com/ehsavoie/wildfly/commit/5b93203b0080df00c5a7c1b0e50a079677161e7c ?","11/Oct/18 4:08 AM;istraka;[~ehugonnet] I have not hit the issue with the fix. Without the commit the issue is seen. ","02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update subsystem tests and mixed domain tests to use EAP 7.2.0 rather than WF14,WFLY-11688,12791276,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,kabirkhan,kabirkhan,kabirkhan,08/Feb/19 8:49 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 10:15 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Management,,,,,,,,,,,0,blocker-WF16,,,,"Once EAP 7.2.0 is out, remove ModelTestControllerVersion.EAP_7_2_0_TMP and add EAP_7_2_0 proper, and go through and adjust all the tests using the tmp version. I think this is ok, as there are some more advances subsystem tests which specify additional maven artifacts. Those maven artifacts will need to be updated to use the proper EAP 7.2.0 artifacts once it is released, and having to do this replacement will serve as a reminder.",,,,,,,,,,,,,WFCORE-4089,,,,,,,,,,,WFLY-11699,,,,WFLY-10806,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:32.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12049,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0339w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade HAL to 3.0.10.Final,WFLY-11537,12785379,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,harald.pehl,harald.pehl,harald.pehl,20/Dec/18 5:41 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,02/Jan/19 5:21 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Web Console,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-11188,,,,,,,,,,,,,,,,,,,,,HAL-1526,HAL-1515,HAL-1513,HAL-1519,HAL-1492,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:32.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11956,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0264g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to ironjacamar 1.4.12 Final,WFLY-11376,12780004,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,maeste,spyrkob,spyrkob,19/Nov/18 10:27 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Jan/19 1:00 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,JCA,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-10675,,,,,,,,,,,,,,,,,,,,,JBJCA-1385,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-19 10:29:24.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11929,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01dio:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Nov/18 10:29 AM;msvehla;Changing fix version to WF 15, WF 14 is already out.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Update the ""Getting Started Guide"" doc for WF 16",WFLY-11689,12791318,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,brian.stansberry,brian.stansberry,08/Feb/19 10:57 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Feb/19 5:33 PM,,,,,,16.0.0.Final,,,Documentation,,,,,,,,,,,0,,,,,"The ""Getting Started Guide""[1] is release specific. This task is to update it for 16 before we release.

My expectation here is that this is mostly just changing a few places that say ""15"" to ""16"".

The ""Requirements"" section should not recommend using the latest update available; it should recommend the latest *LTS* available.


[1] http://docs.wildfly.org/15/Getting_Started_Guide.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12092,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z033ik:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Feb/19 5:10 PM;brian.stansberry;The main point here is invalid. These release numbers are controlled by a wildflyVersion var that is set when the docs are built.","19/Feb/19 10:46 PM;brian.stansberry;Reopening as the version is controllable via the source -- the first commit in https://github.com/wildfly/wildfly/pull/12092 is actually the fix for this.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 8.0.0.CR1,WFLY-11775,12794071,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jmesnil,jmesnil,jmesnil,25/Feb/19 11:37 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,25/Feb/19 9:32 PM,,,,,,16.0.0.Final,,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:18.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03i04:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to ironjacamar 1.4.14 Final,WFLY-11762,12793748,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,maeste,maeste,maeste,22/Feb/19 5:03 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,24/Feb/19 1:34 PM,,,,,,16.0.0.Final,,,JCA,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-11746,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:18.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12106,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03g5w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EJB transactional method unable to commit when invoked from CDI bean with MariaDB,WFLY-11543,12785544,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,smarlow,mjurc,brian.stansberry,20/Dec/18 2:53 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,20/Dec/18 8:27 PM,15.0.0.Final,,,,,15.0.1.Final,16.0.0.Beta1,16.0.0.Final,JPA / Hibernate,,,,,,,,,,,0,,,,,"Issue cloned from the [community forum|https://developer.jboss.org/thread/279303] for tracking.

{quote}Hello,

 

We are having issues after deploying our application in the latest Wildfly 15.0.0 Final recently released with the following exception:

     java.sql.SQLException: XAER_RMFAIL: The command cannot be executed when global transaction is in the  IDLE state

 

The error occurs when our code calls a transactional EJB method that itself calls a couple more injected SessionBean that handles the database persistence through an EntityManager

The issue only seems to affect the MariaDB port and not oracle.{quote}

{quote}I have hit the same problem, migrated from Wildfly 10.0.0. to 15.0.0, using MySQL, same error, similar situation, cdi managed bean that invokes 2 EJBs that use different persistent units. I dont seem to have the problem in 14.0.1 either.

 

Another error that has surfaced is this (apologies for the weird formatting but struggled to define a simple type-up without cluttering)

 

""javax.persistence.TransactionRequiredException: no transaction is in progress""

Managed bean with injected ejb (with datasource2) and injected entitymanager for datasource1, code is nested as follows

 

Managed bean method save @Transactional(value = TxType.REQUIRED)

{

          ejb save  @TransactionAttribute(TransactionAttributeType.MANDATORY)

          {

                         persist

                         flush

          }

 

          find with lock => LockModeType.PESSIMISTIC_WRITE        at this point the ""no transaction is in progress"" exception is fired 

 

}

                             

Did notice that error does not occur if the invocation is purely ejb rather that cdi managed bean                     {quote}",,,,,,,,,,,,,JBEAP-16077,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 5:00 PM;marcanthony;logs.zip;https://issues.redhat.com/secure/attachment/12444982/logs.zip","20/Dec/18 4:47 PM;alban5650;server-trace.zip;https://issues.redhat.com/secure/attachment/12444981/server-trace.zip",,,,,,,,,,,,,,,,,,Regression,,,,+,,,,,,,,2018-12-20 16:49:26.0,,,,,,,,https://developer.jboss.org/thread/279303,,https://github.com/wildfly/wildfly/pull/11961,https://github.com/wildfly/wildfly/pull/11966,,,,,,,,,,,,,,,2.0,4.0,,,,,,,,,,"1|z026t4:",9223372036854775807,,0.0,,,,,,,,,,,,simkam,,,,"20/Dec/18 4:49 PM;alban5650;Added the server.log with trace for org.wildfly.transaction.client, com.arjuna and org.jboss.as.txn when the issue occurs","20/Dec/18 5:01 PM;marcanthony;Added the server.log with trace for org.wildfly.transaction.client, com.arjuna and org.jboss.as.txn when the issue occurs logs.zip contains 2 files one for each scenario (no transaction and transaction idle)","21/Dec/18 2:52 AM;tomjenkinson;Thanks for the logs!","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade HAL to 3.1.2.Final,WFLY-11408,12780788,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,harald.pehl,harald.pehl,harald.pehl,23/Nov/18 8:32 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 5:16 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Web Console,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-11188,,,,,,,,,,,,,,,,,,,,,HAL-1505,HAL-1504,HAL-1515,HAL-1514,HAL-1513,HAL-1509,HAL-1508,HAL-1507,HAL-1517,HAL-1485,HAL-1303,HAL-1501,HAL-1512,HAL-532,HAL-1500,HAL-1511,HAL-1510,HAL-1492,HAL-1549,HAL-1526,HAL-1537,HAL-1546,HAL-1519,JBEAP-15892,HAL-1528,HAL-1539,HAL-1552,HAL-1540,HAL-1551,HAL-1550,HAL-1523,HAL-1545,HAL-1521,HAL-1543,HAL-1520,HAL-1554,HAL-1557,HAL-527,HAL-1561,HAL-1560,HAL-1565,HAL-1564,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-16 08:06:41.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12056,,,,,,,,,,,,,,,,0.0,9.0,,,,,,,,,,"1|z01i4g:",9223372036854775807,,0.0,,,,,,,,,,,,spriadka,,,,"16/Jan/19 8:06 AM;spriadka;Please merge after following issues will have test dev done:

https://issues.jboss.org/browse/HAL-1554
https://issues.jboss.org/browse/HAL-1523
https://issues.jboss.org/browse/HAL-532
https://issues.jboss.org/browse/HAL-1500
https://issues.jboss.org/browse/HAL-1504
https://issues.jboss.org/browse/HAL-1485
https://issues.jboss.org/browse/HAL-1528
https://issues.jboss.org/browse/HAL-1545","18/Jan/19 4:20 AM;harald.pehl;[~spriadka] Do you have any idea, whether or when these issue will have test dev done? If you need help in any way, please let me know. I could write tests for the issues, if that's something which helps you.","22/Jan/19 10:42 AM;jamezp;[~spriadka] Is there any updates on the overall test plan?

Currently:
* EAP7-1159 - Has no tester assigned
* EAP7-1157 - Doesn't seem to have a test plan yet
* EAP7-1156 - Doesn't seem to have a test plan yet
* EAP7-1136 - Doesn't seem to have a test plan yet
* EAP7-1134 - Doesn't seem to have a test plan yet
* EAP7-1132 - Doesn't seem to have a test plan yet
* EAP7-1130 - Doesn't seem to have a test plan yet
* EAP7-1101 - Doesn't seem to have a test plan yet

-The target for this is WildFly 16 but we can't merge this change without a test plan.- I'm going to take this back. Since HAL is not shipped in CD releases we won't need an immediate test plan, though I think it would be a good idea to have them.

[~harald.pehl] I didn't look at each PR, but is there some kind of test in HAL for each feature?","22/Jan/19 10:46 AM;kabirkhan;[~msvehla][~spriadka] We really need to get this in for WildFly 16 to get community feedback on this. As the console is not supported in CD releases, we have time up to the 7.3.0 release. I am not 100% sure how to handle this from a process POV, but I think it means cloning all the current EAP7 unchecked EAP7 issues to 'Test xxxx' EAP7 RFEs (or perhaps we could use Tasks for these).","22/Jan/19 11:00 AM;msvehla;We just discussed this with James, I cannot support merging this in since there are features not covered by tests (test development is still in TODO). I'm trying to discuss with people around console how to handle this.","22/Jan/19 12:57 PM;harald.pehl;I'll start writing tests for the issues with test dev TODO. We should really try to get this in for WF 16. I've collected the status for the issues which have an EAP7 clone in https://docs.google.com/spreadsheets/d/1ckFcg7eJ6R-CPlZXlotq-TJeHboAIJmWUVO9mEaSgOk/edit?usp=sharing. Green means test dev is done, yellow means test dev / test plan is still TODO.

[~jamezp] We do not have tests for each issue yet, but we try to have tests for HAL issues which have an EAP7 clone. ","22/Jan/19 1:27 PM;jamezp;Thanks [~harald.pehl]. That spreadsheet is very useful I think :)","08/Feb/19 8:28 AM;harald.pehl;Bumping version to 3.1.2.Final. The payload is fixed now. All linked issues have TD and PC.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade ejb-client to 4.0.16.Final,WFLY-11926,12799944,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,tomekadamski,kabirkhan,kabirkhan,30/Mar/19 8:25 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,30/Mar/19 8:26 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,,,,,,,,,,,0,,,,,[~tomekadamski] Please link the issues fixed to this,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:02.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12194,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04e9o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Keycloak adapter broken because of missing org.jboss.metadata module,WFLY-11918,12799663,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,yersan,spriadka,spriadka,28/Mar/19 10:47 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,01/Apr/19 1:09 PM,17.0.0.Alpha1,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,MP OpenTracing,,,,,,,,,,0,blocker-WF17,,,,"When trying to install keycloak-wildfly-subsystem described in [this guide|https://www.keycloak.org/docs/3.0/getting_started/topics/secure-jboss-app/install-client-adapter.html], the install fails because of:

{code:java}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: org.jboss.modules.ModuleLoadError: org.jboss.metadata"",
    ""rolled-back"" => true
}
{code}",,,,,,,,,WFLY-11679,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Blocks Testing,Regression,,,,,,,,,,,2019-03-29 04:26:50.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12192,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z04clg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"29/Mar/19 4:26 AM;yersan;We are going to revert WFLY-11679 since this module is still used by keycloak. 

We cannot remove org.jboss.metadata module from Wildfly until KEYCLOAK-9940 is done.","29/Mar/19 4:39 AM;yersan;Hi [~spriadka], this issue contains a revert of the module removal, thanks for let us know.
I opened an issue in Keycloak to remove the dependency first there. Once it is removed in keycloak, we can remove it in Wildfly.","01/Apr/19 1:08 PM;kabirkhan;[~yersan] I am reopening this as I have merged the revert","02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JMSDestination header is incorrectly set,WFLY-12104,12808057,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ehugonnet,ehugonnet,ehugonnet,21/May/19 3:33 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,21/May/19 4:54 PM,17.0.0.Alpha1,,,,,17.0.0.Beta1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,When creating a message for a queue named 'foo' the JMSDestination header is set to jms.queue.foo,,,,,,,,,WFLY-11876,,,,JBEAP-16912,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:56.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05o44:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/May/19 3:34 AM;ehugonnet;Upgrade Apache Artemis to 2.8.1","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ChannelCommandDispatcherFactory does not notify any GroupListener,WFLY-11984,12802288,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,pferraro,ggaborg,ggaborg,12/Apr/19 8:00 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,14/Apr/19 2:47 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"checkout ChannelCommandDispatcherFactory

line 267 

if (this.listeners.isEmpty()) {...}

There should be a negation which should look like !this.listeners.isEmpty()",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-12 08:08:43.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12228,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z04r1g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Apr/19 8:08 AM;pferraro;How sloppy of me.  Thanks for the report.","12/Apr/19 9:36 AM;ggaborg;Glad to help. I've checked the code for 15.0.1.Final and it has the same issue. And it may be also in lower versions.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Hibernate 2lc should be enabled if Hibernate cache properties are enabled and shared cache mode is not set to NONE,WFLY-12086,12807606,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,smarlow,smarlow,smarlow,16/May/19 3:46 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,20/May/19 10:55 AM,14.0.0.Final,,,,,17.0.0.Beta1,17.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"In org.jboss.as.jpa.hibernate5.HibernatePersistenceProviderAdaptor.addProviderDependencies(PersistenceUnitMetadata pu), enable second level cache if persistence unit has hibernate.cache.use_query_cache or hibernate.cache.use_second_level_cache is true, then the second level cache should be enabled unless shared cache mode is set to NONE.

Workaround:
{code}
<shared-cache-mode>ALL</shared-cache-mode>
{code}
Or
{code}
<shared-cache-mode>ENABLE_SELECTIVE</shared-cache-mode> 
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:55.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12303,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05lm4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade galleon-plugins to 4.0.1,WFLY-12080,12807207,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jdenise,jdenise,jdenise,15/May/19 6:58 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,15/May/19 10:36 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,Upgrade to 4.0.1 ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:45.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12296,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05jb0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Memory leak in metrics in standalone-ha configuration,WFLY-12167,12811013,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ropalka,bsx303,bsx303,04/Jun/19 11:34 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,06/Jun/19 11:51 PM,16.0.0.Final,,,,,17.0.0.Final,,,Clustering,MP Metrics,MSC,,,,,,,,,0,memoryleak,,,,"When started in standalone HA configuration every request to the recently added metrics endpoint ({{<management-if>:9990/metrics}}) lead to an increase in memory consumption until the JVM is slowed down significantly by GC to a point where even the requests to {{/health}} fail within a reasonable timeout (2s) and untlimately lead to OOM.
The same issue does not occur when WildFly is started in the default standalone configuration (non HA).
I can provide a (compressed) heap dump if required.",,,,,,,,,MSC-245,,,,,,,,,,,,,,,WFCORE-4660,WFCORE-4663,,,WFCORE-4509,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/19 5:22 AM;jmesnil;Screenshot 2019-06-06 at 11.07.00.png;https://issues.redhat.com/secure/attachment/12451729/Screenshot+2019-06-06+at+11.07.00.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-05 05:32:45.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,7.0,,,,,,,,,,"1|z064ic:",9223372036854775807,,0.0,,,,,"1. start pristine WildFly 16 with {{-c=standalone-ha.xml}}
2. send it a bit more than 10.000 requests to {{/metrics}} (equivalent to about 1 day of runtime while being scraped by 2 prometheus instances in default 15s intervals)
3. observe increase heap memory usage and ultimately OOM",,,,,,,,,,,"05/Jun/19 5:32 AM;jmesnil;[~bsx303] could you please provide a head dump?

If the issue occurs only with the HA configuration that means that one of the subsystems present only in that configuration is holding memory to store its metrics leading to the memory leak.","06/Jun/19 5:22 AM;jmesnil;I investigated it a bit and the issue seems to be related to the clustering component.

When a /metrics HTTP request is queried, the metrics subsystem will invoke the :read-attribute for the clustering resources (e.g. thread-pool-min-threads on the channel=ee/protocol=UDP resource).
Since the returned value is undefined, the metrics subsystem will ignore this attribute.

However comparing heap dumps between /metrics queries reveals a significant increase of ServiceName and ServiceRegistrationImpl instances (that are not GCed).
It seems the issue is related to https://github.com/wildfly/wildfly/blob/master/clustering/service/src/main/java/org/wildfly/clustering/service/ServiceSupplier.java#L71 (as the service names are identified with UUID).
It seems that the ServiceRegistrationImpl created by the one-off service is not been properly removed from the Map in org.jboss.msc.service.ServiceContainerImpl#getOrCreateRegistration

[~pferraro] I'm assigning this issue to you so that you can double check if the code in ServiceSupplier is correct or if the leak comes below from MSC.

[~brian.stansberry] [~jamezp] I'm raising the priority to blocker as this issue will eventually lead to memory exhaustion when the app server metrics are queried.

Depending on the time scale, we also have a workaround:
* explicitly state the subsystems that expose metrics (now it is set to the * wildcard to expose metrics from all subsystems) so that groups metrics are not queried at all

","06/Jun/19 7:15 AM;bsx303;[~jmesnil] Sorry i missed your comment, the link to the heap dump is here: https://cloud.0xcafec0.de/index.php/s/8dKCZqm237FEJmy in case you still need it.","06/Jun/19 8:18 AM;rhusar;This is most likely a MSC issue, Richard O. is testing a fix now.","06/Jun/19 2:19 PM;pferraro;The code in ServiceSupplier is correct.  Using the new MSC API, the only way to obtain a value provided by an ON_DEMAND service is install a service that depends on the target service.  Once the value is retrieved, the mode of the temporary service is set to REMOVE.

However, this removal happens asynchronously.  Even if there was no memory leak in MSC this would still cause a heap spike until an available MSC thread is able to perform the removal.  To resolve that, ServiceSupplier.get() can block until the temporary service removal is complete which would prevent any spike in heap due to a pile-up of to-be-removed services.","07/Jun/19 6:03 PM;brian.stansberry;[~pferraro] [~jmesnil] During a metrics scan do the same underlying value instances get read for multiple attributes over the course of a single management op? If so can the relevant OSHs cache those in the OperationContext via an Attachment? For example ChannelMetricExecutor could use an attachment of type Map<String, JChannel>.

A weakness is while that read is going on another op could come in and result in the service being stopped, leaving the read op with a ref to a defunct value. That potential exists with the current code too, but caching the value across steps would increase the size of the window wherein that could happen.

Note that this comment is getting a bit OT from the original bug report, which is resolved. This is about further optimization.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ironjacamar 1.4.15 Final,WFLY-11798,12794828,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,maeste,maeste,maeste,28/Feb/19 12:06 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,08/Mar/19 11:51 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,JCA,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-11746,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:42.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03m0c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Apache Artemis from 2.8.0.Final to 2.8.1.Final,WFLY-12105,12808142,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ehugonnet,jamezp,jamezp,21/May/19 8:56 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,21/May/19 4:54 PM,,,,,,17.0.0.Beta1,17.0.0.Final,,JMS,,,,,,,,,,,0,downstream_dependency,,,,Upgrade Apache Artemis from 2.8.0.Final to 2.8.1.Final.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12104,JBEAP-16912,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:41.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12307,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05om4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-core from 9.0.0.Beta7 to 9.0.0.Final,WFLY-12168,12811035,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,jamezp,jamezp,jamezp,04/Jun/19 1:15 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Jun/19 5:15 PM,,,,,,17.0.0.Final,,,,,,,,,,,,,,0,,,,,Upgrade {{org.wildfly.core}} from 9.0.0.Beta7 to 9.0.0.Final.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10042,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:35.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12341,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z064n8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.11.Final,WFLY-11910,12799203,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,pferraro,pferraro,pferraro,26/Mar/19 10:08 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,29/Mar/19 5:22 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"https://issues.jboss.org/projects/ISPN/versions/12340950
https://issues.jboss.org/projects/ISPN/versions/12341250
https://issues.jboss.org/projects/ISPN/versions/12341373",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ISPN-10022,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-28 08:50:48.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12184,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z049vo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade libthrift from 0.11.0 to 0.12.0,WFLY-11768,12793889,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,brian.stansberry,jamezp,jamezp,22/Feb/19 12:08 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,06/Jun/19 12:38 PM,,,,,,17.0.0.Final,,,MP OpenTracing,,,,,,,,,,,0,,,,,Upgrade {{org.apache.thrift:libthrift}} from 0.11.0 to 0.12.0.,,,,,,,,,,,,,,,,,,,,,,,,TRACING-389,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:33.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12345,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03h04:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bump messaging schema version to 7.0,WFLY-11828,12796580,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,ehugonnet,ehugonnet,ehugonnet,11/Mar/19 4:47 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,14/May/19 4:17 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,JMS,,,,,,,,,,,0,EAP-CD17,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:31.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03uq4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/May/19 5:31 AM;ehugonnet;Adding also a fix for pull request #11918 from TomasHofman/WFLY-11404 which should have been on version7.0 of the schema and not 6.0 (thus the blocker status)","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update community documentation for Jakarta EE 8,WFLY-12511,12826873,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,smarlow,smarlow,smarlow,06/Sep/19 2:37 PM,24/Sep/19 9:04 AM,28/Dec/19 1:29 PM,23/Sep/19 10:20 PM,,,,,,18.0.0.Final,,,Documentation,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12297,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-11 10:06:27.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08lqc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"06/Sep/19 6:36 PM;smarlow;[https://github.com/wildfly/wildfly/pull/12604]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Postgres] Database queries result in NoClassDefFound for org/wildfly/transaction/client/ContextTransactionManager,WFLY-10996,12768854,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Duplicate Issue,smarlow,rakcheru,rakcheru,08/Sep/18 11:35 PM,09/Apr/19 11:21 AM,28/Dec/19 1:29 PM,10/Sep/18 11:22 AM,14.0.0.Final,14.0.1.Final,,,,15.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,,,,,"Basically WildFly is unable to either build the persistence context or it fails to query postgres db.

The changes are so minimal that it should basically work.

Attached:
# error.log - exception in the server log
# jpa-war.tar.gz - maven module that can be used to reproduce the issue
# pgsql.module.tar.gz - postgres driver module that can be unpacked under modules/system/layers/base/org/postgresql
# standalone-full.diff - diff that can be applied to standalone-full.xml to define required datasource

Note:
- Tested same steps with wildfly 13 and there its woking fine.
- Tested with latest postgres driver and issue exists with v14.0.0 (and v14.0.1). Postgres driver is thus ruled out.",,,,,,,,,,,,,,,,,,,,,,WFLY-10974,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Sep/18 11:33 PM;rakcheru;error.log;https://issues.redhat.com/secure/attachment/12440324/error.log","08/Sep/18 11:34 PM;rakcheru;jpa-war.tar.gz;https://issues.redhat.com/secure/attachment/12440323/jpa-war.tar.gz","08/Sep/18 11:33 PM;rakcheru;pgsql.driver.tar.gz;https://issues.redhat.com/secure/attachment/12440326/pgsql.driver.tar.gz","08/Sep/18 11:33 PM;rakcheru;standalone-full.diff;https://issues.redhat.com/secure/attachment/12440325/standalone-full.diff",,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-10 10:47:06.0,,,,,,,,,,,,,,,,,,,,,,,,,,4.0,9.0,,,,,,,,,,"1|w003p4:",9223372036854775807,,0.0,,,,,"*Deploy the module*
# Unzip jpa-war.tar.gz. Its a maven module and it also contains the target directory that has the binaries
# Copy target/jpa-war-1.0-SNAPSHOT.war under <wildfly-dir>/standalone/deployments folder

*Add driver binary as module in wildfly*
# Unzip pgsql.module.tar.gz and place the contents under modules/system/layers/base/org/postgresql

*Configure datasource in standalone-full.xml*
# Navigate to <wildfly-dir>
# - Either run {color:#d04437}git apply <tmp-folder>/standalone-full.diff{color}
# - Or alternatively you can modify the standalone-full.xml manually to add/replace the datasource for postgres

*Reproduce the issue:*
# Start the server
# Run {color:#d04437}curl http://localhost:8080/jpa-war-1.0-SNAPSHOT/jpaServlet{color}",,,,,,,,,,,"08/Sep/18 11:43 PM;rakcheru;Just to rule out, issue exists with postgresql-42.2.5 driver too. So, its unlikely that the driver is the cause. Moreover, the exception is clear that there is some module/class path issues with ironjacamar and/or hibernate","09/Sep/18 12:01 AM;rakcheru;Tested same steps with wildfly 13 and there its woking fine. To be honest, i think its a basic test case to fail with a major release like v14.0.0/v14.0.1. :( (n)","10/Sep/18 10:47 AM;smarlow;I'm trying to recreate the ""java.lang.ClassNotFoundException: org.wildfly.transaction.client.ContextTransactionManager from [Module \""org.jboss.ironjacamar.impl\"" version 1.4.11.Final from local module"" error locally.  So far, I haven't recreated it.  I am using the WildFly master branch.  I made a minimal change to your persistence.xml, to workaround my h2 database, not having the ""just_another_entity"" table.  My updated persistence.xml is now using create-drop:

{code}
<?xml version=""1.0"" encoding=""UTF-8""?>
<persistence xmlns=""http://xmlns.jcp.org/xml/ns/persistence"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
             xsi:schemaLocation=""http://xmlns.jcp.org/xml/ns/persistence
             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd"" version=""2.1"">
    <persistence-unit name=""jpa-war-persistence"" transaction-type=""JTA"">
        <description>JPA War Persistence</description>
        <jta-data-source>java:jboss/datasources/ExampleDS</jta-data-source>
        <class>com.test.JustAnotherEntity</class>
        <properties>
            <property name=""jboss.entity.manager.factory.jndi.name"" value=""java:/ManagerFactory""/>
            <property name=""hibernate.cache.use_second_level_cache"" value=""true""/>
            <property name=""hibernate.cache.use_query_cache"" value=""true""/>
            <property name=""hibernate.id.new_generator_mappings"" value=""false""/>
            <property name=""hibernate.integration.envers.enabled"" value=""false""/>
            <property name=""hibernate.show_sql"" value=""false""/>
            <property name=""hibernate.hbm2ddl.auto"" value=""create-drop""/>
        </properties>
    </persistence-unit>
</persistence>
{code}

From your the information in the error log, it sounds like your wildfly/modules/system/layers/base/org/jboss/ironjacamar/impl/main/module.xml file is missing the org.wildfly.transaction.client, could you verify that you see the same in your module.xml for this folder.  It doesn't seem likely that this is the problem but please check.  My module.xml contains:

{code}
<module name=""org.jboss.ironjacamar.impl"" xmlns=""urn:jboss:module:1.5"">
    <properties>
        <property name=""jboss.api"" value=""private""/>
    </properties>

    <resources>
        <resource-root path=""ironjacamar-common-impl-1.4.11.Final.jar""/>
        <resource-root path=""ironjacamar-core-impl-1.4.11.Final.jar""/>
        <resource-root path=""ironjacamar-deployers-common-1.4.11.Final.jar""/>
        <resource-root path=""ironjacamar-validator-1.4.11.Final.jar""/>
    </resources>

    <dependencies>
        <module name=""sun.jdk""/>
        <!-- javax.security.auth.callback -->
        <module name=""javax.api""/>
        <module name=""javax.resource.api""/>
        <module name=""javax.security.auth.message.api""/>
        <module name=""javax.validation.api""/>
        <module name=""org.hibernate.validator""/>
        <module name=""org.jboss.as.naming""/>
        <module name=""org.jboss.as.transactions""/>
        <module name=""org.jboss.jboss-transaction-spi""/>
        <module name=""org.jboss.ironjacamar.api""/>
        <module name=""org.jboss.logging""/>
        <module name=""org.jboss.threads""/>
        <!-- org.jboss.security -->
        <module name=""org.picketbox""/>
        <module name=""javax.xml.stream.api""/>
       <!--jgroups -->
        <module name=""org.jgroups""/>
        <module name=""org.wildfly.transaction.client""/>
    </dependencies>
</module>
{code}","10/Sep/18 11:01 AM;smarlow;Hmm, I built WildFly 14.0.0.Final from source and don't see org.wildfly.transaction.client:

{code}
<module name=""org.jboss.ironjacamar.impl"" xmlns=""urn:jboss:module:1.5"">
    <properties>
        <property name=""jboss.api"" value=""private""/>
    </properties>

    <resources>
        <resource-root path=""ironjacamar-common-impl-1.4.11.Final.jar""/>
        <resource-root path=""ironjacamar-core-impl-1.4.11.Final.jar""/>
        <resource-root path=""ironjacamar-deployers-common-1.4.11.Final.jar""/>
        <resource-root path=""ironjacamar-validator-1.4.11.Final.jar""/>
    </resources>

    <dependencies>
        <module name=""sun.jdk""/>
        <!-- javax.security.auth.callback -->
        <module name=""javax.api""/>
        <module name=""javax.resource.api""/>
        <module name=""javax.security.auth.message.api""/>
        <module name=""javax.validation.api""/>
        <module name=""org.hibernate.validator""/>
        <module name=""org.jboss.as.naming""/>
        <module name=""org.jboss.as.transactions""/>
        <module name=""org.jboss.jboss-transaction-spi""/>
        <module name=""org.jboss.ironjacamar.api""/>
        <module name=""org.jboss.logging""/>
        <module name=""org.jboss.threads""/>
        <!-- org.jboss.security -->
        <module name=""org.picketbox""/>
        <module name=""javax.xml.stream.api""/>
       <!--jgroups -->
        <module name=""org.jgroups""/>
    </dependencies>
</module>
{code}

I will try to recreate now with WildFly 14.0.0.Final...","10/Sep/18 11:07 AM;smarlow;Hmm, it still doesn't recreate for me when I execute ""curl http://localhost:8080/jpa-war-1.0-SNAPSHOT/jpaServlet"".  Perhaps that has something to do with me using h2 instead of postgresql-42.2.5 driver.  

[~rakcheru] Could you please try updating your wildfly 14.0.0.Final wildfly/modules/system/layers/base/org/jboss/ironjacamar/impl/main/module.xml file, to also contain  <module name=""org.wildfly.transaction.client""/>?

Something like:

{code}
<module name=""org.jboss.ironjacamar.impl"" xmlns=""urn:jboss:module:1.5"">
    <properties>
        <property name=""jboss.api"" value=""private""/>
    </properties>
 
    <resources>
        <resource-root path=""ironjacamar-common-impl-1.4.11.Final.jar""/>
        <resource-root path=""ironjacamar-core-impl-1.4.11.Final.jar""/>
        <resource-root path=""ironjacamar-deployers-common-1.4.11.Final.jar""/>
        <resource-root path=""ironjacamar-validator-1.4.11.Final.jar""/>
    </resources>

    <dependencies>
        <module name=""sun.jdk""/>
        <!-- javax.security.auth.callback -->
        <module name=""javax.api""/>
        <module name=""javax.resource.api""/>
        <module name=""javax.security.auth.message.api""/>
        <module name=""javax.validation.api""/>
        <module name=""org.hibernate.validator""/>
        <module name=""org.jboss.as.naming""/>
        <module name=""org.jboss.as.transactions""/>
        <module name=""org.jboss.jboss-transaction-spi""/>
        <module name=""org.jboss.ironjacamar.api""/>
        <module name=""org.jboss.logging""/>
        <module name=""org.jboss.threads""/>
        <!-- org.jboss.security -->
        <module name=""org.picketbox""/>
        <module name=""javax.xml.stream.api""/>
       <!--jgroups -->
        <module name=""org.jgroups""/>
        <module name=""org.wildfly.transaction.client""/>
    </dependencies>
</module>
{code}

Let me know if that helps.","10/Sep/18 11:12 AM;smarlow;FYI, adding the org.wildfly.transaction.client dependency will be fixed for WildFly 15, via [https://issues.jboss.org/browse/WFLY-10974].","10/Sep/18 11:22 AM;kabirkhan;The missing dependency was added in WFLY-10974 so I am closing this issue as this has been fixed for WF15","10/Sep/18 11:12 PM;rakcheru;[~smarlow] , adding dependency fixed the problem. Thanks.

Just to clarify, you can reproduce the issue with the downloaded zip files and also the maven repo wildfly-dist files. That would only mean that the release dist downloads (both from wildfly website and the maven repo) are not usable for any one who is using postgres.

I can only recommend to update the dist files to include the fix if thats possible.","10/Sep/18 11:13 PM;rakcheru;also, the issue happens ONLY if you are using postgres.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to ironjacamar 1.4.13 Final,WFLY-11746,12793048,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Out of Date,maeste,spyrkob,spyrkob,19/Feb/19 6:54 AM,28/Feb/19 12:06 PM,28/Dec/19 1:29 PM,22/Feb/19 5:05 AM,,,,,,16.0.0.Beta1,,,JCA,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-11376,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-19 14:45:54.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03c2k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Feb/19 2:45 PM;lafr;PR https://github.com/wildfly/wildfly/pull/12089","22/Feb/19 5:05 AM;maeste;This is surpassed by https://issues.jboss.org/browse/WFLY-11762",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EJB client 4 is unable to discover EJB after WildFly crash during previous call and reboot,WFLY-11664,12790249,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Out of Date,flavia.rainone,istraka,istraka,01/Feb/19 10:51 AM,22/Feb/19 6:19 PM,28/Dec/19 1:29 PM,22/Feb/19 6:19 PM,14.0.0.Final,15.0.0.Final,,,,,,,EJB,Remoting,,,,,,,,,,0,,,,,"Issue is not valid for 7.2.0.CD12 (upstream client: 12.0.0.Final) therefore we consider this as a blocker.

Lets have two WildFly servers and same EJB on both. They have nothing to do with each other. And the client app that call beans on them.

*Scenario*
# Client invokes _hello_ method on the first server which crash during the call. Exception is consumed. 
# Client calls successfully _hello_ method on the second one. 
# Now, the first server is started again and then the client (same thread) try to call _hello_ on the first one. The call should be successful but the client is unable to discover bean.

{code:java}Exception in thread ""main"" java.lang.RuntimeException: javax.ejb.NoSuchEJBException: EJBCLIENT000079: Unable to discover destination for request for EJB StatelessEJBLocator for ""/server-1/HelloBean"", view is interface ejb.HelloBeanRemote, affinity is None
        at client.Client.call(Client.java:41)
        at client.Client.main(Client.java:21)
Caused by: javax.ejb.NoSuchEJBException: EJBCLIENT000079: Unable to discover destination for request for EJB StatelessEJBLocator for ""/server-1/HelloBean"", view is interface ejb.HelloBeanRemote, affinity is None
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:592)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
        at org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleInvocationResult(RemotingEJBClientInterceptor.java:56)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
        at org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleInvocationResult(TransactionPostDiscoveryInterceptor.java:133)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
        at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleInvocationResult(DiscoveryEJBClientInterceptor.java:115)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
        at org.jboss.ejb.client.NamingEJBClientInterceptor.handleInvocationResult(NamingEJBClientInterceptor.java:79)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
        at org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:172)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
        at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:938)
        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:177)
        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:112)
        at com.sun.proxy.$Proxy0.hello(Unknown Source)
        at client.Client.call(Client.java:35)
        ... 1 more
{code}

I hit this issue with 15.0.0.Final, 14.0.0.Final but not with 12.0.0.Final.
If client try to invoke _hello_ on the first server before it reboots (exception is consumed), there is no problem after.

*Client side*
{code:java}

    public static void main(String[] args)
            throws Exception {
        call(""server-2"", true);
        call(""server-1"", true);

        for (int i = 30; i > 0; i--) {
            System.out.println(i);
            Thread.sleep(1000);
        }
        call(""server-1"", false);
    }

    public static Properties getCtxProperties() {
        Properties props = new Properties();
        props.put(Context.INITIAL_CONTEXT_FACTORY, ""org.wildfly.naming.client.WildFlyInitialContextFactory"");
        return props;
    }

    public static void call(String container, boolean exceptedFailure) {
        try {
            InitialContext ctx = new InitialContext(getCtxProperties());
            String lookupName = ""ejb:/"" + container + ""/HelloBean!ejb.HelloBeanRemote"";
            HelloBeanRemote bean = (HelloBeanRemote) ctx.lookup(lookupName);
            System.out.println(bean.hello());
        } catch (Exception e) {
            if (exceptedFailure) {
                System.out.println(""EXPECTED FAILURE"");
                e.printStackTrace();
            } else {
                throw new RuntimeException(e);
            }
        }
    }
{code}

*Server side*
{code:java}

@Stateless
@Remote(HelloBeanRemote.class)
public class HelloBean {
    private static Logger log = Logger.getLogger(HelloBean.class);


    public String hello() throws RemoteException {
        log.info(""hello called with message"");
        return ""Hello there"";
    }
}
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Feb/19 10:48 AM;istraka;reproducer.zip;https://issues.redhat.com/secure/attachment/12446303/reproducer.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-20 01:09:01.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,2.0,,,,,,,,,,"1|z02xkk:",9223372036854775807,,0.0,,,,,"# Download & unzip reproducer (there are client and server side app, byteman script is in the client folder)
# unzip 2x WildFly distribution
# build server
# deploy server-side app as server-1.jar to the first server and run: 
{code:bash}
export JAVA_OPTS=""-Djboss.modules.system.pkgs=path-to-byteman.jar=script:path-to-HelloBeanCrash.btm""
./bin/standalone.sh -c standalone-full.xml
{code}
# deploy server-side app as server-2.jar to the second server and run: 
{code:bash}
./bin/standalone.sh -c standalone-full.xml -Djboss.socket.binding.port-offset=100
{code}
# run client-side app side
{code:bash}
mvn package exec:exec
{code}
# during countdown (you have 30 seconds) run on the first:
{code:bash}
unset JAVA_OPTS
./bin/standalone.sh -c standalone-full.xml
{code}",,,,,,,,,,,"04/Feb/19 4:58 AM;istraka;[~flavia.rainone] I have assigned to you the issue, since JBEAP-16318 has been automatically assigned to you.","22/Feb/19 6:19 PM;flavia.rainone;[~istraka] I just checked that the error is fixed in wildfly master. It cannot be reproduced with the code there. Automatically, this means that the bug will no longer be present in the next version of the server",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wildfly 14 is not getting startjava.lang.NoClassDefFoundError: org/wildfly/common/net/HostName,WFLY-11553,12785906,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Rejected,,aroraarpit44,aroraarpit44,03/Jan/19 3:11 AM,03/Jan/19 11:03 AM,28/Dec/19 1:29 PM,03/Jan/19 11:03 AM,14.0.0.Final,,,,,,,,,,,,,,,,,,,0,,,,,"Hi Team,

I am facing this issue while Trying to start the Wildfly14.

Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
Listening for transport dt_socket at address: 8787
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.jboss.logmanager.LogLevelInitTask to constructor java.util.logging.Level$KnownLevel(java.util.logging.Level)
WARNING: Please consider reporting this to the maintainers of org.jboss.logmanager.LogLevelInitTask
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
java.lang.NoClassDefFoundError: org/wildfly/common/net/HostName
        at org.jboss.logmanager.ExtLogRecord.<init>(ExtLogRecord.java:87)
        at org.jboss.logmanager.Logger.log(Logger.java:796)
        at org.jboss.logging.JBossLogManagerLogger.doLogf(JBossLogManagerLogger.java:53)
        at org.jboss.logging.Logger.logf(Logger.java:2398)
        at org.jboss.msc.service.ServiceLogger_$logger.greeting(ServiceLogger_$logger.java:40)
        at org.jboss.msc.service.ServiceContainerImpl.<clinit>(ServiceContainerImpl.java:91)
        at org.jboss.msc.service.ServiceContainer$Factory.create(ServiceContainer.java:250)
        at org.jboss.as.server.BootstrapImpl$ShutdownHook.register(BootstrapImpl.java:229)
        at org.jboss.as.server.BootstrapImpl$ShutdownHook.access$100(BootstrapImpl.java:219)
        at org.jboss.as.server.BootstrapImpl.<init>(BootstrapImpl.java:70)
        at org.jboss.as.server.Bootstrap$Factory.newInstance(Bootstrap.java:278)
        at org.jboss.as.server.Main.main(Main.java:106)
        at org.jboss.modules.Module.run(Module.java:352)
        at org.jboss.modules.Module.run(Module.java:320)
        at org.jboss.modules.Main.main(Main.java:593)


Please tell me the workaround for the same, as soon as poosible",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-03 11:03:09.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z028xk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"03/Jan/19 8:06 AM;aroraarpit44;Just wanted to add the above issue has been seen with  wildfly14 running on Java11:

java version ""11"" 2018-09-25
Java(TM) SE Runtime Environment 18.9 (build 11+28)
Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11+28, mixed mode)


","03/Jan/19 11:03 AM;dmlloyd;For help with WildFly usage, please refer to the user forums: https://developer.jboss.org/en/wildfly?view=discussion",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade HAL to 3.0.7.Final,WFLY-11188,12774638,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,claudio4j,harald.pehl,harald.pehl,16/Oct/18 1:35 AM,20/Dec/18 5:41 AM,28/Dec/19 1:29 PM,16/Oct/18 2:12 AM,,,,,,,,,Web Console,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-10955,,,,,,,,,,,,,,,,,,,,,HAL-1515,HAL-1526,HAL-1513,HAL-1492,HAL-1519,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00jg0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"16/Oct/18 2:12 AM;harald.pehl;Not relevant for upstream. For WildFly 15.x HAL 3.1.x will be used. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Master Artemis in Wildfly 10.1.0.Final is not announcing backup when restarted,WFLY-11374,12779971,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Cannot Reproduce,jmesnil,ev.srinivas,ev.srinivas,19/Nov/18 8:43 AM,06/Dec/18 8:22 AM,28/Dec/19 1:29 PM,26/Nov/18 7:12 AM,10.1.0.Final,,,,,,,,JMS,,,,,,,,,,,0,,,,,"I have 2 wildfly servers acting as artemis master and slave. I am expecting failback and replication and the related configurations are done for this to work.



This is working as expected when I have the setup in Windows. Failing in linux RHEL 7.3 machine.



master in standalone-full-ha.xml - refer master.xml

slave in standalone-full-ha.xml - refer slave.xml

In the startup script, I am passing all the values for placeholders of my server host ip's accordingly.

Test scenario - 

1. Bring master up.

2. Bring slave up.

3. slave will announce the backup. (AMQ221031:  backup announced).

4. Make master down.

5. Replication is success.

6. Slave is acting as master/live.

7. Make master up.



Issue - master is unable to announce the backup and starts normally as a standalone wildfly.

This backup announcement works fine in windows and failover also works as expected.

Please let me know if anything specific required along with this details.

Artemis jar version - artemis-*****-1.1.0.wildfly-017.jar
in path - /opt/aor/${my project}/wildfly/modules/system/layers/base/org/apache/activemq/artemis/main

Few logs I found which may be impacting and I am not clear - 

1.2018-11-21 14:28:07,238 TRACE [org.apache.activemq.artemis.core.server.cluster.impl.ClusterConnectionBridge] (Thread-18 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$2@38e819b6-2112524495)) Setting up bridge between TransportConfiguration(name=http-connector, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?httpUpgradeEnabled=true&httpPpgradeEndpoint=http-acceptor&port=12080&host=135-250-139-30 and ServerLocatorImpl [initialConnectors=[TransportConfiguration(name=http-connector, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?httpUpgradeEnabled=true&httpPpgradeEndpoint=http-acceptor&port=12080&host=135-250-139-41], discoveryGroupConfiguration=null]: java.lang.Exception: trace
	at org.apache.activemq.artemis.core.server.cluster.impl.ClusterConnectionBridge.<init>(ClusterConnectionBridge.java:129)
	at org.apache.activemq.artemis.core.server.cluster.impl.ClusterConnectionImpl.createNewRecord(ClusterConnectionImpl.java:778)
	at org.apache.activemq.artemis.core.server.cluster.impl.ClusterConnectionImpl.nodeUP(ClusterConnectionImpl.java:698)
	at org.apache.activemq.artemis.core.client.impl.Topology$1.run(Topology.java:264)
	at org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$ExecutorTask.run(OrderedExecutorFactory.java:103)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Nov/18 9:12 AM;ev.srinivas;active standalone full ha.xml;https://issues.redhat.com/secure/attachment/12443761/active+standalone+full+ha.xml","19/Nov/18 10:04 AM;ev.srinivas;master and slave log samples on startup.txt;https://issues.redhat.com/secure/attachment/12443666/master+and+slave+log+samples+on+startup.txt","19/Nov/18 10:04 AM;ev.srinivas;master restart.txt;https://issues.redhat.com/secure/attachment/12443668/master+restart.txt","19/Nov/18 10:04 AM;ev.srinivas;master shutdown.txt;https://issues.redhat.com/secure/attachment/12443667/master+shutdown.txt","20/Nov/18 9:51 AM;ev.srinivas;master-server-linux.log;https://issues.redhat.com/secure/attachment/12443721/master-server-linux.log","20/Nov/18 9:51 AM;ev.srinivas;master-server-windows.log;https://issues.redhat.com/secure/attachment/12443722/master-server-windows.log","19/Nov/18 8:42 AM;ev.srinivas;master.xml;https://issues.redhat.com/secure/attachment/12443661/master.xml","22/Nov/18 6:59 AM;ev.srinivas;rotateserver_active.log;https://issues.redhat.com/secure/attachment/12443797/rotateserver_active.log","21/Nov/18 9:07 AM;ev.srinivas;rotateserver_active.log;https://issues.redhat.com/secure/attachment/12443758/rotateserver_active.log","22/Nov/18 6:59 AM;ev.srinivas;rotateserver_backup.log;https://issues.redhat.com/secure/attachment/12443798/rotateserver_backup.log","21/Nov/18 9:08 AM;ev.srinivas;rotateserver_slave.log;https://issues.redhat.com/secure/attachment/12443759/rotateserver_slave.log","21/Nov/18 9:12 AM;ev.srinivas;slave standalone full ha.xml;https://issues.redhat.com/secure/attachment/12443762/slave+standalone+full+ha.xml","20/Nov/18 9:51 AM;ev.srinivas;slave-server-linux.log;https://issues.redhat.com/secure/attachment/12443719/slave-server-linux.log","20/Nov/18 9:51 AM;ev.srinivas;slave-server-windows.log;https://issues.redhat.com/secure/attachment/12443720/slave-server-windows.log","19/Nov/18 8:42 AM;ev.srinivas;slave.xml;https://issues.redhat.com/secure/attachment/12443662/slave.xml",,,,,,,,,,,,,,,,,2018-11-26 07:06:25.0,,,,,,,,https://developer.jboss.org/message/986482#986482,,,,,,,,,,,,,,,,,,15.0,33.0,,,,,,,,,,"1|z01dc0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Nov/18 10:04 AM;ev.srinivas;Attached logs. I am unable to see any backup announcement from master on joining the cluster back.","20/Nov/18 5:11 AM;ev.srinivas;Hi [~jason.greene], Can you take a look on this.","20/Nov/18 9:51 AM;ev.srinivas;Hi [~jason.greene], attached few more logs for your analysis. [^slave-server-linux.log]  [^slave-server-windows.log]  [^master-server-linux.log]  [^master-server-windows.log] 
","21/Nov/18 12:39 AM;ev.srinivas;Hi [~jason.greene], Can you take a look on this.

","21/Nov/18 5:54 AM;ev.srinivas;Few logs I observed when master is restarted - 

2018-11-21 14:28:07,384 TRACE [org.apache.activemq.artemis.core.server.cluster.impl.ClusterConnectionBridge] (Thread-3 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$2@5207bafb-2132892635)) Setting up bridge between TransportConfiguration(name=http-connector, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?httpUpgradeEnabled=true&httpPpgradeEndpoint=http-acceptor&port=12080&host=135-250-139-41 and ServerLocatorImpl [initialConnectors=[TransportConfiguration(name=http-connector, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?httpUpgradeEnabled=true&httpPpgradeEndpoint=http-acceptor&port=12080&host=135-250-139-30], discoveryGroupConfiguration=null]: java.lang.Exception: trace
	at org.apache.activemq.artemis.core.server.cluster.impl.ClusterConnectionBridge.<init>(ClusterConnectionBridge.java:129)
	at org.apache.activemq.artemis.core.server.cluster.impl.ClusterConnectionImpl.createNewRecord(ClusterConnectionImpl.java:778)
	at org.apache.activemq.artemis.core.server.cluster.impl.ClusterConnectionImpl.nodeUP(ClusterConnectionImpl.java:698)
	at org.apache.activemq.artemis.core.client.impl.Topology$1.run(Topology.java:264)
	at org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$ExecutorTask.run(OrderedExecutorFactory.java:103)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)




2018-11-21 19:17:07,588 TRACE [org.apache.activemq.artemis.core.server.cluster.ClusterManager] (ServerService Thread Pool -- 68) ClusterConnection.start at ClusterConnectionImpl@479334834[nodeUUID=ec7d73ce-ed93-11e8-a9ec-c3a41a63e32b, connector=TransportConfiguration(name=http-connector, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?httpUpgradeEnabled=true&httpPpgradeEndpoint=http-acceptor&port=12080&host=135-250-139-41, address=jms, server=ActiveMQServerImpl::serverUUID=ec7d73ce-ed93-11e8-a9ec-c3a41a63e32b]: java.lang.Exception: trace
	at org.apache.activemq.artemis.core.server.cluster.ClusterManager.deployClusterConnection(ClusterManager.java:635)
	at org.apache.activemq.artemis.core.server.cluster.ClusterManager.deploy(ClusterManager.java:247)
	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.initialisePart1(ActiveMQServerImpl.java:1561)
	at org.apache.activemq.artemis.core.server.impl.SharedNothingLiveActivation.run(SharedNothingLiveActivation.java:97)
	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.start(ActiveMQServerImpl.java:396)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.start(JMSServerManagerImpl.java:381)
	at org.wildfly.extension.messaging.activemq.jms.JMSService.doStart(JMSService.java:199)
	at org.wildfly.extension.messaging.activemq.jms.JMSService.access$000(JMSService.java:63)
	at org.wildfly.extension.messaging.activemq.jms.JMSService$1.run(JMSService.java:97)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)




Will it impact anything for identifying the existence of slave node in the cluster failing replication and the failover.","21/Nov/18 9:08 AM;ev.srinivas;Please find latest logs -  [^rotateserver_active.log]   [^rotateserver_slave.log] 
I can see only 2 exceptions as listed in the above comment.
refer latest full ha -  [^active standalone full ha.xml]  [^slave standalone full ha.xml]  changed cluster names for debugging","22/Nov/18 7:00 AM;ev.srinivas;Enabled Debug logs. I am not understanding what is happening in the background.
 [^rotateserver_active.log]  [^rotateserver_backup.log] 
I can see connector pairs are having same hostnames instead of two different.","26/Nov/18 6:40 AM;ev.srinivas;Hi [~jmesnil], can you check this issue.","26/Nov/18 7:06 AM;mnovak;[~ev.srinivas] 
Hi, I've found issue in your config. In slave.xml you must set {{allow-failback=true}} if you want master to become live again. 

Otherwise once master is started then it acts as backup and waits for slave to stop/crash. I have RHEL 7.4 on my laptop and when I keep {{allow-failback=false}}  then once master is started again then I can see in master's log:
{code}
13:03:23,813 ERROR [org.apache.activemq.artemis.core.server] (Thread-3 (ActiveMQ-client-netty-threads-1304304824)) AMQ224056: Live server will not fail-back automatically
13:03:24,063 ERROR [org.apache.activemq.artemis.core.server] (Thread-3 (ActiveMQ-client-netty-threads-1304304824)) AMQ224056: Live server will not fail-back automatically
13:03:24,435 INFO  [org.apache.activemq.artemis.core.server] (Thread-3 (ActiveMQ-client-netty-threads-1304304824)) AMQ221024: Backup server ActiveMQServerImpl::serverUUID=35296b07-f173-11e8-a098-53ea761b98b6 is synchronized with live-server.
13:03:25,691 INFO  [org.apache.activemq.artemis.core.server] (Thread-2 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$2@2b4f4b20-1850589229)) AMQ221031: backup announced
{code}

which is expected. At the moment when I stop backup.","26/Nov/18 7:12 AM;mnovak;[~ev.srinivas] I'll close this issue as it's not possible to reproduce and seems to be config or possibly environment issue (firewall).","26/Nov/18 7:13 AM;mnovak;[~ev.srinivas] If you still see the issue then let's talk on community forum. Thanks","26/Nov/18 8:32 AM;ev.srinivas;Hi [~mnovak], I don't want master to start immediately and act as Live. I need the Backup to continue as live until it crashes or I stop forcefully. So, i didn't set allow-failback=true.

I taken care about the firewall by stopping it on both the servers.
Please provide the Wildfly in zip or tar you are currently using in your laptop.I can verify the contents or standalone-full-ha.xml file.

I am unable to see the same logs - AMQ221031: backup announced when master is restarted.
","26/Nov/18 9:45 AM;mnovak;[~ev.srinivas] My results above are with Wildfly 10.1.0.Final. I've used your configuration from master.xml and slave.xml. I did only one change to configuration. I've changed cluster password to {{<cluster password=""ahoj""/>}} as I don't have any VAULT configured. Maybe this is causing the difference. Could you try it as well, please?

I'm attaching my standalone-full-ha-live/backup.xml configs.","26/Nov/18 9:47 AM;mnovak;Live:
{code}
<?xml version=""1.0"" ?>

<server xmlns=""urn:jboss:domain:4.2"">
    <extensions>
        <extension module=""org.jboss.as.clustering.infinispan""/>
        <extension module=""org.jboss.as.clustering.jgroups""/>
        <extension module=""org.jboss.as.connector""/>
        <extension module=""org.jboss.as.deployment-scanner""/>
        <extension module=""org.jboss.as.ee""/>
        <extension module=""org.jboss.as.ejb3""/>
        <extension module=""org.jboss.as.jaxrs""/>
        <extension module=""org.jboss.as.jdr""/>
        <extension module=""org.jboss.as.jmx""/>
        <extension module=""org.jboss.as.jpa""/>
        <extension module=""org.jboss.as.jsf""/>
        <extension module=""org.jboss.as.jsr77""/>
        <extension module=""org.jboss.as.logging""/>
        <extension module=""org.jboss.as.mail""/>
        <extension module=""org.jboss.as.modcluster""/>
        <extension module=""org.jboss.as.naming""/>
        <extension module=""org.jboss.as.pojo""/>
        <extension module=""org.jboss.as.remoting""/>
        <extension module=""org.jboss.as.sar""/>
        <extension module=""org.jboss.as.security""/>
        <extension module=""org.jboss.as.transactions""/>
        <extension module=""org.jboss.as.webservices""/>
        <extension module=""org.jboss.as.weld""/>
        <extension module=""org.wildfly.extension.batch.jberet""/>
        <extension module=""org.wildfly.extension.bean-validation""/>
        <extension module=""org.wildfly.extension.clustering.singleton""/>
        <extension module=""org.wildfly.extension.io""/>
        <extension module=""org.wildfly.extension.messaging-activemq""/>
        <extension module=""org.wildfly.extension.request-controller""/>
        <extension module=""org.wildfly.extension.security.manager""/>
        <extension module=""org.wildfly.extension.undertow""/>
        <extension module=""org.wildfly.iiop-openjdk""/>
    </extensions>
    <management>
        <security-realms>
            <security-realm name=""ManagementRealm"">
                <authentication>
                    <local default-user=""$local"" skip-group-loading=""true""/>
                    <properties path=""mgmt-users.properties"" relative-to=""jboss.server.config.dir""/>
                </authentication>
                <authorization map-groups-to-roles=""false"">
                    <properties path=""mgmt-groups.properties"" relative-to=""jboss.server.config.dir""/>
                </authorization>
            </security-realm>
            <security-realm name=""ApplicationRealm"">
                <server-identities>
                    <ssl>
                        <keystore path=""application.keystore"" relative-to=""jboss.server.config.dir"" keystore-password=""password"" alias=""server"" key-password=""password"" generate-self-signed-certificate-host=""localhost""/>
                    </ssl>
                </server-identities>
                <authentication>
                    <local default-user=""$local"" allowed-users=""*"" skip-group-loading=""true""/>
                    <properties path=""application-users.properties"" relative-to=""jboss.server.config.dir""/>
                </authentication>
                <authorization>
                    <properties path=""application-roles.properties"" relative-to=""jboss.server.config.dir""/>
                </authorization>
            </security-realm>
        </security-realms>
        <audit-log>
            <formatters>
                <json-formatter name=""json-formatter""/>
            </formatters>
            <handlers>
                <file-handler name=""file"" formatter=""json-formatter"" path=""audit-log.log"" relative-to=""jboss.server.data.dir""/>
            </handlers>
            <logger log-boot=""true"" log-read-only=""false"" enabled=""false"">
                <handlers>
                    <handler name=""file""/>
                </handlers>
            </logger>
        </audit-log>
        <management-interfaces>
            <http-interface security-realm=""ManagementRealm"" http-upgrade-enabled=""true"">
                <socket-binding http=""management-http""/>
            </http-interface>
        </management-interfaces>
        <access-control provider=""simple"">
            <role-mapping>
                <role name=""SuperUser"">
                    <include>
                        <user name=""$local""/>
                    </include>
                </role>
            </role-mapping>
        </access-control>
    </management>
    <profile>
        <subsystem xmlns=""urn:jboss:domain:logging:3.0"">
            <console-handler name=""CONSOLE"">
                <level name=""INFO""/>
                <formatter>
                    <named-formatter name=""COLOR-PATTERN""/>
                </formatter>
            </console-handler>
            <periodic-rotating-file-handler name=""FILE"" autoflush=""true"">
                <formatter>
                    <named-formatter name=""PATTERN""/>
                </formatter>
                <file relative-to=""jboss.server.log.dir"" path=""server.log""/>
                <suffix value="".yyyy-MM-dd""/>
                <append value=""true""/>
            </periodic-rotating-file-handler>
            <logger category=""com.arjuna"">
                <level name=""WARN""/>
            </logger>
            <logger category=""org.jboss.as.config"">
                <level name=""DEBUG""/>
            </logger>
            <logger category=""sun.rmi"">
                <level name=""WARN""/>
            </logger>
            <root-logger>
                <level name=""INFO""/>
                <handlers>
                    <handler name=""CONSOLE""/>
                    <handler name=""FILE""/>
                </handlers>
            </root-logger>
            <formatter name=""PATTERN"">
                <pattern-formatter pattern=""%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n""/>
            </formatter>
            <formatter name=""COLOR-PATTERN"">
                <pattern-formatter pattern=""%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n""/>
            </formatter>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:batch-jberet:1.0"">
            <default-job-repository name=""in-memory""/>
            <default-thread-pool name=""batch""/>
            <job-repository name=""in-memory"">
                <in-memory/>
            </job-repository>
            <thread-pool name=""batch"">
                <max-threads count=""10""/>
                <keepalive-time time=""30"" unit=""seconds""/>
            </thread-pool>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:bean-validation:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:datasources:4.0"">
            <datasources>
                <datasource jndi-name=""java:jboss/datasources/ExampleDS"" pool-name=""ExampleDS"" enabled=""true"" use-java-context=""true"">
                    <connection-url>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE</connection-url>
                    <driver>h2</driver>
                    <security>
                        <user-name>sa</user-name>
                        <password>sa</password>
                    </security>
                </datasource>
                <drivers>
                    <driver name=""h2"" module=""com.h2database.h2"">
                        <xa-datasource-class>org.h2.jdbcx.JdbcDataSource</xa-datasource-class>
                    </driver>
                </drivers>
            </datasources>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:deployment-scanner:2.0"">
            <deployment-scanner path=""deployments"" relative-to=""jboss.server.base.dir"" scan-interval=""5000"" runtime-failure-causes-rollback=""${jboss.deployment.scanner.rollback.on.failure:false}""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:ee:4.0"">
            <spec-descriptor-property-replacement>false</spec-descriptor-property-replacement>
            <concurrent>
                <context-services>
                    <context-service name=""default"" jndi-name=""java:jboss/ee/concurrency/context/default"" use-transaction-setup-provider=""true""/>
                </context-services>
                <managed-thread-factories>
                    <managed-thread-factory name=""default"" jndi-name=""java:jboss/ee/concurrency/factory/default"" context-service=""default""/>
                </managed-thread-factories>
                <managed-executor-services>
                    <managed-executor-service name=""default"" jndi-name=""java:jboss/ee/concurrency/executor/default"" context-service=""default"" hung-task-threshold=""60000"" keepalive-time=""5000""/>
                </managed-executor-services>
                <managed-scheduled-executor-services>
                    <managed-scheduled-executor-service name=""default"" jndi-name=""java:jboss/ee/concurrency/scheduler/default"" context-service=""default"" hung-task-threshold=""60000"" keepalive-time=""3000""/>
                </managed-scheduled-executor-services>
            </concurrent>
            <default-bindings context-service=""java:jboss/ee/concurrency/context/default"" datasource=""java:jboss/datasources/ExampleDS"" jms-connection-factory=""java:jboss/DefaultJMSConnectionFactory"" managed-executor-service=""java:jboss/ee/concurrency/executor/default"" managed-scheduled-executor-service=""java:jboss/ee/concurrency/scheduler/default"" managed-thread-factory=""java:jboss/ee/concurrency/factory/default""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:ejb3:4.0"">
            <session-bean>
                <stateless>
                    <bean-instance-pool-ref pool-name=""slsb-strict-max-pool""/>
                </stateless>
                <stateful default-access-timeout=""5000"" cache-ref=""distributable"" passivation-disabled-cache-ref=""simple""/>
                <singleton default-access-timeout=""5000""/>
            </session-bean>
            <mdb>
                <resource-adapter-ref resource-adapter-name=""${ejb.resource-adapter-name:activemq-ra.rar}""/>
                <bean-instance-pool-ref pool-name=""mdb-strict-max-pool""/>
            </mdb>
            <pools>
                <bean-instance-pools>
                    <strict-max-pool name=""slsb-strict-max-pool"" derive-size=""from-worker-pools"" instance-acquisition-timeout=""5"" instance-acquisition-timeout-unit=""MINUTES""/>
                    <strict-max-pool name=""mdb-strict-max-pool"" derive-size=""from-cpu-count"" instance-acquisition-timeout=""5"" instance-acquisition-timeout-unit=""MINUTES""/>
                </bean-instance-pools>
            </pools>
            <caches>
                <cache name=""simple""/>
                <cache name=""distributable"" passivation-store-ref=""infinispan"" aliases=""passivating clustered""/>
            </caches>
            <passivation-stores>
                <passivation-store name=""infinispan"" cache-container=""ejb"" max-size=""10000""/>
            </passivation-stores>
            <async thread-pool-name=""default""/>
            <timer-service thread-pool-name=""default"" default-data-store=""default-file-store"">
                <data-stores>
                    <file-data-store name=""default-file-store"" path=""timer-service-data"" relative-to=""jboss.server.data.dir""/>
                </data-stores>
            </timer-service>
            <remote connector-ref=""http-remoting-connector"" thread-pool-name=""default""/>
            <thread-pools>
                <thread-pool name=""default"">
                    <max-threads count=""10""/>
                    <keepalive-time time=""100"" unit=""milliseconds""/>
                </thread-pool>
            </thread-pools>
            <iiop enable-by-default=""false"" use-qualified-name=""false""/>
            <default-security-domain value=""other""/>
            <default-missing-method-permissions-deny-access value=""true""/>
            <log-system-exceptions value=""true""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:io:1.1"">
            <worker name=""default""/>
            <buffer-pool name=""default""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:infinispan:4.0"">
            <cache-container name=""server"" aliases=""singleton cluster"" default-cache=""default"" module=""org.wildfly.clustering.server"">
                <transport lock-timeout=""60000""/>
                <replicated-cache name=""default"" mode=""SYNC"">
                    <transaction mode=""BATCH""/>
                </replicated-cache>
            </cache-container>
            <cache-container name=""web"" default-cache=""dist"" module=""org.wildfly.clustering.web.infinispan"">
                <transport lock-timeout=""60000""/>
                <distributed-cache name=""dist"" mode=""ASYNC"" l1-lifespan=""0"" owners=""2"">
                    <locking isolation=""REPEATABLE_READ""/>
                    <transaction mode=""BATCH""/>
                    <file-store/>
                </distributed-cache>
                <distributed-cache name=""concurrent"" mode=""SYNC"" l1-lifespan=""0"" owners=""2"">
                    <file-store/>
                </distributed-cache>
            </cache-container>
            <cache-container name=""ejb"" aliases=""sfsb"" default-cache=""dist"" module=""org.wildfly.clustering.ejb.infinispan"">
                <transport lock-timeout=""60000""/>
                <distributed-cache name=""dist"" mode=""ASYNC"" l1-lifespan=""0"" owners=""2"">
                    <locking isolation=""REPEATABLE_READ""/>
                    <transaction mode=""BATCH""/>
                    <file-store/>
                </distributed-cache>
            </cache-container>
            <cache-container name=""hibernate"" default-cache=""local-query"" module=""org.hibernate.infinispan"">
                <transport lock-timeout=""60000""/>
                <local-cache name=""local-query"">
                    <eviction strategy=""LRU"" max-entries=""10000""/>
                    <expiration max-idle=""100000""/>
                </local-cache>
                <invalidation-cache name=""entity"" mode=""SYNC"">
                    <transaction mode=""NON_XA""/>
                    <eviction strategy=""LRU"" max-entries=""10000""/>
                    <expiration max-idle=""100000""/>
                </invalidation-cache>
                <replicated-cache name=""timestamps"" mode=""ASYNC""/>
            </cache-container>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:iiop-openjdk:1.0"">
            <orb socket-binding=""iiop"" ssl-socket-binding=""iiop-ssl""/>
            <initializers security=""identity"" transactions=""spec""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:jaxrs:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:jca:4.0"">
            <archive-validation enabled=""true"" fail-on-error=""true"" fail-on-warn=""false""/>
            <bean-validation enabled=""true""/>
            <default-workmanager>
                <short-running-threads>
                    <core-threads count=""50""/>
                    <queue-length count=""50""/>
                    <max-threads count=""50""/>
                    <keepalive-time time=""10"" unit=""seconds""/>
                </short-running-threads>
                <long-running-threads>
                    <core-threads count=""50""/>
                    <queue-length count=""50""/>
                    <max-threads count=""50""/>
                    <keepalive-time time=""10"" unit=""seconds""/>
                </long-running-threads>
            </default-workmanager>
            <cached-connection-manager/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:jdr:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:jgroups:4.0"">
            <channels default=""ee"">
                <channel name=""ee"" stack=""udp""/>
            </channels>
            <stacks>
                <stack name=""udp"">
                    <transport type=""UDP"" socket-binding=""jgroups-udp""/>
                    <protocol type=""PING""/>
                    <protocol type=""MERGE3""/>
                    <protocol type=""FD_SOCK"" socket-binding=""jgroups-udp-fd""/>
                    <protocol type=""FD_ALL""/>
                    <protocol type=""VERIFY_SUSPECT""/>
                    <protocol type=""pbcast.NAKACK2""/>
                    <protocol type=""UNICAST3""/>
                    <protocol type=""pbcast.STABLE""/>
                    <protocol type=""pbcast.GMS""/>
                    <protocol type=""UFC""/>
                    <protocol type=""MFC""/>
                    <protocol type=""FRAG2""/>
                </stack>
                <stack name=""tcp"">
                    <transport type=""TCP"" socket-binding=""jgroups-tcp""/>
                    <protocol type=""MPING"" socket-binding=""jgroups-mping""/>
                    <protocol type=""MERGE3""/>
                    <protocol type=""FD_SOCK"" socket-binding=""jgroups-tcp-fd""/>
                    <protocol type=""FD""/>
                    <protocol type=""VERIFY_SUSPECT""/>
                    <protocol type=""pbcast.NAKACK2""/>
                    <protocol type=""UNICAST3""/>
                    <protocol type=""pbcast.STABLE""/>
                    <protocol type=""pbcast.GMS""/>
                    <protocol type=""MFC""/>
                    <protocol type=""FRAG2""/>
                </stack>
            </stacks>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:jmx:1.3"">
            <expose-resolved-model/>
            <expose-expression-model/>
            <remoting-connector/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:jpa:1.1"">
            <jpa default-datasource="""" default-extended-persistence-inheritance=""DEEP""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:jsf:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:jsr77:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:mail:2.0"">
            <mail-session name=""default"" jndi-name=""java:jboss/mail/Default"">
                <smtp-server outbound-socket-binding-ref=""mail-smtp""/>
            </mail-session>
        </subsystem>
<subsystem xmlns=""urn:jboss:domain:messaging-activemq:1.0"">
	<server name=""default"" persist-delivery-count-before-delivery=""true"">
		<cluster password=""ahoj""/>
		<journal type=""NIO""/>
		<replication-master cluster-name=""my-cluster"" group-name=""aor-queues-cluster-group"" check-for-live-server=""true""/>
		<security-setting name=""#"">
			<role name=""guest"" send=""true"" consume=""true"" create-non-durable-queue=""true"" delete-non-durable-queue=""true""/>
		</security-setting>
		<address-setting name=""#"" dead-letter-address=""jms.queue.DLQ"" expiry-address=""jms.queue.ExpiryQueue"" max-size-bytes=""10485760"" page-size-bytes=""2097152"" message-counter-history-day-limit=""10"" redistribution-delay=""1000""/>
		<http-connector name=""http-connector"" socket-binding=""http"" endpoint=""http-acceptor""/>
		<http-connector name=""http-connector-throughput"" socket-binding=""http"" endpoint=""http-acceptor-throughput"">
			<param name=""batch-delay"" value=""50""/>
		</http-connector>
		<remote-connector name=""remote-connector"" socket-binding=""messaging""/>
		<in-vm-connector name=""in-vm"" server-id=""0""/>
		<http-acceptor name=""http-acceptor"" http-listener=""default""/>
		<http-acceptor name=""http-acceptor-throughput"" http-listener=""default"">
			<param name=""batch-delay"" value=""50""/>
			<param name=""direct-deliver"" value=""false""/>
		</http-acceptor>
		<remote-acceptor name=""remote-acceptor"" socket-binding=""messaging""/>
		<in-vm-acceptor name=""in-vm"" server-id=""0""/>
		<broadcast-group name=""bg-group1"" jgroups-channel=""activemq-cluster"" connectors=""http-connector""/>
		<discovery-group name=""dg-group1"" jgroups-channel=""activemq-cluster""/>
		<cluster-connection name=""my-cluster"" address=""jms"" connector-name=""http-connector"" discovery-group=""dg-group1""/>
		<jms-queue name=""ExpiryQueue"" entries=""java:/jms/queue/ExpiryQueue""/>
		<jms-queue name=""DLQ"" entries=""java:/jms/queue/DLQ""/>
		<connection-factory name=""RemoteConnectionFactory"" entries=""java:jboss/exported/jms/RemoteConnectionFactory"" connectors=""http-connector"" ha=""true"" block-on-acknowledge=""true"" reconnect-attempts=""-1""/>
		<pooled-connection-factory name=""activemq-ra"" entries=""java:/JmsXA java:jboss/DefaultJMSConnectionFactory"" connectors=""in-vm"" transaction=""xa""/>
	</server>
</subsystem>
        <subsystem xmlns=""urn:jboss:domain:modcluster:2.0"">
            <mod-cluster-config advertise-socket=""modcluster"" connector=""ajp"">
                <dynamic-load-provider>
                    <load-metric type=""cpu""/>
                </dynamic-load-provider>
            </mod-cluster-config>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:naming:2.0"">
            <remote-naming/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:pojo:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:remoting:3.0"">
            <endpoint/>
            <http-connector name=""http-remoting-connector"" connector-ref=""default"" security-realm=""ApplicationRealm""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:resource-adapters:4.0""/>
        <subsystem xmlns=""urn:jboss:domain:request-controller:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:sar:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:security-manager:1.0"">
            <deployment-permissions>
                <maximum-set>
                    <permission class=""java.security.AllPermission""/>
                </maximum-set>
            </deployment-permissions>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:security:1.2"">
            <security-domains>
                <security-domain name=""other"" cache-type=""default"">
                    <authentication>
                        <login-module code=""Remoting"" flag=""optional"">
                            <module-option name=""password-stacking"" value=""useFirstPass""/>
                        </login-module>
                        <login-module code=""RealmDirect"" flag=""required"">
                            <module-option name=""password-stacking"" value=""useFirstPass""/>
                        </login-module>
                    </authentication>
                </security-domain>
                <security-domain name=""jboss-web-policy"" cache-type=""default"">
                    <authorization>
                        <policy-module code=""Delegating"" flag=""required""/>
                    </authorization>
                </security-domain>
                <security-domain name=""jboss-ejb-policy"" cache-type=""default"">
                    <authorization>
                        <policy-module code=""Delegating"" flag=""required""/>
                    </authorization>
                </security-domain>
                <security-domain name=""jaspitest"" cache-type=""default"">
                    <authentication-jaspi>
                        <login-module-stack name=""dummy"">
                            <login-module code=""Dummy"" flag=""optional""/>
                        </login-module-stack>
                        <auth-module code=""Dummy""/>
                    </authentication-jaspi>
                </security-domain>
            </security-domains>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:singleton:1.0"">
            <singleton-policies default=""default"">
                <singleton-policy name=""default"" cache-container=""server"">
                    <simple-election-policy/>
                </singleton-policy>
            </singleton-policies>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:transactions:3.0"">
            <core-environment>
                <process-id>
                    <uuid/>
                </process-id>
            </core-environment>
            <recovery-environment socket-binding=""txn-recovery-environment"" status-socket-binding=""txn-status-manager""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:undertow:3.1"">
            <buffer-cache name=""default""/>
            <server name=""default-server"">
                <ajp-listener name=""ajp"" socket-binding=""ajp""/>
                <http-listener name=""default"" socket-binding=""http"" redirect-socket=""https"" enable-http2=""true""/>
                <https-listener name=""https"" socket-binding=""https"" security-realm=""ApplicationRealm"" enable-http2=""true""/>
                <host name=""default-host"" alias=""localhost"">
                    <location name=""/"" handler=""welcome-content""/>
                    <filter-ref name=""server-header""/>
                    <filter-ref name=""x-powered-by-header""/>
                </host>
            </server>
            <servlet-container name=""default"">
                <jsp-config/>
                <websockets/>
            </servlet-container>
            <handlers>
                <file name=""welcome-content"" path=""${jboss.home.dir}/welcome-content""/>
            </handlers>
            <filters>
                <response-header name=""server-header"" header-name=""Server"" header-value=""WildFly/10""/>
                <response-header name=""x-powered-by-header"" header-name=""X-Powered-By"" header-value=""Undertow/1""/>
            </filters>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:webservices:2.0"">
            <wsdl-host>${jboss.bind.address:127.0.0.1}</wsdl-host>
            <endpoint-config name=""Standard-Endpoint-Config""/>
            <endpoint-config name=""Recording-Endpoint-Config"">
                <pre-handler-chain name=""recording-handlers"" protocol-bindings=""##SOAP11_HTTP ##SOAP11_HTTP_MTOM ##SOAP12_HTTP ##SOAP12_HTTP_MTOM"">
                    <handler name=""RecordingHandler"" class=""org.jboss.ws.common.invocation.RecordingServerHandler""/>
                </pre-handler-chain>
            </endpoint-config>
            <client-config name=""Standard-Client-Config""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:weld:3.0""/>
    </profile>
    <interfaces>
        <interface name=""management"">
            <inet-address value=""${jboss.bind.address.management:127.0.0.1}""/>
        </interface>
        <interface name=""public"">
            <inet-address value=""${jboss.bind.address:127.0.0.1}""/>
        </interface>
        <interface name=""private"">
            <inet-address value=""${jboss.bind.address.private:127.0.0.1}""/>
        </interface>
        <interface name=""unsecure"">
            <inet-address value=""${jboss.bind.address.unsecure:127.0.0.1}""/>
        </interface>
    </interfaces>
    <socket-binding-group name=""standard-sockets"" default-interface=""public"" port-offset=""${jboss.socket.binding.port-offset:0}"">
        <socket-binding name=""management-http"" interface=""management"" port=""${jboss.management.http.port:9990}""/>
        <socket-binding name=""management-https"" interface=""management"" port=""${jboss.management.https.port:9993}""/>
        <socket-binding name=""ajp"" port=""${jboss.ajp.port:8009}""/>
        <socket-binding name=""http"" port=""${jboss.http.port:8080}""/>
        <socket-binding name=""https"" port=""${jboss.https.port:8443}""/>
        <socket-binding name=""iiop"" interface=""unsecure"" port=""3528""/>
        <socket-binding name=""iiop-ssl"" interface=""unsecure"" port=""3529""/>
        <socket-binding name=""jgroups-mping"" interface=""private"" port=""0"" multicast-address=""${jboss.default.multicast.address:230.0.0.4}"" multicast-port=""45700""/>
        <socket-binding name=""jgroups-tcp"" interface=""private"" port=""7600""/>
        <socket-binding name=""jgroups-tcp-fd"" interface=""private"" port=""57600""/>
        <socket-binding name=""jgroups-udp"" interface=""private"" port=""55200"" multicast-address=""${jboss.default.multicast.address:230.0.0.4}"" multicast-port=""45688""/>
        <socket-binding name=""jgroups-udp-fd"" interface=""private"" port=""54200""/>
        <socket-binding name=""modcluster"" port=""0"" multicast-address=""224.0.1.105"" multicast-port=""23364""/>
        <socket-binding name=""txn-recovery-environment"" port=""4712""/>
        <socket-binding name=""messaging"" port=""5445""/>
        <socket-binding name=""txn-status-manager"" port=""4713""/>
        <outbound-socket-binding name=""mail-smtp"">
            <remote-destination host=""localhost"" port=""25""/>
        </outbound-socket-binding>
    </socket-binding-group>
</server>
{code}

Backup:
{code}
<?xml version=""1.0"" ?>

<server xmlns=""urn:jboss:domain:4.2"">
    <extensions>
        <extension module=""org.jboss.as.clustering.infinispan""/>
        <extension module=""org.jboss.as.clustering.jgroups""/>
        <extension module=""org.jboss.as.connector""/>
        <extension module=""org.jboss.as.deployment-scanner""/>
        <extension module=""org.jboss.as.ee""/>
        <extension module=""org.jboss.as.ejb3""/>
        <extension module=""org.jboss.as.jaxrs""/>
        <extension module=""org.jboss.as.jdr""/>
        <extension module=""org.jboss.as.jmx""/>
        <extension module=""org.jboss.as.jpa""/>
        <extension module=""org.jboss.as.jsf""/>
        <extension module=""org.jboss.as.jsr77""/>
        <extension module=""org.jboss.as.logging""/>
        <extension module=""org.jboss.as.mail""/>
        <extension module=""org.jboss.as.modcluster""/>
        <extension module=""org.jboss.as.naming""/>
        <extension module=""org.jboss.as.pojo""/>
        <extension module=""org.jboss.as.remoting""/>
        <extension module=""org.jboss.as.sar""/>
        <extension module=""org.jboss.as.security""/>
        <extension module=""org.jboss.as.transactions""/>
        <extension module=""org.jboss.as.webservices""/>
        <extension module=""org.jboss.as.weld""/>
        <extension module=""org.wildfly.extension.batch.jberet""/>
        <extension module=""org.wildfly.extension.bean-validation""/>
        <extension module=""org.wildfly.extension.clustering.singleton""/>
        <extension module=""org.wildfly.extension.io""/>
        <extension module=""org.wildfly.extension.messaging-activemq""/>
        <extension module=""org.wildfly.extension.request-controller""/>
        <extension module=""org.wildfly.extension.security.manager""/>
        <extension module=""org.wildfly.extension.undertow""/>
        <extension module=""org.wildfly.iiop-openjdk""/>
    </extensions>
    <management>
        <security-realms>
            <security-realm name=""ManagementRealm"">
                <authentication>
                    <local default-user=""$local"" skip-group-loading=""true""/>
                    <properties path=""mgmt-users.properties"" relative-to=""jboss.server.config.dir""/>
                </authentication>
                <authorization map-groups-to-roles=""false"">
                    <properties path=""mgmt-groups.properties"" relative-to=""jboss.server.config.dir""/>
                </authorization>
            </security-realm>
            <security-realm name=""ApplicationRealm"">
                <server-identities>
                    <ssl>
                        <keystore path=""application.keystore"" relative-to=""jboss.server.config.dir"" keystore-password=""password"" alias=""server"" key-password=""password"" generate-self-signed-certificate-host=""localhost""/>
                    </ssl>
                </server-identities>
                <authentication>
                    <local default-user=""$local"" allowed-users=""*"" skip-group-loading=""true""/>
                    <properties path=""application-users.properties"" relative-to=""jboss.server.config.dir""/>
                </authentication>
                <authorization>
                    <properties path=""application-roles.properties"" relative-to=""jboss.server.config.dir""/>
                </authorization>
            </security-realm>
        </security-realms>
        <audit-log>
            <formatters>
                <json-formatter name=""json-formatter""/>
            </formatters>
            <handlers>
                <file-handler name=""file"" formatter=""json-formatter"" path=""audit-log.log"" relative-to=""jboss.server.data.dir""/>
            </handlers>
            <logger log-boot=""true"" log-read-only=""false"" enabled=""false"">
                <handlers>
                    <handler name=""file""/>
                </handlers>
            </logger>
        </audit-log>
        <management-interfaces>
            <http-interface security-realm=""ManagementRealm"" http-upgrade-enabled=""true"">
                <socket-binding http=""management-http""/>
            </http-interface>
        </management-interfaces>
        <access-control provider=""simple"">
            <role-mapping>
                <role name=""SuperUser"">
                    <include>
                        <user name=""$local""/>
                    </include>
                </role>
            </role-mapping>
        </access-control>
    </management>
    <profile>
        <subsystem xmlns=""urn:jboss:domain:logging:3.0"">
            <console-handler name=""CONSOLE"">
                <level name=""INFO""/>
                <formatter>
                    <named-formatter name=""COLOR-PATTERN""/>
                </formatter>
            </console-handler>
            <periodic-rotating-file-handler name=""FILE"" autoflush=""true"">
                <formatter>
                    <named-formatter name=""PATTERN""/>
                </formatter>
                <file relative-to=""jboss.server.log.dir"" path=""server.log""/>
                <suffix value="".yyyy-MM-dd""/>
                <append value=""true""/>
            </periodic-rotating-file-handler>
            <logger category=""com.arjuna"">
                <level name=""WARN""/>
            </logger>
            <logger category=""org.jboss.as.config"">
                <level name=""DEBUG""/>
            </logger>
            <logger category=""sun.rmi"">
                <level name=""WARN""/>
            </logger>
            <root-logger>
                <level name=""INFO""/>
                <handlers>
                    <handler name=""CONSOLE""/>
                    <handler name=""FILE""/>
                </handlers>
            </root-logger>
            <formatter name=""PATTERN"">
                <pattern-formatter pattern=""%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n""/>
            </formatter>
            <formatter name=""COLOR-PATTERN"">
                <pattern-formatter pattern=""%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n""/>
            </formatter>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:batch-jberet:1.0"">
            <default-job-repository name=""in-memory""/>
            <default-thread-pool name=""batch""/>
            <job-repository name=""in-memory"">
                <in-memory/>
            </job-repository>
            <thread-pool name=""batch"">
                <max-threads count=""10""/>
                <keepalive-time time=""30"" unit=""seconds""/>
            </thread-pool>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:bean-validation:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:datasources:4.0"">
            <datasources>
                <datasource jndi-name=""java:jboss/datasources/ExampleDS"" pool-name=""ExampleDS"" enabled=""true"" use-java-context=""true"">
                    <connection-url>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE</connection-url>
                    <driver>h2</driver>
                    <security>
                        <user-name>sa</user-name>
                        <password>sa</password>
                    </security>
                </datasource>
                <drivers>
                    <driver name=""h2"" module=""com.h2database.h2"">
                        <xa-datasource-class>org.h2.jdbcx.JdbcDataSource</xa-datasource-class>
                    </driver>
                </drivers>
            </datasources>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:deployment-scanner:2.0"">
            <deployment-scanner path=""deployments"" relative-to=""jboss.server.base.dir"" scan-interval=""5000"" runtime-failure-causes-rollback=""${jboss.deployment.scanner.rollback.on.failure:false}""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:ee:4.0"">
            <spec-descriptor-property-replacement>false</spec-descriptor-property-replacement>
            <concurrent>
                <context-services>
                    <context-service name=""default"" jndi-name=""java:jboss/ee/concurrency/context/default"" use-transaction-setup-provider=""true""/>
                </context-services>
                <managed-thread-factories>
                    <managed-thread-factory name=""default"" jndi-name=""java:jboss/ee/concurrency/factory/default"" context-service=""default""/>
                </managed-thread-factories>
                <managed-executor-services>
                    <managed-executor-service name=""default"" jndi-name=""java:jboss/ee/concurrency/executor/default"" context-service=""default"" hung-task-threshold=""60000"" keepalive-time=""5000""/>
                </managed-executor-services>
                <managed-scheduled-executor-services>
                    <managed-scheduled-executor-service name=""default"" jndi-name=""java:jboss/ee/concurrency/scheduler/default"" context-service=""default"" hung-task-threshold=""60000"" keepalive-time=""3000""/>
                </managed-scheduled-executor-services>
            </concurrent>
            <default-bindings context-service=""java:jboss/ee/concurrency/context/default"" datasource=""java:jboss/datasources/ExampleDS"" jms-connection-factory=""java:jboss/DefaultJMSConnectionFactory"" managed-executor-service=""java:jboss/ee/concurrency/executor/default"" managed-scheduled-executor-service=""java:jboss/ee/concurrency/scheduler/default"" managed-thread-factory=""java:jboss/ee/concurrency/factory/default""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:ejb3:4.0"">
            <session-bean>
                <stateless>
                    <bean-instance-pool-ref pool-name=""slsb-strict-max-pool""/>
                </stateless>
                <stateful default-access-timeout=""5000"" cache-ref=""distributable"" passivation-disabled-cache-ref=""simple""/>
                <singleton default-access-timeout=""5000""/>
            </session-bean>
            <mdb>
                <resource-adapter-ref resource-adapter-name=""${ejb.resource-adapter-name:activemq-ra.rar}""/>
                <bean-instance-pool-ref pool-name=""mdb-strict-max-pool""/>
            </mdb>
            <pools>
                <bean-instance-pools>
                    <strict-max-pool name=""slsb-strict-max-pool"" derive-size=""from-worker-pools"" instance-acquisition-timeout=""5"" instance-acquisition-timeout-unit=""MINUTES""/>
                    <strict-max-pool name=""mdb-strict-max-pool"" derive-size=""from-cpu-count"" instance-acquisition-timeout=""5"" instance-acquisition-timeout-unit=""MINUTES""/>
                </bean-instance-pools>
            </pools>
            <caches>
                <cache name=""simple""/>
                <cache name=""distributable"" passivation-store-ref=""infinispan"" aliases=""passivating clustered""/>
            </caches>
            <passivation-stores>
                <passivation-store name=""infinispan"" cache-container=""ejb"" max-size=""10000""/>
            </passivation-stores>
            <async thread-pool-name=""default""/>
            <timer-service thread-pool-name=""default"" default-data-store=""default-file-store"">
                <data-stores>
                    <file-data-store name=""default-file-store"" path=""timer-service-data"" relative-to=""jboss.server.data.dir""/>
                </data-stores>
            </timer-service>
            <remote connector-ref=""http-remoting-connector"" thread-pool-name=""default""/>
            <thread-pools>
                <thread-pool name=""default"">
                    <max-threads count=""10""/>
                    <keepalive-time time=""100"" unit=""milliseconds""/>
                </thread-pool>
            </thread-pools>
            <iiop enable-by-default=""false"" use-qualified-name=""false""/>
            <default-security-domain value=""other""/>
            <default-missing-method-permissions-deny-access value=""true""/>
            <log-system-exceptions value=""true""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:io:1.1"">
            <worker name=""default""/>
            <buffer-pool name=""default""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:infinispan:4.0"">
            <cache-container name=""server"" aliases=""singleton cluster"" default-cache=""default"" module=""org.wildfly.clustering.server"">
                <transport lock-timeout=""60000""/>
                <replicated-cache name=""default"" mode=""SYNC"">
                    <transaction mode=""BATCH""/>
                </replicated-cache>
            </cache-container>
            <cache-container name=""web"" default-cache=""dist"" module=""org.wildfly.clustering.web.infinispan"">
                <transport lock-timeout=""60000""/>
                <distributed-cache name=""dist"" mode=""ASYNC"" l1-lifespan=""0"" owners=""2"">
                    <locking isolation=""REPEATABLE_READ""/>
                    <transaction mode=""BATCH""/>
                    <file-store/>
                </distributed-cache>
                <distributed-cache name=""concurrent"" mode=""SYNC"" l1-lifespan=""0"" owners=""2"">
                    <file-store/>
                </distributed-cache>
            </cache-container>
            <cache-container name=""ejb"" aliases=""sfsb"" default-cache=""dist"" module=""org.wildfly.clustering.ejb.infinispan"">
                <transport lock-timeout=""60000""/>
                <distributed-cache name=""dist"" mode=""ASYNC"" l1-lifespan=""0"" owners=""2"">
                    <locking isolation=""REPEATABLE_READ""/>
                    <transaction mode=""BATCH""/>
                    <file-store/>
                </distributed-cache>
            </cache-container>
            <cache-container name=""hibernate"" default-cache=""local-query"" module=""org.hibernate.infinispan"">
                <transport lock-timeout=""60000""/>
                <local-cache name=""local-query"">
                    <eviction strategy=""LRU"" max-entries=""10000""/>
                    <expiration max-idle=""100000""/>
                </local-cache>
                <invalidation-cache name=""entity"" mode=""SYNC"">
                    <transaction mode=""NON_XA""/>
                    <eviction strategy=""LRU"" max-entries=""10000""/>
                    <expiration max-idle=""100000""/>
                </invalidation-cache>
                <replicated-cache name=""timestamps"" mode=""ASYNC""/>
            </cache-container>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:iiop-openjdk:1.0"">
            <orb socket-binding=""iiop"" ssl-socket-binding=""iiop-ssl""/>
            <initializers security=""identity"" transactions=""spec""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:jaxrs:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:jca:4.0"">
            <archive-validation enabled=""true"" fail-on-error=""true"" fail-on-warn=""false""/>
            <bean-validation enabled=""true""/>
            <default-workmanager>
                <short-running-threads>
                    <core-threads count=""50""/>
                    <queue-length count=""50""/>
                    <max-threads count=""50""/>
                    <keepalive-time time=""10"" unit=""seconds""/>
                </short-running-threads>
                <long-running-threads>
                    <core-threads count=""50""/>
                    <queue-length count=""50""/>
                    <max-threads count=""50""/>
                    <keepalive-time time=""10"" unit=""seconds""/>
                </long-running-threads>
            </default-workmanager>
            <cached-connection-manager/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:jdr:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:jgroups:4.0"">
            <channels default=""ee"">
                <channel name=""ee"" stack=""udp""/>
            </channels>
            <stacks>
                <stack name=""udp"">
                    <transport type=""UDP"" socket-binding=""jgroups-udp""/>
                    <protocol type=""PING""/>
                    <protocol type=""MERGE3""/>
                    <protocol type=""FD_SOCK"" socket-binding=""jgroups-udp-fd""/>
                    <protocol type=""FD_ALL""/>
                    <protocol type=""VERIFY_SUSPECT""/>
                    <protocol type=""pbcast.NAKACK2""/>
                    <protocol type=""UNICAST3""/>
                    <protocol type=""pbcast.STABLE""/>
                    <protocol type=""pbcast.GMS""/>
                    <protocol type=""UFC""/>
                    <protocol type=""MFC""/>
                    <protocol type=""FRAG2""/>
                </stack>
                <stack name=""tcp"">
                    <transport type=""TCP"" socket-binding=""jgroups-tcp""/>
                    <protocol type=""MPING"" socket-binding=""jgroups-mping""/>
                    <protocol type=""MERGE3""/>
                    <protocol type=""FD_SOCK"" socket-binding=""jgroups-tcp-fd""/>
                    <protocol type=""FD""/>
                    <protocol type=""VERIFY_SUSPECT""/>
                    <protocol type=""pbcast.NAKACK2""/>
                    <protocol type=""UNICAST3""/>
                    <protocol type=""pbcast.STABLE""/>
                    <protocol type=""pbcast.GMS""/>
                    <protocol type=""MFC""/>
                    <protocol type=""FRAG2""/>
                </stack>
            </stacks>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:jmx:1.3"">
            <expose-resolved-model/>
            <expose-expression-model/>
            <remoting-connector/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:jpa:1.1"">
            <jpa default-datasource="""" default-extended-persistence-inheritance=""DEEP""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:jsf:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:jsr77:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:mail:2.0"">
            <mail-session name=""default"" jndi-name=""java:jboss/mail/Default"">
                <smtp-server outbound-socket-binding-ref=""mail-smtp""/>
            </mail-session>
        </subsystem>
<subsystem xmlns=""urn:jboss:domain:messaging-activemq:1.0"">
	<server name=""default"" persist-delivery-count-before-delivery=""true"">
		<cluster password=""ahoj""/>
		<journal type=""NIO""/>
		<replication-slave cluster-name=""my-cluster"" group-name=""aor-queues-cluster-group"" allow-failback=""false"" max-saved-replicated-journal-size=""1""/>
		<security-setting name=""#"">
			<role name=""guest"" send=""true"" consume=""true"" create-non-durable-queue=""true"" delete-non-durable-queue=""true""/>
		</security-setting>
		<address-setting name=""#"" dead-letter-address=""jms.queue.DLQ"" expiry-address=""jms.queue.ExpiryQueue"" max-size-bytes=""10485760"" page-size-bytes=""2097152"" message-counter-history-day-limit=""10"" redistribution-delay=""1000""/>
		<http-connector name=""http-connector"" socket-binding=""http"" endpoint=""http-acceptor""/>
		<http-connector name=""http-connector-throughput"" socket-binding=""http"" endpoint=""http-acceptor-throughput"">
			<param name=""batch-delay"" value=""50""/>
		</http-connector>
		<remote-connector name=""remote-connector"" socket-binding=""messaging""/>
		<in-vm-connector name=""in-vm"" server-id=""0""/>
		<http-acceptor name=""http-acceptor"" http-listener=""default""/>
		<http-acceptor name=""http-acceptor-throughput"" http-listener=""default"">
			<param name=""batch-delay"" value=""50""/>
			<param name=""direct-deliver"" value=""false""/>
		</http-acceptor>
		<remote-acceptor name=""remote-acceptor"" socket-binding=""messaging""/>
		<in-vm-acceptor name=""in-vm"" server-id=""0""/>
		<broadcast-group name=""bg-group1"" jgroups-channel=""activemq-cluster"" connectors=""http-connector""/>
		<discovery-group name=""dg-group1"" jgroups-channel=""activemq-cluster""/>
		<cluster-connection name=""my-cluster"" address=""jms"" connector-name=""http-connector"" discovery-group=""dg-group1""/>
		<jms-queue name=""ExpiryQueue"" entries=""java:/jms/queue/ExpiryQueue""/>
		<jms-queue name=""DLQ"" entries=""java:/jms/queue/DLQ""/>
		<connection-factory name=""InVmConnectionFactory"" entries=""java:/ConnectionFactory"" connectors=""in-vm""/>
		<connection-factory name=""RemoteConnectionFactory"" entries=""java:jboss/exported/jms/RemoteConnectionFactory"" connectors=""http-connector"" ha=""true"" block-on-acknowledge=""true"" reconnect-attempts=""-1""/>
		<pooled-connection-factory name=""activemq-ra"" entries=""java:/JmsXA java:jboss/DefaultJMSConnectionFactory"" connectors=""in-vm"" transaction=""xa""/>
	</server>
</subsystem>
        <subsystem xmlns=""urn:jboss:domain:modcluster:2.0"">
            <mod-cluster-config advertise-socket=""modcluster"" connector=""ajp"">
                <dynamic-load-provider>
                    <load-metric type=""cpu""/>
                </dynamic-load-provider>
            </mod-cluster-config>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:naming:2.0"">
            <remote-naming/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:pojo:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:remoting:3.0"">
            <endpoint/>
            <http-connector name=""http-remoting-connector"" connector-ref=""default"" security-realm=""ApplicationRealm""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:resource-adapters:4.0""/>
        <subsystem xmlns=""urn:jboss:domain:request-controller:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:sar:1.0""/>
        <subsystem xmlns=""urn:jboss:domain:security-manager:1.0"">
            <deployment-permissions>
                <maximum-set>
                    <permission class=""java.security.AllPermission""/>
                </maximum-set>
            </deployment-permissions>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:security:1.2"">
            <security-domains>
                <security-domain name=""other"" cache-type=""default"">
                    <authentication>
                        <login-module code=""Remoting"" flag=""optional"">
                            <module-option name=""password-stacking"" value=""useFirstPass""/>
                        </login-module>
                        <login-module code=""RealmDirect"" flag=""required"">
                            <module-option name=""password-stacking"" value=""useFirstPass""/>
                        </login-module>
                    </authentication>
                </security-domain>
                <security-domain name=""jboss-web-policy"" cache-type=""default"">
                    <authorization>
                        <policy-module code=""Delegating"" flag=""required""/>
                    </authorization>
                </security-domain>
                <security-domain name=""jboss-ejb-policy"" cache-type=""default"">
                    <authorization>
                        <policy-module code=""Delegating"" flag=""required""/>
                    </authorization>
                </security-domain>
                <security-domain name=""jaspitest"" cache-type=""default"">
                    <authentication-jaspi>
                        <login-module-stack name=""dummy"">
                            <login-module code=""Dummy"" flag=""optional""/>
                        </login-module-stack>
                        <auth-module code=""Dummy""/>
                    </authentication-jaspi>
                </security-domain>
            </security-domains>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:singleton:1.0"">
            <singleton-policies default=""default"">
                <singleton-policy name=""default"" cache-container=""server"">
                    <simple-election-policy/>
                </singleton-policy>
            </singleton-policies>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:transactions:3.0"">
            <core-environment>
                <process-id>
                    <uuid/>
                </process-id>
            </core-environment>
            <recovery-environment socket-binding=""txn-recovery-environment"" status-socket-binding=""txn-status-manager""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:undertow:3.1"">
            <buffer-cache name=""default""/>
            <server name=""default-server"">
                <ajp-listener name=""ajp"" socket-binding=""ajp""/>
                <http-listener name=""default"" socket-binding=""http"" redirect-socket=""https"" enable-http2=""true""/>
                <https-listener name=""https"" socket-binding=""https"" security-realm=""ApplicationRealm"" enable-http2=""true""/>
                <host name=""default-host"" alias=""localhost"">
                    <location name=""/"" handler=""welcome-content""/>
                    <filter-ref name=""server-header""/>
                    <filter-ref name=""x-powered-by-header""/>
                </host>
            </server>
            <servlet-container name=""default"">
                <jsp-config/>
                <websockets/>
            </servlet-container>
            <handlers>
                <file name=""welcome-content"" path=""${jboss.home.dir}/welcome-content""/>
            </handlers>
            <filters>
                <response-header name=""server-header"" header-name=""Server"" header-value=""WildFly/10""/>
                <response-header name=""x-powered-by-header"" header-name=""X-Powered-By"" header-value=""Undertow/1""/>
            </filters>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:webservices:2.0"">
            <wsdl-host>${jboss.bind.address:127.0.0.1}</wsdl-host>
            <endpoint-config name=""Standard-Endpoint-Config""/>
            <endpoint-config name=""Recording-Endpoint-Config"">
                <pre-handler-chain name=""recording-handlers"" protocol-bindings=""##SOAP11_HTTP ##SOAP11_HTTP_MTOM ##SOAP12_HTTP ##SOAP12_HTTP_MTOM"">
                    <handler name=""RecordingHandler"" class=""org.jboss.ws.common.invocation.RecordingServerHandler""/>
                </pre-handler-chain>
            </endpoint-config>
            <client-config name=""Standard-Client-Config""/>
        </subsystem>
        <subsystem xmlns=""urn:jboss:domain:weld:3.0""/>
    </profile>
    <interfaces>
        <interface name=""management"">
            <inet-address value=""${jboss.bind.address.management:127.0.0.1}""/>
        </interface>
        <interface name=""public"">
            <inet-address value=""${jboss.bind.address:127.0.0.1}""/>
        </interface>
        <interface name=""private"">
            <inet-address value=""${jboss.bind.address.private:127.0.0.1}""/>
        </interface>
        <interface name=""unsecure"">
            <inet-address value=""${jboss.bind.address.unsecure:127.0.0.1}""/>
        </interface>
    </interfaces>
    <socket-binding-group name=""standard-sockets"" default-interface=""public"" port-offset=""${jboss.socket.binding.port-offset:0}"">
        <socket-binding name=""management-http"" interface=""management"" port=""${jboss.management.http.port:9990}""/>
        <socket-binding name=""management-https"" interface=""management"" port=""${jboss.management.https.port:9993}""/>
        <socket-binding name=""ajp"" port=""${jboss.ajp.port:8009}""/>
        <socket-binding name=""http"" port=""${jboss.http.port:8080}""/>
        <socket-binding name=""https"" port=""${jboss.https.port:8443}""/>
        <socket-binding name=""iiop"" interface=""unsecure"" port=""3528""/>
        <socket-binding name=""iiop-ssl"" interface=""unsecure"" port=""3529""/>
        <socket-binding name=""jgroups-mping"" interface=""private"" port=""0"" multicast-address=""${jboss.default.multicast.address:230.0.0.4}"" multicast-port=""45700""/>
        <socket-binding name=""jgroups-tcp"" interface=""private"" port=""7600""/>
        <socket-binding name=""jgroups-tcp-fd"" interface=""private"" port=""57600""/>
        <socket-binding name=""jgroups-udp"" interface=""private"" port=""55200"" multicast-address=""${jboss.default.multicast.address:230.0.0.4}"" multicast-port=""45688""/>
        <socket-binding name=""jgroups-udp-fd"" interface=""private"" port=""54200""/>
        <socket-binding name=""modcluster"" port=""0"" multicast-address=""224.0.1.105"" multicast-port=""23364""/>
        <socket-binding name=""txn-recovery-environment"" port=""4712""/>
        <socket-binding name=""txn-status-manager"" port=""4713""/>
        <socket-binding name=""messaging"" port=""5445""/>
        <outbound-socket-binding name=""mail-smtp"">
            <remote-destination host=""localhost"" port=""25""/>
        </outbound-socket-binding>
    </socket-binding-group>
</server>
{code}","26/Nov/18 10:19 AM;ev.srinivas;Thank you [~mnovak], Please share steps you are using for starting the master and slave wildfly's.","27/Nov/18 2:18 AM;ev.srinivas;HI [~mnovak], please share the steps you use for starting the wildfly on RHEL. Thanks,","27/Nov/18 2:55 AM;mnovak;[~ev.srinivas] Sure. I'm using just port offset +1000 for backup server. Both of the server are bound to 127.0.0.1.

Live is started by: {{sh standalone.sh -c standalone-full-ha-live.xml}}

and backup by:
{{sh standalone.sh -c standalone-full-ha-backup.xml -Djboss.socket.binding.port-offset=1000}}

(you will most likely need to change names of configuration files based on yours)","28/Nov/18 8:05 AM;ev.srinivas;Hi [~mnovak], 

How are you stopping the Wildfly master service ?
-   I am able to see master announcing backup when I stopped the master using ctrl+C and restarted. Updating cluster password in standalone-full-ha.xml can be ignored as it worked.

But this is not the same behaviour when I used below of the options for stopping the wildfly service and restarted. 
1. Using custom start and stop process. Stop process contains kill for pid of the Wildfly. (kill -15 pid). This custom start process just invokes standalone.sh with -D params.
2. ./jboss-cli.sh -c --controller=xxx:xxx:xxx:xxx:13990 --command="":shutdown()"" --user=admin --password=admin@123

Can you let me know what is the correct way to stop the master Wildfly service.I can explain more in case it required.","28/Nov/18 8:59 AM;mnovak;All the ways to stop server are correct. There must not be a difference.

You're right that I used ctrl+c to stop master/live. However when I tried to stop live/master using kill -15 or /jboss-cli.sh -c ...--command="":shutdown()"" and then started again then I could master announcing itself as backup:
{code}
14:58:01,308 INFO  [org.apache.activemq.artemis.core.server] (AMQ119000: Activation for server ActiveMQServerImpl::serverUUID=null) AMQ221109: Apache ActiveMQ Artemis Backup Server version 1.1.0.wildfly-017 [null] started, waiting live to fail before it gets active
14:58:01,433 ERROR [org.apache.activemq.artemis.core.server] (Thread-3 (ActiveMQ-client-netty-threads-1057127915)) AMQ224056: Live server will not fail-back automatically
14:58:01,618 ERROR [org.apache.activemq.artemis.core.server] (Thread-3 (ActiveMQ-client-netty-threads-1057127915)) AMQ224056: Live server will not fail-back automatically
14:58:01,912 INFO  [org.apache.activemq.artemis.core.server] (Thread-3 (ActiveMQ-client-netty-threads-1057127915)) AMQ221024: Backup server ActiveMQServerImpl::serverUUID=35296b07-f173-11e8-a098-53ea761b98b6 is synchronized with live-server.
14:58:03,299 INFO  [org.apache.activemq.artemis.core.server] (Thread-2 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$2@726c395e-929999223)) AMQ221031: backup announced
{code}

What is the custom way by which you start the servers?","28/Nov/18 9:28 AM;ev.srinivas;Please refer attached .sh file.

Using this for start and stop. I changed my project name to myproject in all occurrences.

/etc/init.d/myproject_service.sh start
/etc/init.d/myproject_service.sh stop

","28/Nov/18 9:30 AM;ev.srinivas;copied whole content of .sh file to avoid reopening ticket --



#!/bin/sh
#
# WildFly control script
#
# chkconfig: - 80 20
# description: WildFly startup script
# processname: wildfly
# pidfile: /var/run/wildfly/wildfly.pid
# config: /etc/default/wildfly.conf
#
chown -R myprojectfsw:gmyprojectfsw /opt/myproject/LIVEQ
export JBOSS_HOME=""/opt/myproject/LIVEQ/wildfly""
export JBOSS_USER=myprojectfsw
export JBOSS_MODE=standalone
export JBOSS_CONFIG=standalone-full-ha.xml
export STARTUP_WAIT=60
export SHUTDOWN_WAIT=60
export JBOSS_CONSOLE_LOG=$JBOSS_HOME/bin/console.log
export LAUNCH_JBOSS_IN_BACKGROUND=1
export JBOSS_MODULEPATH=$JBOSS_BASE_DIR/modules:$JBOSS_HOME/modules
export JAVA_HOME=/usr/lib/jvm/jre-1.8.0
export LOG_FILE=$JBOSS_HOME/log/jboss-console.log
export JBOSS_PIDFILE=$JBOSS_HOME/jboss-as-standalone-LIVEQ.pid
export MALLOC_ARENA_MAX=4

export myproject_CONF="" -b {my system ip} -bmanagement {my system ip}  -Djboss.bind.address.private={my system ip} -Djboss.server.default.config=$JBOSS_CONFIG -Djboss.server.log.dir=/var/log/myproject/serverlogs -Dmyproject_CONFIG_DIR=/opt/myproject/LIVEQ/conf -Dmyproject_DEPLOYMENT_DIR=/opt/myproject/LIVEQ/wildfly/standalone/deployments -Dmyproject_JDK_HOME=/usr/lib/jvm/java-1.8.0-openjdk -Dmyproject_HOME=/opt/myproject/LIVEQ/ -u 231.71.73.75 -Djboss.messaging.group.address=231.71.73.75 -Djboss.messaging.group.port=9855 -Djboss.socket.binding.port-offset=4000 -Djboss.node.name=myproject4dev2fm1-LIVEQ -Djboss.hostname=myproject4dev2fm1 -Dmyproject_BIN=/opt/myproject/LIVEQ/bin -Dmyproject_RELEASE_VERSION=17.12-SNAPSHOT -Djboss.trace.log.dir=/var/log/myproject/traces -Djboss.logs.log.dir=/var/log/myproject/logs -Dhornetq.enforce.maxreplica=false""

#export myproject_CONF="" -b 135.250.138.191 -bmanagement 135.250.138.191""

# Source function library.
. /etc/init.d/functions

# Load Java configuration.
[ -r /etc/java/java.conf ] && . /etc/java/java.conf
export JAVA_HOME

#WILDFLY_NAME=$(basename ${0})
WILDFLY_NAME=myproject_LIVEQ_service
JBOSS_LOCKFILE=/opt/myproject/LIVEQ/${WILDFLY_NAME}

# Load JBoss AS init.d configuration.
if [ -z ""$JBOSS_CONF"" ]; then
	JBOSS_CONF=""/etc/default/${WILDFLY_NAME}.conf""
fi

[ -r ""$JBOSS_CONF"" ] && . ""${JBOSS_CONF}""

# Set defaults.

if [ -z ""$JBOSS_HOME"" ]; then
	JBOSS_HOME=/opt/${WILDFLY_NAME}
fi
export JBOSS_HOME

if [ -z ""$JBOSS_PIDFILE"" ]; then
	JBOSS_PIDFILE=/var/run/${WILDFLY_NAME}/wildfly.pid
fi
export JBOSS_PIDFILE

if [ -z ""$JBOSS_CONSOLE_LOG"" ]; then
	JBOSS_CONSOLE_LOG=/var/log/${WILDFLY_NAME}/console.log
fi

if [ -z ""$STARTUP_WAIT"" ]; then
	STARTUP_WAIT=30
fi

if [ -z ""$SHUTDOWN_WAIT"" ]; then
	SHUTDOWN_WAIT=30
fi

if [ -z ""$JBOSS_LOCKFILE"" ]; then
	JBOSS_LOCKFILE=/var/lock/subsys/${WILDFLY_NAME}
fi

# Startup mode of wildfly
if [ -z ""$JBOSS_MODE"" ]; then
	JBOSS_MODE=standalone
fi

# Startup mode script
if [ ""$JBOSS_MODE"" = ""standalone"" ]; then
	JBOSS_SCRIPT=$JBOSS_HOME/bin/standalone.sh
	if [ -z ""$JBOSS_CONFIG"" ]; then
		JBOSS_CONFIG=standalone.xml
	fi
	JBOSS_MARKERFILE=$JBOSS_HOME/standalone/tmp/startup-marker
else
	JBOSS_SCRIPT=$JBOSS_HOME/bin/domain.sh
	if [ -z ""$JBOSS_DOMAIN_CONFIG"" ]; then
		JBOSS_DOMAIN_CONFIG=domain.xml
	fi
	if [ -z ""$JBOSS_HOST_CONFIG"" ]; then
		JBOSS_HOST_CONFIG=host.xml
	fi
	JBOSS_MARKERFILE=$JBOSS_HOME/domain/tmp/startup-marker
fi

prog=${WILDFLY_NAME}
currenttime=$(date +%s%N | cut -b1-13)

start() {
	echo -n ""Starting $prog: ""
	if [ -f $JBOSS_PIDFILE ]; then
		read ppid < $JBOSS_PIDFILE
		if [ `ps --pid $ppid 2> /dev/null | grep -c $ppid 2> /dev/null` -eq '1' ]; then
			echo -n ""$prog is already running""
			failure
	echo
		return 1
	else
		rm -f $JBOSS_PIDFILE
	fi
	fi
	mkdir -p $(dirname $JBOSS_CONSOLE_LOG)
	cat /dev/null > $JBOSS_CONSOLE_LOG

        rm -rf $JBOSS_HOME/standalone/tmp
rm -rf $JBOSS_HOME/standalone/data
   mkdir -p $(dirname $JBOSS_PIDFILE)
        chown $JBOSS_USER $(dirname $JBOSS_PIDFILE) || true
        if [ ! -z ""$JBOSS_USER"" ]; then
           if [ ""$JBOSS_MODE"" = ""standalone"" ]; then
              if [ -r /etc/rc.d/init.d/functions ]; then
                  cd $JBOSS_HOME
                   nohup $JBOSS_SCRIPT $myproject_CONF > $LOG_FILE 2>&1 &
                  cd -
              else
                  su - $JBOSS_USER -c ""LAUNCH_JBOSS_IN_BACKGROUND=1 JBOSS_PIDFILE=$JBOSS_PIDFILE $JBOSS_SCRIPT -c $JBOSS_CONFIG"" 2>&1 > $JBOSS_CONSOLE_LOG &
              fi
          fi
  fi


	count=0
	launched=false

	until [ $count -gt $STARTUP_WAIT ]
	do
		sleep 1
		let count=$count+1;
		if [ -f $JBOSS_MARKERFILE ]; then
			markerfiletimestamp=$(grep -o '[0-9]*' $JBOSS_MARKERFILE) > /dev/null
			if [ ""$markerfiletimestamp"" -gt ""$currenttime"" ] ; then
				grep -i 'success:' $JBOSS_MARKERFILE > /dev/null
				if [ $? -eq 0 ] ; then
					launched=true
					break
				fi
			fi
		fi
	done

	if [ ""$launched"" = ""false"" ] ; then
		echo ""$prog started with errors, please see server log for details""
	fi

	touch $JBOSS_LOCKFILE
	success
	echo
	return 0
}

stop() {
	echo -n $""Stopping $prog: ""
	count=0;

	if [ -f $JBOSS_PIDFILE ]; then
		read kpid < $JBOSS_PIDFILE
		let kwait=$SHUTDOWN_WAIT

		# Try issuing SIGTERM
		kill -15 $kpid
		until [ `ps --pid $kpid 2> /dev/null | grep -c $kpid 2> /dev/null` -eq '0' ] || [ $count -gt $kwait ]
			do
			sleep 1
			let count=$count+1;
		done

		if [ $count -gt $kwait ]; then
			kill -9 $kpid
		fi
	fi
	rm -f $JBOSS_PIDFILE
	rm -f $JBOSS_LOCKFILE
        sed -i '/<deployments>/,/<\/deployments>/d' $JBOSS_HOME/standalone/configuration/standalone-full-ha.xml
        sed -i '/<deployment-overlays>/,/<\/deployment-overlays>/d' $JBOSS_HOME/standalone/configuration/standalone-full-ha.xml
	success
	echo
}

status() {
	if [ -f $JBOSS_PIDFILE ]; then
		read ppid < $JBOSS_PIDFILE
		if [ `ps --pid $ppid 2> /dev/null | grep -c $ppid 2> /dev/null` -eq '1' ]; then
			echo ""$prog is running (pid $ppid)""
			return 0
		else
			echo ""$prog dead but pid file exists""
			return 1
		fi
	fi
	echo ""$prog is not running""
	return 3
}

case ""$1"" in
	start)
		start
		;;
	stop)
		stop
		;;
	restart)
		$0 stop
		$0 start
		;;
	status)
		status
		;;
	*)
		## If no parameters are given, print which are avaiable.
		echo ""Usage: $0 {start|stop|status|restart}""
		exit 1
		;;
esac
","28/Nov/18 9:34 AM;ev.srinivas;Please consider this to avoid special characters printed in the above comment. ------



chown -R myprojectfsw:gmyprojectfsw /opt/myproject/LIVEQ
export JBOSS_HOME=""/opt/myproject/LIVEQ/wildfly""
export JBOSS_USER=myprojectfsw
export JBOSS_MODE=standalone
export JBOSS_CONFIG=standalone-full-ha.xml
export STARTUP_WAIT=60
export SHUTDOWN_WAIT=60
export JBOSS_CONSOLE_LOG=$JBOSS_HOME/bin/console.log
export LAUNCH_JBOSS_IN_BACKGROUND=1
export JBOSS_MODULEPATH=$JBOSS_BASE_DIR/modules:$JBOSS_HOME/modules
export JAVA_HOME=/usr/lib/jvm/jre-1.8.0
export LOG_FILE=$JBOSS_HOME/log/jboss-console.log
export JBOSS_PIDFILE=$JBOSS_HOME/jboss-as-standalone-LIVEQ.pid
export MALLOC_ARENA_MAX=4

export myproject_CONF="" -b {my system ip} -bmanagement {my system ip}  -Djboss.bind.address.private={my system ip} -Djboss.server.default.config=$JBOSS_CONFIG -Djboss.server.log.dir=/var/log/myproject/serverlogs -Dmyproject_CONFIG_DIR=/opt/myproject/LIVEQ/conf -Dmyproject_DEPLOYMENT_DIR=/opt/myproject/LIVEQ/wildfly/standalone/deployments -Dmyproject_JDK_HOME=/usr/lib/jvm/java-1.8.0-openjdk -Dmyproject_HOME=/opt/myproject/LIVEQ/ -u 231.71.73.75 -Djboss.messaging.group.address=231.71.73.75 -Djboss.messaging.group.port=9855 -Djboss.socket.binding.port-offset=4000 -Djboss.node.name=myproject4dev2fm1-LIVEQ -Djboss.hostname=myproject4dev2fm1 -Dmyproject_BIN=/opt/myproject/LIVEQ/bin -Dmyproject_RELEASE_VERSION=17.12-SNAPSHOT -Djboss.trace.log.dir=/var/log/myproject/traces -Djboss.logs.log.dir=/var/log/myproject/logs -Dhornetq.enforce.maxreplica=false""


. /etc/init.d/functions


[ -r /etc/java/java.conf ] && . /etc/java/java.conf
export JAVA_HOME


WILDFLY_NAME=myproject_LIVEQ_service
JBOSS_LOCKFILE=/opt/myproject/LIVEQ/${WILDFLY_NAME}


if [ -z ""$JBOSS_CONF"" ]; then
	JBOSS_CONF=""/etc/default/${WILDFLY_NAME}.conf""
fi

[ -r ""$JBOSS_CONF"" ] && . ""${JBOSS_CONF}""

if [ -z ""$JBOSS_HOME"" ]; then
	JBOSS_HOME=/opt/${WILDFLY_NAME}
fi
export JBOSS_HOME

if [ -z ""$JBOSS_PIDFILE"" ]; then
	JBOSS_PIDFILE=/var/run/${WILDFLY_NAME}/wildfly.pid
fi
export JBOSS_PIDFILE

if [ -z ""$JBOSS_CONSOLE_LOG"" ]; then
	JBOSS_CONSOLE_LOG=/var/log/${WILDFLY_NAME}/console.log
fi

if [ -z ""$STARTUP_WAIT"" ]; then
	STARTUP_WAIT=30
fi

if [ -z ""$SHUTDOWN_WAIT"" ]; then
	SHUTDOWN_WAIT=30
fi

if [ -z ""$JBOSS_LOCKFILE"" ]; then
	JBOSS_LOCKFILE=/var/lock/subsys/${WILDFLY_NAME}
fi


if [ -z ""$JBOSS_MODE"" ]; then
	JBOSS_MODE=standalone
fi

if [ ""$JBOSS_MODE"" = ""standalone"" ]; then
	JBOSS_SCRIPT=$JBOSS_HOME/bin/standalone.sh
	if [ -z ""$JBOSS_CONFIG"" ]; then
		JBOSS_CONFIG=standalone.xml
	fi
	JBOSS_MARKERFILE=$JBOSS_HOME/standalone/tmp/startup-marker
else
	JBOSS_SCRIPT=$JBOSS_HOME/bin/domain.sh
	if [ -z ""$JBOSS_DOMAIN_CONFIG"" ]; then
		JBOSS_DOMAIN_CONFIG=domain.xml
	fi
	if [ -z ""$JBOSS_HOST_CONFIG"" ]; then
		JBOSS_HOST_CONFIG=host.xml
	fi
	JBOSS_MARKERFILE=$JBOSS_HOME/domain/tmp/startup-marker
fi

prog=${WILDFLY_NAME}
currenttime=$(date +%s%N | cut -b1-13)

start() {
	echo -n ""Starting $prog: ""
	if [ -f $JBOSS_PIDFILE ]; then
		read ppid < $JBOSS_PIDFILE
		if [ `ps --pid $ppid 2> /dev/null | grep -c $ppid 2> /dev/null` -eq '1' ]; then
			echo -n ""$prog is already running""
			failure
	echo
		return 1
	else
		rm -f $JBOSS_PIDFILE
	fi
	fi
	mkdir -p $(dirname $JBOSS_CONSOLE_LOG)
	cat /dev/null > $JBOSS_CONSOLE_LOG

        rm -rf $JBOSS_HOME/standalone/tmp
rm -rf $JBOSS_HOME/standalone/data
   mkdir -p $(dirname $JBOSS_PIDFILE)
        chown $JBOSS_USER $(dirname $JBOSS_PIDFILE) || true
        if [ ! -z ""$JBOSS_USER"" ]; then
           if [ ""$JBOSS_MODE"" = ""standalone"" ]; then
              if [ -r /etc/rc.d/init.d/functions ]; then
                  cd $JBOSS_HOME
                   nohup $JBOSS_SCRIPT $myproject_CONF > $LOG_FILE 2>&1 &
                  cd -
              else
                  su - $JBOSS_USER -c ""LAUNCH_JBOSS_IN_BACKGROUND=1 JBOSS_PIDFILE=$JBOSS_PIDFILE $JBOSS_SCRIPT -c $JBOSS_CONFIG"" 2>&1 > $JBOSS_CONSOLE_LOG &
              fi
          fi
  fi


	count=0
	launched=false

	until [ $count -gt $STARTUP_WAIT ]
	do
		sleep 1
		let count=$count+1;
		if [ -f $JBOSS_MARKERFILE ]; then
			markerfiletimestamp=$(grep -o '[0-9]*' $JBOSS_MARKERFILE) > /dev/null
			if [ ""$markerfiletimestamp"" -gt ""$currenttime"" ] ; then
				grep -i 'success:' $JBOSS_MARKERFILE > /dev/null
				if [ $? -eq 0 ] ; then
					launched=true
					break
				fi
			fi
		fi
	done

	if [ ""$launched"" = ""false"" ] ; then
		echo ""$prog started with errors, please see server log for details""
	fi

	touch $JBOSS_LOCKFILE
	success
	echo
	return 0
}

stop() {
	echo -n $""Stopping $prog: ""
	count=0;

	if [ -f $JBOSS_PIDFILE ]; then
		read kpid < $JBOSS_PIDFILE
		let kwait=$SHUTDOWN_WAIT

		kill -15 $kpid
		until [ `ps --pid $kpid 2> /dev/null | grep -c $kpid 2> /dev/null` -eq '0' ] || [ $count -gt $kwait ]
			do
			sleep 1
			let count=$count+1;
		done

		if [ $count -gt $kwait ]; then
			kill -9 $kpid
		fi
	fi
	rm -f $JBOSS_PIDFILE
	rm -f $JBOSS_LOCKFILE
        sed -i '/<deployments>/,/<\/deployments>/d' $JBOSS_HOME/standalone/configuration/standalone-full-ha.xml
        sed -i '/<deployment-overlays>/,/<\/deployment-overlays>/d' $JBOSS_HOME/standalone/configuration/standalone-full-ha.xml
	success
	echo
}

status() {
	if [ -f $JBOSS_PIDFILE ]; then
		read ppid < $JBOSS_PIDFILE
		if [ `ps --pid $ppid 2> /dev/null | grep -c $ppid 2> /dev/null` -eq '1' ]; then
			echo ""$prog is running (pid $ppid)""
			return 0
		else
			echo ""$prog dead but pid file exists""
			return 1
		fi
	fi
	echo ""$prog is not running""
	return 3
}

case ""$1"" in
	start)
		start
		;;
	stop)
		stop
		;;
	restart)
		$0 stop
		$0 start
		;;
	status)
		status
		;;
	*)
		echo ""Usage: $0 {start|stop|status|restart}""
		exit 1
		;;
esac
","28/Nov/18 11:36 PM;ev.srinivas;Hi [~mnovak], can you let me know if you have any update :) ?","29/Nov/18 2:09 AM;ev.srinivas;Need some more info - 
1. Do starting wildfly directly under bin path of wildfly starts it as a system process. 
2. Does kill -15 $pid in custom stop script won't communicate effectively to the slave server like ctrl+c does. Will it still holds some resources for it to signal failure.
3. as per new rhel, it redirects to etc/systemd/system/aor_myproject_service.service and redirects as below 
ExecStart=/etc/init.d/aor_myproject_service start
ExecStop = /etc/init.d/aor_myproject_service stop
Do this impacting anything?","29/Nov/18 2:52 AM;mnovak;[~ev.srinivas] Looking at above magic script, I regret that I have asked :-) Before we dive into it could you double check that if start servers by my way usign standalone.sh and try to stop master using kill -15 and jboss-cli.sh and then start again then master does not announce as backup. Because both of the ways (kill -15, jboss-cli.sh) worked for me. 

If it works for you as well then issue is in those scripts. If not then we can dive into those scripts.
","29/Nov/18 5:12 AM;ev.srinivas;Hi [~mnovak],  it worked.  Start and stop is done as you suggested, master is able to announce the backup.

-- start master--
./standalone.sh -c standalone-full-ha.xml -b xxx.xxx.xxx.xxx -bmanagement xxx.xxx.xxx.xxx  -Djboss.bind.address.private=xxx.xxx.xxx.xxx -Djboss.server.default.config=$JBOSS_CONFIG -Djboss.server.log.dir=/var/log/myproject/serverlogs -DPROJECT_CONFIG_DIR=/opt/myproject/LIVEQ/conf -DPROJECT_DEPLOYMENT_DIR=/opt/myproject/LIVEQ/wildfly/standalone/deployments -DPROJECT_JDK_HOME=/usr/lib/jvm/java-1.8.0-openjdk -DMYPROJECT_HOME=/opt/myproject/LIVEQ/ -u 231.73.74.75 -Djboss.messaging.group.address=231.73.74.75 -Djboss.messaging.group.port=9855 -Djboss.socket.binding.port-offset=4000 -Djboss.node.name=myperf3-LIVEQ -Djboss.hostname=myperf3 -DMYPROJECT_BIN=/opt/myproject/LIVEQ/bin  -Djboss.trace.log.dir=/var/log/myproject/traces -Djboss.logs.log.dir=/var/log/myproject/logs

kill -15 28425
./jboss-cli.sh -c --controller=135.250.138.170:13990 command=:shutdown --user=admin --password=admin@123

2018/11/29 15:45:36,713+05:30 INFO  [org.apache.activemq.artemis.core.server] (Thread-3 (ActiveMQ-client-netty-threads-2140640689)) AMQ221024: Backup server ActiveMQServerImpl::serverUUID=eb0308d8-f3a8-11e8-ad94-3dbc7a897972 is synchronized with live-server.
2018/11/29 15:45:38,037+05:30 INFO  [org.apache.activemq.artemis.core.server] (Thread-2 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$2@67042056-570860242)) AMQ221031: backup announced","30/Nov/18 6:38 AM;ev.srinivas;Hi [~mnovak], let me know in case if you got some time to review my magic script :)
","30/Nov/18 6:53 AM;mnovak;[~ev.srinivas] I'm not bash guru and start/stop functions are above my knowledge. I cannot say where is the problem. I would suggest to simplify start/stop functions to most basic level. So have just simple start/stop without any if/then/else noise around and add other parts one by one. This way will lead you to problematic part. Also i'm not sure if there is any debugger for bash scripts. This would could work as well and point to problematic part. ","30/Nov/18 7:17 AM;ev.srinivas;Sure  , Thanks a lot [~mnovak]","03/Dec/18 4:55 AM;ev.srinivas;Hi [~mnovak], the issue is because of below 2 lines in the start function of my script. If I commented, the master is able to announce the backup.

*rm -rf $JBOSS_HOME/standalone/tmp
rm -rf $JBOSS_HOME/standalone/data*","03/Dec/18 6:14 AM;mnovak;[~ev.srinivas] Nice catch :-) 

$JBOSS_HOME/standalone/data contains Artemis journal. It seems the problem is that if it's deleted then live does not sync with backup and just starts. Could you create new WFLY jira for it, please?","05/Dec/18 11:54 PM;ev.srinivas;Sure [~mnovak], I will do it today. Thanks,","06/Dec/18 8:22 AM;ev.srinivas;Created - https://issues.jboss.org/browse/WFLY-11483",,,,,,,,,,,,
JCAOrderedLastSynchronizationList shouldn't be skipped for org.wildfly.transaction.client.ContextTransactionSynchronizationRegistry registered Synchronizations,WFLY-11360,12779620,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Done,brian.stansberry,smarlow,smarlow,15/Nov/18 10:43 AM,26/Nov/18 12:14 PM,28/Dec/19 1:29 PM,22/Nov/18 9:26 AM,15.0.0.Beta1,,,,,15.0.0.Final,,,Transactions,,,,,,,,,,,0,,,,,"JPA container synchronizations are not registered via JCAOrderedLastSynchronizationList, which means that JCA Synchronization#afterCompletion will not always run after JPA Synchronization#afterCompletion.

Apparently we are doing a JNDI lookup of ""java:jboss/TransactionSynchronizationRegistry"" for Hibernate ORM integration, which means we are using the org.jboss.as.txn.service.internal.tsr.TransactionSynchronizationRegistryWrapper for Hibernate ORM.  Should we also be using the org.jboss.as.txn.service.internal.tsr.TransactionSynchronizationRegistryWrapper class in other WildFly call sites, instead of org.wildfly.transaction.client.ContextTransactionSynchronizationRegistry?

Call stack below shows the JPA container sync not being registered via JCAOrderedLastSynchronizationList:
{code}
10:48:42,859 ERROR [stderr] (pool-7-thread-7)   at java.lang.Thread.dumpStack(Thread.java:1336)
10:48:42,865 ERROR [stderr] (pool-7-thread-7)   at org.wildfly.transaction.client.ContextTransactionSynchronizationRegistry.registerInterposedSynchronization(ContextTransactionSynchronizationRegistry.java:77)
10:48:42,866 ERROR [stderr] (pool-7-thread-7)   at org.jboss.as.jpa.transaction.TransactionUtil.registerSynchronization(TransactionUtil.java:74)
10:48:42,866 ERROR [stderr] (pool-7-thread-7)   at org.jboss.as.jpa.container.TransactionScopedEntityManager.getOrCreateTransactionScopedEntityManager(TransactionScopedEntityManager.java:162)
10:48:42,867 ERROR [stderr] (pool-7-thread-7)   at org.jboss.as.jpa.container.TransactionScopedEntityManager.getEntityManager(TransactionScopedEntityManager.java:87)
10:48:42,867 ERROR [stderr] (pool-7-thread-7)   at org.jboss.as.jpa.container.AbstractEntityManager.persist(AbstractEntityManager.java:580)
10:48:42,867 ERROR [stderr] (pool-7-thread-7)   at org.jboss.as.test.integration.jpa.transaction.UnsynchronizedSFSB.createAndPropagatedFindMixExceptionExcepted(UnsynchronizedSFSB.java:88)
{code}

Call stack below shows the JCA synchronization is also *NOT* registered correctly via JCAOrderedLastSynchronizationList:
{code}
10:45:06,979 ERROR [stderr] (pool-7-thread-8) java.lang.Exception: Stack trace
10:45:06,980 ERROR [stderr] (pool-7-thread-8)   at java.lang.Thread.dumpStack(Thread.java:1336)
10:45:06,980 ERROR [stderr] (pool-7-thread-8)   at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.<init>(SynchronizationImple.java:57)
10:45:06,980 ERROR [stderr] (pool-7-thread-8)   at org.wildfly.transaction.client.provider.jboss.JBossJTALocalTransactionProvider.registerInterposedSynchronization(JBossJTALocalTransactionProvider.java:87)
10:45:06,981 ERROR [stderr] (pool-7-thread-8)   at org.wildfly.transaction.client.LocalTransaction.registerInterposedSynchronization(LocalTransaction.java:202)
10:45:06,981 ERROR [stderr] (pool-7-thread-8)   at org.wildfly.transaction.client.ContextTransactionSynchronizationRegistry.registerInterposedSynchronization(ContextTransactionSynchronizationRegistry.java:77)
10:45:06,981 ERROR [stderr] (pool-7-thread-8)   at org.jboss.jca.core.connectionmanager.transaction.TransactionSynchronizer.lock(TransactionSynchronizer.java:309)
10:45:06,981 ERROR [stderr] (pool-7-thread-8)   at org.jboss.jca.core.connectionmanager.listener.TxConnectionListener.enlist(TxConnectionListener.java:311)
10:45:06,982 ERROR [stderr] (pool-7-thread-8)   at org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.managedConnectionReconnected(TxConnectionManagerImpl.java:564)
10:45:06,982 ERROR [stderr] (pool-7-thread-8)   at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.reconnectManagedConnection(AbstractConnectionManager.java:970)
10:45:06,982 ERROR [stderr] (pool-7-thread-8)   at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.allocateConnection(AbstractConnectionManager.java:792)
10:45:06,982 ERROR [stderr] (pool-7-thread-8)   at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:138)
10:45:06,983 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.connector.subsystems.datasources.WildFlyDataSource.getConnection(WildFlyDataSource.java:64)
10:45:06,983 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
10:45:06,983 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:35)
10:45:06,983 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:106)
10:45:06,984 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136)
10:45:06,984 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:47)
10:45:06,984 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:87)
10:45:06,984 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)
10:45:06,984 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:78)
10:45:06,984 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3152)
10:45:06,985 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3686)
10:45:06,985 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:90)
10:45:06,985 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
10:45:06,985 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)
10:45:06,985 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)
10:45:06,985 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
10:45:06,986 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)
10:45:06,986 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511)
10:45:06,986 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283)
10:45:06,986 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479)
10:45:06,986 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)
10:45:06,987 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.beforeCompletion(JtaTransactionCoordinatorImpl.java:352)
10:45:06,987 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.resource.transaction.backend.jta.internal.synchronization.SynchronizationCallbackCoordinatorNonTrackingImpl.beforeCompletion(SynchronizationCallbackCoordinatorNonTrackingImpl.java:47)
10:45:06,987 ERROR [stderr] (pool-7-thread-8)   at org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:37)
10:45:06,987 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.beforeCompletion(JCAOrderedLastSynchronizationList.java:113)
10:45:06,987 ERROR [stderr] (pool-7-thread-8)   at org.wildfly.transaction.client.AbstractTransaction.performConsumer(AbstractTransaction.java:236)
10:45:06,988 ERROR [stderr] (pool-7-thread-8)   at org.wildfly.transaction.client.AbstractTransaction.performConsumer(AbstractTransaction.java:247)
10:45:06,988 ERROR [stderr] (pool-7-thread-8)   at org.wildfly.transaction.client.AbstractTransaction$AssociatingSynchronization.beforeCompletion(AbstractTransaction.java:292)
10:45:06,988 ERROR [stderr] (pool-7-thread-8)   at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)
10:45:06,988 ERROR [stderr] (pool-7-thread-8)   at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:360)
10:45:06,988 ERROR [stderr] (pool-7-thread-8)   at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:91)
10:45:06,988 ERROR [stderr] (pool-7-thread-8)   at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
10:45:06,989 ERROR [stderr] (pool-7-thread-8)   at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1288)
10:45:06,989 ERROR [stderr] (pool-7-thread-8)   at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)
10:45:06,989 ERROR [stderr] (pool-7-thread-8)   at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:89)
10:45:06,989 ERROR [stderr] (pool-7-thread-8)   at org.wildfly.transaction.client.LocalTransaction.commitAndDissociate(LocalTransaction.java:77)
10:45:06,989 ERROR [stderr] (pool-7-thread-8)   at org.wildfly.transaction.client.ContextTransactionManager.commit(ContextTransactionManager.java:71)
10:45:06,990 ERROR [stderr] (pool-7-thread-8)   at org.wildfly.transaction.client.LocalUserTransaction.commit(LocalUserTransaction.java:53)
10:45:06,990 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.test.integration.jpa.transaction.SFSB1.createEmployee(SFSB1.java:96)
10:45:06,990 ERROR [stderr] (pool-7-thread-8)   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
10:45:06,990 ERROR [stderr] (pool-7-thread-8)   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
10:45:06,990 ERROR [stderr] (pool-7-thread-8)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
10:45:06,990 ERROR [stderr] (pool-7-thread-8)   at java.lang.reflect.Method.invoke(Method.java:498)
10:45:06,990 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
10:45:06,990 ERROR [stderr] (pool-7-thread-8)   at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
10:45:06,991 ERROR [stderr] (pool-7-thread-8)   at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
10:45:06,991 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:90)
10:45:06,991 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:101)
10:45:06,991 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
10:45:06,991 ERROR [stderr] (pool-7-thread-8)   at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
10:45:06,991 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
10:45:06,991 ERROR [stderr] (pool-7-thread-8)   at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
10:45:06,992 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
10:45:06,992 ERROR [stderr] (pool-7-thread-8)   at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
10:45:06,992 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.jpa.interceptor.SFSBInvocationInterceptor.processInvocation(SFSBInvocationInterceptor.java:57)
10:45:06,992 ERROR [stderr] (pool-7-thread-8)   at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
10:45:06,992 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.ejb3.tx.StatefulBMTInterceptor.handleInvocation(StatefulBMTInterceptor.java:94)
10:45:06,992 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.ejb3.tx.BMTInterceptor.processInvocation(BMTInterceptor.java:58)
10:45:06,992 ERROR [stderr] (pool-7-thread-8)   at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
10:45:06,992 ERROR [stderr] (pool-7-thread-8)   at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:137)
{code}

Lastly, the following call stack shows the Hibernate ORM sync being correctly registered via JCAOrderedLastSynchronizationList:
{code}
10:52:20,820 ERROR [stderr] (pool-7-thread-1) java.lang.Exception: Stack trace
10:52:20,821 ERROR [stderr] (pool-7-thread-1)   at java.lang.Thread.dumpStack(Thread.java:1336)
10:52:20,821 ERROR [stderr] (pool-7-thread-1)   at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.registerInterposedSynchronization(JCAOrderedLastSynchronizationList.java:64)
10:52:20,821 ERROR [stderr] (pool-7-thread-1)   at org.jboss.as.txn.service.internal.tsr.TransactionSynchronizationRegistryWrapper.registerInterposedSynchronization(TransactionSynchronizationRegistryWrapper.java:76)
10:52:20,821 ERROR [stderr] (pool-7-thread-1)   at org.jboss.as.jpa.hibernate5.service.WildFlyCustomJtaPlatform$1.registerSynchronization(WildFlyCustomJtaPlatform.java:45)
10:52:20,822 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.registerSynchronization(AbstractJtaPlatform.java:126)
10:52:20,822 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.joinJtaTransaction(JtaTransactionCoordinatorImpl.java:170)
10:52:20,822 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.pulse(JtaTransactionCoordinatorImpl.java:158)
10:52:20,822 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.<init>(JtaTransactionCoordinatorImpl.java:94)
10:52:20,822 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorBuilderImpl.buildTransactionCoordinator(JtaTransactionCoordinatorBuilderImpl.java:29)
10:52:20,822 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.internal.AbstractSharedSessionContract.<init>(AbstractSharedSessionContract.java:204)
10:52:20,823 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.internal.AbstractSessionImpl.<init>(AbstractSessionImpl.java:29)
10:52:20,823 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.internal.SessionImpl.<init>(SessionImpl.java:254)
10:52:20,823 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.internal.SessionFactoryImpl$SessionBuilderImpl.openSession(SessionFactoryImpl.java:1290)
10:52:20,823 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.internal.SessionFactoryImpl.buildEntityManager(SessionFactoryImpl.java:628)
10:52:20,823 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:614)
10:52:20,823 ERROR [stderr] (pool-7-thread-1)   at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:154)
10:52:20,823 ERROR [stderr] (pool-7-thread-1)   at org.jboss.as.jpa.container.TransactionScopedEntityManager.createEntityManager(TransactionScopedEntityManager.java:187)
10:52:20,823 ERROR [stderr] (pool-7-thread-1)   at org.jboss.as.jpa.container.TransactionScopedEntityManager.getOrCreateTransactionScopedEntityManager(TransactionScopedEntityManager.java:157)
10:52:20,824 ERROR [stderr] (pool-7-thread-1)   at org.jboss.as.jpa.container.TransactionScopedEntityManager.getEntityManager(TransactionScopedEntityManager.java:87)
10:52:20,824 ERROR [stderr] (pool-7-thread-1)   at org.jboss.as.jpa.container.AbstractEntityManager.joinTransaction(AbstractEntityManager.java:536)
10:52:20,824 ERROR [stderr] (pool-7-thread-1)   at org.jboss.as.test.integration.jpa.transaction.SFSB1.createEmployee(SFSB1.java:93)

{code}",,,,,,,,,WFLY-11166,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-15 11:40:26.0,,,,,,,,http://lists.jboss.org/pipermail/wildfly-dev/2018-November/006688.html,,,,,,,,,,,,,,,,,,0.0,16.0,,,,,,,,,,"1|z01bf4:",9223372036854775807,,0.0,,,,,"Set breakpoints in:
* org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList#registerInterposedSynchronization
* org.jboss.as.txn.service.internal.tsr.#registerInterposedSynchronization

change into wildfly/testsuite/integration/basic and do ""mvn clean install -Dtest=org.jboss.as.test.integration.jpa.transaction.TransactionTestCase""
",,,,,,,,,,,"15/Nov/18 11:26 AM;smarlow;Hi [~tomjenkinson]

What do you think about the idea of having all WildFly call sites stop using org.wildfly.transaction.client.ContextTransactionSynchronizationRegistry directly and instead use org.jboss.as.txn.service.internal.tsr.TransactionSynchronizationRegistryWrapper?","15/Nov/18 11:40 AM;tomjenkinson;This makes sense to me, I think we might ask [~dmlloyd] for his opinion as I believe the CTSR was added by him and so would be interested to know. It looks quite old though so why this is surfacing now is not clear: https://github.com/wildfly/wildfly-transaction-client/blob/master/src/main/java/org/wildfly/transaction/client/ContextTransactionSynchronizationRegistry.java","15/Nov/18 11:57 AM;ochaloup;I'm just wondering, how do you ensure that JCA synchronization will be called after JPA/ORM synchronization when {{ContextTransactionSynchronizationRegistry}} will be used as default (aka. if I got it right, it will be the one which is taken at {{java:/TransactionSynchronizationRegistry}}, https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/service/ArjunaTransactionManagerService.java#L123)","15/Nov/18 12:02 PM;smarlow;[~maeste] does *org.jboss.jca.core.connectionmanager.transaction.TransactionSynchronizer* depend directly on org.wildfly.transaction.client.ContextTransactionSynchronizationRegistry?  From the above call stack, it appears to, see ""all stack below shows the JCA synchronization is also NOT registered correctly via JCAOrderedLastSynchronizationList"".

I think that IJ will need to switch to org.jboss.as.txn.service.internal.tsr.TransactionSynchronizationRegistryWrapper.  Alternative could be to do a (slow) JNDI lookup of ""java:jboss/TransactionSynchronizationRegistry"" exactly once and cache the result in a static.

[~tomjenkinson] I suppose that a minimal fix, could be ensure that JCA + JPA container/persistence provider syncs, use org.jboss.as.txn.service.internal.tsr.TransactionSynchronizationRegistryWrapper.  But longer term, having fewer TSR implementations, would be better.  

Other WildFly call sites that seem to directly use org.wildfly.transaction.client.ContextTransactionSynchronizationRegistry, are EJB + JMS.","15/Nov/18 12:07 PM;tomjenkinson;I think that everyone should be changes to use the TSRW wrapper. That could be done in here I think: https://github.com/wildfly/wildfly-transaction-client/blob/2802ea2b1ac9ee21d4f87cfb7cfe370cffd45323/src/main/java/org/wildfly/transaction/client/provider/jboss/JBossJTALocalTransactionProvider.java#L74","15/Nov/18 12:10 PM;smarlow;Hi [~ochaloup] that is an excellent point!  I think that the JCAOrderedLastSynchronizationList class will accomplish correct ordering of the JCA/JPA syncs, if all of the JCA/JPA related synchronization classes are registered via the org.jboss.as.txn.service.internal.tsr.TransactionSynchronizationRegistryWrapper, which I mentioned in my previous comment as a minimal solution.

Also a good question that I think your implying, is what does a JNDI lookup of ""java:comp/TransactionSynchronizationRegistry"" return?  I'm not sure.  If this jira calls for a maximal solution, of eliminating the duplicate TransactionSynchronizationRegistry implementations, then that will be important to answer.

","15/Nov/18 12:17 PM;smarlow;[~tomjenkinson] I think that a few code sites (like JPA container + IronJacamar) are directly depending on org.wildfly.transaction.client.ContextTransactionSynchronizationRegistry which contributes to this ordering bug.  

Some hits in wildfly (with unit tests removed):
{quote}
grep -rli org.wildfly.transaction.client.ContextTransactionSynchronizationRegistry --include=*.java
datasources-agroal/src/main/java/org/wildfly/extension/datasources/agroal/DataSourceService.java
datasources-agroal/src/main/java/org/wildfly/extension/datasources/agroal/deployment/DataSourceDefinitionService.java
picketlink/src/main/java/org/wildfly/extension/picketlink/idm/service/JPAIdentityStoreService.java
jpa/subsystem/src/main/java/org/jboss/as/jpa/processor/PersistenceUnitServiceHandler.java
jpa/subsystem/src/main/java/org/jboss/as/jpa/transaction/JtaManagerImpl.java
jpa/subsystem/src/main/java/org/jboss/as/jpa/container/ExtendedEntityManager.java
jpa/subsystem/src/main/java/org/jboss/as/jpa/container/TransactionScopedEntityManager.java
jpa/subsystem/src/main/java/org/jboss/as/jpa/injectors/PersistenceContextInjectionSource.java
weld/jpa/src/main/java/org/jboss/as/weld/services/bootstrap/WeldJpaInjectionServices.java
transactions/src/main/java/org/jboss/as/txn/service/internal/tsr/JCAOrderedLastSynchronizationList.java
transactions/src/main/java/org/jboss/as/txn/service/internal/tsr/TransactionSynchronizationRegistryWrapper.java
transactions/src/main/java/org/jboss/as/txn/service/TransactionSynchronizationRegistryService.java
transactions/src/main/java/org/jboss/as/txn/service/TxnServices.java
clustering/infinispan/extension/src/main/java/org/jboss/as/clustering/infinispan/subsystem/TransactionServiceConfigurator.java
ejb3/src/main/java/org/jboss/as/ejb3/timerservice/persistence/filestore/FileTimerPersistence.java
ejb3/src/main/java/org/jboss/as/ejb3/timerservice/TimerServiceImpl.java
ejb3/src/main/java/org/jboss/as/ejb3/cache/distributable/DistributableCacheFactoryService.java
ejb3/src/main/java/org/jboss/as/ejb3/component/EJBComponent.java
ejb3/src/main/java/org/jboss/as/ejb3/component/stateful/StatefulSessionSynchronizationInterceptor.java
connector/src/main/java/org/jboss/as/connector/services/transactionintegration/TransactionIntegrationService.java
{quote}","15/Nov/18 1:07 PM;smarlow;Looks like connector/src/main/java/org/jboss/as/connector/services/transactionintegration/TransactionIntegrationService.java was only recently broken (5 days ago), if I'm reading the history correctly via [WFLY-11166].","15/Nov/18 1:31 PM;smarlow;I'll try to reproduce with 4fafb7d1387efe924be3ebf2f1b8923ef2be188a (git checkout 4fafb7d1387efe924be3ebf2f1b8923ef2be188a), to see if my previous comment is correct.  I'll be happier if [WFLY-11360] isn't broken in WF14.
","15/Nov/18 1:39 PM;smarlow;I confirmed that this was just broken in the past few days.  With the 4fafb7d1387efe924be3ebf2f1b8923ef2be188a commit, I was able to verify that JCA/JPA synchronizations, are registered via the JCAOrderedLastSynchronizationList, so WF14 is still working correctly (with regard to JCAOrderedLastSynchronizationList), its only the WF master branch that is currently broken. ","15/Nov/18 2:25 PM;brian.stansberry;The issue is that JBossLocalTransactionProvider.Builder lets you configure a TransactionSynchronizationRegistry, which the transaction subsystem does, but then it discards it and relies on reflection calls against com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple or com.arjuna.ats.internal.jta.transaction.jts.TransactionImple.  So ContextTransactionSynchronizationRegistry is not suitable for cases like WildFly where access to the specific subsystem provided TSR is necessary.

[~dmlloyd] FYI.","15/Nov/18 9:44 PM;brian.stansberry;https://github.com/wildfly/wildfly/pull/11852 reverts the WFLY-11166 use of ContextTransactionSynchronizationRegistry and instead meets the original goal by exposing the TSR service via a capability with dependents using the capability for dependency wiring instead of imported service names.","16/Nov/18 4:49 AM;tomjenkinson;Is it possible to somehow use as a regression check in future? org.jboss.as.test.integration.jpa.transaction.TransactionTestCase or does it have to be viewed in the debugger in order to verify the issue?","16/Nov/18 9:40 AM;smarlow;[~tomjenkinson] I wonder if byteman could be used in a WildFly test?

The other idea is to create mock objects for the datasource and persistence provider that keep track of when their close method is called.  The datasource/connection mock object would trigger a test failure if its connection#close method isn't called last.  I'm not sure of how we would deploy the mock datasource object with the test but assume that is possible.

","20/Nov/18 5:20 AM;ochaloup;[~smarlow] what I know the Byteman tests have not been accepted directly to the WildFly testsuite. But it's already some time I was trying similar. But I think the main reason was I needed to process failures with use of Byteman. Maybe [~brian.stansberry] would say more.

I think using Byteman would be the easiest way but by my PoV it's a question if it's a good fit for the integration tests.","26/Nov/18 12:14 PM;smarlow;I just verified that this issue is resolved on WildFly master, thanks for the quick fix [~brian.stansberry]!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"WildFly can't be build on Java 11, xts module failure",WFLY-11093,12772138,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Duplicate Issue,ochaloup,rsvoboda,rsvoboda,01/Oct/18 4:59 AM,01/Oct/18 11:52 AM,28/Dec/19 1:29 PM,01/Oct/18 5:49 AM,,,,,,,,,Server,XTS,,,,,,,,,,0,Java11,,,,"WildFly can't be build on Java 11.

{code}
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project wildfly-xts: Compilation failure
[ERROR] /Users/rsvoboda/git/wildfly/xts/target/generated-sources/annotations/org/jboss/as/xts/logging/XtsAsLogger_$logger.java:[11,22] '.' expected
[ERROR]
{code}

After reverting fix for https://issues.jboss.org/browse/WFLY-9455 I can build the server using Java 11.
https://github.com/wildfly/wildfly/commit/b2674da738af714a05f30464e8495441f67df836#diff-8ef0fcc21eb2eede584c39d6ea11aa75 ",,,,,,,,,,,,,,,,,,,,,,WFLY-11092,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-01 10:03:10.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z005go:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"01/Oct/18 5:00 AM;rsvoboda;CCing [~jamezp] and [~kabirkhan].","01/Oct/18 10:03 AM;brian.stansberry;Does simply correcting the import ordering in XtsAsLogger fix this?  That's the only thing about that commit that looks at all 'wrong' or different from the thousands of other logger methods we've got.","01/Oct/18 10:37 AM;rsvoboda;I think the fix is this:

{code}
        <dependency>
            <groupId>org.jboss.spec.javax.xml.ws</groupId>
            <artifactId>jboss-jaxws-api_2.3_spec</artifactId>
-            <scope>test</scope>
+            <scope>provided</scope>
        </dependency>
{code}","01/Oct/18 10:46 AM;brian.stansberry;Good because if the import ordering mattered that would have been a logging tool bug. :)","01/Oct/18 11:52 AM;ochaloup;[~brian.stansberry] sorry for misguiding with the change in the ordering. First I was unsure it could be a bug of the logging, that's why my changes happened, but then I recognized that simply caused by the jdk change.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Artemis 2.x upgrade] Undelivered/Lost messages in remote JCA scenario with killing remote servers,WFLY-11027,12767098,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Cannot Reproduce,martyn-taylor,mnovak,mnovak,28/Aug/18 10:47 AM,19/Sep/18 2:35 AM,28/Dec/19 1:29 PM,19/Sep/18 2:35 AM,,,,,,14.0.0.Final,,,JMS,,,,,,,,,,,0,,,,,"There undelivered/lost messages in sceario where MDB is connected to remote Artemis cluster in which nodes are killed and restarted. Issue is intermittent.

Test Scenario:
* start cluster containing node 1 and 3 with deployed inQueue and outQueue
** JDBC store with Oracle 12c is used
* start node 2 and 4
* producer sends 5000 small and large messages to inQueue to node-1
* wait for producer to finish
* deploy MDBs to node-2 and node-4 which read messages from inQueue and sends them to outQueue in XA transactions
* kill and start following nodes in this sequence: 1,3,1,3,1 
* wait until all messages are processed
* start Consumer which consumes messages form outQueue
* Check that number of messages sent to InQueue and received from OutQueue is the same

Result:
7 messages were missing in OutQueue.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00c6n:",9223372036854775807,,0.0,,,,,"*Issue is intermittent:*
{code}
git clone git://git.app.eng.bos.redhat.com/jbossqe/eap-tests-hornetq.git
cd eap-tests-hornetq/scripts/
git checkout eap7.2.x-artemis2.x-ha-jdbc
groovy -DEAP_ZIP_URL=https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/eap-7.x-messaging-testing-prepare/331/artifact/jboss-eap.zip PrepareServers7.groovy
export WORKSPACE=$PWD
export JBOSS_HOME_1=$WORKSPACE/server1/jboss-eap
export JBOSS_HOME_2=$WORKSPACE/server2/jboss-eap
export JBOSS_HOME_3=$WORKSPACE/server3/jboss-eap
export JBOSS_HOME_4=$WORKSPACE/server4/jboss-eap

cd ../jboss-hornetq-testsuite/

mvn clean test -Dtest=Lodh2TestCase#testLodh3kill -Deap7.org.jboss.qa.hornetq.apps.clients.version=7.1534928425-SNAPSHOT -DfailIfNoTests=false -Deap=7x -Dprepare.param.DATABASE=oracle12cR2 -Dprepare.param.JDBC_STORE=true | tee log
{code}",,,,,,,,,,,"19/Sep/18 2:35 AM;mnovak;After more than 150x runs I cannot reproduce this issue again with WF14. Closing.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update product.release.version to 15.0,WFLY-10959,12767579,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Blocker,Duplicate Issue,mkopecky,mkopecky,mkopecky,31/Aug/18 4:00 AM,31/Aug/18 4:47 AM,28/Dec/19 1:29 PM,31/Aug/18 4:47 AM,,,,,,,,,,,,,,,,,,,,0,,,,,"Update product.release.version to 15.0

WF can't be built without this change:
{noformat}
[INFO] ------------------------------------------------------------------------
[INFO] Building WildFly: Distribution 15.0.0.Alpha1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
....
[error] [Verifier] File [/home/mkopecky/git/base/dist/target/wildfly-15.0.0.Alpha1-SNAPSHOT/modules/system/layers/base/org/jboss/as/product/wildfly-full/dir/META-INF/MANIFEST.MF] does not match regexp [JBoss-Product-Release-Version: 14.0]
{noformat}",,,,,,,,,,,,,,,,,,,,,,WFLY-10958,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|i00ezz:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JAXB from 2.3.1 to 2.3.3,WFLY-12873,12842668,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Duplicate Issue,gaol,ivassile,ivassile,11/Dec/19 4:36 PM,18/Dec/19 2:37 AM,28/Dec/19 1:29 PM,17/Dec/19 9:15 PM,,,,,,,,,Build System,,,,,,,,,,,0,,,,,https://github.com/eclipse-ee4j/jaxb-ri/,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12874,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-12-17 21:15:03.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0b2l8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Dec/19 9:15 PM;gaol;[~ivassile] Sorry that I oversight this issue and made a PR to another: WFLY-12892, so I close this  as duplicated. :)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Can not inject MP Config property to a custom MP metric,WFLY-12828,12839901,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Rejected,jmesnil,istraka,istraka,26/Nov/19 6:49 AM,26/Nov/19 8:16 AM,28/Dec/19 1:29 PM,26/Nov/19 8:16 AM,18.0.1.Final,,,,,,,,CDI / Weld,MP Config,MP Health,,,,,,,,,0,,,,,"Injecting MP Config property into a custom metric results to NPE.


{code:java}
12:46:25,521 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /sample-1.0/metric: java.lang.NullPointerException
	at configurable.CustomCounterMetric.inc(CustomCounterMetric.java:21)
	at configurable.CustomMetricService.hello(CustomMetricService.java:29)
	at configurable.CustomMetricService$Proxy$_$$_WeldSubclass.hello$$super(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.proxy.TerminalAroundInvokeInvocationContext.proceedInternal(TerminalAroundInvokeInvocationContext.java:51)
	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:78)
	at io.smallrye.metrics.interceptors.CountedInterceptor.countedCallable(CountedInterceptor.java:95)
	at io.smallrye.metrics.interceptors.CountedInterceptor.countedMethod(CountedInterceptor.java:70)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeAroundInvoke(InterceptorMethodHandler.java:84)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:72)
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:56)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:79)
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:68)
	at configurable.CustomMetricService$Proxy$_$$_WeldSubclass.hello(Unknown Source)
	at configurable.CustomMetricService$Proxy$_$$_WeldClientProxy.hello(Unknown Source)
	at configurable.CustomMetricServlet.doGet(CustomMetricServlet.java:39)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:503)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1504)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
	at java.lang.Thread.run(Thread.java:748)
{code}


*web servlet*
{code:java}
    @Inject
    @RegistryType(type = MetricRegistry.Type.APPLICATION)
    MetricRegistry metricRegistry;
    
    @Inject
    private CustomMetricService hello;

    @Override
    public void init() throws ServletException {
        Metadata metadata = new MetadataBuilder()
                .withName(""custom-metric"")
                .withType(MetricType.COUNTER)
                .withUnit(MetricUnits.NONE)
                .build();
        metricRegistry.register(metadata, new CustomCounterMetric());
    }


    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException, ServletException {
        resp.getWriter().print(hello.hello());
    }
{code}

*CDI bean*

{code:java}
    @Inject
    @ConfigProperty(name=""dummy_increment"")
    int increment;

    @Inject
    @RegistryType(type = MetricRegistry.Type.APPLICATION)
    MetricRegistry metricRegistry;

    @Counted
    public String hello() {
        metricRegistry.counter(""custom-metric"").inc();
        return ""Hello! "" + metricRegistry.counter(""custom-metric"").getCount() + ""\n"";
    }
{code}

*custom metric*

{code:java}
    @Inject
    @ConfigProperty(name=""dummy_increment"")
    Provider<Long> increment;

    private long counter = 0;

    @Override
    public void inc() {
        counter = counter + increment.get();
    }

    @Override
    public void inc(long l) {
        counter = counter + l + increment.get() ;
    }

    @Override
    public long getCount() {
        return counter;
    }
{code}

I have tested environment proprety _-Ddummy_increment=1_ and _props config source_. _Provider<..>_ is set to null. If _int_ is used 0 is set.

Sample source: https://github.com/istraka/microprofile-samples/tree/master/metrics-config",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0aoas:",9223372036854775807,,0.0,,,,,"build app
deploy
run server
configure MP Config config source
access localhost:8080/sample-1.0/metric",,,,,,,,,,,"26/Nov/19 8:16 AM;istraka;There is a bug in the reproducer. The scenario works.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The wildfly-testsuite-shared module brings in all WildFly dependencies,WFLY-11124,12773150,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jamezp,jamezp,jamezp,05/Oct/18 1:43 PM,01/Nov/19 4:54 AM,28/Dec/19 1:29 PM,12/Oct/18 2:40 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"The {{org.wildfly:wildfly-testsuite-shared}} has a dependency all the main 3 Galleon feature-packs.
{code:xml}
<dependency>
    <groupId>${project.groupId}</groupId>
    <artifactId>wildfly-galleon-pack</artifactId>
    <type>pom</type>
</dependency>
<dependency>
    <groupId>${project.groupId}</groupId>
    <artifactId>wildfly-servlet-galleon-pack</artifactId>
    <type>pom</type>
</dependency>
<dependency>
    <groupId>org.wildfly.core</groupId>
    <artifactId>wildfly-core-galleon-pack</artifactId>
    <type>pom</type>
</dependency>
{code}

This means that all tests that which use the shared module, likely all of them, end up with the entirety of WildFly on the test class path. In most cases this is not an issue. However an issue was uncovered with the IBM JDK in WFLY-10529. The tests should definitely not have a transitive dependency on things like that or for example the {{org.wildfly.core:wildfly-controller}}. If dependencies like those are needed they should be explicitly defined as those are not public API's.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10529,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11733,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00bao:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing HttpSessionActivationListener callbacks when using ATTRIBUTE granularity and backing cache is non-transactional,WFLY-12136,12809586,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,pferraro,pferraro,28/May/19 12:09 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,19/Aug/19 4:57 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"When a web session attribute implements HttpSessionActivationListener, @PrePassivate needs to be invoked prior to serialization of the session attribute for replication (and @PostActivate needs to be invoked post-serialization in order to the state of the session attribute).  When using ATTRIBUTE granularity, and the backing cache is not transactional, intra-request calls to setAttribute(...) can trigger serialization of the session attribute, but are missing these callbacks.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:26.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05wfg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Restore LastNodeToLeaveRemoteEJBTestCase, disabled for JDK 11 runs if necessary",WFLY-12212,12814428,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,brian.stansberry,brian.stansberry,19/Jun/19 5:04 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,27/Jun/19 4:51 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,EJB,,,,,,,,,,0,,,,,"The WLFY-11682 work[1] originally included a test, but that test was removed before the PR was merged. AIUI the test was removed because it could not work on JDK 11 due to byteman/arquillian issues.[2] The test did seem to work on JDK 8.

Having the test removed means this functionality isn't guarded against regression. So this issue is to track getting it restored. If it can be disabled on JDK 11 runs pending the arquillian/byteman issue being resolved, that's ok.

[1] https://github.com/wildfly/wildfly/pull/12133
[2] https://github.com/arquillian/arquillian-extension-byteman/issues/25",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12389,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06mr8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Jun/19 5:11 PM;brian.stansberry;I see the originally work did include some work to adapt execution to JDK 11.  In case these wasn't already considered, there's a separate surefire execution for this test, which perhaps could be in a separate profile only enabled for JDK 8.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CDI Producer for health check are not supported,WFLY-12557,12828351,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jmesnil,jmesnil,jmesnil,13/Sep/19 12:53 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,17/Sep/19 9:08 PM,,,,,,18.0.0.Final,,,MP Health,,,,,,,,,,,0,,,,,MP Metrics added test for CDI producer in https://github.com/eclipse/microprofile-health/commit/1e8c869c802f78a82e0d45fe76887556a56a05ff that fails with WildFly (when smallrye-health 2.1.5 and microprofile-health 2.1 are integrated),,,,,,,,,,,,,,,,,,,,,,,,WFLY-12555,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:24.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ufg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add documentation for masked passwords in client XML config,WFLY-12241,12815409,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,aabdelsa,aabdelsa,aabdelsa,25/Jun/19 12:36 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,24/Jul/19 1:37 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,"We need a way to support masked passwords in the auth configuration file, either as:

* A dedicated masked-password-type XML type
* Adding necessary fields to hashed-password-type
* Adding a modular crypt format

Needs to be supported anywhere passwords are allowed.",,,,,,,,,,,,,ELY-816,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12387,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06rvw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Backup doesn't activate after shared store is reconnected,WFLY-10968,12767807,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,thofman,thofman,thofman,03/Sep/18 6:31 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,27/Sep/19 1:45 PM,14.0.0.Final,,,,,18.0.0.Final,,,JMS,,,,,,,,,,,0,downstream_dependency,,,,"*Scenario*
# Start live backup server pair in dedicated topology with shared store HA, with journal located on NFS
# NFS mounted on backup server fails
# Reconnect NFS on backup server
# Try to shut down live EAP server 
# Backup doesn't activate

*What happens*
Backup is waiting for live to fail by checking its file lock. In case the connection to shared storage fails, backup logs following error.
{noformat}
05:50:57,896 ERROR [org.apache.activemq.artemis.core.server] (AMQ119000: Activation for server ActiveMQServerImpl::serverUUID=836c9b1e-f067-11e7-8763-001b21862475) AMQ224000: Failure in initialisation: java.io.IOException: Input/output error
	at sun.nio.ch.FileDispatcherImpl.lock0(Native Method) [rt.jar:1.8.0_151]
	at sun.nio.ch.FileDispatcherImpl.lock(FileDispatcherImpl.java:90) [rt.jar:1.8.0_151]
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1115) [rt.jar:1.8.0_151]
	at org.apache.activemq.artemis.core.server.impl.FileLockNodeManager.tryLock(FileLockNodeManager.java:299) [artemis-server-1.5.5.008-redhat-1.jar:1.5.5.008-redhat-1]
	at org.apache.activemq.artemis.core.server.impl.FileLockNodeManager.lock(FileLockNodeManager.java:316) [artemis-server-1.5.5.008-redhat-1.jar:1.5.5.008-redhat-1]
	at org.apache.activemq.artemis.core.server.impl.FileLockNodeManager.awaitLiveNode(FileLockNodeManager.java:127) [artemis-server-1.5.5.008-redhat-1.jar:1.5.5.008-redhat-1]
	at org.apache.activemq.artemis.core.server.impl.SharedStoreBackupActivation.run(SharedStoreBackupActivation.java:77) [artemis-server-1.5.5.008-redhat-1.jar:1.5.5.008-redhat-1]
	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$ActivationThread.run(ActiveMQServerImpl.java:2496) [artemis-server-1.5.5.008-redhat-1.jar:1.5.5.008-redhat-1]

{noformat}

Exception is caught in {{SharedStoreBackupActivation.run}}, and causes termination of backup activation process. 

In case the NFS is reconnected later, backup server doesn't continue in activation process and it doesn't wait for live to fail. In case the live fails, backup doesn't activate, even though it has a connection to shared storage.

Backup should retry checking live lock even in case the storage is unavailable. It should log warning/error messages that storage is unavailable, but it should not terminate the activation process. This would allow backup to continue its duties when the storage is reconnected.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,?,?,,+,?,?,,2019-06-07 15:03:05.0,,,,,,,,,,https://github.com/apache/activemq-artemis/pull/2287,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|u000aw:",9223372036854775807,,0.0,,,,,"# Start live server on node1
$ sh standalone.sh -c standalone-full-ha-live.xml -DsharedDirectory=$NFS_DIRECTORY -b $IP_1
# Start backup on node2
$ sh standalone.sh -c standalone-full-ha-backup.xml -DsharedDirectory=$NFS_DIRECTORY -b $IP_2
# Unmount NFS on node2
# Reconnect NFS on node2
# Press {{Ctrl + C}} to shutdown EAP on node1
Backup doesn't activate",,,7.backlog.GA,,,,,,,,"07/Jun/19 3:03 PM;jamezp;This will require an Artemis upgrade. I'm putting this back in the Open state.","12/Jul/19 3:53 AM;ehugonnet;[~jamezp]this is part of current Artemis master which is going to be Artemis 2.10.0. Thus it is not curretnly fixed in WildFly without a component upgrade.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SaslException: Authentication failed when XA Recovery tries to call remote server,WFLY-12291,12818265,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,flavia.rainone,flavia.rainone,flavia.rainone,16/Jul/19 3:44 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,27/Sep/19 1:51 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Remoting,,,,,,,,,,,0,,,,,"This is caused by how the current AuthenticationContext is captured when wildfly-transaction-client tries to do transaction recovery. It essentially calls ElytronXmlParser.parseAuthenticationClientConfiguration(), which calls org.wildfly.client.config.ClientConfiguration#getInstance(), which only looks for wildfly-config in various locations.

Also see DefaultAuthenticationContextProvider

{code}
13:30:06,851 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: JBoss EAP 7.2.2.GA (WildFly Core 6.0.14.Final-redhat-00001) started in 3798ms - Started 308 of 528 services (319 services are lazy, passive or on-demand)
13:30:46,524 WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016027: Local XARecoveryModule.xaRecovery got XA exception XAException.XAER_RMFAIL: javax.transaction.xa.XAException: WFTXN0034: Failed to acquire a connection for this operation
	at org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.getPeerIdentityXA(RemotingRemoteTransactionPeer.java:94)
	at org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.recover(RemotingRemoteTransactionPeer.java:201)
	at org.wildfly.transaction.client.SubordinateXAResource.recover(SubordinateXAResource.java:203)
	at org.wildfly.transaction.client.SubordinateXAResource.recover(SubordinateXAResource.java:199)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoveryFirstPass(XARecoveryModule.java:622)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:214)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:159)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:770)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:382)
Caused by: javax.security.sasl.SaslException: Authentication failed: none of the mechanisms presented by the server (DIGEST-MD5) are supported
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:444)
	at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)
	at ...asynchronous invocation...(Unknown Source)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:587)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:553)
	at org.jboss.remoting3.ConnectionInfo$None.getConnection(ConnectionInfo.java:82)
	at org.jboss.remoting3.ConnectionInfo.getConnection(ConnectionInfo.java:55)
	at org.jboss.remoting3.EndpointImpl.doGetConnection(EndpointImpl.java:499)
	at org.jboss.remoting3.EndpointImpl.getConnectedIdentity(EndpointImpl.java:445)
	at org.jboss.remoting3.UncloseableEndpoint.getConnectedIdentity(UncloseableEndpoint.java:52)
	at org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.getPeerIdentity(RemotingRemoteTransactionPeer.java:87)
	at org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.getPeerIdentityXA(RemotingRemoteTransactionPeer.java:92)
	... 8 more

13:31:16,537 WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016009: Caught:: java.lang.NullPointerException
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoverySecondPass(XARecoveryModule.java:726)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.bottomUpRecovery(XARecoveryModule.java:507)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkSecondPass(XARecoveryModule.java:258)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:816)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:382)
{code}",,,,,,,,,,,,,JBEAP-17163,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:13.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z078d8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ClassFormatError on JDK13,WFLY-12063,12806472,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,smarlow,ropalka,ropalka,10/May/19 11:50 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,16/Sep/19 9:33 AM,,,,,,18.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,blocker-WF18,jdk13,,,"The following commit https://github.com/wildfly/wildfly/commit/b6d141b06404a4c23ead1d04d6e26fc2f9e22591 introduced JDK13 regression in WildFly.
Affected tests are:
---
[ERROR] Errors: 
[ERROR]   MultiplePuTestCase.org.jboss.as.test.integration.jpa.basic.multiplepersistenceunittest.MultiplePuTestCase » Deployment
[ERROR]   EntityListenersTestCase.org.jboss.as.test.integration.jpa.entitylistener.EntityListenersTestCase » Deployment
[ERROR]   EPCPropagationTestCase.org.jboss.as.test.integration.jpa.epcpropagation.EPCPropagationTestCase » Deployment
[ERROR]   AuditJoinTableoverBidirectionalTest.org.jboss.as.test.integration.jpa.hibernate.envers.AuditJoinTableoverBidirectionalTest » Deployment
[ERROR]   AuditJoinTableoverOnetoManyJoinColumnTest.org.jboss.as.test.integration.jpa.hibernate.envers.AuditJoinTableoverOnetoManyJoinColumnTest » Deployment
[ERROR]   ManagementTestCase.getEntityInsertCountAttribute:98 » Deployment Cannot deploy...
[ERROR]   JPA2LCTestCase.org.jboss.as.test.integration.jpa.secondlevelcache.JPA2LCTestCase » Deployment
[ERROR]   JpaStatisticsTestCase.org.jboss.as.test.integration.jpa.secondlevelcache.JpaStatisticsTestCase » Deployment
[ERROR]   TransactionTestCase.org.jboss.as.test.integration.jpa.transaction.TransactionTestCase » Deployment
[INFO] 
[ERROR] Tests run: 1553, Failures: 0, Errors: 9, Skipped: 14
---",,,,,,,,,WFLY-11891,,,,,,JBEAP-17220,WFLY-12534,WFLY-12546,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/May/19 4:53 AM;ropalka;server.log;https://issues.redhat.com/secure/attachment/12450593/server.log","13/May/19 4:53 AM;ropalka;test.log;https://issues.redhat.com/secure/attachment/12450592/test.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-10 12:42:51.0,,,,,,,,,,,,,,,,,,,,,,,,,,2.0,27.0,,,,,,,,,,"1|z05exg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/May/19 12:42 PM;smarlow;[~ropalka] Thanks for finding this!  Is there a jenkins link for this failure to share?  Or perhaps server.log output that contains the deployment failure?

CC [~gbadner]","13/May/19 4:52 AM;ropalka;It is not CI tested [~smarlow] yet. We're waiting for Apache CXF upgrade in WildFly to fix remaining JDK13+ issues. Then the plan is to test it regularly in our CI lab.
I'm attaching both test and server logs. Steps to reproduce the issue are:

 * Download and install latest OpenJDK13
 * Switch shell to use downloaded JDK
 * Build wildfly with 'mvn clean install -DskipTests'
 * Run the test: 'cd testsuite/integration/basic && mvn clean test -Dtest=**/MultiplePuTestCase'","13/May/19 12:59 PM;jamezp;I added the blocker-WF18 label to remove it from the blocker list.","16/May/19 5:45 PM;brian.stansberry;[~jamezp] [~ropalka] I reduced the priority to Critical.

We do not require JDK 13 support until it goes GA which I believe will not be until September, so WF 19. That's too far away for Blocker IMO. There's just too much attention on Blocker to apply it to something two releases away.

I left the blocker-WF18 label (not 19) because if JDK 13 is in RC phase by the time we finish 18 it would be good to have this resolved. Just like it was nice that we were good for JDK 12 in WF 16 despite 12 not being GA yet.","08/Jul/19 8:49 AM;smarlow;attached server.log contains:
{code}
Failed to define class org.jboss.as.test.integration.jpa.basic.SLSBPersistenceContexts in Module ""deployment.MultiplePuTestCase.jar"" from Service Module Loader: java.lang.ClassFormatError: Failed to link org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts (Module ""deployment.MultiplePuTestCase.jar"" from Service Module Loader): WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts failed
{code}
","08/Jul/19 8:52 AM;smarlow;Underlying cause is not really shown in attached test.log, just:
{code}
org.jboss.as.test.integration.jpa.basic.multiplepersistenceunittest.MultiplePuTestCase  Time elapsed: 14.748 s  <<< ERROR!
org.jboss.arquillian.container.spi.client.container.DeploymentException: 
Cannot deploy MultiplePuTestCase.jar: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""MultiplePuTestCase.jar\"".POST_MODULE"" => ""WFLYSRV0153: Failed to process phase POST_MODULE of deployment \""MultiplePuTestCase.jar\""
    Caused by: java.lang.ClassFormatError: Failed to link org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts (Module \""deployment.MultiplePuTestCase.jar\"" from Service Module Loader): WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts failed""}}}}
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:184)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:162)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:91)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:244)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:151)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:118)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:239)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:118)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:71)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:54)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:47)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:92)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:77)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachDeployment(ContainerDeployController.java:232)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachManagedDeployment(ContainerDeployController.java:212)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deployManaged(ContainerDeployController.java:77)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.execute(ContainerEventController.java:96)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.beforeClass(EventTestRunnerAdaptor.java:89)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:163)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
{code}

Not clear if we fail before or during ByteBuddy transformation by Hibernate.","08/Jul/19 9:10 AM;smarlow;[~gbadner] Has Hibernate 5.3.10 seen any reports of this failure with ByteBuddy?","08/Jul/19 12:48 PM;smarlow;Underlying exception from debugger session is:
{code}
2019-07-08 12:45:44,383 ERROR [stderr] (MSC service thread 1-3) Caused by: java.lang.IllegalStateException: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts failed
2019-07-08 12:45:44,384 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.as.jpa@18.0.0.Beta1-SNAPSHOT//org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:68)
2019-07-08 12:45:44,384 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.as.jpa@18.0.0.Beta1-SNAPSHOT//org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:49)
2019-07-08 12:45:44,384 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.as.server@10.0.0.Beta1//org.jboss.as.server.deployment.module.DelegatingClassFileTransformer.transform(DelegatingClassFileTransformer.java:60)
2019-07-08 12:45:44,384 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.modules.JLIClassTransformer.transform(JLIClassTransformer.java:55)
2019-07-08 12:45:44,384 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:539)
2019-07-08 12:45:44,385 ERROR [stderr] (MSC service thread 1-3) 	... 22 more
2019-07-08 12:45:44,385 ERROR [stderr] (MSC service thread 1-3) Caused by: org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl$1: Error performing enhancement of org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts
2019-07-08 12:45:44,385 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl.transform(EnhancingClassTransformerImpl.java:47)
2019-07-08 12:45:44,385 ERROR [stderr] (MSC service thread 1-3) 	at org.jboss.as.jpa@18.0.0.Beta1-SNAPSHOT//org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:66)
2019-07-08 12:45:44,385 ERROR [stderr] (MSC service thread 1-3) 	... 26 more
2019-07-08 12:45:44,386 ERROR [stderr] (MSC service thread 1-3) Caused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class org/jboss/as/test/integration/jpa/basic/SLSBPersistenceContexts
2019-07-08 12:45:44,386 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.enhance(EnhancerImpl.java:138)
2019-07-08 12:45:44,386 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl.transform(EnhancingClassTransformerImpl.java:44)
2019-07-08 12:45:44,387 ERROR [stderr] (MSC service thread 1-3) 	... 27 more
2019-07-08 12:45:44,387 ERROR [stderr] (MSC service thread 1-3) Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 57
2019-07-08 12:45:44,388 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.jar.asm.ClassReader.<init>(ClassReader.java:184)
2019-07-08 12:45:44,388 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.jar.asm.ClassReader.<init>(ClassReader.java:166)
2019-07-08 12:45:44,388 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.jar.asm.ClassReader.<init>(ClassReader.java:152)
2019-07-08 12:45:44,388 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.utility.OpenedClassReader.of(OpenedClassReader.java:82)
2019-07-08 12:45:44,389 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default.parse(TypePool.java:1174)
2019-07-08 12:45:44,389 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default.doDescribe(TypePool.java:1160)
2019-07-08 12:45:44,389 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default$WithLazyResolution.access$401(TypePool.java:1240)
2019-07-08 12:45:44,390 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default$WithLazyResolution.doResolve(TypePool.java:1338)
2019-07-08 12:45:44,390 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default$WithLazyResolution$LazyTypeDescription.delegate(TypePool.java:1407)
2019-07-08 12:45:44,390 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.type.TypeDescription$AbstractBase$OfSimpleType$WithDelegation.getEnclosingType(TypeDescription.java:8066)
2019-07-08 12:45:44,390 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.pool.TypePool$Default$LazyTypeDescription$GenericTypeToken$ForParameterizedType$LazyParameterizedType.getOwnerType(TypePool.java:5465)
2019-07-08 12:45:44,391 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.type.TypeDescription$Generic$Visitor$Substitutor.onParameterizedType(TypeDescription.java:1814)
2019-07-08 12:45:44,391 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.type.TypeDescription$Generic$Visitor$Substitutor$ForDetachment.onParameterizedType(TypeDescription.java:1979)
2019-07-08 12:45:44,391 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.type.TypeDescription$Generic$OfParameterizedType.accept(TypeDescription.java:4991)
2019-07-08 12:45:44,392 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.type.TypeDescription$Generic$LazyProjection.accept(TypeDescription.java:6106)
2019-07-08 12:45:44,392 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.method.MethodDescription$AbstractBase.asToken(MethodDescription.java:816)
2019-07-08 12:45:44,392 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.method.MethodDescription$AbstractBase.asToken(MethodDescription.java:376)
2019-07-08 12:45:44,392 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.description.method.MethodList$AbstractBase.asTokenList(MethodList.java:70)
2019-07-08 12:45:44,393 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.dynamic.scaffold.InstrumentedType$Factory$Default$1.represent(InstrumentedType.java:364)
2019-07-08 12:45:44,393 ERROR [stderr] (MSC service thread 1-3) 	at net.bytebuddy//net.bytebuddy.ByteBuddy.redefine(ByteBuddy.java:731)
2019-07-08 12:45:44,393 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.lambda$enhance$0(EnhancerImpl.java:133)
2019-07-08 12:45:44,393 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.rewrite(ByteBuddyState.java:149)
2019-07-08 12:45:44,394 ERROR [stderr] (MSC service thread 1-3) 	at org.hibernate@5.3.10.Final//org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.enhance(EnhancerImpl.java:132)
2019-07-08 12:45:44,394 ERROR [stderr] (MSC service thread 1-3) 	... 28 more
{code}","08/Jul/19 1:01 PM;smarlow;[https://developer.jboss.org/thread/279658] seems related, in that the error was the same.  

[~gbadner] perhaps [https://hibernate.atlassian.net/browse/HHH-13272] would help us try running with JDK13.  Could that be back ported to the 5.3.x branch?  

Is ORM 5.4.2 using a newer version of ByteBuddy?  If yes, we should consider upgrading to the newer version of ByteBuddy that 5.4.2 is using.","09/Jul/19 3:25 PM;gbadner;[~smarlow], ORM master (and 5.4.2) use ByteBuddy 1.9.10.

ORM 5.3.11 uses ByteBuddy 1.9.5.

Have you tried running the failing tests with JDK 13 and ByteBuddy 1.9.10 or 1.9.11? If not, I can do it.

","09/Jul/19 3:43 PM;smarlow;Hi Gail, I verified that the failing tests, do pass with ByteBuddy 1.9.11. 

I also ran the following tests as well via a local script with 1.9.11 and they passed:
{quote}
cd testsuite/integration/basic/
mvn install -Dtest=org.jboss.as.test.integration.jpa.packaging.PersistenceUnitPackagingTestCase > /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.packaging.EJBJarPackagingTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.packaging.PersistenceUnitWarPackagingTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.cfgfile.CfgFileTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.multipleinjections.MultiplePersistenceContextInjectionsTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.webnontxem.NonTransactionalEmTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.ormxml.OrmTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.jarfile.JpaJarFileTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.jarfile.JpaTestSlsb >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.webtxem.TestServlet >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.webtxem.WebJPATestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.basic.entitymanagerfactorytest.EntityManagerFactoryTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.basic.multiplepersistenceunittest.MultiplePuTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.basic.relativedatasourcetest.RelativeDataSourceNameTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.contextduel.AddEPC2TxAfterPCTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.serialization.SerializationTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.shallow.ShallowExtendedPersistenceContextInheritanceTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.EPCPropagationTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.requiresnew.EPCPropagationNewTransactionTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.hierarchy.EPCPropagationHierarchyTestCase  >> /tmp/orm53.txt                                                                                                                                                   
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.slsbxpc.FailBecauseOfXPCNotInSFSBTestCase   >> /tmp/orm53.txt                                                                                                                                                  
mvn install -Dtest=org.jboss.as.test.integration.jpa.epcpropagation.unsync.TestForMixedSynchronizationTypes      >> /tmp/orm53.txt                                                                                                                                                 
mvn install -Dtest=org.jboss.as.test.integration.jpa.transaction.TransactionTestCase                              >> /tmp/orm53.txt                                                                                                                                                
mvn install -Dtest=org.jboss.as.test.integration.jpa.transaction.envers.TransactionAuditedTestCase                 >> /tmp/orm53.txt                                                                                                                                               
mvn install -Dtest=org.jboss.as.test.integration.jpa.dsrestart.JpaDsRestartTestCase                                >> /tmp/orm53.txt                                                                                                                                               
mvn install -Dtest=org.jboss.as.test.integration.jpa.beanvalidation.beanvalidationinheritancetest.BeanValidationJPAInheritanceTestCase   >> /tmp/orm53.txt                                                                                                                         
mvn install -Dtest=org.jboss.as.test.integration.jpa.beanvalidation.beanvalidationtest.JPABeanValidationTestCase               >> /tmp/orm53.txt                                                                                                                                   
mvn install -Dtest=org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase               >> /tmp/orm53.txt                                                                                                                                       
mvn install -Dtest=org.jboss.as.test.integration.jpa.datasourcedefinition.DataSourceDefinitionJPATestCase                   >> /tmp/orm53.txt                                                                                                                                      
mvn install -Dtest=org.jboss.as.test.integration.jpa.secondlevelcache.JPA2LCTestCase                                       >> /tmp/orm53.txt                                                                                                                                       
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.txtimeout.TxTimeoutTestCase                               >> /tmp/orm53.txt                                                                                                                                      
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.txtimeout.TestPersistenceProvider                         >> /tmp/orm53.txt                                                                                                                                      
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.txtimeout.TestEntityManager                                >> /tmp/orm53.txt                                                                                                                                     
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.txtimeout.TestEntityManagerFactory                       >> /tmp/orm53.txt                                                                                                                                       
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.classtransformer.TestClassTransformer                                      >> /tmp/orm53.txt                                                                                                                     
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.classtransformer.TestAdapter   >> /tmp/orm53.txt                                                                                                   
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.classtransformer.ClassFileTransformerTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.classtransformer.TestPersistenceProvider >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.mockprovider.classtransformer.TestEntityManagerFactory >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.entitylistener.EntityListenersTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.sibling.SiblingXPCInheritanceTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.version.VersionTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.resourcelocal.ResourceLocalTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.classfiletransformertest.ClassFileTransformerTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.entitytest.EntityTestCase  >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.management.ManagementTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.AuditJoinTableoverOnetoManyJoinColumnTest >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.AuditJoinTableoverBidirectionalTest >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.basicenverstest.BasicEnversTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.implementvalidityauditstrategytest.ImplementValidityAuditStrategyTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.validityauditstrategyoninheritancetest.ValidityAuditStrategyonInheritanceTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.envers.basicselectiveenverstest.BasicSelectiveEnversTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.sessionfactorytest.SessionFactoryTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.jpa.hibernate.EntityTest >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.Hibernate4NativeAPIProviderTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.HibernateNativeAPITransactionTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.generator.TestSlsb >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.generator.PooledGeneratorTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.search.HibernateSearchJPATestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.naturalid.HibernateNativeAPINaturalIdTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.Hibernate2LCacheStatsTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.envers.Hibernate4NativeAPIEnversTestCase >> /tmp/orm53.txt
mvn install -Dtest=org.jboss.as.test.integration.hibernate.secondlevelcache.HibernateSecondLevelCacheTestCase >> /tmp/orm53.txt
{quote}","09/Jul/19 3:57 PM;gbadner;[~smarlow], thanks for doing that. Did you happen to look at diffs between 1.9.5 and 1.9.11?

[~sannegrinovero], I see that you upgraded ByteBuddy to 1.9.10 for HHH-13272. Do you have an opinion on upgrading ByteBuddy to 1.9.11 in master and 5.3 branches?","09/Jul/19 7:19 PM;smarlow;[~gbadner] 
Sorry, I didn't look at diffs between 1.9.5 and 1.9.11.  

I did briefly look at the release descriptions  [https://github.com/raphw/byte-buddy/releases] which go up to 1.9.14.  I'm not really sure if any of the changes after 1.9.11 are needed by Hibernate ORM.  

I liked the description for ByteBuddy 1.9.11, as it mentioned ""Fix unsafe injection on Java 12/13."" and using ASM 7.1 (more bug fixes and enhancements [https://asm.ow2.io/versions.html]).","22/Aug/19 3:50 PM;brian.stansberry;[~ropalka] is this our only JDK 13 problem?","22/Aug/19 3:56 PM;ropalka;Yes [~brian.stansberry]","25/Aug/19 10:57 AM;ropalka;Any chance [~smarlow] this issue will be solved till WildFly final release?","26/Aug/19 11:21 AM;brian.stansberry;[~smarlow] [~gbadner] 

Is there any benefit in a WF PR upgrading just Byte Buddy and not Hibernate? Or do we know Hibernate changes are required? I wouldn't want to *merge* such a PR, unless you say it's ok, but if we have it we can see how CI treats it, how JDK 13 treats it etc.","26/Aug/19 11:41 AM;smarlow;[~brian.stansberry] imo, we could do the upgrade in WildFly but that sort of goes against our ""upstream first"" rule.  As, we could get stuck if for some reason, the Hibernate team doesn't update the ORM 5.3.x branch to work with the ByteBuddy upgrade.  ","26/Aug/19 12:00 PM;brian.stansberry;https://github.com/wildfly/wildfly/pull/12532

It's a Draft; it's got the 'hold' label on it. It's not going to get merged. I just want to see what happens with CI. I agree the real thing should come in via a Hibernate update, or at least with the update applied and tested in the Hibernate 5.3 branch.","26/Aug/19 12:05 PM;smarlow;Oh, then that is fine then! :)  I did run a lot of WF unit tests locally already as well [https://issues.jboss.org/browse/WFLY-12063?focusedCommentId=13757425&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13757425]

[https://github.com/wildfly/wildfly/pull/12533] is the pr for testing","26/Aug/19 1:32 PM;gbadner;[~brian.stansberry], I can do the upgrade before 9/13.","26/Aug/19 5:07 PM;brian.stansberry;Thanks, Gail.

Scott and I both sent up equivalent experimental PRs and CI results from both our PRs look good.  There's a separate discussion about getting some nightly jobs set up that use JDK 13. Once that is set up we can do a custom run of those against a branch with this upgrade.","27/Aug/19 6:25 AM;ropalka;[~brian.stansberry] [~gbadner] [~smarlow] If Hibernate team for any reason will not release Hibernate with upgraded Bytebuddy on time
there's still alternative to revert WFLY-11891 (test changes that introduced this regression):
https://github.com/ropalka/wildfly/commit/cbdfa9aaff6a73ec3852a2209ef937a973c747b5
and then again *revert this revert* after WF 18.Final tag :)","11/Sep/19 10:58 PM;gbadner;[~smarlow], the Hibernate dependency on ByteBuddy has been upgraded to 1.9.11 in 5.3 branch.","13/Sep/19 4:08 PM;brian.stansberry;WFLY-12546 (the Byte Buddy upgrade) is now in. I kicked off a run of our JDK 13 job at https://ci.wildfly.org/viewLog.html?buildId=168036&tab=buildResultsDiv&buildTypeId=WF_MasterLinuxJdk13. If that comes up clean, or at least with nothing related to this, then this can be resolved.

Thanks, [~gbadner]!","16/Sep/19 9:33 AM;ropalka;I tested WildFly & WildFly Core against JDK13 and all tests passed for me.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,
Merged/Killed member handling in CacheRegistry triggers intermittent failures during server startup,WFLY-12414,12824232,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,pferraro,pferraro,22/Aug/19 12:34 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,23/Aug/19 9:50 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Sometimes (1:100) one of EAPs does not start .

So far we are seeing this only on OCP 4 jobs. Thus filling as OCP 4 bug.
Currently automatic restart of not ""Ready"" pods does not work on OCP 4, so maybe that is why we see only on OCP .

So far we hit mainly on Upstream Kube ping, but once we saw on Upstream DNS Ping.

{code}
[0m[31m11:24:39,946 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 77) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache.web.default-server: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache.web.default-server: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:70)
	at org.wildfly.clustering.service.AsyncServiceConfigurator$AsyncService.lambda$start$0(AsyncServiceConfigurator.java:117)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
	at org.infinispan.commons.util.SecurityActions.lambda$invokeAccessibly$0(SecurityActions.java:83)
	at org.infinispan.commons.util.SecurityActions.doPrivileged(SecurityActions.java:71)
	at org.infinispan.commons.util.SecurityActions.invokeAccessibly(SecurityActions.java:76)
	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:185)
	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:968)
	at org.infinispan.factories.AbstractComponentRegistry.lambda$invokePrioritizedMethods$6(AbstractComponentRegistry.java:703)
	at org.infinispan.factories.SecurityActions.lambda$run$1(SecurityActions.java:72)
	at org.infinispan.security.Security.doPrivileged(Security.java:44)
	at org.infinispan.factories.SecurityActions.run(SecurityActions.java:71)
	at org.infinispan.factories.AbstractComponentRegistry.invokePrioritizedMethods(AbstractComponentRegistry.java:696)
	at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:689)
	at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:607)
	at org.infinispan.factories.ComponentRegistry.start(ComponentRegistry.java:244)
	at org.infinispan.cache.impl.CacheImpl.start(CacheImpl.java:1051)
	at org.infinispan.cache.impl.AbstractDelegatingCache.start(AbstractDelegatingCache.java:421)
	at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:646)
	at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:591)
	at org.infinispan.manager.DefaultCacheManager.internalGetCache(DefaultCacheManager.java:477)
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:463)
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:449)
	at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:86)
	at org.wildfly.clustering.infinispan.spi.service.CacheServiceConfigurator.get(CacheServiceConfigurator.java:77)
	at org.wildfly.clustering.infinispan.spi.service.CacheServiceConfigurator.get(CacheServiceConfigurator.java:55)
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:67)
	... 7 more
Caused by: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1
	at org.infinispan.topology.LocalTopologyManagerImpl.waitForView(LocalTopologyManagerImpl.java:556)
	at org.infinispan.topology.LocalTopologyManagerImpl.join(LocalTopologyManagerImpl.java:151)
	at org.infinispan.statetransfer.StateTransferManagerImpl.start(StateTransferManagerImpl.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.infinispan.commons.util.SecurityActions.lambda$invokeAccessibly$0(SecurityActions.java:79)
	... 30 more

[0m[31m11:24:39,947 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 83) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache.web.ROOT.war: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache.web.ROOT.war: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:70)
	at org.wildfly.clustering.service.AsyncServiceConfigurator$AsyncService.lambda$start$0(AsyncServiceConfigurator.java:117)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
	at org.infinispan.commons.util.SecurityActions.lambda$invokeAccessibly$0(SecurityActions.java:83)
	at org.infinispan.commons.util.SecurityActions.doPrivileged(SecurityActions.java:71)
	at org.infinispan.commons.util.SecurityActions.invokeAccessibly(SecurityActions.java:76)
	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:185)
	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:968)
	at org.infinispan.factories.AbstractComponentRegistry.lambda$invokePrioritizedMethods$6(AbstractComponentRegistry.java:703)
	at org.infinispan.factories.SecurityActions.lambda$run$1(SecurityActions.java:72)
	at org.infinispan.security.Security.doPrivileged(Security.java:44)
	at org.infinispan.factories.SecurityActions.run(SecurityActions.java:71)
	at org.infinispan.factories.AbstractComponentRegistry.invokePrioritizedMethods(AbstractComponentRegistry.java:696)
	at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:689)
	at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:607)
	at org.infinispan.factories.ComponentRegistry.start(ComponentRegistry.java:244)
	at org.infinispan.cache.impl.CacheImpl.start(CacheImpl.java:1051)
	at org.infinispan.cache.impl.AbstractDelegatingCache.start(AbstractDelegatingCache.java:421)
	at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:646)
	at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:591)
	at org.infinispan.manager.DefaultCacheManager.internalGetCache(DefaultCacheManager.java:477)
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:463)
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:449)
	at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:86)
	at org.wildfly.clustering.infinispan.spi.service.CacheServiceConfigurator.get(CacheServiceConfigurator.java:77)
	at org.wildfly.clustering.infinispan.spi.service.CacheServiceConfigurator.get(CacheServiceConfigurator.java:55)
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:67)
	... 7 more
Caused by: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1
	at org.infinispan.topology.LocalTopologyManagerImpl.waitForView(LocalTopologyManagerImpl.java:556)
	at org.infinispan.topology.LocalTopologyManagerImpl.join(LocalTopologyManagerImpl.java:151)
	at org.infinispan.statetransfer.StateTransferManagerImpl.start(StateTransferManagerImpl.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.infinispan.commons.util.SecurityActions.lambda$invokeAccessibly$0(SecurityActions.java:79)
	... 30 more

[0m[31m11:24:39,954 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""ROOT.war"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""org.wildfly.clustering.infinispan.cache.web.ROOT.war"" => ""org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
    Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
    Caused by: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1""}}
[0m[31m11:24:39,956 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""undertow""),
    (""server"" => ""default-server"")
]) - failure description: {""WFLYCTL0080: Failed services"" => {""org.wildfly.clustering.infinispan.cache.web.default-server"" => ""org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
    Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
    Caused by: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1""}}
[0m[0m11:24:39,963 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 43) WFLYSRV0010: Deployed ""ROOT.war"" (runtime-name : ""ROOT.war"")
[0m[0m11:24:39,967 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report
WFLYCTL0186:   Services which failed to start:      service org.wildfly.clustering.infinispan.cache.web.ROOT.war: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
      service org.wildfly.clustering.infinispan.cache.web.default-server: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl
WFLYCTL0448: 9 additional services are down due to their dependencies being missing or failed
[0m[0m11:24:40,047 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server
[0m[0m11:24:40,050 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management
[0m[0m11:24:40,050 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0054: Admin console is not enabled
[0m[31m11:24:40,050 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: JBoss EAP 7.2.2.GA (WildFly Core 6.0.14.Final-redhat-00001) started (with errors) in 265662ms - Started 540 of 784 services (12 services failed or missing dependencies, 484 services are lazy, passive or on-demand)
[0m[0m11:24:42,650 INFO  [org.apache.activemq.artemis.core.server] (Thread-0 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$5@554b59fa)) AMQ221056: Reloading configuration: logging
[0m[33m11:24:42,650 WARN  [org.apache.activemq.artemis.core.server] (Thread-0 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$5@554b59fa)) AMQ222276: Failed to process changes to the logging configuration file: file:/opt/eap/standalone/configuration/logging.properties
[0m[31m11:28:39,946 ERROR [org.infinispan.topology.LocalTopologyManagerImpl] (transport-thread--p19-t4) ISPN000230: Failed to start rebalance for cache default-server: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1
	at org.infinispan.topology.LocalTopologyManagerImpl.waitForView(LocalTopologyManagerImpl.java:556)
	at org.infinispan.topology.LocalTopologyManagerImpl.doHandleRebalance(LocalTopologyManagerImpl.java:487)
	at org.infinispan.topology.LocalTopologyManagerImpl.lambda$handleRebalance$3(LocalTopologyManagerImpl.java:475)
	at org.infinispan.executors.LimitedExecutor.runTasks(LimitedExecutor.java:175)
	at org.infinispan.executors.LimitedExecutor.access$100(LimitedExecutor.java:37)
	at org.infinispan.executors.LimitedExecutor$Runner.run(LimitedExecutor.java:227)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
	at java.lang.Thread.run(Thread.java:748)

[0m[31m11:28:39,948 ERROR [org.infinispan.topology.LocalTopologyManagerImpl] (transport-thread--p19-t5) ISPN000230: Failed to start rebalance for cache ROOT.war: org.infinispan.util.concurrent.TimeoutException: ISPN000451: Timed out waiting for view 2, current view is 1
	at org.infinispan.topology.LocalTopologyManagerImpl.waitForView(LocalTopologyManagerImpl.java:556)
	at org.infinispan.topology.LocalTopologyManagerImpl.doHandleRebalance(LocalTopologyManagerImpl.java:487)
	at org.infinispan.topology.LocalTopologyManagerImpl.lambda$handleRebalance$3(LocalTopologyManagerImpl.java:475)
	at org.infinispan.executors.LimitedExecutor.runTasks(LimitedExecutor.java:175)
	at org.infinispan.executors.LimitedExecutor.access$100(LimitedExecutor.java:37)
	at org.infinispan.executors.LimitedExecutor$Runner.run(LimitedExecutor.java:227)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
	at java.lang.Thread.run(Thread.java:748)
{code}",,,,,,,,,,,,,JBEAP-17089,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:09.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z086d0:",9223372036854775807,,0.0,,,,,,,,,,,,,,Workaround Exists,"Use non-blocking startup of cache (i.e. don't wait for initial state transfer to complete before cache is available).
<state-transfer timeout=""0""/>","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Performance impact of moving from InjectedValue.getValue() reads to MSC Supplier impl get() reads,WFLY-12372,12822674,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,ropalka,brian.stansberry,brian.stansberry,13/Aug/19 11:35 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,02/Sep/19 3:01 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,MSC,Server,,,,,,,,,,0,,,,,"A byproduct of the move from the deprecated MSC org.jboss.msc.service.Service API to the new org.jboss.msc.Service API is that service wiring is shifted from a service getting refs to dependencies via InjectedValue.getValue() to Supplier.get() calls where the supplier is obtained from a ServiceBuilder.requires(....) call.

The concurrency characteristics of these two calls are different, which can result in performance changes if the calls are frequent; i.e. are part of high volume user request handling call paths. For example:

{code}
org.jboss.msc.service.ServiceRegistrationImpl.getValue()
   org.jboss.msc.service.ReadableValueImpl.get()	
  org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(InterceptorContext)      org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(InterceptorContext)
            org.jboss.invocation.InterceptorContext.proceed()
{code}

An InjectedValue.getValue() call involves a read of a volatile field, followed by a read of the getValue() method of the service impl, which is typically also a read of a volatile field.  The stack trace above shows how the Supplier.get() call is handled. The issue is the ServiceRegistrationImpl.getValue() call includes a synchronization lock on the ServiceRegistrationImpl value, which means the call is a concurrency chokepoint if it's used by many requests.

We need to examine the changes we've made related to this MSC API switch and identify and correct cases where this kind of thing has crept in.",,,,,,,,,MSC-248,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07x8k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-batch-api_1.0_spec from 1.0.2.Final to 2.0.0.Final,WFLY-12355,12821545,12818626,Component Upgrade Subtask,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,cfang,cfang,cfang,06/Aug/19 10:54 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,03/Sep/19 6:45 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Batch,,,,,,,,,,,0,,,,,"JBoss Jakarta Batch API:
https://github.com/jboss/jboss-jakarta-batch-api_spec

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:04.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,6.0,,,,,,,,,,"1|z07rb8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Aug/19 12:33 AM;cfang;As of Aug 8 2019, Jakarta Batch spec and API have published staging releases, but have yet to be approved for EE specifications.

jakarta.inject api has not been formally released.  So need to wait for this dependency to satisfy.","27/Aug/19 4:43 PM;cfang;Opened PR to WildFly to upgrade this component to version 2.0.0.CR1, as a first step: https://github.com/wildfly/wildfly/pull/12539 (merged on 2019-08-27)","29/Aug/19 7:41 PM;cfang;Current dependency tree as of 2019-08-29, and need to be converted to jboss-forked GAVs.

[INFO] org.jboss.spec.javax.batch:jboss-batch-api_1.0_spec:jar:2.0.0.Final-SNAPSHOT
[INFO] +- jakarta.enterprise:jakarta.enterprise.cdi-api:jar:2.0.1:compile
[INFO] +- javax.inject:javax.inject:jar:1:compile
[INFO] \- jakarta.transaction:jakarta.transaction-api:jar:1.3.2:compile","03/Sep/19 12:03 AM;cfang;Opened PR to WildFly to upgrade this component to version 2.0.0.CR2:
https://github.com/wildfly/wildfly/pull/12574

Diff between 2.0.0.CR1 and 2.0.0.CR2:
https://github.com/jboss/jboss-jakarta-batch-api_spec/compare/2.0.0.CR1...2.0.0.CR2","13/Sep/19 4:10 PM;cfang;2.0.0.Final released on 2019-09-13:

<groupId>org.jboss.spec.javax.batch</groupId>
<artifactId>jboss-batch-api_1.0_spec</artifactId>
<version>2.0.0.Final</version>","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IJ020017: Invalid archive: file://RaActivatoractivemq-ra WARN during start with standalone-full*.xml,WFLY-12226,12814810,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,brian.stansberry,okotek,okotek,21/Jun/19 7:52 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,01/Jul/19 11:03 AM,18.0.0.Beta1,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,JMS,,,,,,,,,,,0,,,,,"There is a warning during start with standalone-full*.xml:

{noformat}
12:19:04,432 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-3) WFLYJCA0007: Registered connection factory java:/JmsXA
12:19:04,440 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 84) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory
12:19:04,441 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 83) WFLYMSGAMQ0002: Bound messaging object to jndi name java:/ConnectionFactory
12:19:04,441 WARN  [org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-3) IJ020017: Invalid archive: file://RaActivatoractivemq-ra
12:19:04,486 INFO  [org.apache.activemq.artemis.ra] (MSC service thread 1-3) AMQ151007: Resource adaptor started
12:19:04,486 INFO  [org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-3) IJ020002: Deployed: file://RaActivatoractivemq-ra
12:19:04,492 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-6) WFLYJCA0002: Bound JCA ConnectionFactory [java:/JmsXA]
12:19:04,493 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-3) WFLYJCA0118: Binding connection factory named java:/JmsXA to alias java:jboss/DefaultJMSConnectionFactory
{noformat}

For an automation checking the server log for issues, this WARN causes false positive. Hence, I set the Priority to Critical.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-25 20:20:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z06oj0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Jun/19 8:20 PM;brian.stansberry;[~ehugonnet] This is an Artemis bug. Here's the org.jboss.jca.validator.Failure that is triggering this WARN message:

Severity: WARNING
Section: 20.7
Description: Invalid config-property-type for ResourceAdapter.
Code: Class: org.wildfly.extension.messaging.activemq.ActiveMQResourceAdapter Property: useTopologyForLoadBalancing Type: boolean

That property is inherited from org.apache.activemq.artemis.ra.ActiveMQResourceAdapter which has 'boolean' as the return type.  Apparently these RA getters are meant to use object wrappers, not primitives. See org.jboss.jca.validator.rules.ConfigPropertiesHelper.containGetOrIsMethod

Unfortunately java doesn't let org.wildfly.extension.messaging.activemq.ActiveMQResourceAdapter override this method and broaden the return type. :)","25/Jun/19 9:36 PM;brian.stansberry;Well, it is kind of possible to override the return type for the *property*, just not for the method. Add a 'get' getter method to go along with the 'is'. Hacky but stops the WARN

https://github.com/wildfly/wildfly/pull/12388

That would just be a temp fix though; the real fix needs to be in Artemis.","01/Jul/19 11:03 AM;brian.stansberry;I'm resolving this as we've worked around it. The Artemis issue tracks the real fix.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Memory leak in wildfly transaction client,WFLY-12031,12804841,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,cfang,petrjoac,petrjoac,29/Apr/19 9:54 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Jul/19 11:16 PM,15.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,"After a volume run of our system we recognized millions of entries in the openFilePaths Object of class FileSystemXAResourceRegistry. When enabling traces for org.wildfly.transaction it seems that for adding an entry a xid string is used
{code:java}
        XAResourceRegistryFile(Xid xid) throws SystemException {
            xaRecoveryPath.toFile().mkdir(); // create dir if non existent
            final String xidString = SimpleXid.of(xid).toHexString('_');
            this.filePath = xaRecoveryPath.resolve(xidString);
            openFilePaths.add(*xidString*);
{code}

and for removing the entire file path:

{code:java}
        protected void removeResource(XAResource resource) throws XAException {
            if (resources.remove(resource)) {
                if (resources.isEmpty()) {
                    // delete file
                    try {
                        if (fileChannel != null) {
                            fileChannel.close();
                        }
                        Files.delete(filePath);
                        // deleting using the filepath as key caused a memory leak,
                        // if xid string have been added, therefore build the xid string for removing
                        openFilePaths.remove(*filePath.toString()*);
 {code}

We didn't find any code where this xid are cleaned up.
As workaround we additionally extract the xid String from the file path and remove the corresponding entry.
{code:java}
                        String xidString = filePath.toString().substring(filePath.toString().indexOf(
                        		xaRecoveryPath.toString()) + xaRecoveryPath.toString().length() + 1);
                        openFilePaths.remove(xidString);
{code}",,,,,,,,,,,,,,,WFLY-12258,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-29 10:11:30.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,15.0,,,,,,,,,,"1|z055qk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"29/Apr/19 10:11 AM;tomjenkinson;/cc [~tomekadamski]","30/Apr/19 12:53 PM;cfang;When adding to {{openFilePaths}} set, the file name part (the last element in the path) is used.  So when removing it, we should also use the file name part of the path {{filePath}}.

I think changing the remove line to the following should work (around line 272):

{code:java}
openFilePaths.remove(filePath.getFileName().toString());
{code}

/cc [~flavia.rainone]","24/May/19 3:42 AM;petrjoac;Your proposed change is working.","31/May/19 12:28 PM;jamezp;[~cfang] What is the status of this?","31/May/19 10:31 PM;cfang;I'll need to review it with Flavia for a thorough assessment and will post updates soon.","05/Jun/19 3:34 PM;flavia.rainone;[~cfang] please see https://github.com/wildfly/wildfly-transaction-client/pull/80/commits/34620c495f5e9cc9507f46ffa3fe069af6dca160
This is for WFTC-62 and it solved a problem of the registry not being deleted.","05/Jun/19 3:37 PM;flavia.rainone;[~petrjoac] please test with the aforementioned PR. This fix will probably solve your problem, because if (resources.remove(resource) was always returning false as the resource was not being added at all to the list.","05/Jun/19 3:38 PM;flavia.rainone;I other words, [~petrjoac] and [~cfang] the delete statement is unreachable without the fix for WFTC-62","25/Jun/19 4:36 PM;brian.stansberry;[~cfang] Is this fixed now? WFTC was upgraded.","26/Jun/19 10:41 AM;cfang;[~petrjoac] could you try running with the latest wildfly-transaction-client [1.1.4.Final|https://github.com/wildfly/wildfly-transaction-client/releases/tag/1.1.4.Final], and see if that fixes the issue?  If not, then we will need to apply the proposed fix on [2019-04-30|https://issues.jboss.org/browse/WFLY-12031?focusedCommentId=13728380&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13728380] in next release (maybe 1.1.5.Final).  So either way, I think it's helpful to try out wildfly-transaction-client 1.1.4.Final","27/Jun/19 11:39 AM;cfang;[~petrjoac] do you have a reproducer test app that I can try to verify wildfly-transaction-client 1.1.4.Final?
[~ochaloup] do you have reproducer related to WFTC that I can reuse for this issue?","28/Jun/19 5:16 AM;ochaloup;[~cfang] hi. Unfortunately I do not have a reproducer for this one. I did manual testing of the behaviour but I didn't automatize. I still have plan to start with some testsuite for WFTC (possibly as part of the WFTC-63) but I haven't started with that effort yet :-/","28/Jun/19 2:28 PM;cfang;[~ochaloup]not a problem.  Flavia suggested I could use the one from JBEAP-12611, and I'll give it a try.","12/Jul/19 11:16 PM;brian.stansberry;Fixed via https://github.com/wildfly/wildfly/pull/12424","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
doPrivileged is needed for JASPICSecurityContext AuthConfigFactory access.,WFLY-12530,12827483,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,dlofthouse,dlofthouse,dlofthouse,10/Sep/19 10:37 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,16/Sep/19 10:42 PM,,,,,,18.0.0.Final,,,Web (Undertow),,,,,,,,,,,0,,,,,"A doPrivileged is required for the following error: -

{noformat}
Permission check failed (permission ""(""java.security.SecurityPermission"" ""getProperty.authconfigprovider.factory"")"" in code source ""(vfs:/content/some_deployment.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""somedeployment.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at javax.security.auth.message.config.AuthConfigFactory.checkPermission(AuthConfigFactory.java:166)
	at javax.security.auth.message.config.AuthConfigFactory.getFactory(AuthConfigFactory.java:201)
	at org.wildfly.extension.undertow.security.jaspi.JASPICSecurityContext.logout(JASPICSecurityContext.java:114)
	at io.undertow.servlet.spec.HttpServletRequestImpl.logout(HttpServletRequestImpl.java:505)
{noformat}

The deployment is invoking a standard servlet API however it's ProtectionDomain is being taken into account for the inner details of implementation.

A deployment could require these permissions if interacting with the JASPI APIs directly however it should not require these permissions to interact with the Servlet APIs and the JASPI interaction becomes an implementation detail.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:00.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12623,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pck:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade netty-xnio-transport to 0.1.7.Final,WFLY-12525,12827395,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,flavia.rainone,flavia.rainone,flavia.rainone,10/Sep/19 4:50 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,27/Sep/19 1:43 PM,,,,,,18.0.0.Final,,,,,,,,,,,,,,0,,,,,"Upgrade the netty-xnio-transport containing fix for: [XNIO#14|https://github.com/xnio/netty-xnio-transport/issues/14]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:56.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12571,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08ov0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"27/Sep/19 8:22 AM;flavia.rainone;I'm downgrading to Critical, because the problem is not entirely solved by netty-xnio-transport 0.1.7.Final, we are still investigating.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.el from 1.0.13.Final to 2.0.0.Final,WFLY-12360,12821702,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,smarlow,smarlow,smarlow,07/Aug/19 11:53 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,12/Sep/19 4:40 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,,,,,,,,,,,0,,,,,"JBoss Jakarta Expression Language API:
https://github.com/jboss/jboss-jakarta-el-api_spec",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:55.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z07s44:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Aug/19 7:23 PM;smarlow;initial pr [https://github.com/wildfly/wildfly/pull/12552]","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transaction could not handle remote EJB invocation even if the transaction is not used remote,WFLY-12077,12806981,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,tomekadamski,wdfink,wdfink,14/May/19 8:52 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,18/Jun/19 6:07 PM,17.0.0.Alpha1,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,,,,,0,downstream_dependency,Regression,,,"An EJB marked as BMT which start a Tx and invoke a CMT managed Bean annotated with REQUIRES_NEW will fail if the BMT bean will show unexpected Arjuna WARN messages and the Tx seems not finished correctly.

The same works in former releases.

{code}
WARN  [com.arjuna.ats.jta] (default task-2) ARJUNA016129: Could not end XA resource Subordinate XAResource at http-remoting://localhost:8180: javax.transaction.xa.XAException: WFTXN0029: The peer threw an XA exception
	at org.wildfly.transaction.client.provider.remoting.TransactionClientChannel.setRollbackOnly(TransactionClientChannel.java:167)
	at org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer$1.end(RemotingRemoteTransactionPeer.java:158)
	at org.wildfly.transaction.client.SubordinateXAResource.end(SubordinateXAResource.java:138)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.doEnd(TransactionImple.java:1088)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.endAssociation(TransactionImple.java:1059)
	at com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord.endAssociation(XAResourceRecord.java:1286)
	at com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord.topLevelAbort(XAResourceRecord.java:313)
	at com.arjuna.ats.arjuna.coordinator.BasicAction.doAbort(BasicAction.java:3023)
	at com.arjuna.ats.arjuna.coordinator.BasicAction.doAbort(BasicAction.java:3002)
	at com.arjuna.ats.arjuna.coordinator.BasicAction.Abort(BasicAction.java:1674)
	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.cancel(TwoPhaseCoordinator.java:124)
	at com.arjuna.ats.arjuna.AtomicAction.abort(AtomicAction.java:186)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.rollbackAndDisassociate(TransactionImple.java:1370)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.rollback(BaseTransaction.java:143)
	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.rollback(BaseTransactionManagerDelegate.java:134)
	at org.wildfly.transaction.client.LocalTransaction.rollbackAndDissociate(LocalTransaction.java:109)
	at org.wildfly.transaction.client.ContextTransactionManager.rollback(ContextTransactionManager.java:83)
	at org.wildfly.transaction.client.LocalUserTransaction.rollback(LocalUserTransaction.java:58)
	at xa.transaction.BeanA.testRemoteCMTxnFailure(BeanA.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.tx.EjbBMTInterceptor.handleInvocation(EjbBMTInterceptor.java:103)
	at org.jboss.as.ejb3.tx.BMTInterceptor.processInvocation(BMTInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:406)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeWithIdentity(AssociationImpl.java:565)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeMethod(AssociationImpl.java:546)
	at org.jboss.as.ejb3.remote.AssociationImpl.lambda$receiveInvocationRequest$0(AssociationImpl.java:197)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
	at java.lang.Thread.run(Thread.java:748)
Caused by: Remote exception javax.transaction.xa.XAException
	Public fields:
		errorCode=-4
	at org.wildfly.transaction.client.provider.remoting.TransactionServerChannel.lambda$handleXaTxnRollbackOnly$3(TransactionServerChannel.java:398)
	at org.wildfly.security.auth.server.SecurityIdentity.runAsObjIntConsumer(SecurityIdentity.java:381)
	at org.wildfly.transaction.client.provider.remoting.TransactionServerChannel.handleXaTxnRollbackOnly(TransactionServerChannel.java:394)
	at org.wildfly.transaction.client.provider.remoting.TransactionServerChannel$ReceiverImpl.handleMessage(TransactionServerChannel.java:132)
	at org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:430)
	at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:942)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	... 1 more
{code}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/May/19 8:52 AM;wdfink;reproducer.zip;https://issues.redhat.com/secure/attachment/12450655/reproducer.zip",,,,,,,,,,,,,,,,,,,Regression,,,,,,,,,,,,2019-05-14 10:11:51.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,7.0,,,,,,,,,,"1|z05hwc:",9223372036854775807,,0.0,,,,,"USe attached reproducer:

- Build project
- use vanilla EAP WildFly server
- cp Reproducer.ear to standalone/deployments
- cp -a standalone node1
- cp -a standalone node2
- start servers
  - bin/standalone.sh -Djboss.server.base.dir=node1 -Djboss.socket.binding.port-offset=0 -Djboss.server.name=node1 -Djboss.tx.node.id=node1
  - bin/standalone.sh -Djboss.server.base.dir=node2 -Djboss.socket.binding.port-offset=0 -Djboss.server.name=node2 -Djboss.tx.node.id=node2
  -> Note jboss.tx.node.id to have a unique tx identivier and prevent from warning - but it does not matter
- start client
  java -cp client/target/Reproducer-client.jar:ejb/target/Reproducer-ejb-client.jar:SERVER/bin/client/jboss-client.jar xa.transaction.XATxnTest localhost:8080 localhost:8180
",,,,,,,,,,,"14/May/19 9:52 AM;wdfink;To be more preceise for the reproducer and expectation.

The BeanB is CMT and annotated with REQUIRES_NEW.
From the EJB specification the thown (checked) Exception is an application exception without any influence to the Tx.
So the expected spec conform behaviour is this transaction at backend (8180) is committed.
BeanA is at frontend server is a BMT bean (in general it would not matter if correct implemented) but this bean will catch the Exception from backend and decide to rollback here and return successfully.
So the expectation on data is
- backend committed
- frontend rolled back
If this is the behaviour the WARNING is just confusing as ""ARJUNA016129: Could not end XA resource Subordinate XAResource at http-remoting://localhost:8180: javax.transaction.xa.XAException: WFTXN0029: The peer threw an XA exception""
gave the impression that the transaction at the backend side is not ended correctly.


If the Tx for BeanB is not committed this is a spec violation, the WARN message is an ERROR or FATAL and it is a serious spec violation which need to be fixed (as blocker) !!!

If the Tx for BeanB is committed and the Tx for BeanA is rolled back, everything is as expected and the WARN message need to be removed (or logged as DEBUG/TRACE) to not confuse the users.","14/May/19 10:18 AM;ochaloup;> If the Tx for BeanB is committed and the Tx for BeanA is rolled back, everything is as expected and the WARN message need to be removed (or logged as DEBUG/TRACE) to not confuse the users.
[~wdfink]
Yes, the behaviour is the one you described - BeanB is committed, BeanA can be committed or rolled-back as the user wishes (driven by BMT {{UserTransaction}})
it's what I can see when reproducing the test case and it's what is content of the warning[1] in the customer case.

Agree, probably the solution is for WARN message being logged to TRACE/DEBUG. It's the same what's done for {{XAER_NOTA}} e.g. during recovery {{rollback}}. The client side can't be sure about the existency of the remote transaction in the distributed system. The code counts with the option that the transaction doesn't exist. Logging the XAER_NOTA should be only informative and not causing confusion.

[1]
The WARNING comes from {{TransactionClientChannel.setRollbackOnly}}
{code}
WARN  [com.arjuna.ats.jta] (default task-1) ARJUNA016129: Could not end XA resource Subordinate XAResource at http-remoting://localhost:8120: javax.transaction.xa.XAException: WFTXN0029: The peer threw an XA exception
        at org.wildfly.transaction.client.provider.remoting.TransactionClientChannel.setRollbackOnly(TransactionClientChannel.java:167)
{code}




","22/May/19 7:19 AM;tomekadamski;[~wdfink] [~mmusgrov] [~ochaloup] I have proposed the PR: https://github.com/wildfly/wildfly-transaction-client/pull/76
I have checked that the error in the reproducer does not occur. ","03/Jun/19 4:40 PM;flavia.rainone;To keep track of this Jira in WFTC, I created WFTC-66 and linked the PR to it.","07/Jun/19 2:55 PM;jamezp;The pull request was for the naming client and should be back in the Open state as an upgrade will be required.","18/Jun/19 6:07 PM;brian.stansberry;AIUI this was resolved via https://github.com/wildfly/wildfly/pull/12365. If not, please re-open.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.annotation from 1.0.1.Final to 2.0.1.Final,WFLY-12387,12823334,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,yersan,yersan,yersan,16/Aug/19 6:24 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,11/Sep/19 6:11 PM,,,,,,18.0.0.Final,,,EE,,,,,,,,,,,0,,,,,"Upgrade Common Annotations JSR-250 to Jakarta EE
Fork: https://github.com/jboss/jboss-jakarta-annotations-api_spec
Working branch: [JBEE-207 | https://github.com/jboss/jboss-jakarta-annotations-api_spec/tree/JBEE-207]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-28 12:28:41.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12535,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z0814k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Aug/19 9:46 AM;yersan;[~brian.stansberry] Should not this one be resolved once we have the final release or should we use a different issue? Whatever is more comfortable, let me know.

Currently, we have merged only CR1, we will get the final once Jakarta final is released, then I would update this issue with another PR including Jboss annotation final release. ","28/Aug/19 12:28 PM;brian.stansberry;[~yersan] Reopened. Sorry, I'd resolved another one that said .CR1 in the title and didn't notice this one said .Final. Most of them say .Final so I stopped resolving them.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect ImageandTemplateImportURL in CD QS,WFLY-12261,12816003,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,emmartins,emmartins,emmartins,30/Jun/19 5:49 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,30/Jun/19 6:14 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Documentation,Quickstarts,,,,,,,,,,0,Doc_prio_2,,,,"The readmes in CD16 QS use this incorrect imange and template import url:
[https://raw.githubusercontent.com/jboss-container-images/jboss-eap-7-openshift-image/CD\{productVersion\}/templates/]

Defined at:
https://github.com/wildfly/quickstart/blob/master/shared-doc/attributes.adoc#L86

Which resolves to:
https://raw.githubusercontent.com/jboss-container-images/jboss-eap-7-openshift-image/CD7.3/templates

There's no CD7.3 tag or branch in the repo:
https://github.com/jboss-container-images/jboss-eap-7-openshift-image

It should probably be CD16.",,,,,,,,,,,,,JBEAP-16936,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06vb8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Distributed session changes fail to replicate if subsequent request arrives < 1 second after session was created.,WFLY-12266,12816239,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,pferraro,pferraro,01/Jul/19 2:57 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,01/Jul/19 10:20 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Clustering,,,,,,,,,,,0,,,,,"As a marshalling optimization, the last access duration of a session (i.e. the duration of time since the session was created) is stored with second precision (since session timeouts only have second precision).  However, we assume that a given distributed session is ""new"" if its last access duration is 0.  When the backing cache is transactional, we don't perform any mutations when a new session is closed.  Thus if a request arrives < 1 second after a session was created, any changes will not be replicated.  Given the prevalence of redirects after a session is created, it is not unlikely that users will encounter this problem.

Essentially, the existing code assumes that Duration.ofSeconds(0) != Duration.ZERO. Unfortunately, this is false.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:37.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12411,https://github.com/wildfly/wildfly/pull/12412,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06wpw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PrometheusCollector is not thread-safe causing NPEs during deployment,WFLY-11814,12795817,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Duplicate Issue,jmesnil,pferraro,pferraro,06/Mar/19 8:42 AM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,11/Mar/19 5:50 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,"The logic within PrometheusCollector.addMetricFamilySampleSupplier(...) is not thread safe and can easily trigger an NPE during deployment.
e.g.

{noformat}
10:33:32,706 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.subunit.""web-sso.ear"".""sso-with-no-auth.war"".metrics: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""web-sso.ear"".""sso-with-no-auth.war"".metrics: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1730)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.wildfly.extension.microprofile.metrics.PrometheusCollector.addMetricFamilySampleSupplier(PrometheusCollector.java:32)
	at org.wildfly.extension.microprofile.metrics.MetricCollector.collectResourceMetrics0(MetricCollector.java:157)
	at org.wildfly.extension.microprofile.metrics.MetricCollector.collectResourceMetrics0(MetricCollector.java:166)
	at org.wildfly.extension.microprofile.metrics.MetricCollector.collectResourceMetrics(MetricCollector.java:92)
	at org.wildfly.extension.microprofile.metrics.deployment.DeploymentMetricService.start(DeploymentMetricService.java:54)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	... 6 more
{noformat}",,,,,,,,,,,,,,,,,,,,,,WFLY-11801,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z03ris:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wildfly 12.0.0 Final Delay in Getting the Value Attributes of the Session Variables (Result in Null Pointer Exception),WFLY-11116,12772926,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,zidoff,zidoff,04/Oct/18 9:33 AM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,02/Jul/19 8:56 AM,12.0.0.Final,13.0.0.Final,14.0.1.Final,15.0.0.Final,,17.0.1.Final,,,Clustering,,,,,,,,,,,0,,,,,"I have two Servlets Book and BookPreview the attribute is set in Book Servlet as follow:
 
Book.java
TestBean testBean=null;
if(session.getAttribute(""testBean"")!=null)
     testBean = (TestBean)session.getAttribute(""testBean"");
else{
     testBean=new TestBean();
     session.setAttribute(""testBean"",testBean);
}
testBean.setAmount(""10"");
 
response.sendRedirect(""BookPreview"");
 
 
The session attribute can be retrieved and the page is loaded normally and the Amount value is displayed however when submitting the form (Post Action in BookPreview.java) Null Pointer exception is generated.
 
BookPreview.java
 
TestBean testBean = (TestBean)session.getAttribute(""testBean"");
String amount = testBean.getAmount; //Null pointer exception when submitting the form
 
<form method=""Post"" action=""BookPreview"">
 
</form>
 
TestBean.java
 
public class TestBean implements java.io.Serializable {
 
     private static final long serialVersionUID = 1L;
     private String amount;
 
     public String getAmount() {
          return amount;
     }
 
     public void setAmount(String amount) {
          this.amount = amount;
     }
}
 
Kindly advice how to fix the problem at the level of the server configuration.

PS: I am not getting the exception when deploying the same application under other J EE application servers (Tomcat....)
 
Thanks and Best Regards",,,,,,,,,WFLY-12266,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-04 11:36:31.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,45.0,,,,,,,,,,"1|z009yg:",9223372036854775807,,0.0,,,,,,,,,,,,,,Workaround Exists,"Note that delaying (Code Below) the load of the HTTP POST request before getting the value of the session Variable will resolve the issue (as a workaround):
 
for (int i = 0; i < 5000; i++)
{
System.out.println(""Value of i = "" + i );
}
TestBean testBean = (TestBean)session.getAttribute(""testBean"");
String testAcc = testBean.getAmount();","04/Oct/18 11:36 AM;pferraro;[~zidoff] Can you package the reproducer in an application archive (or the source from which we can build a WAR) containing the reproducer that we can run against the default standalone-ha.xml profile?  When I tried to create a reproducer myself using the above code, I did not see any NPE.","09/Oct/18 10:10 AM;zidoff;Dear Paul 

kindly note that the issue is reproduced in a Single Node Environment and Not Cluster, Note that I can't share the Code because it's confidential.

Is it possible to reproduce the issue and provide you a specific System Log for your Analysis and Feedback?

Best Regards","09/Oct/18 3:14 PM;pferraro;Hi [~zidoff].  As I said previously, I tried reproducing the issue locally using the code snippets above and was unable to see the behavior you described.  I was hoping that you could come up with a simple test that reliably reproduces the problem without referencing any confidential code.","11/Dec/18 7:13 AM;zidoff;Dear Paul

Since Wildfly 15.0.0.Final is released; I will check if the bug is still reproduced and I will let you know 

Best Regards","11/Dec/18 1:01 PM;zidoff;Unfortunately the issue still reproduced under Wildfly 15.0.0.Final.

Best Regards","09/Apr/19 2:51 AM;zidoff;Hi Paul 

I will test on WildFly 16.0.0.Final and provide you my feedback (Hope the issue is resolved).

Best Regards ","09/Apr/19 4:33 AM;zidoff;Issue still reproduced under WildFly 16.0.0.Final  Is there any settings to configure sessions variables in JBoss?

Best regards=","09/Apr/19 6:58 AM;zidoff;Dear Paul

Be advised I just set the log level to ALL and below log was displayed before the NPE; seems like the page is not being Authenticated to retrieve session values:

2019-04-09 13:43:58,991 DEBUG [io.undertow.request.security] (default task-2) Attempting to authenticate /book_store/BookPreview, authentication required: false

2019-04-09 13:43:58,991 DEBUG [io.undertow.request.security] (default task-2) Authentication outcome was NOT_ATTEMPTED with method io.undertow.security.impl.CachedAuthenticatedSessionMechanism@6640b4be for /book_store/BookPreview

2019-04-09 13:43:58,991 DEBUG [io.undertow.request.security] (default task-2) Authentication result was ATTEMPTED for /book_store/BookPreview

Kindly Advice.

Best Regards
","09/Apr/19 7:33 AM;pferraro;[~zidoff] Have you modified the Infinispan subsystem configuration by any chance?  Can you post any modifications that you made to any of the default server configuration?","09/Apr/19 7:38 AM;pferraro;Nevermind - I looked back at the linked forum post and you already mentioned that you are using the defaults.","09/Apr/19 7:46 AM;pferraro;I did spent hours trying to reproduce the behavior you've described and was unable.  Unfortunately, until I can reproduce the issue, there's not much I can do.  If you can attach a simplified reproducer that would be helpful.","09/Apr/19 7:51 AM;pferraro;Can you try replacing the code from the description with the following:

{code:java}
TestBean testBean = session.getAttribute(""testBean"");
if (testBean == null) {
   testBean = new TestBean();
}

testBean.setAmount(""10"");

session.setAttribute(""testBean"", testBean);

response.sendRedirect(""BookPreview"");
{code}","09/Apr/19 7:51 AM;zidoff;Does the provided logs give you a hint about the problem root cause?

Best Regards","09/Apr/19 9:00 AM;pferraro;Not really.  Authentication and user sessions are not intrinsically related - though the server may use the HttpSession to store the user principal. ","09/Apr/19 9:07 AM;pferraro;Actually, I wonder if your issue is that you're not encoding your redirect url.  Try replacing your sendRedirect(...) with:

{code:java}
response.sendRedirect(response.encodeRedirectURL(""BookPreview""));
{code}","10/Apr/19 3:55 AM;zidoff;unfortunately both proposed fixes didn't work. ","10/Apr/19 2:50 PM;pferraro;This doesn't make any sense. Are you certain that the HttpSession used by the redirected request is the same as the one used by the servlet that performed the redirect?  Verify using HttpSession.getId();","11/Apr/19 1:52 AM;zidoff;Dear Paul 

The same is deployed on multiple application servers flavors and it's working fine even when the proposed workaround is applied the issue is not reproduced which mean the session is the same.

Find below list of scenario's  that have been done which shows that the time is not fixed, and most probably the issue is related to the Session cache reading time:
Counter = 500 ---------> KO
Counter = 50000 -------> OK
Counter = 20000 -------> OK
Counter = 10000 -------> OK
Counter = 5000 --------> OK
Counter = 1000 --------> KO
Counter = 2500 --------> KO	
Counter = 3000 --------> KO	
Counter = 4000 --------> KO	
Counter = 4500 --------> KO	
Counter = 4900 --------> KO	
Counter = 5000 --------> KO	
Counter = 6000 --------> KO
Counter = 10000 -------> KO
Counter = 20000 -------> OK

Doing more R & D on session cache, I found that there's specific configuration for the session bean under standalone.xml configuration file, I will try to increase the default-access-timeout and test to check if the issue will be resolved:

            <session-bean>
                <stateless>
                    <bean-instance-pool-ref pool-name=""slsb-strict-max-pool""/>
                </stateless>
                <stateful default-access-timeout=""5000"" cache-ref=""simple"" passivation-disabled-cache-ref=""simple""/>
                <singleton default-access-timeout=""5000""/>
            </session-bean>

Best Regards","11/Apr/19 2:33 AM;zidoff;below is my web cache configuration, i'm using only WildFly instance, we don't have cluster or HA.

<cache-container name=""web"" default-cache=""passivation"" module=""org.wildfly.clustering.web.infinispan"">
      <local-cache name=""passivation"">
         <locking isolation=""REPEATABLE_READ""/>
         <transaction mode=""BATCH""/>
         <file-store passivation=""true"" purge=""false""/>
       </local-cache>
</cache-container> 


Best Regards","11/Apr/19 2:40 AM;zidoff;passivation If true, data is only written to the cache store when it is evicted from memory, a phenomenon known as passivation. Next time the data is requested, it will be 'activated' which means that data will be brought back to memory and removed from the persistent store. If false, the cache store contains a copy of the cache contents in memory, so writes to cache result in cache store writes. This essentially gives you a 'write-through' configuration.

I will set passivation to false and test.","11/Apr/19 7:36 AM;zidoff;Dear Paul 

I noticed that the problem is only with Session Bean variables (session.getAttribute(""testBean"") )  where other Session variable are passing correctly,  

Note that in the provided example there only two variable in the testBean however in the reproduced scenario there's 30 variables, which causing the load delay. 

Best Regards","15/Apr/19 9:30 AM;pferraro;{quote}I will set passivation to false and test.{quote}

Don't do that.  passivation=true will evict bean instances from memory to disk when the max-entries threshold is exceeded.  Disabling passivation will force the bean to persist to a file on every invocation.  If you don't want passivation, remove the file-store altogether.","15/Apr/19 9:44 AM;pferraro;{quote}I noticed that the problem is only with Session Bean variables (session.getAttribute(""testBean"") ) where other Session variable are passing correctly,

Note that in the provided example there only two variable in the testBean however in the reproduced scenario there's 30 variables, which causing the load delay.{quote}

This is the first that you mentioned that the problematic session attribute is a SFSB.  The code in the description certainly makes no indication of this (new TestBean() is not how SFSBs are created).  Something is definitely not right - and without source code I can't tell exactly what.

I would suggest the following.  Don't store your SFSB in the session directly, but make use of contextualized EJBs. Specifically, annotate your SFSB with @SessionScoped.  You can then inject it (via @EJB) into your Servlet - and let the contain manage its lifecycle and association with the session.  The SFSB will be automatically removed when it goes out of scope (i.e. when the session is destroyed).","15/Apr/19 11:21 AM;zidoff;Dear Paul 

the TestBean.java stored in the session it's not related to EJB's; it's Serializable  and contains setter and getter methods.

public class TestBean implements java.io.Serializable {

private static final long serialVersionUID = 1L;
private String amount;

public String getAmount()

{ return amount; }
public void setAmount(String amount)

{ this.amount = amount; }
}

Best Regards","15/Apr/19 11:49 AM;zidoff;the delay in loading the session variables is not happening at the level of the session since i'm able to retrieve session variables of type int and String (Object cased to int and String), the delay is only happening with session variables of object type Serializable classes with getter and setter methods as shown in the example above (public class TestBean ...............)","15/Apr/19 12:02 PM;pferraro;{quote}the delay in loading the session variables is not happening at the level of the session since i'm able to retrieve session variables of type int and String (Object cased to int and String), the delay is only happening with session variables of object type Serializable classes with getter and setter methods as shown in the example above (public class TestBean ...............){quote}

OK.  As I've mentioned several times on this thread, I was not able to reproduce your issue given the code in the jira description.  Please attach a full reproducer that demonstrates the problem.  Until then, I'm afraid I don't have sufficient information to identify the cause.","20/Apr/19 11:31 AM;pferraro;As I've said, I can't diagnose this further without more information.  Specifically, a reproducer.","25/Apr/19 1:56 AM;zidoff;Dear Paul

Moreover on the above, I noticed from the console log of Wildfly that the operations are running in different threads:
1-Execute Method2() (*Task2*) (thread-1)
2-Execute Method3() (*Task2*) (thread-1)
3-Execute Stm1 (*Task2*) (thread-1)
4-Execute response.sendredirect(""index.html""); (*Taks3*) (thread-2)

Best Regards","02/May/19 1:48 AM;zidoff;Hi Paul

Happy Easter, 
How can we move forward on the above?

Thanks and Best Regards","10/May/19 10:40 AM;zidoff;Hi Paul 

any update from your side?

Best Regards","10/May/19 11:32 AM;pferraro;{quote}Moreover on the above, I noticed from the console log of Wildfly that the operations are running in different threads:
1-Execute Method2() (Task2) (thread-1)
2-Execute Method3() (Task2) (thread-1)
3-Execute Stm1 (Task2) (thread-1)
4-Execute response.sendredirect(""index.html""); (Taks3) (thread-2)
{quote}

I'm not sure why this is surprising.  ServletResponse.sendRedirect() sends a 302 response back to the client, which sends a new request to the server which is inevitably handled by different thread than the previous request.

Locking isolation of the associated session ensure that the web session cache transaction is committed before the redirected request attempts to read the same session.  Unless you've modified the default Infinispan web cache configuration, dirty reads are not possible.","17/May/19 2:34 AM;zidoff;Dear Paul

I am not confused with the shifting to another thread when executing Response.sendRedirect; the main issue is that before executing response.sendredirect(""index.html""); in Method3 (); all the statements in Method1() after the call of Method2() should be executed (Stm1 and others if available).

Thanks a lot for usual support 

Best Regards","17/May/19 7:54 AM;pferraro;Using the default configuration, any changes to the HttpSession made during the a given request will be committed after the response is flushed.  So, in your example, these changes will not be visible to other threads until the commit is complete.  This is where REPEATABLE_READ isolation is important.  Any request for that same HttpSession will block until the previous commit completes.

Relaxing the isolation to READ_COMMITTED, would allow other threads to read the session before that commit completes, but these read wold be dirty.

Alternatively, you can disable cache transactions altogether, in which case, every write to the session will execute in a separate transaction.  This allows multiple threads to read and write to the session concurrently, using last write wins semantics.  It sounds like this better fits your application's expectations.","17/May/19 8:59 AM;pferraro;BTW - it's still unclear to me the extent to which you are storing EJBs in the session.
Comments [1] and [2] mention session beans and EJB configuration, but the code in the description does not contain any EJBs.  If TestBean is actually an EJB, I would be concerned, as EJBs are not meant to be instantiated like a normal java object.  Can you clarify?

[1] https://issues.jboss.org/browse/WFLY-11116?focusedCommentId=13720764&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13720764
[2] https://issues.jboss.org/browse/WFLY-11116?focusedCommentId=13720975&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13720975","17/May/19 9:10 AM;zidoff;Dear Paul

Running in parallel another thread after response.sendredirect(""index.html""); is causing the NPE issue described at the beginning of the current issue due to code flow. 

If you want we can close this issue WFLY-11116, and open another inquiry.

Best Regards","17/May/19 9:31 AM;pferraro;I understand your observation.  What I have not yet understood are the conditions that trigger the observation.  I've tried to compose a reproducer based on the code in the jira description, but was unable to observe the problem as described.  So, clearly I'm missing something in my reproducer, to fully capture your use case.  I've repeated asked for a reproducer, but as of yet, none has been provided.  Without the ability to reproduce the problem, I can't really address this issue beyond what I already have.","17/May/19 10:09 AM;zidoff;Hi Paul

I created another inquiry:
https://developer.jboss.org/message/989400#989400

Best regards","21/May/19 2:08 AM;zidoff;Dear Paul

I managed to create a code Template project using Eclipse where you can add a break point and debug with Tomcat and JBoss to detect the different behavior but I'm not able to upload it in the forum (.zip file); kindly advice if there's another way to share it?

Thanks and Best Regards","21/May/19 2:35 AM;zidoff;You can refer to the below link to download the code template project:

https://developer.jboss.org/message/989400#989400
","27/May/19 2:02 AM;zidoff;Hi Paul

any update from your side?

Best Regards","28/May/19 12:21 PM;pferraro;Great.  I'll take a look at your reproducer this week.","07/Jun/19 11:29 AM;zidoff;Hi Paul

Did you have the time to look into the reproducer, please don't hesitate to contact me for any clarifications.

Thanks in advance and best regards. ","08/Jun/19 9:20 AM;pferraro;I have - see the forum post for my comments.","02/Jul/19 8:55 AM;pferraro;I was finally able to reproduce this issue!","02/Jul/19 8:57 AM;pferraro;[~zidoff] WildFly 17.0.1.Final is due to be released this week.  Can you verify that this release solves your issue?"
IllegalStateException on server shutdown,WFLY-11437,12781425,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Duplicate Issue,jmesnil,ropalka,ropalka,28/Nov/18 4:08 PM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,29/Nov/18 2:40 AM,,,,,,15.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,"22:04:00,129 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000004: Failure during stop of service org.wildfly.extension.microprofile.metrics.http-context: java.lang.IllegalStateException
	at org.jboss.as.domain.http.server.ManagementHttpServer.removeContext(ManagementHttpServer.java:234)
	at org.jboss.as.server.mgmt.UndertowHttpManagementService$1.removeContext(UndertowHttpManagementService.java:144)
	at org.wildfly.extension.microprofile.metrics.MetricsContextService.stop(MetricsContextService.java:130)
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:1794)
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.execute(ServiceControllerImpl.java:1763)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1364)
	at java.lang.Thread.run(Thread.java:748)
",,,,,,,,,,,,,,,,,,,,,,WFLY-11387,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z01lrk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ServiceRegistry lookup of legacy SingletonServiceBuilderFactory throws UnsupportedOperationException,WFLY-10907,12766226,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,pferraro,pferraro,22/Aug/18 11:12 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,23/Aug/18 5:37 AM,14.0.0.Beta2,,,,,14.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"Legacy code will lookup a SingletonPolicy or SingletonServiceBuilderFactory using the deprecated ServiceController.awaitValue() or getValue() methods.  Services installed using the new MSC service installation API will throw an UnsupportedOperationException in this case.  Consequently, the services providing the legacy implementations of these deprecated APIs need to be installed using the deprecated MSC API to prevent migrated applications from unexpected UnsupportedOperationExceptions.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:30.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11560,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i0074f:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UnsupportedOperationException thrown during start if CredentialReference is used in messaging-activemq subsystem,WFLY-10985,12768476,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,ehugonnet,mnovak,mnovak,06/Sep/18 8:05 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,21/Sep/18 5:12 AM,14.0.0.Final,,,,,14.0.1.Final,,,JMS,,,,,,,,,,,0,,,,,"If messaging subsystem is referencing elytron's credential store like in:
{code}
               <bridge name=""myBridge"" queue-name=""jms.queue.InQueue"" forwarding-address=""jms.queue.OutQueue"" ha=""true"" reconnect-attempts=""-1"" use-duplicate-detection=""true"" user=""johnOut"" static-connectors=""bridge-connector"">
                    <credential-reference store=""bridge-cs001"" alias=""john_out_alias_wrong""/>
                </bridge>
{code}

then during start server throws exception:

{code}
12:49:04,367 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 66) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""messaging-activemq""),
    (""server"" => ""default"")
]): java.lang.UnsupportedOperationException
	at org.jboss.msc.service.ServiceBuilderImpl.addDependency(ServiceBuilderImpl.java:409)
	at org.jboss.msc.service.DelegatingServiceBuilder.addDependency(DelegatingServiceBuilder.java:147)
	at org.jboss.as.controller.security.CredentialReference.getCredentialSourceSupplier(CredentialReference.java:323)
	at org.wildfly.extension.messaging.activemq.ServerAdd.addBridgeCredentialStoreReference(ServerAdd.java:732)
	at org.wildfly.extension.messaging.activemq.ServerAdd.access$200(ServerAdd.java:175)
	at org.wildfly.extension.messaging.activemq.ServerAdd$2.execute(ServerAdd.java:439)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:384)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}

Attaching standalone-full-ha.xml with which is possible to reproduce the issue.",,,,,,,,,,,,,,,WFCORE-4090,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/18 8:38 AM;mnovak;bridge-cs001.jceks;https://issues.redhat.com/secure/attachment/12440276/bridge-cs001.jceks","06/Sep/18 8:06 AM;mnovak;standalone-full-ha.xml;https://issues.redhat.com/secure/attachment/12440179/standalone-full-ha.xml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-07 04:39:50.0,,,,,,,,,,,,,,,,,,,,,,,,,,2.0,3.0,,,,,,,,,,"1|w001zc:",9223372036854775807,,0.0,,,,,"*Steps to reproduce:*
{code}
git clone git://git.app.eng.bos.redhat.com/jbossqe/eap-tests-hornetq.git
cd eap-tests-hornetq/scripts/
git checkout eap7.2.x-artemis2.x-ha-jdbc
groovy -DEAP_ZIP_URL=https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/eap-7.x-messaging-testing-prepare/362/artifact/jboss-eap.zip PrepareServers7.groovy
export WORKSPACE=$PWD
export JBOSS_HOME_1=$WORKSPACE/server1/jboss-eap
export JBOSS_HOME_2=$WORKSPACE/server2/jboss-eap
export JBOSS_HOME_3=$WORKSPACE/server3/jboss-eap
export JBOSS_HOME_4=$WORKSPACE/server4/jboss-eap

cd ../jboss-hornetq-testsuite/

mvn clean test -Dtest=CoreBridgeCredentialStoreTestCase#testCredentialReferenceAlias -Deap7.org.jboss.qa.hornetq.apps.clients.version=7.1534928425-SNAPSHOT -DfailIfNoTests=false -Deap=7x | tee log
{code}",,,,,,,,,,,"07/Sep/18 4:39 AM;ehugonnet;Be careful to have the alias added to the credential store 

/subsystem=elytron/credential-store=bridge-cs001:add(relative-to=jboss.server.data.dir, location=bridge-cs001.jceks,create=true,credential-reference={clear-text=pass123})
 /subsystem=elytron/credential-store=bridge-cs001:add-alias(alias=john_out_alias_wrong, entry-type=org.wildfly.security.credential.PasswordCredential,secret-value=pass123)

before adding the bridge

","10/Sep/18 3:40 AM;mnovak;[~ehugonnet] I've checked your fix for WFCORE-4090 and reproducer is passing. :-)","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Server fails to shutdown when using JGroups encryption,WFLY-10917,12766617,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,tommaso-borgato,tommaso-borgato,24/Aug/18 8:51 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 5:56 PM,14.0.0.Final,,,,,14.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"Affected scenario is {{[perflab_eap-7x-failover-http-session-shutdown-dist-async-auth-asymEncrypt|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-shutdown-dist-async-auth-asymEncrypt/]}}: it is a 4 nodes fail-over scenario where JGroups communication is encrypted asymmetrically:

{noformat}
        <subsystem xmlns=""urn:jboss:domain:jgroups:6.0"" default-stack=""udp"">
            <channels default=""ee"">
                <channel name=""ee"" stack=""udp"" cluster=""ejb""/>
            </channels>
            <stacks>
                <stack name=""udp"">
                    <transport type=""UDP"" socket-binding=""jgroups-udp""/>
                    <protocol type=""PING""/>
                    <protocol type=""MERGE3""/>
                    <protocol type=""FD_SOCK""/>
                    <protocol type=""FD_ALL""/>
                    <protocol type=""VERIFY_SUSPECT""/>
                    <protocol type=""ASYM_ENCRYPT"" xmlns="""">
                       <property name=""encrypt_entire_message"">true</property>
                       <property name=""sym_keylength"">128</property>
                       <property name=""sym_algorithm"">AES/ECB/PKCS5Padding</property>
                       <property name=""asym_keylength"">512</property>
                       <property name=""asym_algorithm"">RSA</property>
                    </protocol>
                    <protocol type=""pbcast.NAKACK2""/>
                    <protocol type=""UNICAST3""/>
                    <protocol type=""pbcast.STABLE""/>
                    <protocol type=""AUTH"" xmlns="""">
                      <property name=""auth_class"">org.jgroups.auth.MD5Token</property>
                      <property name=""auth_value"">MyPassword</property>
                      <property name=""token_hash"">MD5</property>
                    </protocol>
                    <protocol type=""pbcast.GMS""/>
                    <protocol type=""UFC""/>
                    <protocol type=""MFC""/>
                    <protocol type=""FRAG3""/>
                </stack>
                <stack name=""tcp"">
                    <transport type=""TCP"" socket-binding=""jgroups-tcp""/>
                    <socket-protocol type=""MPING"" socket-binding=""jgroups-mping""/>
                    <protocol type=""MERGE3""/>
                    <protocol type=""FD_SOCK""/>
                    <protocol type=""FD_ALL""/>
                    <protocol type=""VERIFY_SUSPECT""/>
                    <protocol type=""pbcast.NAKACK2""/>
                    <protocol type=""UNICAST3""/>
                    <protocol type=""pbcast.STABLE""/>
                    <protocol type=""pbcast.GMS""/>
                    <protocol type=""MFC""/>
                    <protocol type=""FRAG3""/>
                </stack>
            </stacks>
        </subsystem>
{noformat}

The problem is that, after one node of the cluster is shut down and restarted, the remaining nodes fail to shut-down gracefully and their JVM has to be killed.
The default shut-down waiting time is 1 minute: it has been extended to 5 but the nodes still fail to shut-down even in 5 minutes.

Find attached:
- the complete log of one node failing to shut-down (17293.log)
- the thread dump of this node just before being killed (after a 5 minutes time-out) (perf20-consoleText.txt)

The server logs messages like the following (as in JGRP-2282):

{noformat}
[JBossINF] [0m[31m05:36:35,687 ERROR [org.jgroups.protocols.ASYM_ENCRYPT] (thread-14,ejb,perf20) perf20: received message without encrypt header from perf21; dropping it
[JBossINF] [0m[31m05:36:36,668 ERROR [org.jgroups.protocols.ASYM_ENCRYPT] (thread-14,ejb,perf20) perf20: received message without encrypt header from perf21; dropping it
[JBossINF] [0m[31m05:36:36,879 ERROR [org.jgroups.protocols.ASYM_ENCRYPT] (thread-14,ejb,perf20) perf20: received message without encrypt header from perf18; dropping it
{noformat}

before failing to shut-down.

",,,,,,,,,,,,,,,,,,,,,,,,JBEAP-14477,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Aug/18 8:51 AM;tommaso-borgato;17293.log;https://issues.redhat.com/secure/attachment/12439736/17293.log","24/Aug/18 8:51 AM;tommaso-borgato;perf20-consoleText.txt;https://issues.redhat.com/secure/attachment/12439737/perf20-consoleText.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-24 14:11:47.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11583,,,,,,,,,,,,,,,,2.0,2.0,,,,,,,,,,"1|i009dz:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"24/Aug/18 2:11 PM;pferraro;OK - so the fundamental issue is that CompletableFuture.join() is never safe for use with the CommandDispatcher.  If the message containing the request for which we are waiting for a response is dropped, join() never returns.  This condition should be handled by waiting no longer than a given timeout.","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Align jar file provided for MP OpenTracing into right modules,WFLY-10876,12765111,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jamezp,jstourac,jstourac,16/Aug/18 9:36 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,28/Aug/18 10:38 AM,14.0.0.Beta2,,,,,14.0.0.Final,,,MP OpenTracing,,,,,,,,,,,0,,,,,"With recent addition of MicroProfile OpenTracing implementation we currently have following set of jar files that are in the build to provide various MicroProfile features:
{code}
$ find modules | grep smallrye | grep jar$ | xargs ls -hl
-rw-rw-r--. 1 jstourac jstourac  39K Aug 16 15:13 modules/system/layers/base/io/smallrye/config/main/smallrye-config-1.3.3.jar
-rw-rw-r--. 1 jstourac jstourac 8.9K Aug 16 15:13 modules/system/layers/base/io/smallrye/health/main/smallrye-health-1.0.2.jar
-rw-rw-r--. 1 jstourac jstourac  38K Aug 16 15:13 modules/system/layers/base/org/wildfly/extension/microprofile/config-smallrye/main/wildfly-microprofile-config-smallrye-14.0.0.CR1-SNAPSHOT.jar
-rw-rw-r--. 1 jstourac jstourac  27K Aug 16 15:13 modules/system/layers/base/org/wildfly/extension/microprofile/health-smallrye/main/wildfly-microprofile-health-smallrye-14.0.0.CR1-SNAPSHOT.jar
-rw-rw-r--. 1 jstourac jstourac 228K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/gson-2.8.2.jar
-rw-rw-r--. 1 jstourac jstourac 123K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/jaeger-core-0.30.4.jar
-rw-rw-r--. 1 jstourac jstourac 2.8M Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/jaeger-thrift-0.30.4.jar
-rw-rw-r--. 1 jstourac jstourac  14K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-api-0.31.0.jar
-rw-rw-r--. 1 jstourac jstourac 7.5K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-concurrent-0.1.0.jar
-rw-rw-r--. 1 jstourac jstourac  41K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-jaxrs2-0.1.6.jar
-rw-rw-r--. 1 jstourac jstourac  11K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-noop-0.31.0.jar
-rw-rw-r--. 1 jstourac jstourac 7.4K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-tracerresolver-0.1.5.jar
-rw-rw-r--. 1 jstourac jstourac 7.9K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-util-0.31.0.jar
-rw-rw-r--. 1 jstourac jstourac  13K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-web-servlet-filter-0.1.0.jar
-rw-rw-r--. 1 jstourac jstourac 5.4K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/smallrye-opentracing-1.1.1.jar
-rw-rw-r--. 1 jstourac jstourac  11K Aug 16 15:13 modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/wildfly-microprofile-opentracing-smallrye-14.0.0.CR1-SNAPSHOT.jar
{code}

It looks like the opentracing-smallrye module could be split up into a few separate modules. There at least two motivations:
# particular implementation into its own module separate from the e.g. microprofile specification
# because of the way how current patching mechanism works in WildFly, if we leave current {{opentracing-smallrye}} module as is, in case of a one-off patch it would mean to replace all files in the module - currently 3.3MB:
{code}
$ du -h modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/
3.3M	modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/
{code}

My proposal how to align the jar files is following:
# jaeger specific files should go into separate jaeger module
# {{wildfly-microprofile-opentracing-smallrye-14.0.0.CR1-SNAPSHOT.jar}} should be moved to  new {{modules/system/layers/base/org/wildfly/extension/microprofile/opentracing-smallrye}} module so it matches what is done for {{health-smallrye}} and {{config-smallrye}} in extension subdir
# {{smallrye-opentracing-1.1.1.jar}} should be moved to {{base/io}} as is done for {{config}} and {{health}} - {{modules/system/layers/base/io/smallrye/opentracing/main/smallrye-opentracing-1.1.1.jar}}
# what about that {{gson-2.8.2.jar}} dependency? Shall it be moved to some more generic place?

This would give us following structure:
{code}
modules/system/layers/base/io/smallrye/config/main/smallrye-config-1.3.3.jar
modules/system/layers/base/io/smallrye/health/main/smallrye-health-1.0.2.jar
modules/system/layers/base/io/smallrye/opentracing/main/smallrye-opentracing-1.1.1.jar
modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-api-0.31.0.jar
modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-jaxrs2-0.1.6.jar
modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-concurrent-0.1.0.jar
modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-web-servlet-filter-0.1.0.jar
modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-noop-0.31.0.jar
modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-tracerresolver-0.1.5.jar
modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/opentracing-util-0.31.0.jar
modules/system/layers/base/org/wildfly/extension/microprofile/health-smallrye/main/wildfly-microprofile-health-smallrye-14.0.0.CR1-SNAPSHOT.jar
modules/system/layers/base/org/wildfly/extension/microprofile/config-smallrye/main/wildfly-microprofile-config-smallrye-14.0.0.CR1-SNAPSHOT.jar
modules/system/layers/base/org/wildfly/extension/microprofile/opentracing-smallrye/main/wildfly-microprofile-opentracing-smallrye-14.0.0.CR1-SNAPSHOT.jar

---- I have no idea how this module for jaeger should be named...
modules/system/layers/base/org/wildfly/microprofile/jaeger/opentracing-smallrye/main/jaeger-thrift-0.30.4.jar
modules/system/layers/base/org/wildfly/microprofile/jaeger/opentracing-smallrye/main/jaeger-core-0.30.4.jar

---- I have no idea how this module for gson should be named...
modules/system/layers/base/org/wildfly/gson/main/gson-2.8.2.jar
{code}

One additional piece for consideration - maybe we should also split up jar files that are just the microprofile-opentracing specification (api at least I guess) apart from the others in the {{modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/}}

What do you think?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-16 09:42:09.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11572,,,,,,,,,,,,,,,,0.0,14.0,,,,,,,,,,"1|i000sf:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"16/Aug/18 9:42 AM;juraci.costa;The first draft of the subsystem had indeed a more granular set of modules, but I ran into CDI problems. Perhaps I'll be able to solve them now that I got a base working.

In any case, I don't think the following is desirable:

{quote}
wildfly-microprofile-opentracing-smallrye-14.0.0.CR1-SNAPSHOT.jar should be moved to new modules/system/layers/base/org/wildfly/extension/microprofile/opentracing-smallrye module so it matches what is done for health-smallrye and config-smallrye in extension subdir
{quote}

During the review, I was explicitly asked to keep the code that is added to the deployment away from the extension code: https://github.com/wildfly/wildfly/pull/11454#discussion_r207984046","16/Aug/18 12:10 PM;juraci.costa;I did a draft that implements some of the ideas from here, but I got the CDI problem back. I'll then need some help from someone knowledgeable in JBoss Modules and/or Weld. Who would you recommend contacting?

I get the following exception:

{code}
Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type Tracer with qualifiers @Default
  at injection point [UnbackedAnnotatedField] @Inject private io.smallrye.opentracing.SmallRyeTracingCDIInterceptor.tracer
  at io.smallrye.opentracing.SmallRyeTracingCDIInterceptor.tracer(SmallRyeTracingCDIInterceptor.java:0)
{code}

Simplifying things a bit, this is how the dependency looks like in terms of JBoss Modules:

{code}
org.wildfly.extension.microprofile.opentracing depends on:
-- io.smallrye.opentracing (contains SmallRyeTracingCDIInterceptor)
-- org.wildfly.microprofile.opentracing-smallrye (with @Produces for the Tracer)
---- also depends on io.smallrye.opentracing, because of the JAX-RS 
{code}

org.wildfly.microprofile.opentracing-smallrye is added to the deployment via a DeploymentUnitProcessor (called TracingDependencyProcessor)

I also tried to add ""io.smallrye.opentracing"" to the deployment as well, but with no luck.

Here's a branch with a draft for this JIRA: https://github.com/jpkrohling/wildfly/tree/WFLY-10876-Align-modules-with-other-MP","17/Aug/18 1:23 PM;jamezp;I still wonder if we should have a {{io.opentracing.*}} modules for each of the opentracing dependencies rather than including them in the {{io.smallrye.opentracing}} module. I'll have to look in more detail about how these dependencies relate though.","20/Aug/18 4:02 AM;juraci.costa;[~jamezp], we absolutely could and probably should. Its just that I stopped when the first split broke the feature and I couldn't get it working on this new setup. If you could help be get unblocked by that issue, I can continue splitting the modules.","21/Aug/18 9:59 AM;juraci.costa;[~jamezp], could you recommend someone with knowledge about JBoss Modules and CDI to assist me on this? I'm not sure what else to try for this one.","21/Aug/18 11:42 AM;jamezp;[~juraci.costa] I may have time to have a look. I'm not a CDI expert, but I think we should be able to figure it out.","23/Aug/18 12:35 AM;jamezp;[~juraci.costa] I've got it mostly done here https://github.com/wildfly/wildfly/compare/master...jamezp:WFLY-10876. However 2 tests fail.
{code}
[ERROR] Failures: 
[ERROR]   ResourceWithCDITestCase.tracedEndpointYieldsSpan:61 expected:<3> but was:<1>
[ERROR]   ResourceWithCustomOperationNameBeanTestCase.customOperationName:64 expected:<3> but was:<1>
{code}

It looks like the {{MockSpan}} isn't being invoked for each method call in a {{@Traced}} class.","23/Aug/18 5:04 AM;jstourac;Note that {{gson}} dependency is moved to its own module by [this MR|https://github.com/wildfly/wildfly/pull/11556].","23/Aug/18 7:34 AM;juraci.costa;{quote}
However 2 tests fail.
{quote}

This happens because the SmallRyeTracingCDIInterceptor isn't kicking in. This is installed by the TracingCDIExtension, but the relevant code was removed in the feature branch. Reinstating that code yields the original problem I was having:

{code}
Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type Tracer with qualifiers @Default
  at injection point [UnbackedAnnotatedField] @Inject private io.smallrye.opentracing.SmallRyeTracingCDIInterceptor.tracer
  at io.smallrye.opentracing.SmallRyeTracingCDIInterceptor.tracer(SmallRyeTracingCDIInterceptor.java:0)
{code}
","23/Aug/18 11:35 AM;jamezp;[~juraci.costa] Yeah that's why I removed it and added the {{beans.xml}}. Maybe [~mkouba] has an idea on why this might be happening. I don't recall what I did, but at some point I was getting WELD-001409 as well that let me to https://github.com/wildfly-extras/wildfly-microprofile-config/issues/26.

{code}
2018-08-23 08:30:08,468 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service jboss.deployment.unit.""54762f9d-c343-47ec-acd1-b8c6046a42dc.war"".WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.""54762f9d-c343-47ec-acd1-b8c6046a42dc.war"".WeldStartService: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1728)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type Tracer with qualifiers @Default
  at injection point [UnbackedAnnotatedField] @Inject private io.smallrye.opentracing.SmallRyeTracingCDIInterceptor.tracer
  at io.smallrye.opentracing.SmallRyeTracingCDIInterceptor.tracer(SmallRyeTracingCDIInterceptor.java:0)

	at org.jboss.weld.bootstrap.Validator.validateInjectionPointForDeploymentProblems(Validator.java:378)
	at org.jboss.weld.bootstrap.Validator.validateInjectionPoint(Validator.java:290)
	at org.jboss.weld.bootstrap.Validator.validateInterceptor(Validator.java:564)
	at org.jboss.weld.bootstrap.ConcurrentValidator$2.doWork(ConcurrentValidator.java:81)
	at org.jboss.weld.bootstrap.ConcurrentValidator$2.doWork(ConcurrentValidator.java:79)
	at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:62)
	at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:55)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}","23/Aug/18 11:52 AM;jamezp;Okay I got the WELD-001409 back. I needed to export the {{io.smallrye.opentracing}} module which makes sense. I've pushed up my changes. Maybe [~mkouba] will have time to take a quick look.

{code}
2018-08-23 08:49:49,203 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service jboss.deployment.unit.""68095994-e42f-465c-93c9-738780c405c3.war"".WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.""68095994-e42f-465c-93c9-738780c405c3.war"".WeldStartService: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1728)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001409: Ambiguous dependencies for type Tracer with qualifiers @Default
  at injection point [BackedAnnotatedField] @Inject org.jboss.as.test.integration.microprofile.opentracing.BasicOpenTracingTestCase.tracer
  at org.jboss.as.test.integration.microprofile.opentracing.BasicOpenTracingTestCase.tracer(BasicOpenTracingTestCase.java:0)
  Possible dependencies: 
  - Producer Method [Tracer] with qualifiers [@Any @Default] declared as [[UnbackedAnnotatedMethod] @Produces public org.wildfly.microprofile.opentracing.smallrye.TracerProducer.getTracer()],
  - Producer Method [Tracer] with qualifiers [@Any @Default] declared as [[BackedAnnotatedMethod] @Produces public org.wildfly.microprofile.opentracing.smallrye.TracerProducer.getTracer()]

	at org.jboss.weld.bootstrap.Validator.validateInjectionPointForDeploymentProblems(Validator.java:386)
	at org.jboss.weld.bootstrap.Validator.validateInjectionPoint(Validator.java:290)
	at org.jboss.weld.bootstrap.Validator.validateGeneralBean(Validator.java:143)
	at org.jboss.weld.bootstrap.Validator.validateRIBean(Validator.java:164)
	at org.jboss.weld.bootstrap.Validator.validateBean(Validator.java:526)
	at org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:64)
	at org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:62)
	at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:62)
	at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:55)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}","23/Aug/18 6:41 PM;jamezp;I've figured it out. I'm not sure if it's the best solution or not, but essentially the {{io.smallrye.opentracing}} module needs a dependency on {{org.wildfly.microprofile.opentracing-smallrye}} since that's where the extension lives. This does create a circular dependency which could be a little weird, but seems to work. I'll submit a PR soon for further discussion.","24/Aug/18 9:50 AM;jstourac;Note, with [the PR|https://github.com/wildfly/wildfly/pull/11577] new structure of the files mentioned in this issue is following and looks okay now:
{code}
$ for file in gson-*.jar jaeger-core-*.jar jaeger-thrift-*.jar opentracing-api-*.jar opentracing-concurrent-*.jar opentracing-jaxrs2-*.jar opentracing-noop-*.jar opentracing-tracerresolver-*.jar opentracing-util-*.jar opentracing-web-servlet-filter-*.jar smallrye-opentracing-*.jar wildfly-microprofile-opentracing-smallrye-*.jar; do find . -name ""$file""; done
./system/layers/base/com/google/code/gson/main/gson-2.8.2.jar
./system/layers/base/io/jaegertracing/jaeger-core/main/jaeger-core-0.30.6.jar
./system/layers/base/io/jaegertracing/jaeger-thrift/main/jaeger-thrift-0.30.6.jar
./system/layers/base/io/opentracing/opentracing-api/main/opentracing-api-0.31.0.jar
./system/layers/base/io/opentracing/contrib/opentracing-concurrent/main/opentracing-concurrent-0.1.0.jar
./system/layers/base/io/opentracing/contrib/opentracing-jaxrs2/main/opentracing-jaxrs2-0.1.7.jar
./system/layers/base/io/opentracing/opentracing-noop/main/opentracing-noop-0.31.0.jar
./system/layers/base/io/opentracing/contrib/opentracing-tracerresolver/main/opentracing-tracerresolver-0.1.5.jar
./system/layers/base/io/opentracing/opentracing-util/main/opentracing-util-0.31.0.jar
./system/layers/base/io/opentracing/contrib/opentracing-web-servlet-filter/main/opentracing-web-servlet-filter-0.1.0.jar
./system/layers/base/io/smallrye/opentracing/main/smallrye-opentracing-1.1.1.jar
./system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/wildfly-microprofile-opentracing-smallrye-14.0.0.CR1-SNAPSHOT.jar
{code}","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EAR (WAR + EJB JAR) fails to be deployed with CNFE from open tracing,WFLY-11432,12781347,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,manovotn,jstourac,jstourac,28/Nov/18 8:38 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,30/Nov/18 4:59 PM,14.0.0.Final,15.0.0.Beta1,,,,15.0.0.Final,,,MP OpenTracing,,,,,,,,,,,0,,,,,"Upon deployment of an example app from weld examples, there is CNFE from open tracing during the deployment of an EAR (WAR + EJB JAR) artifact. [~manovotn] has already done some investigation and sent his findings to [wildfly-dev mailing list|http://lists.jboss.org/pipermail/wildfly-dev/2018-November/006716.html].

Problematic Weld example test is [this one|https://github.com/weld/core/blob/master/examples/jsf/translator/ftest/src/ftest/java/org/jboss/weld/examples/translator/ftest/TranslatorTest.java].
{code}
2018-11-28 14:35:36,063 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service jboss.deployment.unit.""weld-translator.ear"".WeldStartService: org.jboss.msc.service.StartException in service jboss.deployment.unit.""weld-translator.ear"".WeldStartService: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1728)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.weld.resources.spi.ResourceLoadingException: Error while loading class org.wildfly.microprofile.opentracing.smallrye.TracerProducer$Proxy$_$$_WeldSubclass
	at org.jboss.weld.resources.ClassTransformer.getBackedAnnotatedType(ClassTransformer.java:186)
	at org.jboss.weld.resources.ClassTransformer.getBackedAnnotatedType(ClassTransformer.java:194)
	at org.jboss.weld.resources.ClassTransformer.getEnhancedAnnotatedType(ClassTransformer.java:232)
	at org.jboss.weld.injection.producer.SubclassedComponentInstantiator.initEnhancedSubclass(SubclassedComponentInstantiator.java:86)
	at org.jboss.weld.injection.producer.SubclassedComponentInstantiator.<init>(SubclassedComponentInstantiator.java:79)
	at org.jboss.weld.injection.producer.SubclassedComponentInstantiator.forInterceptedDecoratedBean(SubclassedComponentInstantiator.java:63)
	at org.jboss.weld.injection.producer.BeanInjectionTarget.initializeAfterBeanDiscovery(BeanInjectionTarget.java:121)
	at org.jboss.weld.injection.producer.InjectionTargetInitializationContext.initialize(InjectionTargetInitializationContext.java:42)
	at org.jboss.weld.injection.producer.InjectionTargetService.initialize(InjectionTargetService.java:63)
	at org.jboss.weld.bootstrap.WeldStartup.deployBeans(WeldStartup.java:475)
	at org.jboss.weld.bootstrap.WeldBootstrap.deployBeans(WeldBootstrap.java:86)
	at org.jboss.as.weld.WeldStartService.start(WeldStartService.java:97)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1736)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1698)
	... 6 more
Caused by: java.lang.NoClassDefFoundError: io/opentracing/Tracer
	at java.lang.Class.getDeclaredMethods0(Native Method)
	at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)
	at java.lang.Class.getDeclaredMethods(Class.java:1975)
	at org.jboss.weld.annotated.slim.backed.SecurityActions.getDeclaredMethods(SecurityActions.java:41)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedMethods.computeValue(BackedAnnotatedType.java:197)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedMethods.computeValue(BackedAnnotatedType.java:191)
	at org.jboss.weld.util.LazyValueHolder.get(LazyValueHolder.java:46)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$EagerlyInitializedLazyValueHolder.<init>(BackedAnnotatedType.java:159)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedMethods.<init>(BackedAnnotatedType.java:191)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedMethods.<init>(BackedAnnotatedType.java:191)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType.<init>(BackedAnnotatedType.java:66)
	at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType.of(BackedAnnotatedType.java:47)
	at org.jboss.weld.resources.ClassTransformer$TransformClassToBackedAnnotatedType.apply(ClassTransformer.java:84)
	at org.jboss.weld.resources.ClassTransformer$TransformClassToBackedAnnotatedType.apply(ClassTransformer.java:79)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.lambda$null$0(ReentrantMapBackedComputingCache.java:55)
	at org.jboss.weld.util.WeakLazyValueHolder$1.computeValue(WeakLazyValueHolder.java:35)
	at org.jboss.weld.util.WeakLazyValueHolder.get(WeakLazyValueHolder.java:53)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getValue(ReentrantMapBackedComputingCache.java:72)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getCastValue(ReentrantMapBackedComputingCache.java:78)
	at org.jboss.weld.resources.ClassTransformer.getBackedAnnotatedType(ClassTransformer.java:177)
	... 19 more
Caused by: java.lang.ClassNotFoundException: io.opentracing.Tracer from [Module ""deployment.weld-translator.ear"" from Service Module Loader]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	... 39 more

2018-11-28 14:35:36,073 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""add"") failed - address: ([(""deployment"" => ""weld-translator.ear"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""weld-translator.ear\"".WeldStartService"" => ""Failed to start service
    Caused by: org.jboss.weld.resources.spi.ResourceLoadingException: Error while loading class org.wildfly.microprofile.opentracing.smallrye.TracerProducer$Proxy$_$$_WeldSubclass
    Caused by: java.lang.NoClassDefFoundError: io/opentracing/Tracer
    Caused by: java.lang.ClassNotFoundException: io.opentracing.Tracer from [Module \""deployment.weld-translator.ear\"" from Service Module Loader]""}}
2018-11-28 14:35:36,076 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment ""weld-translator.ear"" was rolled back with the following failure message: 
{""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""weld-translator.ear\"".WeldStartService"" => ""Failed to start service
    Caused by: org.jboss.weld.resources.spi.ResourceLoadingException: Error while loading class org.wildfly.microprofile.opentracing.smallrye.TracerProducer$Proxy$_$$_WeldSubclass
    Caused by: java.lang.NoClassDefFoundError: io/opentracing/Tracer
    Caused by: java.lang.ClassNotFoundException: io.opentracing.Tracer from [Module \""deployment.weld-translator.ear\"" from Service Module Loader]""}}
{code}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-30 03:46:19.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11902,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01lbs:",9223372036854775807,,0.0,,,,,"{code}
git clone git@github.com:weld/core.git
cd core/examples
JBOSS_HOME=<PATH_TO_JBOSS_HOME>  mvn verify -Darquillian=wildfly-managed -Dtest=TranslatorTest -DfailIfNoTests=false
{code}",,,,,,,,,,,"30/Nov/18 3:46 AM;manovotn;[~jstourac] PR is provided, if you feel like this should target  CR1 release, please set the fix version accordingly.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Performance issue in audit endpoints,WFLY-10987,12768579,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,dlofthouse,honza889,honza889,06/Sep/18 6:47 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,15/Oct/18 8:27 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Documentation,Security,,,,,,,,,,0,,,,,"Synchronization in audit endpoint implementations leads to a great performance drop.
We see the issue in {{FileAuditEndpoint.accept(EventPriority, String)}}, but similar code is also in the {{SyslogAuditEndpoint}}.

Check the attached recording (FlightRecorder) in jmc (Java Mission Control).

It can be seen in these tabs
- Threads > Contention
- Threads > Thread Dumps
- Threads > Lock Instances",,,,,,,,,,,,,WFCORE-3404,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:29.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11649,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|w002lk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quickstart jaxws-retail illegal access warning with JDK11,WFLY-11044,12770589,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,emmartins,jbliznak,jbliznak,20/Sep/18 6:04 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,16/Oct/18 1:37 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"the `jaxws-retail` quickstart executed on JDK11 as:
{noformat}
mvn clean install wildfly:deploy -Dmaven.compiler.target=11 -Dmaven.compiler.source=11 -Dmaven.test.failure.ignore=true
{noformat}

now throws:
{code:java}
[ERROR] WARNING: An illegal reflective access operation has occurred
[ERROR] WARNING: Illegal reflective access by com.sun.xml.bind.v2.runtime.reflect.opt.Injector (file:/home/jbliznak/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.0/jaxb-runtime-2.3.0.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int)
[ERROR] WARNING: Please consider reporting this to the maintainers of com.sun.xml.bind.v2.runtime.reflect.opt.Injector
[ERROR] WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
[ERROR] WARNING: All illegal access operations will be denied in a future release
{code}

The problematic part is in JAXB component. There is a new version of JAXb that is fixing this https://github.com/javaee/jaxb-v2/releases/tag/2.3.1 (comit https://github.com/javaee/jaxb-v2/commit/9805bc91473a9f4dee95e7192998a5bbb61350f2) but it is not in maven central yet (https://github.com/javaee/jaxb-v2/issues/1213#issuecomment-422717074).
The fix for the quickstart is to use either new version of jbossws-cxf-client consuming this new JAXB version or explicit dependency to new JAXB in quickstart itself.",,,,,,,,,,,,,,,WFLY-11113,,,,,,,,,JBWS-4139,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-15 18:56:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|y00838:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"15/Oct/18 6:56 PM;emmartins;Once WFLY-11113 is resolved we will sync dependency management with server.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ejb-remote quickstart fat client jar is not multi-release,WFLY-11035,12770246,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,mjurc,mjurc,mjurc,18/Sep/18 9:29 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,18/Sep/18 3:40 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"The quickstart client application's instructions in section {{Build and Run The Quickstart as an Executable JAR}} currently don't seem to work on JDK11 as running the executable jar results in CNFE:
{code:title=[mjurc@tigris client]$ java -jar target/ejb-remote-client-jar-with-dependencies.jar
}Sep 17, 2018 12:02:01 PM org.wildfly.naming.client.Version <clinit>
INFO: WildFly Naming version 1.0.9.Final
Sep 17, 2018 12:02:01 PM org.wildfly.security.Version <clinit>
INFO: ELY00001: WildFly Elytron version 1.6.0.Final
Sep 17, 2018 12:02:01 PM org.xnio.Xnio <clinit>
INFO: XNIO version 3.6.5.Final
Sep 17, 2018 12:02:01 PM org.xnio.nio.NioXnio <clinit>
INFO: XNIO NIO Implementation Version 3.6.5.Final
Sep 17, 2018 12:02:01 PM org.jboss.threads.Version <clinit>
INFO: JBoss Threads version 2.3.2.Final
Sep 17, 2018 12:02:02 PM org.jboss.remoting3.EndpointImpl <clinit>
INFO: JBoss Remoting version 5.0.8.Final
Sep 17, 2018 12:02:02 PM org.jboss.ejb.client.EJBClient <clinit>
INFO: JBoss EJB Client version 4.0.11.Final
Exception in thread ""main"" java.lang.NoClassDefFoundError: org/jboss/marshalling/JDKSpecific$1
	at org.jboss.marshalling.JDKSpecific.<clinit>(JDKSpecific.java:35)
	at org.jboss.marshalling.FieldSetter.get(FieldSetter.java:217)
	at org.jboss.ejb.client.EJBMethodLocator.<clinit>(EJBMethodLocator.java:43)
	at org.jboss.ejb.client.EJBProxyInformation$1.doCompute(EJBProxyInformation.java:140)
	at org.jboss.ejb.client.EJBProxyInformation$1.computeValue(EJBProxyInformation.java:72)
	at org.jboss.ejb.client.EJBProxyInformation$1.computeValue(EJBProxyInformation.java:66)
	at java.base/java.lang.ClassValue.getFromHashMap(ClassValue.java:226)
	at java.base/java.lang.ClassValue.getFromBackup(ClassValue.java:208)
	at java.base/java.lang.ClassValue.get(ClassValue.java:114)
	at org.jboss.ejb.client.EJBProxyInformation.forViewType(EJBProxyInformation.java:242)
	at org.jboss.ejb.client.EJBLocator.getProxyInformation(EJBLocator.java:375)
	at org.jboss.ejb.client.EJBLocator.getProxyConstructor(EJBLocator.java:370)
	at org.jboss.ejb.client.EJBLocator.createProxyInstance(EJBLocator.java:387)
	at org.jboss.ejb.client.EJBClient.createProxy(EJBClient.java:161)
	at org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:163)
	at org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)
	at org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)
	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
	at org.jboss.as.quickstarts.ejb.remote.client.RemoteEJBClient.lookupRemoteStatelessCalculator(RemoteEJBClient.java:141)
	at org.jboss.as.quickstarts.ejb.remote.client.RemoteEJBClient.invokeStatelessBean(RemoteEJBClient.java:53)
	at org.jboss.as.quickstarts.ejb.remote.client.RemoteEJBClient.main(RemoteEJBClient.java:40)
Caused by: java.lang.ClassNotFoundException: org.jboss.marshalling.JDKSpecific$1
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	... 21 more{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:23.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/298,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y00638:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
mod_cluster custom load metrics fail to load,WFLY-11033,12770061,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,rhusar,jkasik,jkasik,17/Sep/18 9:47 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Dec/18 12:16 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,mod_cluster,,,,,,,,,,,0,,,,,"This message shows up if I try to define module attribute for 'custom-load-metric'. It doesn't make sense, since it says both, that 'module' attribute is and isn't allowed. This also means, that the module attribute is not usable.
{code}
OPVDX001: Validation error in standalone-ha.xml --------------------------------
|
|  448: <proxy name=""default"" advertise-socket=""modcluster"" auto-enable-contexts=""true"" listener=""ajp"">
|  449:     <dynamic-load-provider>
|  450:         <custom-load-metric class=""biz.karms.modcluster.CustomLoadMetric"" module=""org.jboss.mod_cluster"" weight=""1"" capacity=""1000.0"">
|                                                                                 ^^^^ 'module' isn't an allowed attribute for the 'custom-load-metric'
|                                                                                        element
|
|                                                                                      Attributes allowed here are: capacity, class, module, weight
|
|  451:             <property name=""parseexpression"" value=""^LOAD: ([0-9]*)$""/>
|  452:             <property name=""loadfile"" value=""/home/virtual/mod_cluster_workspace/loadfileA""/>
|  453:         </custom-load-metric>
|
| 'module' is allowed on elements:
| - server > profile > {urn:jboss:domain:naming:2.0}subsystem > bindings > object-factory
| - server > profile > {urn:jboss:domain:naming:2.0}subsystem > bindings > external-context
| - server > profile > {urn:jboss:domain:security-manager:1.0}subsystem > deployment-permissions > minimum-set > permission
| - server > profile > {urn:jboss:domain:security-manager:1.0}subsystem > deployment-permissions > maximum-set > permission
| - server > profile > {urn:jboss:domain:datasources:5.0}subsystem > datasources > drivers > driver
| - server > profile > {urn:wildfly:microprofile-config-smallrye:1.0}subsystem > config-source > class
| - server > profile > {urn:wildfly:microprofile-config-smallrye:1.0}subsystem > config-source-provider > class
| - server > extensions > extension
| - server > vault
| - server > management > security-realms > security-realm > plug-ins > plug-in
| - server > profile > {urn:jboss:domain:infinispan:7.0}subsystem > cache-container
| - server > profile > {urn:jboss:domain:infinispan:7.0}subsystem > cache-container > local-cache
| - server > profile > {urn:jboss:domain:infinispan:7.0}subsystem > remote-cache-container
| - server > profile > {urn:jboss:domain:modcluster:4.0}subsystem > proxy > dynamic-load-provider > custom-load-metric
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > authentication > login-module
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > authentication-jaspi > login-module-stack > login-module
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > authentication-jaspi > auth-module
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > authorization > policy-module
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > acl > acl-module
| - server > profile > {urn:jboss:domain:security:2.0}subsystem > security-domains > security-domain > mapping > mapping-module
| (and 26 more)
|
| The primary underlying error message was:
| > ParseError at [row,col]:[450,21]
{code}",,,,,,,,,WFLY-10634,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,User Experience,,,,,,,,,,,,,,,2018-09-19 06:13:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11676,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|y00504:",9223372036854775807,,0.0,,,,,"# Start Wildfly
# Add custom load metrics with 'module' defined
# Reload",,,,,,,jkasik,,Workaround Exists,"# Add custom load metric module as a resource to {{org.wildfly.extension.mod_cluster}} module: {code:xml}
<resources>
    <resource-root path=""mod_cluster-custom-metric.jar""/>
    <resource-root path=""wildfly-mod_cluster-extension-[version].jar""/>
</resources>
{code}
# Add {{<module name=""org.jboss.as.server""/>}} as a dependency to {{org.wildfly.extension.mod_cluster}} module
# Restart server","19/Sep/18 6:13 AM;rhusar;Created WFLY-11040 to try to prevent issues like this in the future.","21/Nov/18 4:25 AM;jkasik;Thanks! Verified!","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ConcurrentModificationException at ActivationSecurityUtil,WFLY-10909,12766304,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,maeste,ropalka,ropalka,23/Aug/18 3:35 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Dec/18 1:10 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"org.jboss.as.test.smoke.deployment.rar.tests.multiactivation.MultipleActivationTestCase.testConfiguration: java.lang.AssertionError: CF1 not found
	at org.jboss.as.test.smoke.deployment.rar.tests.multiactivation.MultipleActivationTestCase.testConfiguration(MultipleActivationTestCase.java:126)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:246)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
------- Stdout: -------
 [31m08:51:51,219 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.resourceadapters.ra.""archive.rar"".Pool2: org.jboss.msc.service.StartException in service jboss.resourceadapters.ra.""archive.rar"".Pool2: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1728)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.ConcurrentModificationException
	at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)
	at java.util.ArrayList$Itr.next(ArrayList.java:859)
	at java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1042)
	at org.jboss.as.connector.metadata.api.resourceadapter.ActivationSecurityUtil.isLegacySecurityRequired(ActivationSecurityUtil.java:41)
	at org.jboss.as.connector.subsystems.resourceadapters.ConnectionDefinitionService.start(ConnectionDefinitionService.java:68)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1736)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1698)
	... 6 more",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-25 07:12:55.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|i007kf:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Sep/18 7:12 AM;simkam;closing as duplicate, fixed by WFLY-10986","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IllegalStateException: java.util.ConcurrentModificationException,WFLY-10920,12766683,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jmesnil,tommaso-borgato,tommaso-borgato,24/Aug/18 10:36 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,12/Nov/18 7:52 AM,14.0.0.Final,14.0.1.Final,,,,15.0.0.Beta1,15.0.0.Final,,MP Config,,,,,,,,,,,1,,,,,"One of the many affected scenarios is [perflab_eap-7x-failover-http-session-shutdown-dist-sync-shared-sessions|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-shutdown-dist-sync-shared-sessions/1/console-perf18/consoleText]: it is a 4 nodes (running with the standalone-ha.xml configuration) fail-over scenario where the deployed EAR contains two WAR sharing http sessions:

{{clusterbench-ee7-shared-sessions.ear/META-INF/jboss-all.xml}}:
{noformat}
<jboss umlns=""urn:jboss:1.0"">
    <shared-session-config xmlns=""urn:jboss:shared-session-config:1.0"">
        <session-config>
            <cookie-config>
                <path>/</path>
            </cookie-config>
        </session-config>
    </shared-session-config>
</jboss>
{noformat}

During server shut-down the EAR is stopped and we observe the following error:

{noformat}
[JBossINF] [0m[0m05:49:46,803 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 99) WFLYCLINF0003: Stopped clusterbench-ee7-shared-sessions.ear cache from web container
[JBossINF] [0m[0m05:49:46,805 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000080: Disconnecting JGroups channel ejb
[JBossINF] [0m[31m05:49:46,813 ERROR [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0043: Deployment unit processor org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor@6953f688 unexpectedly threw an exception during undeploy phase POST_MODULE of subdeployment ""clusterbench-ee7-web-default-2.war"" of deployment ""clusterbench-ee7-shared-sessions.ear"": java.util.ConcurrentModificationException
[JBossINF] 	at java.util.HashMap$HashIterator.nextNode(HashMap.java:1442)
[JBossINF] 	at java.util.HashMap$EntryIterator.next(HashMap.java:1476)
[JBossINF] 	at java.util.HashMap$EntryIterator.next(HashMap.java:1474)
[JBossINF] 	at io.smallrye.config.SmallRyeConfigProviderResolver.releaseConfig(SmallRyeConfigProviderResolver.java:71)
[JBossINF] 	at org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor.undeploy(SubsystemDeploymentProcessor.java:102)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.safeUndeploy(DeploymentUnitPhaseService.java:211)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:204)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:1792)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.execute(ServiceControllerImpl.java:1761)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
[JBossINF] 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
[JBossINF] 
[JBossINF] [0m[31m05:49:46,812 ERROR [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0043: Deployment unit processor org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor@6953f688 unexpectedly threw an exception during undeploy phase POST_MODULE of subdeployment ""clusterbench-ee7-web-default-1.war"" of deployment ""clusterbench-ee7-shared-sessions.ear"": java.util.ConcurrentModificationException
[JBossINF] 	at java.util.HashMap$HashIterator.nextNode(HashMap.java:1442)
[JBossINF] 	at java.util.HashMap$EntryIterator.next(HashMap.java:1476)
[JBossINF] 	at java.util.HashMap$EntryIterator.next(HashMap.java:1474)
[JBossINF] 	at io.smallrye.config.SmallRyeConfigProviderResolver.releaseConfig(SmallRyeConfigProviderResolver.java:71)
[JBossINF] 	at org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor.undeploy(SubsystemDeploymentProcessor.java:102)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.safeUndeploy(DeploymentUnitPhaseService.java:211)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:204)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:1792)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.execute(ServiceControllerImpl.java:1761)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
[JBossINF] 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
{noformat}

Also other scenarios like [perflab_eap-7x-failover-http-session-shutdown-dist-sync-nb-state-transfer|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-shutdown-dist-sync-nb-state-transfer] and [perflab_eap-7x-failover-remote-jdg-session-shutdown-invalidation-sync-hotrod|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-remote-jdg-session-shutdown-invalidation-sync-hotrod] exhibits the same error: I assume it does not depend on the shared sessions configuration mentioned above;

Find attached:
- the complete server log (perf18-consoleText.txt)
- the EAR used for the shared-sessions scenario (clusterbench-ee7-shared-sessions.ear)
- the EAR used for the [perflab_eap-7x-failover-http-session-shutdown-dist-sync-nb-state-transfer|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/job/perflab_eap-7x-failover-http-session-shutdown-dist-sync-nb-state-transfer] scenario (clusterbench-ee7.ear)

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Aug/18 10:48 AM;tommaso-borgato;clusterbench-ee7-shared-sessions.ear;https://issues.redhat.com/secure/attachment/12439746/clusterbench-ee7-shared-sessions.ear","24/Aug/18 11:06 AM;tommaso-borgato;clusterbench-ee7.ear;https://issues.redhat.com/secure/attachment/12439751/clusterbench-ee7.ear","24/Aug/18 10:29 AM;tommaso-borgato;perf18-consoleText.txt;https://issues.redhat.com/secure/attachment/12439745/perf18-consoleText.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-26 09:59:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11722,,,,,,,,,,,,,,,,3.0,5.0,,,,,,,,,,"1|i009sn:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"24/Sep/18 5:53 AM;tommaso-borgato;The problem is still there: [perflab_eap-7x-failover-ejb-ejbremote-undeploy-repl-sync|https://jenkins.hosts.mwqe.eng.bos.redhat.com/hudson/view/EAP7/view/EAP7-Clustering_JJB/view/clustering-ejb-ejbremote/job/perflab_eap-7x-failover-ejb-ejbremote-undeploy-repl-sync/3/console-perf18/]:


{noformat}
[JBossINF] [0m[0m05:31:58,363 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000080: Disconnecting JGroups channel ejb
[JBossINF] [0m[0m05:31:58,371 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-8) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
[JBossINF] [0m[0m05:31:58,393 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0019: Stopped Driver service with driver-name = h2
[JBossINF] [0m[0m05:31:58,495 INFO  [org.infinispan.eviction.impl.PassivationManagerImpl] (ServerService Thread Pool -- 114) ISPN000030: Passivated 4000 entries in 232 milliseconds
[JBossINF] [0m[0m05:31:58,515 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 114) WFLYCLINF0003: Stopped clusterbench-ee7.ear/clusterbench-ee7-ejb.jar cache from ejb container
[JBossINF] [0m[31m05:31:58,524 ERROR [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0043: Deployment unit processor org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor@4fda8a7e unexpectedly threw an exception during undeploy phase POST_MODULE of subdeployment ""clusterbench-ee7-ejb.jar"" of deployment ""clusterbench-ee7.ear"": java.util.ConcurrentModificationException
[JBossINF] 	at java.util.HashMap$HashIterator.remove(HashMap.java:1456)
[JBossINF] 	at io.smallrye.config.SmallRyeConfigProviderResolver.releaseConfig(SmallRyeConfigProviderResolver.java:73)
[JBossINF] 	at org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor.undeploy(SubsystemDeploymentProcessor.java:102)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.safeUndeploy(DeploymentUnitPhaseService.java:211)
[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:204)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:1794)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.execute(ServiceControllerImpl.java:1763)
[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
[JBossINF] 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
[JBossINF] 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
[JBossINF] 	at java.lang.Thread.run(Thread.java:748)
{noformat}
","26/Sep/18 9:59 AM;jmesnil;The underlying issue is in smallrye-config and is fixed by https://github.com/smallrye/smallrye-config/pull/39.","09/Oct/18 5:52 AM;jmesnil;Component upgrade for smallrye-config 1.3.4","12/Nov/18 7:26 AM;mjurc;[~jmesnil] PR has been merged, should this maybe be '{{Resolved}}'?","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Do not expose WildFly metrics in /metrics endpoints,WFLY-11399,12780580,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jmesnil,jmesnil,jmesnil,22/Nov/18 4:53 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,23/Nov/18 9:36 AM,15.0.0.Beta1,,,,,15.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,"MicroProfile Metrics mandates that metrics names are unique and does not able to have multiple suppliers for the same metric with different labels.
Due to this restriction, the names of WildFly metrics are long and convoluted; e.g. `deployment/example.war/subsystem/undertow/servlet/org.example.MyServlet/request-count`

This type of names prevents any aggregation in Prometheus and is very different from the names configured in the imx-exporter for older WildFly versions (https://github.com/jboss-openshift/cct_module/pull/314)
Instead, the name of the metric should be ""simple"" (e.g. undertow_request_count) and the different supplies should provide labels:

{code}
undertow_request_count{deployment=""foo.war"", servlet=""MyServletA""} 5.0
undertow_request_count{deployment=""foo.war"", servlet=""MyServletB""} 10.0
{code}

In its current state the WildFly metrics are not usable and we should disable them until they are properly exposed in a correct state.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:16.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01gw0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.3.Final,WFLY-11401,12780606,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,thofman,thofman,22/Nov/18 6:13 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,29/Nov/18 5:50 PM,15.0.0.Beta1,,,,,15.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,https://issues.jboss.org/projects/ISPN/versions/12339982,,,,,,,,,,,,,JBEAP-15902,,,,,,,,,,,,,,,,,,,,,WFLY-11355,WFLY-11384,WFLY-11322,WFLY-11389,ISPN-9701,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-23 04:50:00.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11897,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|z01h1k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"23/Nov/18 4:50 AM;rhusar;Waiting for the Infinispan release.","29/Nov/18 5:32 AM;rhusar;Release last night, PR is up.","29/Nov/18 5:03 PM;brian.stansberry;Still see failures on Windows: https://ci.wildfly.org/viewLog.html?buildId=130270&buildTypeId=WF_PullRequest_Windows","29/Nov/18 5:12 PM;pferraro;Those failures are meant to be addressed by https://github.com/wildfly/wildfly/commit/fdfdbad816c7a76b20b2569523ef0581de9e329d
which otherwise allows Infinispan's transaction table to shutdown before all commits have actually completed.

I've kicked of a Windows run against WF master which contains the above commit in order to validate this:
https://ci.wildfly.org/viewLog.html?buildId=130286&tab=buildResultsDiv&buildTypeId=WF_MasterWindows","29/Nov/18 6:24 PM;brian.stansberry;I think the CI job I linked was run after that commit was in master, as Kabir merged that commit 9 hours ago. But I'll be optimistic. :)","29/Nov/18 6:53 PM;pferraro;The stack traces indicates that Infinispan transaction commit defers to a synchronization, which should no longer be the case following https://github.com/wildfly/wildfly/commit/fdfdbad816c7a76b20b2569523ef0581de9e329d#diff-3f6e8c6f5c7154285a4fccd0dd06b25bR93","29/Nov/18 7:01 PM;pferraro;That said, I'll continue to monitor these tests.  Worst case - if we find any more holes in Infinispan's transaction table graceful shutdown logic we can restore a more permissive version of the distributed session manager lifecycle locking that was removed in https://github.com/wildfly/wildfly/commit/88f0cd5bd076ebbbf6fa501c8afa294a7706b063#diff-d8c9d0885e49c945956ec9d88d34878c
We may need to anyway, as our clean undeploy tests have been a mess since this was dropped.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JDK11: An illegal reflective access operation has occurred,WFLY-11355,12779528,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,thofman,thofman,thofman,15/Nov/18 5:51 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,29/Nov/18 5:51 PM,,,,,,15.0.0.Final,,,Server,,,,,,,,,,,1,Java11,,,,"server prints infinispan warnings during deploying the deployment or start server with deployment:
{noformat}
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.infinispan.marshall.exts.SecurityActions (jar:file:/home/mkopecky/playground/eap/7.2.0.GA.CR1/jboss-eap-7.2/modules/system/layers/base/org/infinispan/main/infinispan-core-9.3.3.Final-redhat-00001.jar!/) to field java.util.DoubleSummaryStatistics.count
WARNING: Please consider reporting this to the maintainers of org.infinispan.marshall.exts.SecurityActions
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
{noformat}

This is follow up for JBEAP-15475, as [~jamezp] mentioned in [his comment|https://issues.jboss.org/browse/JBEAP-15475?focusedCommentId=13648303&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13648303].

cc: [~msvehla], [~rsvoboda]",,,,,,,,,,,,,JBEAP-15798,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:04.0,,,,,,,,,,https://github.com/infinispan/infinispan/pull/6411,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01aw8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quickstarts JDK11 illegal reflective access warnings in wildfly-maven-plugin,WFLY-11046,12770616,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,emmartins,jbliznak,jbliznak,20/Sep/18 7:55 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,05/Nov/18 1:48 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"Currently when any quickstart using wildfly-maven-plugin (eg jaxws-retail) is executed using JDK11, illegal reflective access warning are printed:

{code:java}
[INFO] --- wildfly-maven-plugin:1.2.1.Final:deploy (default-cli) @ jaxws-retail-service ---
Sep 20, 2018 10:10:32 AM org.jboss.remoting3.EndpointImpl <clinit>
INFO: JBoss Remoting version 5.0.0.Final
Sep 20, 2018 10:10:32 AM org.xnio.Xnio <clinit>
INFO: XNIO version 3.5.1.Final
Sep 20, 2018 10:10:32 AM org.xnio.nio.NioXnio <clinit>
INFO: XNIO NIO Implementation Version 3.5.1.Final
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.xnio.nio.NioXnio$2 (file:/home/jbliznak/.m2/repository/org/jboss/xnio/xnio-nio/3.5.1.Final/xnio-nio-3.5.1.Final.jar) to constructor sun.nio.ch.EPollSelectorProvider()
WARNING: Please consider reporting this to the maintainers of org.xnio.nio.NioXnio$2
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
Sep 20, 2018 10:10:32 AM org.wildfly.security.Version <clinit>
INFO: ELY00001: WildFly Elytron version 1.1.0.Final
{code}

Fix and update is probably expected on plugin side, you can see the version of Xnio is rather old, WF 14 is using 3.6.5 https://github.com/wildfly/wildfly-core/blob/6.0.1.Final/pom.xml#L188 (with possible fix XNIO-322, also check WFCORE-3885).",,,,,,,,,XNIO-322,,,,,,WFMP-99,WFMP-111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-05 11:33:49.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/318,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|y00890:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Nov/18 11:33 AM;jamezp;Version 2.0.0.Final of the wildfly-maven-plugin has been released and a PR to upgrade the version in the quickstarts has been submitted.","02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NoClassDefFoundError when set-tx-query-timeout is enabled (followup to JBJCA-1378),WFLY-10974,12768074,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,thofman,thofman,thofman,04/Sep/18 11:00 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,05/Sep/18 7:05 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"Fix for JBJCA-1378 is incomplete, module ""org.wildfly.transaction.client"" needs to be added as dependency to ""org.jboss.ironjacamar.impl"", otherwise ironjacamar won't see org/wildfly/transaction/client/ContextTransactionManager.

{code}
16:25:27,126 WARN  [org.jboss.jca.core.connectionmanager.listener.TxConnectionListener] (default task-1) IJ000305: Connection error occured: org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@4fc3a65d[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@5a9822dd connection handles=1 lastReturned=1536071125023 lastValidated=1536071125009 lastCheckedOut=1536071127125 trackByTx=true pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@58ac913 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@6dee9bea[pool=ExampleDS] xaResource=LocalXAResourceImpl@c8022ad[connectionListener=4fc3a65d connectionManager=74e7ef50 warned=false currentXid=< formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a28ccdb:5f37fa13:5b8e95a6:36, node_name=1, branch_uid=0:ffff0a28ccdb:5f37fa13:5b8e95a6:3d, subordinatenodename=null, eis_name=java:jboss/datasources/ExampleDS > productName=H2 productVersion=@PROJECT_VERSION@ (2016-10-31) jndiName=java:jboss/datasources/ExampleDS] txSync=TransactionSynchronization@952227486{tx=Local transaction (delegate=TransactionImple < ac, BasicAction: 0:ffff0a28ccdb:5f37fa13:5b8e95a6:36 status: ActionStatus.RUNNING >, owner=Local transaction context for provider JBoss JTA transaction provider) wasTrackByTx=true enlisted=true cancel=false}]: javax.resource.spi.ResourceAdapterInternalException: Unexpected error
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.broadcastConnectionError(BaseWrapperManagedConnection.java:664)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.connectionError(BaseWrapperManagedConnection.java:630)
	at org.jboss.jca.adapters.jdbc.WrappedConnection.checkException(WrappedConnection.java:1969)
	at org.jboss.jca.adapters.jdbc.WrappedStatement.checkException(WrappedStatement.java:1436)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeQuery(WrappedPreparedStatement.java:509)
	at com.redhat.thofman.jpa.MyBean.beanMethod(MyBean.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.ejb.DelegatingInterceptorInvocationContext.proceed(DelegatingInterceptorInvocationContext.java:92)
	at org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.interceptorChainCompleted(WeldInvocationContextImpl.java:124)
	at org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.proceed(WeldInvocationContextImpl.java:143)
	at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorBase.invokeInCallerTx(TransactionalInterceptorBase.java:132)
	at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:55)
	at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:79)
	at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)
	at org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.invokeNext(WeldInvocationContextImpl.java:109)
	at org.jboss.weld.interceptor.proxy.WeldInvocationContextImpl.proceed(WeldInvocationContextImpl.java:141)
	at org.jboss.weld.bean.InterceptorImpl.intercept(InterceptorImpl.java:113)
	at org.jboss.as.weld.ejb.DelegatingInterceptorInvocationContext.proceed(DelegatingInterceptorInvocationContext.java:82)
	at org.jboss.as.weld.interceptors.EjbComponentInterceptorSupport.delegateInterception(EjbComponentInterceptorSupport.java:60)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:76)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:88)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:101)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:332)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:240)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:64)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:609)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)
	at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)
	at com.redhat.thofman.jpa.MyBean$$$view2.beanMethod(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:433)
	at org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:133)
	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
	at org.jboss.weld.bean.proxy.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:67)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100)
	at com.redhat.thofman.jpa.MyBean$Proxy$_$$_Weld$EnterpriseProxy$.beanMethod(Unknown Source)
	at com.redhat.thofman.jpa.MyServlet.doGet(MyServlet.java:37)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:65)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1501)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1501)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1501)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1501)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1501)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:330)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NoClassDefFoundError: org/wildfly/transaction/client/ContextTransactionManager
	at org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.getTimeLeftBeforeTransactionTimeout(TxConnectionManagerImpl.java:392)
	at org.jboss.jca.adapters.jdbc.WrapperDataSource.getTimeLeftBeforeTransactionTimeout(WrapperDataSource.java:201)
	at org.jboss.jca.adapters.jdbc.WrappedConnection.checkConfiguredQueryTimeout(WrappedConnection.java:2043)
	at org.jboss.jca.adapters.jdbc.WrappedStatement.checkConfiguredQueryTimeout(WrappedStatement.java:1456)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeQuery(WrappedPreparedStatement.java:498)
	... 131 more
{code}",,,,,,,,,,,,,JBEAP-15349,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:56.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11637,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|u001ow:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrectly named attribute match-user in authentication-context in Elytron subsystem,WFLY-11083,12771646,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,honza889,honza889,honza889,26/Sep/18 12:12 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,26/Sep/18 1:02 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Documentation,,,,,,,,,,,0,user_experience,,,,"Rule matcher {{match-user}} in authentication-context in Elytron subsystem internally uses {{org.wildfly.security.auth.client.MatchUserRule}}. This matcher works based on passed userinfo. However naming of {{match-user}} in Elytron subsystem indicates that just user part of userinfo should be used in matching.

Also description in CLI is not correct, it says: _The user to match against._

It means one of following should be changed:
* name of {{match-user}}
* functionality of {{MatchUserRule}}

Since Elytron client configuration file includes for the same matcher with name {{match-userinfo}} then I suggest to rename attribute {{match-user}} in {{authentication-context}} in Elytron subsystem to {{match-userinfo}} and improve description in CLI and XSD.",,,,,,,,,,,,,ELY-1207,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:52.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11697,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z002l4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Datasource metrics are not always exposed by the metrics subsystem,WFLY-11710,12792072,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jmesnil,jmesnil,jmesnil,13/Feb/19 8:45 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,25/Feb/19 7:01 PM,16.0.0.Beta1,,,,,16.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,"The metrics subsystem install a service at RUNTIME to register any metrics on the resources registered in WildFly management tree.

However, the metrics for datasources are provided by the statistics=jdbc and statistics=pool children of the datasource resource which are installed at RUNTIME.

Since there is no dependency between the metrics service and the service that installs the datasource statistics, it is possible that the metrics services is started before and while traverse the WildFly management tree before the statistics resources are added to it.

This issue is intermittent and depend on the sequence of execution of unrelated services.

To circumvent this issue, the metrics subsystem could install its service at VERIFY stage (instead of RUNTIME) and will then have the guarantee that any resources created at RUNTIME is present in WildFly management tree.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-21 17:25:29.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12111,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z0379o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Feb/19 5:25 PM;brian.stansberry;Reopening as the stability monitor approach has proven to be an issue -- WFLY-11760. And if that's corrected (i.e. https://github.com/wildfly/wildfly/pull/12103) then boot hangs.","22/Feb/19 6:38 PM;brian.stansberry;Perhaps the MetricsRegistrationService collection of the root resource tree metrics could be moved out of start and called by MicroProfileMetricsSubsystemAdd in Stage.VERIFY. That's still an abuse of VERIFY but it doesn't involve adding a new service outside RUNTIME which I think the first approach to VERIFY did.  We could say MetricsRegistrationService is ""verifying"" the runtime state by scanning for metrics. ;)","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add messaging transformers for EAP 7.2.0,WFLY-11700,12791712,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,ehugonnet,kabirkhan,kabirkhan,12/Feb/19 6:26 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 10:15 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,JMS,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:29.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12049,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z035rg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Feb/19 6:28 AM;kabirkhan;[~ehugonnet] I included this in my PR","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Configure statistics-enabled for subsystems that exposes metrics,WFLY-11420,12777918,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jmesnil,rsvoboda,rsvoboda,06/Nov/18 7:26 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,07/Jan/19 9:27 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,"Vendor metrics - subsystem - statistics-enabled to get valid data
I was playing with vendor metrics and I received a lot of zeros.

{code}
curl http://localhost:10090/metrics/vendor 2>/dev/null | grep -v TYPE | grep -v HELP | sort
{code}
Note: I use {{-Djboss.socket.binding.port-offset=100}}

So I started to wonder why and it's because of statistics are not enabled.
When I enabled statistics for Undertow and hit the WF server main page I saw some changes in metrics.
{code}
subsystem=undertow/:write-attribute(name=statistics-enabled, value=true)
{code}

Later I realized this scenario is also mentioned in analysis, section WildFly Metrics with undefined value / statistic-enabled = false
https://github.com/wildfly/wildfly-proposals/blob/cc189b56720951875aa96102f876ac0399930f9c/microprofile/WFLY-10712_microprofile_metrics.asciidoc#wildfly-metrics-with-undefined-value--statistic-enabled--false

So this is mainly tracking + discussion point now.",,,,,,,,,,,,,,,WFCORE-4190,,,,,,,WFLY-11471,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-26 09:50:15.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z011jk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"26/Nov/18 9:50 AM;jmesnil;The metrics subsystem ignores WildFly metrics that have undefined value (e.g. if their statistics-enabled that controls them is false)
This ensures that the subsystem only reports actual metric value (otherwise we have to open bugs to fix it).

Standalone configs could be further enhanced by using a global env var to enable the statistics from the subsystems that reports such metrics (undertow, messaging-activemq, etc.)","07/Jan/19 9:27 AM;jmesnil;Enhancement was provided by WFLY-11471","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ManagedExecutorService persists contextClassLoader reference to cause app classloader leaks,WFLY-11678,12790875,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,emmartins,leiyu,jamezp,06/Feb/19 11:04 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,22/Feb/19 7:59 PM,,,,,,16.0.0.Final,,,Concurrency Utilities,,,,,,,,,,,0,,,,,"managed executor:
{code}
<managed-executor-services>
    <managed-executor-service name=""default"" jndi-name=""java:jboss/ee/concurrency/executor/default"" context-service=""default"" hung-task-threshold=""60000"" keepalive-time=""5000""/>
</managed-executor-services>
{code}


With each undeploy, the application classloader is leaked and not released because contextClassLoader references persisted on the executor threads:

{code}
Class Name                                                                                                                                          | Ref. Objects | Shallow Heap | Ref. Shallow Heap | Retained Heap
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
org.jboss.as.ee.concurrent.service.ElytronManagedThreadFactory$ElytronManagedThread @ 0xc3677570  EE-ManagedExecutorService-default-Thread-13 Thread|            1 |          160 |                88 |         1,344
'- contextClassLoader org.jboss.modules.ModuleClassLoader @ 0xc32b9d98                                                                              |            1 |           88 |                88 |       366,800
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
{code}

Tracing with byteman, what's strange is that it sets the app classloader on setup:

{code}
Thread.setContextClassLoader: Thread[EE-ManagedExecutorService-default-Thread-16,5,ServerService ThreadGroup] ModuleClassLoader for Module ""deployment.services-1.0.4-rc1.war"" from Service Module Loader
java.lang.Thread.setContextClassLoader(Thread.java:1477)
org.wildfly.security.manager.WildFlySecurityManager.setCurrentContextClassLoaderPrivileged(WildFlySecurityManager.java:1272)
org.jboss.as.ee.concurrent.handle.ClassLoaderContextHandleFactory$ClassLoaderSetupContextHandle.setup(ClassLoaderContextHandleFactory.java:83)
org.jboss.as.ee.concurrent.ConcurrentContext$ChainedSetupContextHandle.setup(ConcurrentContext.java:166)
org.jboss.as.ee.concurrent.DefaultContextSetupProviderImpl.setup(DefaultContextSetupProviderImpl.java:58)
org.glassfish.enterprise.concurrent.internal.ManagedFutureTask.setupContext(ManagedFutureTask.java:121)
org.glassfish.enterprise.concurrent.internal.ManagedThreadPoolExecutor.beforeExecute(ManagedThreadPoolExecutor.java:109)
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
java.lang.Thread.run(Thread.java:748)
{code}


And still sets that app classloader after task execution in the reset:

{code}
Thread.setContextClassLoader: Thread[EE-ManagedExecutorService-default-Thread-16,5,ServerService ThreadGroup] ModuleClassLoader for Module ""deployment.services-1.0.4-rc1.war"" from Service Module Loader
java.lang.Thread.setContextClassLoader(Thread.java:1477)
org.wildfly.security.manager.WildFlySecurityManager.setCurrentContextClassLoaderPrivileged(WildFlySecurityManager.java:1272)
org.jboss.as.ee.concurrent.handle.ClassLoaderContextHandleFactory$ClassLoaderResetContextHandle.reset(ClassLoaderContextHandleFactory.java:113)
org.jboss.as.ee.concurrent.ConcurrentContext$ChainedResetContextHandle.reset(ConcurrentContext.java:284)
org.jboss.as.ee.concurrent.DefaultContextSetupProviderImpl.reset(DefaultContextSetupProviderImpl.java:63)
org.glassfish.enterprise.concurrent.internal.ManagedFutureTask.resetContext(ManagedFutureTask.java:134)
org.glassfish.enterprise.concurrent.internal.ManagedThreadPoolExecutor.afterExecute(ManagedThreadPoolExecutor.java:90)
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1157)
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
java.lang.Thread.run(Thread.java:748)
{code}


So the thread is sitting in the pool with the app classloader.  Is there some way we should be able to get the context loader cleared or unset from the app loader in the reset?",,,,,,,,,,,,,JBEAP-16329,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-20 14:18:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12099,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z0310k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"20/Feb/19 2:18 PM;jamezp;We need to take a deeper look at this. In the {{ContextService}} the reset could be invoked on an thread not managed by EE concurrency. We only want these handles to be invoked on managed threads.","20/Feb/19 11:46 PM;emmartins;The issue could be prevented through managed executor service config, but we may enforce that managed threads are never created with app CL in context, and that's the goal of linked PR. ","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to RESTEasy 3.6.3.Final,WFLY-11648,12789243,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,asoldano,mkopecky,mkopecky,25/Jan/19 7:44 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 10:57 AM,,,,,,16.0.0.Final,,,REST,,,,,,,,,,,0,,,,,"Upgrade to RESTEasy 3.6.3.Final

cc [~jbliznak], [~tterem]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,RESTEASY-1619,JBEAP-15887,RESTEASY-2106,RESTEASY-2128,RESTEASY-2026,RESTEASY-2105,RESTEASY-2055,RESTEASY-1142,RESTEASY-2061,RESTEASY-2097,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-04 09:36:49.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z02rug:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Jan/19 7:51 AM;mkopecky;[Jiras with 3.6.3.Final fix version|https://issues.jboss.org/issues/?jql=project%20%3D%20RESTEASY%20AND%20fixVersion%20%3D%203.6.3.Final]","04/Feb/19 9:36 AM;asoldano;[~mkopecky] , we should have 3.6.3 released in a couple of weeks from now, so we'll try including it in WF16; being it a micro release, we can afford upgrading just after the feature freeze (checked with Kabir).","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reflection exception at org.jboss.classfilewriter.ClassFile on JDK12,WFLY-11406,12780694,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,ropalka,ropalka,ropalka,22/Nov/18 1:07 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,26/Feb/19 6:42 PM,,,,,,16.0.0.Final,,,CDI / Weld,EJB,,,,,,,,,,2,jdk12,,,,"When running WildFly on JDK12 I'm observing this exception due to Unsafe changes in recent JDK Early Access builds:

&amp#27;[0m&amp#27;[31m16:47:17,739 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.deployment.unit.""ws-endpoint-example.war"".IN
<------>at org.jboss.as.server@7.0.0.CR1-SNAPSHOT//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:151)
<------>at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
<------>at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
<------>at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
<------>at org.jboss.threads@2.3.2.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
<------>at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
<------>at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
<------>at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
<------>at java.base/java.lang.Thread.run(Thread.java:835)
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component TestService
<------>at org.jboss.as.ee@15.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:106)
<------>at org.jboss.as.server@7.0.0.CR1-SNAPSHOT//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:144)
<------>... 8 more
Caused by: java.lang.Error: java.lang.NoSuchFieldException: override
<------>at org.jboss.classfilewriter@1.2.3.Final//org.jboss.classfilewriter.ClassFile$1.run(ClassFile.java:394)
<------>at org.jboss.classfilewriter@1.2.3.Final//org.jboss.classfilewriter.ClassFile$1.run(ClassFile.java:385)
<------>at java.base/java.security.AccessController.doPrivileged(AccessController.java:551)
<------>at org.jboss.classfilewriter@1.2.3.Final//org.jboss.classfilewriter.ClassFile.<clinit>(ClassFile.java:385)
<------>at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.proxy.AbstractClassFactory.<init>(AbstractClassFactory.java:97)
<------>at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.proxy.AbstractSubclassFactory.<init>(AbstractSubclassFactory.java:87)
<------>at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.proxy.AbstractProxyFactory.<init>(AbstractProxyFactory.java:69)
<------>at org.jboss.invocation@1.5.1.Final//org.jboss.invocation.proxy.ProxyFactory.<init>(ProxyFactory.java:256)
<------>at org.jboss.as.ee@15.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:86)
<------>at org.jboss.as.ee@15.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:92)
<------>... 9 more
Caused by: java.lang.NoSuchFieldException: override
<------>at java.base/java.lang.Class.getDeclaredField(Class.java:2410)
<------>at org.jboss.classfilewriter@1.2.3.Final//org.jboss.classfilewriter.ClassFile$1.run(ClassFile.java:392)
<------>... 18 more
",,,,,,,,,,,,,,,,,,,,,,,,WELD-2556,WFCORE-4318,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-19 21:08:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12118,,,,,,,,,,,,,,,,0.0,15.0,,,,,,,,,,"1|z01hkg:",9223372036854775807,,0.0,,,,,"cd wildfly/testsuite/integration/ws
mvn clean test -Dtest=**/SimpleWebserviceEndpointTestCase",,,,,,,,,,,"22/Nov/18 1:10 PM;ropalka;Tested on $>java -version
openjdk version ""12-ea"" 2019-03-19
OpenJDK Runtime Environment (build 12-ea+20)
OpenJDK 64-Bit Server VM (build 12-ea+20, mixed mode, sharing)
","03/Dec/18 5:39 PM;ropalka;This was passing on JDK 12 EA 11.
It started to fail since JDK 12 EA 12.
","04/Dec/18 3:12 AM;ropalka;After bisecting openjdk code base I identified this commit which introduced this new JDK behaviour:

https://github.com/openjdk/jdk/commit/3f0daceac06ec44186130874401a99378d076768

Since this commit it is impossible to:
A) Reflectively access all fields and methods of:
 * Reflection.class
 * AccessibleObject.class
 * ClassLoader.class
 * Constructor.class
 * Field.class
 * Method.class

B) reflectively access fields
 * Class.class -> ""classLoader""
 * System.class -> ""security""","04/Dec/18 3:18 AM;ropalka;Proper solution to workaround these new enforcements should be
usage of Agent API (java.lang.instrument) like byteman project does it.","19/Dec/18 9:08 PM;brian.stansberry;Requiring an agent in order to deploy an application is pretty nasty.

We already ship ByteBuddy which is a code generation library that supports JDK 11 and 12. Perhaps it got caught by this same issue, but a quick commit scan shows this which looks like an attempt to work around it:

https://github.com/raphw/byte-buddy/commit/209ae272cb18e201d35bbaa2d385589b2b674926

Perhaps MethodHandles.Lookup.defineClass could work for this too but it may not and in any case is only available from JDK 9 on.","19/Dec/18 9:31 PM;brian.stansberry;This issue affect EJB (specifically iiop) and CDI. It's not a general server problem.","19/Dec/18 9:54 PM;dmlloyd;As I said in one of the other PRs, GH issues, or JIRA issues (can't remember which) around this topic: jboss-modules has a ClassDefiner API that should be used within WildFly whenever classes need to be defined.  So I think the best fix would be to use that API whenever available.","04/Jan/19 11:56 AM;brian.stansberry;See also https://github.com/jbossas/jboss-classfilewriter/issues/18

Note that weld also uses classfilewriter, so a fix for the WF-specific code is not an overall fix.","09/Jan/19 9:31 AM;manovotn;On Weld side, we would like to design an SPI that will leverage David's API coming from jboss-modules (albeit we might need an adjustment there), I started playing around with that.

However, this needs to addressed in jboss-classfilewriter firstly as everything using it will simply blow up from the static initializer there.
Should we use simple {{setAccessible()}}, it will work but we'll be getting all those lovely Illegal access warnings again (which was why we used unsafe).
Sadly, I don't really know how to bypass the new Unsafe limitations (aka how to do what they did with byte-buddy).

bq. Perhaps MethodHandles.Lookup.defineClass could work for this too but it may not and in any case is only available from JDK 9 on.

That is the supposed replacement, yet last time I checked it didn't allow to define classes with (different) {{ProtectionDomain}} which was a showstopper, at least for Weld.
Back there I created a JDK issue but got no answer.","10/Jan/19 6:49 AM;manovotn;For the record, the API David mentioned ({{ClassDefiner}}) is not yet available in WFLY. The issue (MODULES-360) is targeted for 1.9.0 release which didn't happen yet and 1.8.x branch doesn't contain the commit.","29/Jan/19 3:20 AM;rsvoboda;https://github.com/wildfly/wildfly-core/blob/master/pom.xml#L179 says {{<version.org.jboss.modules.jboss-modules>1.9.0.Final</version.org.jboss.modules.jboss-modules>}}","29/Jan/19 3:32 AM;manovotn;Yea, it does indeed, because David did a release and because of WFCORE-4285 ;-)
And Weld already has new API (WELD-2556) for class defining which will leverage this jboss modules version and will be added as part of component upgrade(WFLY-11621).

So you can rule out Weld from the equation. It's really just jboss cfw, which I simply don't know what to do about.","18/Feb/19 11:13 AM;brian.stansberry;I added JDK 12 jobs and they fail due to this issue: https://ci.wildfly.org/viewLog.html?buildId=140108&buildTypeId=WF_MasterLinuxJdk12&tab=buildResultsDiv 

This makes sense as looking at the change to classfilewriter related to this it adds a new SPI (ClassFactory) but the default factory won't work with JDK 12 or greater (and is thus javadoced.) So there is still a piece to do, probably a ClassFactory that calls JBoss Modules ClassDefiner and passing that into instances of ClassFile we create.

","18/Feb/19 12:11 PM;ropalka;PR sent [~brian.stansberry]","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deadlock in cleanup following DatabaseCertLoginModuleTestCase,WFLY-11706,12791976,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,ochaloup,brian.stansberry,brian.stansberry,12/Feb/19 10:04 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Feb/19 6:28 PM,,,,,,16.0.0.Final,,,Test Suite,Transactions,,,,,,,,,,0,,,,,"A test hung due to a server-side deadlock.

https://ci.wildfly.org/viewLog.html?buildId=139407&buildTypeId=WFPR&tab=buildLog&branch_WF_PullRequest=pull%2F12062

Build log output stopped at this point:

[18:27:07][Step 2/3] [INFO] Running org.jboss.as.test.manualmode.security.OutboundLdapConnectionTestCase
[18:27:42][Step 2/3] [INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 34.744 s - in org.jboss.as.test.manualmode.security.OutboundLdapConnectionTestCase
[18:27:43][Step 2/3] [INFO] Running org.jboss.as.test.manualmode.web.ssl.DatabaseCertLoginModuleTestCase

The 'main' thread of the test shows the test was shutting down the server:

{code}
""main"" #1 prio=5 os_prio=0 tid=0xf6507c00 nid=0x205c in Object.wait() [0xf667d000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0xc807a168> (a java.lang.UNIXProcess)
	at java.lang.Object.wait(Object.java:502)
	at java.lang.UNIXProcess.waitFor(UNIXProcess.java:395)
	- locked <0xc807a168> (a java.lang.UNIXProcess)
	at org.wildfly.core.launcher.ProcessHelper.destroyProcess(ProcessHelper.java:60)
	at org.jboss.as.arquillian.container.managed.ManagedDeployableContainer.stopInternal(ManagedDeployableContainer.java:294)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.stop(CommonDeployableContainer.java:135)
	at org.jboss.arquillian.container.impl.ContainerImpl.stop(ContainerImpl.java:217)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController$9.perform(ContainerLifecycleController.java:178)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController$9.perform(ContainerLifecycleController.java:172)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController.forContainer(ContainerLifecycleController.java:255)
	at org.jboss.arquillian.container.impl.client.container.ContainerLifecycleController.stopContainer(ContainerLifecycleController.java:171)
{code}

The server-side thread dump shows the hang:

{code}
Found one Java-level deadlock:
=============================
""Periodic Recovery"":
  waiting to lock monitor 0xbcc6dbc0 (object 0xc8f80918, a java.util.concurrent.atomic.AtomicInteger),
  which is held by ""ServerService Thread Pool -- 8""
""ServerService Thread Pool -- 8"":
  waiting to lock monitor 0xc1a6ffc8 (object 0xc8f64470, a com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule),
  which is held by ""Periodic Recovery""

Java stack information for the threads listed above:
===================================================
""Periodic Recovery"":
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.setScanState(XARecoveryModule.java:1088)
	- waiting to lock <0xc8f80918> (a java.util.concurrent.atomic.AtomicInteger)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkSecondPass(XARecoveryModule.java:240)
	- locked <0xc8f64470> (a com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:816)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:382)
""ServerService Thread Pool -- 8"":
	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.removeXAResourceRecoveryHelper(XARecoveryModule.java:119)
	- waiting to lock <0xc8f64470> (a com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule)
	- locked <0xc8f80918> (a java.util.concurrent.atomic.AtomicInteger)
	at com.arjuna.ats.jbossatx.jta.RecoveryManagerService.removeXAResourceRecovery(RecoveryManagerService.java:129)
	at org.jboss.jca.core.tx.jbossts.XAResourceRecoveryRegistryImpl.removeXAResourceRecovery(XAResourceRecoveryRegistryImpl.java:63)
	at org.jboss.as.connector.subsystems.datasources.XaDataSourceService.stopService(XaDataSourceService.java:66)
	- locked <0xc8f95a38> (a org.jboss.as.connector.subsystems.datasources.XaDataSourceService)
	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$1.run(AbstractDataSourceService.java:188)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)

Found 1 deadlock.
{code}

I'll attach the full thread dump.",,,,,,,,,,,,,,,JBTM-3111,WFLY-11735,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Feb/19 10:05 PM;brian.stansberry;hang.txt;https://issues.redhat.com/secure/attachment/12446903/hang.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-13 08:31:37.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12102,,,,,,,,,,,,,,,,1.0,5.0,,,,,,,,,,"1|z036rg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Feb/19 8:31 AM;ochaloup;[~tomjenkinson] I think the deadlock would be here https://github.com/jbosstm/narayana/blob/master/ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java#L118

There is taken lock on {{this}} while already holding the lock at {{XARecoveryModule.scanState}}. The other {{synchronized}} methods could be called from other threads, I expect.","13/Feb/19 8:49 AM;tomjenkinson;[~ochaloup] - thanks for the analysis - would you be free to take this issue?","13/Feb/19 11:45 AM;ochaloup;[~tomjenkinson] sure, no problem. I hope to add to this at the end of the week if it's ok.","13/Feb/19 12:43 PM;tomjenkinson;That works for me - thanks Ondra","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Yasson to 1.0.3,WFLY-11702,12791900,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,asoldano,reinhapa,reinhapa,12/Feb/19 10:47 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 10:26 PM,15.0.1.Final,,,,,16.0.0.Final,,,EE,REST,,,,,,,,,,0,,,,,Upgrade to Eclipse Yasson from 1.0.2 to 1.0.3 to fix JsonConfig taking custom JsonSerializers/JsonDeserializers into account.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Compatibility/Configuration,,,,,,,,,,,,,,,2019-10-02 19:01:11.0,,,,,,,Low,,,https://github.com/wildfly/wildfly/pull/12061,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z036cc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Timed - difference between Prometheus and JSON format,WFLY-11458,12781914,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,baranowb,rsvoboda,rsvoboda,03/Dec/18 5:40 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,13/Feb/19 8:45 PM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,"There are differences in reported results between Prometheus and JSON format.
When using the same deployment with OpenLiberty there are no differences in reported results between Prometheus and JSON format.

https://github.com/smallrye/smallrye-metrics/issues/40",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-13 04:54:27.0,,,,,,,,,,https://github.com/smallrye/smallrye-metrics/pull/45,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z01ojs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Dec/18 4:54 AM;baranowb;Difference comes from : https://github.com/smallrye/smallrye-metrics/blob/master/implementation/src/main/java/io/smallrye/metrics/exporters/PrometheusUnit.java#L91


{quote}
PrometheusUnit.scaleToBase(String, Double) line: 144	
PrometheusExporter.writeValueLine(StringBuffer, MetricRegistry$Type, String, double, Metadata, Tag, boolean) line: 273	
PrometheusExporter.writeValueLine(StringBuffer, MetricRegistry$Type, String, double, Metadata, Tag) line: 246	
PrometheusExporter.writeValueLine(StringBuffer, MetricRegistry$Type, String, double, Metadata) line: 242	
PrometheusExporter.writeTypeAndValue(StringBuffer, MetricRegistry$Type, String, double, String, Metadata) line: 238	
PrometheusExporter.writeMeterRateValues(StringBuffer, MetricRegistry$Type, Metered, Metadata) line: 232	
PrometheusExporter.writeTimerValues(StringBuffer, MetricRegistry$Type, TimerImpl, Metadata) line: 177	
PrometheusExporter.exposeEntries(Type, StringBuffer, MetricRegistry, Map<String,Metric>) line: 154	
PrometheusExporter.exportOneMetric(MetricRegistry$Type, String) line: 105	
MetricsRequestHandler.handleRequest(String, String, Stream<String>, Responder) line: 100	
MetricsContextService$1.handleRequest(HttpServerExchange) line: 93	
ServerErrorReadinessHandler(RealmReadinessHandler).handleRequest(HttpServerExchange) line: 51	
ServerErrorReadinessHandler.handleRequest(HttpServerExchange) line: 35	
PathHandler.handleRequest(HttpServerExchange) line: 94	
ChannelUpgradeHandler.handleRequest(HttpServerExchange) line: 211	
CacheHandler.handleRequest(HttpServerExchange) line: 92	
SimpleErrorPageHandler.handleRequest(HttpServerExchange) line: 78	
CanonicalPathHandler.handleRequest(HttpServerExchange) line: 49	
ManagementHttpRequestHandler.handleRequest(HttpServerExchange) line: 57	
CorsHttpHandler.handleRequest(HttpServerExchange) line: 75	
ManagementHttpServer$UpgradeFixHandler.handleRequest(HttpServerExchange) line: 662	
Connectors.executeRootHandler(HttpHandler, HttpServerExchange) line: 360	
HttpReadListener.handleEventWithNoRunningRequest(ConduitStreamSourceChannel) line: 255	
HttpReadListener.handleEvent(ConduitStreamSourceChannel) line: 136	
HttpOpenListener.handleEvent(StreamConnection, PooledByteBuffer) line: 162	
HttpOpenListener.handleEvent(StreamConnection) line: 100	
HttpOpenListener.handleEvent(Channel) line: 57	
ChannelListeners.invokeChannelListener(T, ChannelListener<? super T>) line: 92	
ChannelListeners$10.handleEvent(AcceptingChannel<C>) line: 291	
ChannelListeners$10.handleEvent(Channel) line: 286	
ChannelListeners.invokeChannelListener(T, ChannelListener<? super T>) line: 92	
QueuedNioTcpServer$1.run() line: 131	
WorkerThread.safeRun(Runnable) line: 612	
WorkerThread.run() line: 479	

{quote}

Im trying to fiure out the rationale behind this. JsonExporter writes just raw value( as does OpenLiberty for every call): https://github.com/smallrye/smallrye-metrics/blob/master/implementation/src/main/java/io/smallrye/metrics/exporters/JsonExporter.java#L139","14/Dec/18 5:53 AM;jmartisk;I guess the problem is here https://github.com/smallrye/smallrye-metrics/blob/1.1.2/implementation/src/main/java/io/smallrye/metrics/exporters/PrometheusExporter.java#L273 - IIUC {{scaleToBase}} is for converting to seconds (which is the unit in which we should always be presenting snapshot summaries), but as the input unit param, it is being given {{md.getUnit()}} which denotes the base unit of the metric, but it should instead be NANOSECONDS because that's the unit in which the data is internally stored. So in our case it converts to seconds, but converts from the wrong input unit.
I suppose the {{scaleToBase}} method be rather named {{convertToSecondsOrBytes}} which is what it really does. I was confused at first because I thought ""base"" referred to the base unit that the metric uses.

Current proposal for fix, but will need some more testing (and adding some more comments because the code is very hard to read IMO): https://github.com/jmartisk/smallrye-metrics/commits/issue-40

Surprisingly this does not seem to be covered in the TCKs either, I will consider adding some tests for that","14/Dec/18 8:34 AM;jmartisk;SR metrics pull request for review (I also added a unit test to cover unit scaling) ","17/Dec/18 1:51 AM;baranowb;smallrye-metrics 1.1.3 will fix this.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Metered - difference between Prometheus and JSON format,WFLY-11457,12781912,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,baranowb,rsvoboda,rsvoboda,03/Dec/18 5:39 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,13/Feb/19 8:45 PM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,"There are differences in reported results between Prometheus and JSON format.
When using the same deployment with OpenLiberty there are no differences in reported results between Prometheus and JSON format.

https://github.com/smallrye/smallrye-metrics/issues/39",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-13 03:38:55.0,,,,,,,,,,https://github.com/smallrye/smallrye-metrics/pull/45,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01ojc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Dec/18 1:50 AM;baranowb;smallrye-metrics 1.1.3 will fix this.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add method parameter check in jaxrs apps,WFLY-11651,12789276,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,rsearls,rsearls,rsearls,25/Jan/19 9:35 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,24/Feb/19 5:26 PM,15.0.0.Final,16.0.0.Beta1,,,,16.0.0.Final,,,REST,,,,,,,,,,,0,,,,,"The jaxrs 2.1 spec section 3.2 require resource method parameters be checked at deployment time of errors handling @DefaultValue annotations.  This must be added in wfly because
resteasy is not called until the first client request.

Testing
Build and deploy attached app to wildfly.  
Before code fix deployment should be successful.
Running app with cmd:  curl ""http://localhost:8080/jaxrs-wf/a?param=2""
should fail.
After code fix deployment should fail with detailed msg.",,,,,,,,,,,,,,,WFCORE-4297,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jan/19 9:30 AM;rsearls;RESTEASY-2062.zip;https://issues.redhat.com/secure/attachment/12446038/RESTEASY-2062.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:09.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,1.0,,,,,,,,,,"1|z02s14:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IllegalStateException when calling MetricsContextService.stop during shutdown sequence,WFLY-11387,12780313,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jmesnil,rsvoboda,rsvoboda,21/Nov/18 4:01 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 4:43 PM,15.0.0.Beta1,15.0.1.Final,,,,16.0.0.Beta1,16.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,"IllegalStateException when calling MetricsContextService.stop during shutdown sequence

This doesn't happen regularly, it happened to me like once from 5 shutdowns. I saw the warning 3 times today.
""not happening always"" is because of parallelism in shutdown/boot of WF/EAP 

I did slight misconfiguration on purpose, but not sure if it's related or not
{code}
/subsystem=microprofile-metrics-smallrye/:write-attribute(name=exposed-subsystems, value=[""batch_jberet""])
{code}

Stacktrace is this:
{code}
09:53:23,883 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000004: Failure during stop of service jboss.extension.metrics.context: java.lang.IllegalStateException
	at org.jboss.as.domain-http-interface@7.0.0.Beta1//org.jboss.as.domain.http.server.ManagementHttpServer.removeContext(ManagementHttpServer.java:234)
	at org.jboss.as.server@7.0.0.Beta1//org.jboss.as.server.mgmt.UndertowHttpManagementService$1.removeContext(UndertowHttpManagementService.java:144)
	at org.wildfly.extension.microprofile.metrics-smallrye@15.0.0.CR1-SNAPSHOT//org.wildfly.extension.microprofile.metrics.MetricsContextService.stop(MetricsContextService.java:131)
	at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:1794)
	at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$StopTask.execute(ServiceControllerImpl.java:1763)
	at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1364)
	at java.base/java.lang.Thread.run(Thread.java:834)
{code}",,,,,,,,,WFCORE-4245,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-21 10:03:35.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z01f94:",9223372036854775807,,0.0,,,,,"Steps to reproduce:
{code}
git clone git://git.app.eng.bos.redhat.com/jbossqe/eap-tests-hornetq.git
cd eap-tests-hornetq/scripts/
git checkout master

groovy -DEAP_ZIP_URL=https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/eap-7.x-messaging-testing-prepare/560/artifact/jboss-eap.zip PrepareServers7.groovy
export WORKSPACE=$PWD
export JBOSS_HOME_1=$WORKSPACE/server1/jboss-eap
export JBOSS_HOME_2=$WORKSPACE/server2/jboss-eap
export JBOSS_HOME_3=$WORKSPACE/server3/jboss-eap
export JBOSS_HOME_4=$WORKSPACE/server4/jboss-eap

cd ../jboss-hornetq-testsuite/
mvn clean test -Dtest=CliReloadTest#reloadServerTestWaitForFullReload     -Deap7.org.jboss.qa.hornetq.apps.clients.version=7.1543611166-SNAPSHOT | tee log
{code}",,,,,,,,,,,"03/Dec/18 7:03 AM;mnovak;[~jmesnil] I can still see the issue in latest Wildfly master. It already contain fix - https://github.com/wildfly/wildfly/pull/11873

I've added steps to reproduce. Re-opening.","25/Jan/19 3:28 PM;jstourac;JFYI: there is also reproducer in JBEAP-16301 that may help, not sure which one is more reliable, though.

Note: I've added '15.0.1.Final' as affected version as I can easily see this exception using reproducer mentioned in JBEAP-16301. Also - I DON'T see this exception with quite recent build of WildFly {{7ed935975189dca0068c3d0a0af71611df26f277}} using reproducer in JBEAP-16301.","19/Feb/19 4:43 PM;brian.stansberry;I'm resolving this for 16 Beta1 as the related WFCORE-4245 fix was in that release. I've read comments indicating that this is no longer seen with recent builds of WildFly master.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
AcmeResourceHandler should avoid per-request object allocations,WFLY-11755,12793441,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,brian.stansberry,brian.stansberry,brian.stansberry,20/Feb/19 11:25 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,20/Feb/19 9:55 PM,,,,,,16.0.0.Final,,,Web (Undertow),,,,,,,,,,,0,,,,,"AcmeResourceHandler is using String.matches(String) to check if it needs to handle a request, which results in per-request allocations.

At minimum this should use a precompile Pattern. That still results in per-request allocation of a Matcher though.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12096,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03ecs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot invoke EJB over HTTP on JDK 11,WFLY-11720,12792313,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,cfang,jkasik,jkasik,14/Feb/19 10:01 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,31/May/19 12:27 PM,16.0.0.Beta1,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,Remoting,,,,,,,,,,0,,,,,"Run of client app calling EJB over HTTP fails on JDK 11 with following log:
{noformat}
Feb 14, 2019 12:49:30 PM org.wildfly.naming.client.Version <clinit>
INFO: WildFly Naming version 1.0.6.Final
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.wildfly.security.manager.GetAccessibleDeclaredFieldAction (file:/home/hudson/hudson_workspace/mod_cluster/client/wildfly-elytron-1.1.3.Final.jar) to field java.security.AccessControlContext.context
WARNING: Please consider reporting this to the maintainers of org.wildfly.security.manager.GetAccessibleDeclaredFieldAction
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
Feb 14, 2019 12:49:30 PM org.wildfly.security.Version <clinit>
INFO: ELY00001: WildFly Elytron version 1.1.3.Final
Feb 14, 2019 12:49:30 PM org.jboss.ejb.client.EJBClient <clinit>
INFO: JBoss EJB Client version 4.0.2.Final
Feb 14, 2019 12:49:30 PM org.xnio.Xnio <clinit>
INFO: XNIO version 3.6.5.Final
Feb 14, 2019 12:49:30 PM org.xnio.nio.NioXnio <clinit>
INFO: XNIO NIO Implementation Version 3.6.5.Final
Feb 14, 2019 12:49:30 PM org.jboss.threads.Version <clinit>
INFO: JBoss Threads version 2.3.0.Beta2
Feb 14, 2019 12:49:30 PM org.jboss.remoting3.EndpointImpl <clinit>
INFO: JBoss Remoting version 5.0.0.Final
Feb 14, 2019 12:49:30 PM org.jboss.threads.LoggingUncaughtExceptionHandler uncaughtException
ERROR: Thread Thread[XNIO-1 task-1,5,main] threw an uncaught exception
java.lang.ExceptionInInitializerError
 at org.jboss.marshalling.river.RiverMarshaller.<clinit>(RiverMarshaller.java:1335)
 at org.jboss.marshalling.river.RiverMarshallerFactory.createMarshaller(RiverMarshallerFactory.java:54)
 at org.wildfly.httpclient.common.HttpTargetContext.createMarshaller(HttpTargetContext.java:132)
 at org.wildfly.httpclient.ejb.HttpEJBReceiver.marshalEJBRequest(HttpEJBReceiver.java:367)
 at org.wildfly.httpclient.ejb.HttpEJBReceiver.lambda$processInvocation$1(HttpEJBReceiver.java:185)
 at org.wildfly.httpclient.common.HttpTargetContext$1.lambda$completed$0(HttpTargetContext.java:338)
 at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1871)
 at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1400)
 at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.IllegalStateException: No standard field found for reverse order comparator!
 at org.jboss.marshalling.river.Protocol.<clinit>(Protocol.java:287)
 ... 9 more
{noformat}",,,,,,,,,,,,,,,WFLY-11914,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Feb/19 2:59 AM;jkasik;classes.zip;https://issues.redhat.com/secure/attachment/12447055/classes.zip","19/Feb/19 1:09 AM;jkasik;client-app.zip;https://issues.redhat.com/secure/attachment/12447173/client-app.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-14 15:34:35.0,,,,,,,,,,,,,,,,,,,,,,,,,,2.0,14.0,,,,,,,,,,"1|z038ic:",9223372036854775807,,0.0,,,,,,,,,,,,jkasik,,Workaround Exists,Use jboss-marshalling 2.0.6.Final on classpath or ejb-client-bom,"14/Feb/19 3:34 PM;brian.stansberry;[~tomekadamski] [~cfang] or [~flavia.rainone] could one of you take this? I don't know if [~dmlloyd] or anyone has any plan to release a JBoss Marshalling 2.1.0 in time for WF 16 Final.  It looks like the issues assigned to it are all resolved except for 1 which has a PR.","14/Feb/19 4:02 PM;dmlloyd;As I always say: I never have a plan to release anything, but if anyone ever wants a tag for any reason, give me a ping a day or two in advance (more if there are PRs to consider).","16/Feb/19 3:14 PM;cfang;[~jkasik], can you provide a reproducer test?  

What is the version of jboss-marshalling in use?","16/Feb/19 11:40 PM;cfang;wildfly-core currently has jboss-marshalling version 2.0.6.Final, which was released in Aug 2018.  By looking at the commits for  JBMAR-216, they were commits from Jan-Feb 2018.  So it appears the fix should already be included in jboss-marshalling 2.0.6.Final (the version used in wildfly-core).  I have to admit, not being familiar with jboss-marshalling, I could be totally wrong here.

jboss-ejb-client currently has jboss-marshalling version 2.0.1.Final, which was released in 2017.  Could the error be caused by the older version of jboss-marshalling brought in by jboss-ejb-client?  We'll need to check how the test app is set up and run.","18/Feb/19 2:57 AM;jkasik;[~cfang] The preparation of app is automated in test and it is done this way:
# Test expects to have {{*all-GAVs.txt}} file available.
# The version of {{org.wildfly.wildfly-http-client:wildfly-http-ejb-client}} artifact is resolved from this file ({{1.0.13.Final}} at this moment)
# Necessary artifact with transitive dependencies are resolved using ShrinkWrap Maven resolver, filtering out any XNIO arifacts
# Version of {{org.jboss.xnio:xnio-nio}} is resolved from that same file ({{3.6.5.Final}}). 
# Resolving for XNIO is done
# Only newer version of {{jboss-threads}} is kept
# Application is put together using resources which I attached and following configuration file (with replaced variables).
# Application is called: {{java -cp /mnt/hudson_workspace/mod_cluster/client/* -Dremote.server.address=10.0.132.214:8080 -Dremote.endpoint.path=/wildfly-services -Dstateful=false noe.common.javatests.EjbviaHttpTest.Client}}

{code:xml}
<configuration>
  <authentication-client xmlns=""urn:elytron:1.0"">
    <authentication-rules>
      <rule use-configuration=""default""/>
    </authentication-rules>
    <authentication-configurations>
      <configuration name=""default"">
        <sasl-mechanism-selector selector=""DIGEST-MD5 -JBOSS-LOCAL-USER""/>
        <set-user-name name=""$user""/>
        <credentials>
          <clear-password password=""$password""/>
        </credentials>
        <providers>
          <use-service-loader/>
        </providers>
      </configuration>
    </authentication-configurations>
  </authentication-client>
  <http-client xmlns=""urn:wildfly-http-client:1.0"">
    <defaults>
      <eagerly-acquire-session value=""false""/>
      <enable-http2 value=""true""/>
    </defaults>
  </http-client>
</configuration>
{code}
Do you also want compiled app including dependencies? Whole tests implementing this is placed here in [our internal testsuite|https://gitlab.mw.lab.eng.bos.redhat.com/jbossqe-eap/noe-tests/blob/master/modcluster/src/test/groovy/noe/modcluster/tests/EjbViaHttpTest.groovy].","18/Feb/19 9:59 PM;cfang;[~jkasik], thanks for the detailed info.  Can you zip up the test app as java or mvn executable?  I tried to build noe-tests/modcluster but had various compile errors.  In the meantime, can you check the effective version of jboss-marshalling in the test runtime, for example by running the following:

java -cp /mnt/hudson_workspace/mod_cluster/client/* -Dremote.server.address=10.0.132.214:8080 -Dremote.endpoint.path=/wildfly-services -Dstateful=false org.jboss.marshalling.Version
","18/Feb/19 10:23 PM;cfang;the version of jboss-marshalling as reported by maven at test directory  {{noe-tests/modcluster}}  is 2.0.0.Final (the current latest release is 2.0.6.Final):

{code}
[INFO] \- org.wildfly.core:wildfly-cli:jar:4.0.0.Final:compile
[INFO]    +- org.aesh:aesh-readline:jar:1.5:compile
[INFO]    |  \- org.fusesource.jansi:jansi:jar:1.11:compile
[INFO]    +- org.aesh:aesh:jar:1.0:compile
[INFO]    +- org.aesh:aesh-extensions:jar:1.0:compile
[INFO]    +- org.jboss:staxmapper:jar:1.3.0.Final:compile
[INFO]    +- org.jboss.modules:jboss-modules:jar:1.7.0.Final:compile
[INFO]    +- org.wildfly.core:wildfly-embedded:jar:4.0.0.Final:compile
[INFO]    +- org.jboss.msc:jboss-msc:jar:1.3.2.Final:compile
[INFO]    +- org.jboss.logmanager:jboss-logmanager:jar:2.0.9.Final:compile
[INFO]    +- org.jboss.remoting:jboss-remoting:jar:5.0.5.Final:compile
[INFO]    |  \- org.wildfly.client:wildfly-client-config:jar:1.0.0.CR2:compile
[INFO]    +- org.jboss.remotingjmx:remoting-jmx:jar:3.0.0.Final:compile
[INFO]    |  +- org.jboss.marshalling:jboss-marshalling:jar:2.0.0.Final:compile
[INFO]    |  \- org.jboss.marshalling:jboss-marshalling-river:jar:2.0.0.Final:compile
[INFO]    +- org.jboss:jboss-vfs:jar:3.2.12.Final:compile
[INFO]    \- org.jboss.stdio:jboss-stdio:jar:1.0.2.GA:compile
{code}



","19/Feb/19 1:09 AM;jkasik;[~cfang] Thank you for your help! I am attaching client app with resolved dependencies as it is being built during test. The version seems to be {{2.0.1.Final}}...
{noformat}
java -cp ""/apache/mod_cluster_workspace/client/*"" -Dremote.server.address=172.17.0.3:8080 -Dremote.endpoint.path=/wildfly-services -Dstateful=false org.jboss.marshalling.Version
JBoss Marshalling version 2.0.1.Final
{noformat}
Following set of libraries is resolved as transitive dependencies of {{org.wildfly.wildfly-http-client:wildfly-http-ejb-client:1.0.13.Final}}
{noformat}
[wildfly-http-ejb-client-1.0.13.Final.jar, undertow-core-1.4.20.Final.jar, jboss-logging-3.2.1.Final.jar, xnio-api-3.3.8.Final.jar, xnio-nio-3.3.8.Final.jar, wildfly-http-client-common-1.0.13.Final.jar, wildfly-common-1.2.0.Final.jar, wildfly-client-config-1.0.0.Final.jar, wildfly-elytron-1.1.3.Final.jar, wildfly-http-naming-client-1.0.13.Final.jar, wildfly-naming-client-1.0.6.Final.jar, jboss-threads-2.2.1.Final.jar, wildfly-http-transaction-client-1.0.13.Final.jar, wildfly-transaction-client-1.0.2.Final.jar, jboss-connector-api_1.7_spec-1.0.0.Final.jar, jboss-ejb-client-4.0.2.Final.jar, jboss-marshalling-2.0.1.Final.jar, jboss-remoting-5.0.0.Final.jar, wildfly-discovery-client-1.0.0.Final.jar, jboss-ejb-api_3.2_spec-1.0.0.Final.jar, jboss-transaction-api_1.2_spec-1.0.1.Final.jar, jboss-marshalling-river-2.0.0.Final.jar]
{noformat}","27/Feb/19 8:40 AM;jkasik;Users are still consuming affected artifacts, so this needs to be fixed.","27/Feb/19 9:05 AM;cfang;I may be missing something, but I don't see anything on WildFly side that need to be fixed for this issue.  Can you be more specific what needs to change?","27/Feb/19 2:57 PM;jkasik;From what I understand we still provide 1.0.13.Final version of {{org.wildfly.wildfly-http-client:wildfly-http-ejb-client}} in Wildfly and this artifact references {{jboss-marshalling-river}} version which is not fixed for JDK 11. We need to be sure that {{wildfly-http-ejb-client}} we provide depends on fixed version of marshalling artifact.","27/Feb/19 4:24 PM;cfang;Okay, I'll take a closer look.  jboss-ejb-client also references the older version of jboss-marshalling, similar to wildfly-http-ejb-client.","28/Feb/19 6:06 PM;cfang;Opened PR for WEJBHTTP-24 and EJBCLIENT-323 to upgrade jboss-marshalling in wildfly-http-client and jboss-ejb-client.","02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WildFlyInitialContext is not working and throw a NoInitialContextException for a lookup,WFLY-11856,12797705,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,tomekadamski,tomekadamski,tomekadamski,15/Mar/19 3:40 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,19/Mar/19 9:52 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"As per documentation (https://github.com/wildfly/wildfly-naming-client#usage)
the standard discovery can be bypassed with
    InitialContext ctx = new WildFlyInitialContext();
    Blah blah = (Blah) ctx.lookup(""foo:blah"");

But this aproach will fail with the following Exception:
Exception in thread ""main"" javax.naming.NoInitialContextException
	at org.wildfly.naming.client.WildFlyInitialContext.getDefaultInitCtx(WildFlyInitialContext.java:65)
	at javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:350)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.wfink.eap71.playground.client.SimpleWildFlyInitialContextClient.main(SimpleWildFlyInitialContextClient.java:41)",,,,,,,,,,,,,JBEAP-13218,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:01.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0418s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
App classloader leaked by IIOP WorkCacheManager cache,WFLY-11784,12794417,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,tomekadamski,tomekadamski,tomekadamski,26/Feb/19 7:25 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,24/Mar/19 6:54 PM,16.0.0.Beta1,,,,,17.0.0.Alpha1,17.0.0.Final,,IIOP,,,,,,,,,,,0,downstream_dependency,,,,"After redeploys, application ear module classloaders are left in org.wildfly.iiop.openjdk.rmi.WorkCacheManager's classesByLoader map:
{code}
com.sun.corba.se.impl.transport.SelectorImpl @ 0xc12234b8  SelectorThread Thread
'- contextClassLoader org.jboss.modules.ModuleClassLoader @ 0xc075bea0
   '- classes java.util.Vector @ 0xc075c4a8
      '- elementData java.lang.Object[160] @ 0xc1afb200  
         '- [58] class org.wildfly.iiop.openjdk.rmi.ValueAnalysis @ 0xc180e4b0  |
            '- cache org.wildfly.iiop.openjdk.rmi.WorkCacheManager @ 0xc180e520
               |- classesByLoader java.util.HashMap @ 0xc180e730
               |  '- table java.util.HashMap$Node[16] @ 0xc1ba2ff8 
               |     |- [14] java.util.HashMap$Node @ 0xc37b01e0 
               |     |  '- key org.jboss.modules.ModuleClassLoader @ 0xc3677958
{code} 

This was previously a weak map, but we switched to strong caching with explicit clean up on undeploy.  It looks like that clean up is missed in some case.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:01.0,,,,,,,,,,https://github.com/wildfly/wildfly-core/pull/3695,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03jkc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"26/Feb/19 7:31 PM;tomekadamski;Attached core PR with the new clean caches phase.","02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DB2 sending larger message (1MB) crashes the whole server,WFLY-11022,12769942,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,fnigro,mnovak,mnovak,17/Sep/18 3:59 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,21/May/19 9:29 AM,14.0.0.Final,,,,,17.0.0.Beta1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"default broker.xml with JDBC for DB2 (and jdbc connector provided in libs dir)
{code:xml}
<store>
  <database-store>
    <jdbc-connection-url>jdbc:db2://db2-111.<hostname>.redhat.com:50000/dballo:user=<user>password=<pass>;</jdbc-connection-url>
    <bindings-table-name>BINDINGS_TABLE</bindings-table-name>
    <message-table-name>MESSAGE_TABLE</message-table-name>
    <page-store-table-name>P_TABLE</page-store-table-name>
    <large-message-table-name>LARGE_MESSAGES_TABLE</large-message-table-name>
    <jdbc-driver-class-name>com.ibm.db2.jcc.DB2Driver</jdbc-driver-class-name>
  </database-store>
</store>

{code}

{noformat}
$ ll -h /tmp/bigfile1mb
-rw-r--r--. 1 root root 1.1M Jun 19 17:44 /tmp/bigfile1m
{noformat}

Core sender
{noformat}
$ java  -jar /var/dtests/node_data/clients/acce.jar sender  --log-msgs dict --broker localhost:5672 --conn-username admin --conn-password admin --address ""test_node_large_durable_msg_queue"" --count 1 --msg-content-from-file /tmp/bigfile1mb --msg-durable True

02:59:52,796 ERROR Failed to create session factory
javax.jms.JMSException: Failed to create session factory
	at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:815)
	at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:277)
	at com.redhat.mqe.acc.AccConnectionManager.<init>(AccConnectionManager.java:73)
	at com.redhat.mqe.acc.AccConnectionManagerFactory.make(AccConnectionManagerFactory.java:33)
	at com.redhat.mqe.acc.AccConnectionManagerFactory.make(AccConnectionManagerFactory.java:27)
	at com.redhat.mqe.lib.CoreClient.createConnection(CoreClient.java:94)
	at com.redhat.mqe.acc.AccSenderClient.startClient(AccSenderClient.java:53)
	at com.redhat.mqe.lib.Main.main(Main.java:46)
	at com.redhat.mqe.acc.Main.main(Main.java:85)
	at com.redhat.mqe.acc.Main.main(Main.java:89)
Caused by: ActiveMQConnectionTimedOutException[errorType=CONNECTION_TIMEDOUT message=AMQ119013: Timed out waiting to receive cluster topology. Group:null]
	at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:814)
	at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:813)
	... 9 more
Exception in thread ""main"" java.lang.NullPointerException
	at com.redhat.mqe.lib.CoreClient.createSession(CoreClient.java:121)
	at com.redhat.mqe.acc.AccSenderClient.startClient(AccSenderClient.java:70)
	at com.redhat.mqe.lib.Main.main(Main.java:46)
	at com.redhat.mqe.acc.Main.main(Main.java:85)
	at com.redhat.mqe.acc.Main.main(Main.java:89)
{noformat}

AMQP sender
{noformat}
$ java  -jar /var/dtests/node_data/clients/aac1.jar sender  --log-msgs dict --broker localhost:5672 --conn-username admin --conn-password admin --address ""test_node_large_durable_msg_queue"" --count 1 --msg-content-from-file /tmp/bigfile1mb --msg-durable True

02:55:31,588 ERROR Error while sending a message!
javax.jms.JMSException: Received error from remote peer without description [condition = amqp:connection:forced]
	at org.apache.qpid.jms.provider.amqp.AmqpSupport.convertToException(AmqpSupport.java:164)
	at org.apache.qpid.jms.provider.amqp.AmqpSupport.convertToException(AmqpSupport.java:117)
	at org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.processRemoteClose(AmqpAbstractResource.java:262)
	at org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:971)
	at org.apache.qpid.jms.provider.amqp.AmqpProvider.access$1900(AmqpProvider.java:105)
	at org.apache.qpid.jms.provider.amqp.AmqpProvider$17.run(AmqpProvider.java:854)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
{noformat}


Broker log
{noformat}
2018-06-22 02:59:22,766 DEBUG [io.netty.util.Recycler] -Dio.netty.recycler.ratio: 8
2018-06-22 02:59:22,779 WARN  [io.netty.channel.DefaultChannelPipeline] An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.: io.n
etty.handler.codec.DecoderException: java.lang.NullPointerException
        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:459) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:265) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at org.apache.activemq.artemis.core.protocol.ProtocolHandler$ProtocolDecoder.channelRead(ProtocolHandler.java:142) [artemis-server-2.6.1.amq-720004-redhat-1.jar:2.6.1.amq-720004-redhat-1]
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1359) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:935) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:404) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:304) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118) [artemis-commons-2.6.1.amq-720004-redhat-1.jar:2.6.1.amq-720004-redhat-1]
Caused by: java.lang.NullPointerException
        at org.apache.activemq.artemis.core.protocol.ProtocolHandler$ProtocolDecoder.decode(ProtocolHandler.java:201) [artemis-server-2.6.1.amq-720004-redhat-1.jar:2.6.1.amq-720004-redhat-1]
        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:428) [netty-all-4.1.19.Final-redhat-1.jar:4.1.19.Final-redhat-1]
        ... 14 more

{noformat}
",57600,57600,,0%,57600,57600,,,,,,,ENTMQBR-1721,,,,,,,,,,,ENTMQBR-1912,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-20 04:59:32.0,,,,,,,,,,https://github.com/rh-messaging/jboss-activemq-artemis/pull/270,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y004bw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade commons-codec from 1.10 to 1.11,WFLY-11985,12802387,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jamezp,ivassile,ivassile,12/Apr/19 9:47 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,16/Apr/19 7:52 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-14 14:56:06.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12226,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04rlw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SFSB memory leak due to Date() usage,WFLY-11970,12801868,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,dereed,dereed,10/Apr/19 5:33 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,14/Apr/19 7:54 PM,11.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,,,,,,,,,,,0,downstream_dependency,,,,"SFSB tracks expiration with ""new Date().getTime()"" and ""System.currentTimeMillis()"".
But the expiration threads are scheduled (inside JDK classes) with System.nanoTime().

If the expiration task runs before the bean is considered expired, the expiration check fails and the bean is never expired.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Release Notes,,,,,,,,,,,,,,,2019-04-11 13:34:04.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12183,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z04p5g:",9223372036854775807,,0.0,,,,,"Access an SFSB.
Change the system time backwards before the SFSB expiration time elapses (I ran ""date"", then copy/pasted it into ""date -s"" several seconds later).
Wait sufficient time for expiration (and potential retry) and attempt to access bean again.

Expected: bean no longer exists.
Actual: bean never expires.",,https://access.redhat.com/support/cases/02316618,,,,,,,,,"11/Apr/19 3:41 PM;pferraro;{quote}I was assuming the use of Date().getTime() and System.currentTimeMillis() was so that the lastAccessed timestamp would be valid on failover on a different system{quote}

Yeah, nevermind.  We can't use System.nanoTime() for lastAccessedTime, since different members can have different origin times.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update javassist from 3.23.1-GA to 3.23.2-GA,WFLY-11875,12798153,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,soul2zimate,soul2zimate,soul2zimate,20/Mar/19 2:36 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,24/Apr/19 6:50 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,downstream_dependency,,,,"EAP 7.2.0.GA.CR5  ships with javassist-3.23.1 which suffers from a bug that makes powermock test cases fail
ref https://github.com/jboss-javassist/javassist/issues/224

The issue has been fixed for javassist 3.24.0.

diff: https://github.com/jboss-javassist/javassist/compare/rel_3_23_1_ga...rel_3_24_1_ga
",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10683,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-19 01:31:50.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12242,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z043wk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Apr/19 1:31 AM;gbadner;[~soul2zimate], I can do it along with WFLY-12008. Thanks for the reminder!","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Artemis throws Critical IO Error if new journal file is not created in 5 seconds,WFLY-11404,12780633,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,thofman,thofman,thofman,22/Nov/18 9:05 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,11/May/19 9:00 AM,15.0.0.Beta1,,,,,17.0.0.Alpha1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"I can see in our CI jobs that Artemis sometimes stops because of error \[1\]. I looked at the code \[2\] where the exception is thrown and I think it could be improved a bit.

_Customer Impact:_ If Artemis journal is located on slower file system (like NFS) then if server is under load then it might crash. This will lead to unavailability of service. Server must be restarted to recover. 

First thing I noticed is that the 5 seconds timeout is not configurable. I agree that it should be enough in most cases but if someone would want to use NFS for Artemis journal and he doesn't care about performance, we should able him to tune this value. Additionally the timeout doesn't reflect size of journal files.

Second thing is that when {{openedFiles.poll()}} returns null we can't be sure whether it is problem of exhausted disc or exhausted CPU. I think there should be added some kind of latch which would wait until pushOpenRunnable is executed. It will make sure that there is issue with IO operations and it was not caused by exhausted CPU.

\[1\]
{code}
09:45:07,418 WARN  [org.apache.activemq.artemis.core.server] (Thread-10 (ActiveMQ-IO-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$4@2646099c-962838060)) AMQ222010: Critical IO Error, shutting down the server. file=NULL, message=unable to open : ActiveMQIOErrorException[errorType=IO_ERROR message=AMQ149003: File not opened]
        at org.apache.activemq.artemis.core.journal.impl.JournalFilesRepository.openFile(JournalFilesRepository.java:423) [artemis-journal-1.5.3.002-redhat-1.jar:1.5.3.002-redhat-1]
        at org.apache.activemq.artemis.core.journal.impl.JournalImpl.moveNextFile(JournalImpl.java:2885) [artemis-journal-1.5.3.002-redhat-1.jar:1.5.3.002-redhat-1]
        at org.apache.activemq.artemis.core.journal.impl.JournalImpl.switchFileIfNecessary(JournalImpl.java:2842) [artemis-journal-1.5.3.002-redhat-1.jar:1.5.3.002-redhat-1]
        at org.apache.activemq.artemis.core.journal.impl.JournalImpl.appendRecord(JournalImpl.java:2568) [artemis-journal-1.5.3.002-redhat-1.jar:1.5.3.002-redhat-1]
        at org.apache.activemq.artemis.core.journal.impl.JournalImpl.access$200(JournalImpl.java:87) [artemis-journal-1.5.3.002-redhat-1.jar:1.5.3.002-redhat-1]
        at org.apache.activemq.artemis.core.journal.impl.JournalImpl$4.run(JournalImpl.java:889) [artemis-journal-1.5.3.002-redhat-1.jar:1.5.3.002-redhat-1]
        at org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$ExecutorTask.run(OrderedExecutorFactory.java:101) [artemis-commons-1.5.3.002-redhat-1.jar:1.5.3.002-redhat-1]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_111]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_111]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_111]
{code}

\[2\]
{code}
public JournalFile openFile() throws InterruptedException, ActiveMQIOErrorException {
      if (logger.isTraceEnabled()) {
         logger.trace(""enqueueOpenFile with openedFiles.size="" + openedFiles.size());
      }

      if (openFilesExecutor == null) {
         pushOpenRunnable.run();
      } else {
         openFilesExecutor.execute(pushOpenRunnable);
      }

      JournalFile nextFile = openedFiles.poll(5, TimeUnit.SECONDS);
      if (nextFile == null) {
         fileFactory.onIOError(ActiveMQJournalBundle.BUNDLE.fileNotOpened(), ""unable to open "", null);
         // We need to reconnect the current file with the timed buffer as we were not able to roll the file forward
         // If you don't do this you will get a NPE in TimedBuffer::checkSize where it uses the bufferobserver
         fileFactory.activateBuffer(journal.getCurrentFile().getFile());
         throw ActiveMQJournalBundle.BUNDLE.fileNotOpened();
      }

      if (logger.isTraceEnabled()) {
         logger.trace(""Returning file "" + nextFile);
      }

      return nextFile;
   }
{code}",,,,,,,,,,,,,JBEAP-9223,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-10 11:56:47.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11918,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z01h7k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/Dec/18 11:56 AM;kabirkhan;[~mnovak] [~rsvoboda] Will this need extra testing from your side? If the answer is yes, this probably needs to be an EAP7 RFE with an analysis document ([~thofman] I can point you to what is needed from your side if this turns out to be the case)
CC [~jamezp]","12/Dec/18 7:59 AM;thofman;Analysis: https://github.com/wildfly/wildfly-proposals/pull/161","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Apache CXF 3.3.2 and JBossWS 5.3.0.Final,WFLY-12070,12806674,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,jim.ma,jim.ma,jim.ma,13/May/19 4:54 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,22/May/19 10:15 AM,16.0.0.Final,,,,,17.0.0.Beta1,17.0.0.Final,,Web Services,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-13 04:57:23.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05g5o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/May/19 4:57 AM;ropalka;We're long awaiting for this PR [~jim.ma] as it should fix remaining JDK13 issues :)","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deployment classloader leak on EE Concurrency managed threads,WFLY-11846,12797306,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,emmartins,emmartins,emmartins,13/Mar/19 4:23 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,20/Mar/19 6:01 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Concurrency Utilities,,,,,,,,,,,0,,,,,"A followup to WFLY-11678, managed threads have another deployment CL leak, which happens due to parent thread having a reference to it in its AccessControlContext. When a thread is created it inherits parent's AccessControlContext.",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11678,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Mar/19 4:28 PM;emmartins;Screenshot 2019-03-13 at 20.21.19.png;https://issues.redhat.com/secure/attachment/12448455/Screenshot+2019-03-13+at+20.21.19.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-13 18:11:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12159,,,,,,,,,,,,,,,,1.0,2.0,,,,,,,,,,"1|z03yvo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"29/Apr/19 11:54 AM;mperina;[~dfediuck]","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Mutations following HttpSession.setAttribute(...) lost on failover when using ATTRIBUTE granularity distributed web session with a non-transactional cache,WFLY-11884,12798357,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,pferraro,pferraro,20/Mar/19 6:24 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,21/Mar/19 9:15 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,downstream_dependency,,,,"Consider the following code:

AtomicInteger value = new AtomicInteger(1);
session.setAttribute(""a"", value);
value.incrementAndGet();

On failover, the value of attribute ""a"" will still be 1.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:46.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12177,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0452c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deprecated WeldDeploymentMarker and WeldPortableExtensions functionality not working as expected,WFLY-12058,12806195,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,yersan,emmartins,emmartins,09/May/19 5:35 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,11/May/19 9:06 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,CDI / Weld,,,,,,,,,,,0,,,,,"WFLY-11186 deprecated WeldDeploymentMarker and WeldPortableExtensions, yet it also broken at least
WeldDeploymentMarker.isPartOfWeldDeployment(deploymentUnit) and WeldPortableExtensions.getPortableExtensions(deploymentUnit).registerExtensionInstance(new PortableExtension(deploymentUnit), deploymentUnit), which are not working as expected. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:43.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12270,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05db8:",9223372036854775807,,0.0,,,,,"1. Clone my WFLY-9529-3-broken branch of my wildfly/wildfly fork
{code}
git clone -b WFLY-9529-3-broken --single-branch https://github.com/emmartins/wildfly emmartins_wildfly_WFLY-9529-3-broken
{code}

2. Build server:
{code}
./emmartins_wildfly_WFLY-9529-3-broken/build.sh -DskipTests
{code}

3. Run test which fails yet should pass:
{code}
./emmartins_wildfly_WFLY-9529-3-broken/integration-tests.sh -Dts.basic -Dtest=ApplicationContextLifecycleTestCase
{code}

4. Review changes to not use the broken deprecated classes, which makes the test pass, at https://pastebin.com/DUkDPiM0 
",,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SFSB expiration failures cause memory leak,WFLY-11897,12798851,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,dereed,dereed,24/Mar/19 10:17 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,14/Apr/19 7:54 PM,11.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,,,,,,,,,,,0,downstream_dependency,,,,"There is a timing bug where SFSB expiration can run while the SFSB is still locked, causing the expiration to fail and never retry, leaving the SFSB active indefinitely.
",,,,,,,,,,,,,JBEAP-16601,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Mar/19 10:50 AM;dereed;WFLY-11897.btm;https://issues.redhat.com/secure/attachment/12448811/WFLY-11897.btm","24/Mar/19 10:49 AM;dereed;test.ear;https://issues.redhat.com/secure/attachment/12448810/test.ear",,,,,,,,,,,,,,,Release Notes,,,,,,,,,,,,,,,2019-10-02 18:37:40.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12183,,,,,,,,,,,,,,,,2.0,2.0,,,,,,,,,,"1|z047z0:",9223372036854775807,,0.0,,,,,"Configure attached Byteman script that triggers the bug.

Attached reproducer contains a simple EJB and a jsp (http://localhost:8080/test to run) that calls the EJB to trigger the bug, waits to give expiration a chance to run, then tries to call the EJB again.  The JSP logs ""PASS"" or ""FAIL"" to stdout.

Note: SFSB in reproducer has a 1 minute timeout in order to trigger the bug somewhat quickly, and the byteman script waits accordingly.  The wait would need to be increased for a longer SFSB timeout.",,,,,,,,,,,"24/Mar/19 11:01 AM;dereed;One simple fix: add a retry in org.wildfly.clustering.ejb.infinispan.BeanExpirationScheduler$ExpirationTask#run instead of just logging the error.

But I suspect that could cause other issues with constant retries if there was a different problem that wasn't just from bad timing.
","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Mutations following HttpSession.setAttribute(...) lost on failover when using SESSION granularity distributed web session with a non-transactional cache,WFLY-12139,12809988,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,pferraro,pferraro,29/May/19 6:01 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,31/May/19 7:36 PM,16.0.0.Final,,,,,17.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"Consider the following code:

AtomicInteger value = new AtomicInteger(1);
session.setAttribute(""a"", value);
value.incrementAndGet();

On failover, the value of attribute ""a"" will still be 1.",,,,,,,,,,,,,WFLY-11884,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:39.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12327,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05yk4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Core JMS client leaks temporary destination names,WFLY-11610,12788035,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,ehugonnet,ehugonnet,ehugonnet,18/Jan/19 7:06 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,21/May/19 9:23 AM,15.0.1.Final,,,,,17.0.0.Beta1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"The core JMS client leaks the {{SimpleString}} identifiers for temporary destinations. When a temporary JMS destination is created it is added to two lists on {{ActiveMQConnection}}, but when it is deleted it is only removed from one list.
{code:java}
public void addTemporaryQueue(final SimpleString queueAddress) {
 tempQueues.add(queueAddress);
 knownDestinations.add(queueAddress);
}

public void removeTemporaryQueue(final SimpleString queueAddress) {
 tempQueues.remove(queueAddress);
}{code}",,,,,,,,,,,,,JBEAP-16034,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:38.0,,,,,,,,,,https://github.com/rh-messaging/jboss-activemq-artemis/pull/281,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02ljc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
jax-rs and CDI: FormParam in BeanParam is not injected,WFLY-11680,12790962,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,istudens,mkopecky,mkopecky,07/Feb/19 2:41 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,31/May/19 12:39 PM,,,,,,17.0.0.Beta1,17.0.0.Final,,CDI / Weld,REST,,,,,,,,,,0,,,,,"RESTEasy with CDI is unable to inject FormParam in BeanParam if BeanParam is with RequestScoped

This issue is not a regression against WF11. But this issue looks like spec violation (cc [~msvehla]). This issue is not present on Payara with Jersey (reference jax-rs implementation)

Example:
{code:java}
@Path(""/a"")
public class Resource {
    @POST
    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)
    public Integer a(@BeanParam CustomBean customBean) {
        return customBean.getParam().length();
    }
}
@RequestScoped
public class CustomBean {
    @FormParam(""param"")
    private String param;
    public String getParam() {
        return param;
    }
}
{code}
{code:html}
<!DOCTYPE html><html><body>
<form action=""http://127.0.0.1:8080/jaxrs-wf/a"" method=""post"" enctype=""application/x-www-form-urlencoded"">
    <input type=""text"" name=""param""><br>
    <input type=""submit"" value=""Submit"" name=""submit"">
</form></body></html>
{code}
{noformat}
08:25:18,584 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /jaxrs-wf/a: org.jboss.resteasy.spi.UnhandledException: java.lang.NullPointerException
	at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:78)
	at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:222)
	at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:193)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:455)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:355)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:227)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.resteasy.simple.deployment.Resource.a(Resource.java:18)
	at org.resteasy.simple.deployment.Resource$Proxy$_$$_WeldClientProxy.a(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:139)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:509)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:399)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:363)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:355)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:365)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:337)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:310)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:439)
	... 55 more
{noformat}

----

* [Forum link|https://developer.jboss.org/thread/279572]
* cc [~asoldano]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-08 01:04:20.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z031j0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Mar/19 6:56 AM;manovotn;[~istudens] I did some debugging there and what I saw corresponds to what I initially said in an email.
With {{@RequestScoped}} beans you are using  client proxies at injection points and the injectors ({{PropertyInjectorImpl}}) are then (incorrectly) operating on proxies.
OTOH with {{@Dependent}} there are no proxies in play and you are setting the value directly to an actual contextual instance.

The proxy is a problem because its state is disregarded by Weld - instead, all method calls are forwarded to an actual instance below; one that doesn't have a state set hence the {{null}} value.

As a side note, from spec perspective I don't think it is required to support this use case. 
That being said, there is quite easy way to achieve it assuming you can depend on Weld API (no, there is no designed way to achieve proxy unwrapping purely via CDI).
Every client proxy bean in Weld implements [{{WeldClientProxy}}|https://github.com/weld/api/blob/master/weld/src/main/java/org/jboss/weld/proxy/WeldClientProxy.java] class. You can do a simple {{instanceof}} check to verify that you are working with a proxy. From there you can cast it and via {{getMetadata().getContextualInstance()}} grab the underlying contextual instance which you then inject just like you do it for dependent.

{code}
public class CdiPropertyInjector implements PropertyInjector {
 // example of how to grab the instance
   @Override
   public void inject(HttpRequest request, HttpResponse response, Object target) throws Failure, WebApplicationException, ApplicationException
   {
      if (injectorEnabled)
      {
         Object actualTarget = target;
         if (target instanceof WeldClientProxy) {
            actualTarget = ((WeldClientProxy)target).getMetadata().getContextualInstance();
         }
         delegate.inject(request, response, actualTarget);
      }
   }
}
{code}","12/Mar/19 6:33 AM;istudens;[~manovotn] Thanks for your comment. 

I will try to avoid using proxies and check if it doesn't break anything else.

The reason why I assume proxies are correct is that during the injection phase it uses client proxy with a real backed bean instance which gets the parameters set correctly via the proxy, the bean instance is stored into a ContextualStore, it uses the same instance of the back bean as well as the same instance of the ProxyMethodHandler all the time. But then when it gets to the invocation of post method -> Resource client proxy -> Resource instance -> Bean client proxy -> Bean instance, the Bean instance is a new one instead of the previously one used for the injection. At time of this invocation it calls  CachingContextualInstanceStrategy which creates a new instance. I expect this might be fixed to get to the correct instance somehow instead of disabling proxies at all.","12/Mar/19 8:11 AM;manovotn;bq. I will try to avoid using proxies and check if it doesn't break anything else.

You will always have a client proxy in place with request scoped beans (or any other normal scoped bean).

The proxy is just an ""empty holder"" that knows how to get an actual underlying bean and forwards all calls there.
Setting anything on a field that belongs to proxy class has no effect. Furthermore, bean initialization is lazy - you will get a proxy object injected but actual contextual instance isn't created until you first try to access it which might have confused you when debugging.

bq. The reason why I assume proxies are correct is that during the injection phase it uses client proxy with a real backed bean instance which gets the parameters set correctly via the proxy,...

If you debug the {{PropertyInjectorImpl}} when it tries to inject into the class, the {{Object target}} parameter is a proxy class and not the contextual instance.
Calling {{getClass().getName()}}  on it will get you something like {{org.jboss.as.test.integration.jaxrs.client.CustomBean$Proxy$_$$_WeldClientProxy}}. ","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Narayana XTS txbridge not permitting to start transaction when no timeout is set,WFLY-11849,12797360,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,ochaloup,ochaloup,ochaloup,14/Mar/19 4:50 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,05/Apr/19 1:52 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,"The issue comes with changes in WFTC-54 where it was decided that the timeout of value {{0}} is not acceptable (see https://issues.jboss.org/browse/WFTC-54?focusedCommentId=13677791#comment-13677791). The txbridge still uses value of {{0}} as definition of not timeout.
It seems the Narayana XTS txbridge needs to change the behaviour in similar way as it was done for the ejb client https://issues.jboss.org/browse/EJBCLIENT-316.

Exception from the quickstart test
{code}
08:10:54,062 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-1) SQL Error: 0, SQLState: null
08:10:54,062 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-1) javax.resource.ResourceException: IJ000457: Unchecked throwable in managedConnectionReconnected() cl=org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@3390ed76[state=DESTROYED managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@57f69ba4 connection handles=0 lastReturned=1552633854061 lastValidated=1552633843044 lastCheckedOut=1552633854053 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@8a6f029 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@53e6f370[pool=ExampleDS] xaResource=LocalXAResourceImpl@7ba86ccf[connectionListener=3390ed76 connectionManager=27d84966 warned=false currentXid=null productName=H2 productVersion=1.4.193 (2016-10-31) jndiName=java:jboss/datasources/ExampleDS] txSync=null]
08:10:54,064 INFO  [org.hibernate.event.internal.DefaultLoadEventListener] (default task-1) HHH000327: Error performing load command : org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection
08:10:54,067 ERROR [org.jboss.as.ejb3.invocation] (default task-1) WFLYEJB0034: EJB Invocation failed on component FirstServiceATImpl for method public void org.jboss.narayana.quickstarts.wsat.jtabridge.first.FirstServiceATImpl.incrementCounter(int): javax.ejb.EJBTransactionRolledbackException: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:203)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.mandatory(CMTTxInterceptor.java:319)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:138)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
        at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
        at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
        at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
        at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
        at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
        at org.jboss.as.webservices.invocation.AbstractInvocationHandler.invokeInternal(AbstractInvocationHandler.java:161)
        at org.jboss.as.webservices.invocation.AbstractInvocationHandler.lambda$invoke$0(AbstractInvocationHandler.java:116)
        at org.jboss.as.webservices.security.SecurityDomainContextImpl.runAs(SecurityDomainContextImpl.java:124)
        at org.jboss.as.webservices.invocation.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:115)
        at org.jboss.wsf.stack.cxf.JBossWSInvoker.performInvocation(JBossWSInvoker.java:170)
        at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)
        at org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.invoke(AbstractJAXWSMethodInvoker.java:232)
        at org.apache.cxf.jaxws.JAXWSMethodInvoker.invoke(JAXWSMethodInvoker.java:85)
        at org.jboss.wsf.stack.cxf.JBossWSInvoker.invoke(JBossWSInvoker.java:146)
        at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at org.apache.cxf.interceptor.ServiceInvokerInterceptor$2.run(ServiceInvokerInterceptor.java:126)
        at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)
        at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:131)
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
        at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
        at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
        at org.jboss.wsf.stack.cxf.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:110)
        at org.jboss.wsf.stack.cxf.transport.ServletHelper.callRequestHandler(ServletHelper.java:134)
        at org.jboss.wsf.stack.cxf.CXFServletExt.invoke(CXFServletExt.java:88)
        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)
        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:220)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:706)
        at org.jboss.wsf.stack.cxf.CXFServletExt.service(CXFServletExt.java:136)
        at org.jboss.wsf.spi.deployment.WSFServlet.service(WSFServlet.java:140)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
        at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364)
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
        at java.lang.Thread.run(Thread.java:748)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection
        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)
        at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3511)
        at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3446)
        at org.jboss.as.jpa.container.AbstractEntityManager.find(AbstractEntityManager.java:213)
        at org.jboss.narayana.quickstarts.wsat.jtabridge.first.FirstServiceATImpl.lookupCounterEntity(FirstServiceATImpl.java:85)
        at org.jboss.narayana.quickstarts.wsat.jtabridge.first.FirstServiceATImpl.incrementCounter(FirstServiceATImpl.java:62)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)
        at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
        at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:185)
        ... 103 more
Caused by: org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection
        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)
        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:109)
        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:136)
        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:47)
        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)
        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)
        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)
        at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.prepareQueryStatement(AbstractLoadPlanBasedLoader.java:226)
        at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:190)
        at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:121)
        at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86)
        at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:188)
        at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4271)
        at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:511)
        at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:481)
        at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:222)
        at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:281)
        at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:124)
        at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:92)
        at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1256)
        at org.hibernate.internal.SessionImpl.access$1900(SessionImpl.java:207)
        at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2873)
        at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2847)
        at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3482)
        ... 135 more
Caused by: java.sql.SQLException: javax.resource.ResourceException: IJ000457: Unchecked throwable in managedConnectionReconnected() cl=org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@3390ed76[state=DESTROYED managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@57f69ba4 connection handles=0 lastReturned=1552633854061 lastValidated=1552633843044 lastCheckedOut=1552633854053 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@8a6f029 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@53e6f370[pool=ExampleDS] xaResource=LocalXAResourceImpl@7ba86ccf[connectionListener=3390ed76 connectionManager=27d84966 warned=false currentXid=null productName=H2 productVersion=1.4.193 (2016-10-31) jndiName=java:jboss/datasources/ExampleDS] txSync=null]
        at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:146)
        at org.jboss.as.connector.subsystems.datasources.WildFlyDataSource.getConnection(WildFlyDataSource.java:64)
        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
        at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:35)
        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:106)
        ... 157 more
Caused by: javax.resource.ResourceException: IJ000457: Unchecked throwable in managedConnectionReconnected() cl=org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@3390ed76[state=DESTROYED managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@57f69ba4 connection handles=0 lastReturned=1552633854061 lastValidated=1552633843044 lastCheckedOut=1552633854053 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@8a6f029 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@53e6f370[pool=ExampleDS] xaResource=LocalXAResourceImpl@7ba86ccf[connectionListener=3390ed76 connectionManager=27d84966 warned=false currentXid=null productName=H2 productVersion=1.4.193 (2016-10-31) jndiName=java:jboss/datasources/ExampleDS] txSync=null]
        at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.reconnectManagedConnection(AbstractConnectionManager.java:1055)
        at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.allocateConnection(AbstractConnectionManager.java:792)
        at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:138)
        ... 161 more
Caused by: javax.resource.ResourceException: IJ000461: Could not enlist in transaction on entering meta-aware object
        at org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.managedConnectionReconnected(TxConnectionManagerImpl.java:571)
        at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.reconnectManagedConnection(AbstractConnectionManager.java:977)
        ... 163 more
Caused by: javax.transaction.SystemException: Error enlisting resource in transaction=Local transaction (delegate=TransactionImple < jca-subordinate, BasicAction: 0:ffff0a00000a:4328fa33:5c8b4feb:29 status: ActionStatus.RUNNING >, owner=Local transaction context for provider JBoss JTA transaction provider)
        at org.jboss.jca.core.connectionmanager.listener.TxConnectionListener$TransactionSynchronization.checkEnlisted(TxConnectionListener.java:956)
        at org.jboss.jca.core.connectionmanager.listener.TxConnectionListener.enlist(TxConnectionListener.java:394)
        at org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.managedConnectionReconnected(TxConnectionManagerImpl.java:564)
        ... 164 more
Caused by: javax.transaction.SystemException: WFTXN0097: Cannot enlist XA resource 'LocalXAResourceImpl@7ba86ccf[connectionListener=3390ed76 connectionManager=27d84966 warned=false currentXid=null productName=H2 productVersion=1.4.193 (2016-10-31) jndiName=java:jboss/datasources/ExampleDS]' to transaction 'Local transaction (delegate=TransactionImple < jca-subordinate, BasicAction: 0:ffff0a00000a:4328fa33:5c8b4feb:29 status: ActionStatus.RUNNING >, owner=Local transaction context for provider JBoss JTA transaction provider)' as timeout already elapsed
        at org.wildfly.transaction.client.LocalTransaction.enlistResource(LocalTransaction.java:162)
        at org.jboss.jca.core.connectionmanager.listener.TxConnectionListener$TransactionSynchronization.enlist(TxConnectionListener.java:986)
        at org.jboss.jca.core.connectionmanager.listener.TxConnectionListener.enlist(TxConnectionListener.java:379)
        ... 165 more
{code}",,,,,,,,,,,,,,,,,,,,,,,,WFTC-54,EJBCLIENT-316,JBEAP-17420,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:31.0,,,,,,,,https://developer.jboss.org/message/988465#988465,,https://github.com/wildfly/wildfly/pull/12197,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03z6k:",9223372036854775807,,0.0,,,,,"Run Narayana quickstart

* {{git clone https://github.com/jbosstm/quickstart.git}}
* {{cd quickstart/XTS}}
* {{mvn install -DskipTests}}
* download WFLY16 (http://wildfly.org/downloads/)
* unzip WFLY16 #1 while defining {{JBOSS_HOME_1=...}}
* unzip WFLY16 #1 while defining {{JBOSS_HOME_2=...}}
* {{cd wsat-jta-multi_service}}
* {{mvn test -Parq}}",,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HotRod-based session manager should use max-active-sessions to configure L1 per remote cache,WFLY-12148,12810205,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Done,pferraro,pferraro,pferraro,30/May/19 4:33 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,06/Jun/19 10:00 PM,17.0.0.Beta1,,,,,17.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"Currently, the hotrod-based session manager uses the l1 configuration of the associated remote-cache-container to determine the number of entries to retain in memory.  This has the following drawbacks:

* any configured max-active-sessions (from jboss-web.xml) is ignored
* the remote cache for each deployment of a given remote-cache-container will use the same configuration
* the value does not reflect the number of sessions, but, rather, the number of cache entries, which requires the user to be familiar with how sessions are mapped to the cache, which itself depends on the configured granularity.

In order to align this behavior with the other session manager implementations, L1 should be configured per remote cache based on the value specified by max-active-sessions.  This requires several changes:

* Add the ability to override the near cache implementation per remote cache
* Create a custom NearCache<K, V> implementation configured with a custom Caffeine cache configured with a custom weigher, similar to how max-active-session is implemented via a custom data container.
* Add listener mechanism to support cascading of L1 invalidations to dependent entries",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:29.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12343,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05zuc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Translated clustering attribute do not correctly translate undefine-attribute operation.,WFLY-12602,12830740,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Rejected,pferraro,pferraro,pferraro,27/Sep/19 12:09 PM,27/Sep/19 3:18 PM,28/Dec/19 1:29 PM,27/Sep/19 3:18 PM,18.0.0.Beta1,,,,,,,,Clustering,,,,,,,,,,,0,,,,,"Clustering subsystems make use of generic operations handlers for handling things like:
stats-enabled -> statistics-enabled

While the read-attribute and write-attribute operations are correctly handled, the undefine-attribute operation is not.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z097to:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"27/Sep/19 3:18 PM;pferraro;Actually, this already works!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Non-anonymous principal is not propagated from EJB context to CDI bean,WFLY-11604,12787887,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Duplicate Issue,,nziakova,nziakova,17/Jan/19 8:32 AM,11/Sep/19 7:32 AM,28/Dec/19 1:29 PM,11/Sep/19 7:32 AM,14.0.1.Final,15.0.1.Final,,,,,,,CDI / Weld,Security,,,,,,,,,,0,,,,,"This is a follow-up on WFLY-11587 which only dealt with being able to inject the principal. 

However, during testing I have tried a scenario when the caller principal was not anonymous (run-as-principal setting in jboss-ejb3.xml). See the test case in this [commit|https://github.com/nziakova/wildfly/commit/9ae586ad0159e6399f65103e049b06ccd8356135].

The principal is not propagated from the EJB context. The result is that injected principal in the CDI bean is always anonymous, although {{ctx.getCallerPrincipal()}} in the EJB returns correct principal.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-22 05:06:57.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,15.0,,,,,,,,,,"1|z02kow:",9223372036854775807,,0.0,,,,,"Run the test: mvn test -Dtest=InjectPrincipalTestCase

Repo: git@github.com:nziakova/wildfly.git
Branch: wfly11587-followup",,,,,,,,,,,"22/Jan/19 5:06 AM;mchoma;[~dlofthouse] could you have a look? Although we are not sure it is a bug, it seems very suspicious. We cant spot the problem in the test. Setting to Critical to triage properly.","22/Jan/19 5:17 AM;dlofthouse;Is this looking at Elytron or PicketBox?","22/Jan/19 5:34 AM;mchoma;PicketBox, Nikoleta was basically following documentation https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html/developing_ejb_applications/ejb_application_security . 

Fact that ctx.getCallerPrincipal() returns correct principal makes us think configuration is correct. But we are not sure if this assumption is correct.","22/Jan/19 6:41 AM;manovotn;For the record, Weld is basically delegating the Principal retrieval to security subsystem and then the bean forwards any calls to the Principal it got.
In WFLY this is implemented by [WeldSecurityServices|https://github.com/wildfly/wildfly/blob/master/weld/subsystem/src/main/java/org/jboss/as/weld/services/bootstrap/WeldSecurityServices.java#L73-L85].
","22/Jan/19 6:43 AM;dlofthouse;Is there an Elytron equivalent of that class? How is that working?","22/Jan/19 6:52 AM;manovotn;The code I posted above checks firstly for Elytrron domain and tries to fetch Principal from there. From what I know, there is no other Elytron-specific class for this.","11/Feb/19 11:34 AM;mchoma;Last time I was talking with Nikoleta, this is happening also with Elytron default security domain turned on.","12/Feb/19 1:46 PM;dlofthouse;[~manovotn] Are you Ok for me to take a look into this one?","13/Feb/19 5:20 AM;manovotn;[~dlofthouse] please go ahead","18/Feb/19 1:07 PM;dlofthouse;On a separate point once Elytron is enabled I notice that also anonymous is returned even when the EJBContext is called - this may need a closer look overall as I believe the RunAs behaviour was looked at quite closely as Elytron was added to the EJB container.

[~fjuma] / [~flavia.rainone] I am continuing to look into the differences - not sure if either of you have additional input as the correct behaviour?","18/Feb/19 1:47 PM;dlofthouse;I see the difference now and believe this is the intended behaviour.

At the moment just looking at testNonAnonymousPrincipalInjected() we have two calls: -

1 - CallerWithIdentity->BeanWithInjectedPrincipal
2 - CallerWithIdentity->BeanWithPrincipalFromEJBContext

The bean CallerWithIdentity is configured with a run-as-principal of 'non-anonymous'.  This run as principal affects outbound calls from this bean so when we call a different EJB the identity is switched.

In scenario #2 the call is to a different EJB, this means the call passes through security interceptors which identify any outbound principal and make use of it for the next stage in the call.  This is expected and in the test the expected value is being returned.

In scenario #1 however the call does not pass to another EJB, instead it passes directly to an injected CDI bean.  As this bean is directly injected it is running using the SecurityContext of the CallerWithIdentity bean so it is correct that this is returning 'anonymous' instead of 'non-anonymous'.

If I change the call to: -

3 - CallerWithIdentity->BeanWithPrincipalFromEJBContext -> BeanWithInjectedPrincipal

Now the call leaves 'CallerWithIdentity' and enters a second EJB so the run-as-principal is used, the injected CDI bean is now using the security context of the second bean so returns 'non-anonymous'.

This does however leave the question once WildFly Elytron is activated regarding why the EJBContext does not report the run as principal when the call reaches the second bean, I suspect this may have been a decision during implementation as these run as scenarios were discussed quite heavily but it is purely an EJB container issue and not a CDI issue.




","19/Feb/19 5:30 PM;fjuma;{quote}
This does however leave the question once WildFly Elytron is activated regarding why the EJBContext does not report the run as principal when the call reaches the second bean, I suspect this may have been a decision during implementation as these run as scenarios were discussed quite heavily but it is purely an EJB container issue and not a CDI issue.
{quote}

For JBEAP-9744, we updated {{EJBContext.getCallerPrincipal()}} so that when called from an unsecured bean, an anonymous principal is returned. This was done to match PicketBox behaviour for the Remoting -> EJB case.

For the EJB -> EJB case here with Elytron enabled (i.e., {{CallerWithIdentity -> BeanWithPrincipalFromEJBContext}}), notice that {{BeanWithPrincipalFromEJBContext}} is an unsecured bean. So when {{EJBContext.getCallerPrincipal}} is called, the 'anonymous' principal is currently being returned. However, if any security metadata is added to this bean, then the 'non-anonymous' principal will be returned. Since the 'non-anonymous' principal is returned for the legacy case, I think we should get an issue created to see if there is a way to fix this for the Elytron case without breaking the fix for JBEAP-9744.","04/Sep/19 4:53 AM;dvilkola;{quote}In scenario #1 however the call does not pass to another EJB, instead it passes directly to an injected CDI bean. As this bean is directly injected it is running using the SecurityContext of the CallerWithIdentity bean so it is correct that this is returning 'anonymous' instead of 'non-anonymous'.{quote}

[~dlofthouse] [~fjuma] This holds true for legacy, but when Elytron is enabled the scenario #1 is returning non-anonymous principal. The difference is in [this method|https://github.com/wildfly/wildfly/blob/master/weld/subsystem/src/main/java/org/jboss/as/weld/services/bootstrap/WeldSecurityServices.java#L73-L85]. For elytron the line `elytronDomain.getCurrentSecurityIdentity().getPrincipal();` returns non-anonymous, but legacy returns anonymous. So both scenarios (CallerWithIdentity->BeanWithInjectedPrincipal and also CallerWithIdentity->BeanWithPrincipalFromEJBContext ) are behaving differently than legacy. ","11/Sep/19 7:24 AM;dvilkola;{quote} I think we should get an issue created to see if there is a way to fix this for the Elytron case without breaking the fix for JBEAP-9744.{quote} I created an issue WFLY-12537 for this purpose. 
I also created WFLY-12538 to address the fact that scenario #1 returns 'non-anonymous' principal when Elytron is enabled, which is incorrect. I am closing this issue since it is superceded by  WFLY-12537 and WFLY-12538.","11/Sep/19 7:32 AM;dvilkola;WFLY-12537 and WFLY-12538 have been created to address the issues that came up in the comments.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MaximumTimeoutTestCase fails a lot,WFLY-12244,12815723,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Out of Date,ochaloup,kabirkhan,kabirkhan,27/Jun/19 9:31 AM,02/Jul/19 5:11 AM,28/Dec/19 1:29 PM,02/Jul/19 5:11 AM,,,,,,,,,Test Suite,Transactions,,,,,,,,,,0,,,,,"This is failing a lot on CI for loads of pull requests: https://ci.wildfly.org/project.html?projectId=WF_PullRequest&buildTypeId=&tab=testDetails&testNameId=-2411224099501756102&order=TEST_STATUS_DESC&branch_WF_PullRequest=__all_branches__&itemsCount=50
It also happens on master JDK 11 https://ci.wildfly.org/viewLog.html?buildId=156368&buildTypeId=WF_MasterWindowsJdk11

CC [~tomjenkinson] [~ochaloup] [~zhfeng]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-02 05:11:58.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06tng:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Jul/19 5:11 AM;ochaloup;[~kabirkhan] permit me, please, to close this issue.

From what I can see the CI runs pass succesfuly with this test now. The last fail[1] was 5 days ago (https://ci.wildfly.org/project.html?projectId=WF_PullRequest&buildTypeId=&tab=testDetails&testNameId=-2411224099501756102&order=START_DATE_DESC&branch_WF_PullRequest=__all_branches__&itemsCount=50).

The failures were observed on Windows JDK11 and on Elytron JDK8. Those configuration were the failing ones. The JDK version the error was reported was `11.0.2`.

We investigated the failure by running locally on Windows JDK11, on Narayana CI with JDK 11 `.0.2` and `.0.3.`.
I started the testing run to isolate the test run on CI at https://github.com/wildfly/wildfly/pull/12407 as well.

All those attempts passed without issue. It seems as an intermittent failure of the CI envirionment from this perspective.

[1]
{code}
java.lang.reflect.UndeclaredThrowableException
	at com.sun.proxy.$Proxy23.runTestMethod(Unknown Source)
	at org.jboss.arquillian.protocol.jmx.JMXMethodExecutor.invoke(JMXMethodExecutor.java:81)
	at org.jboss.arquillian.container.test.impl.execution.RemoteTestExecuter.execute(RemoteTestExecuter.java:103)
	at jdk.internal.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:52)
	at jdk.internal.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:118)
	at jdk.internal.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at jdk.internal.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:139)
	at org.jboss.arquillian.junit.MethodInvoker.invoke(MethodInvoker.java:15)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:332)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:215)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:285)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:166)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
Caused by: java.io.IOException: Unable to invoke invoke(), status=WAITING
	at org.jboss.remotingjmx.protocol.v2.ClientConnection$TheConnection.invoke(ClientConnection.java:1072)
	at org.jboss.as.arquillian.container.ManagementClient$MBeanConnectionProxy.invoke(ManagementClient.java:762)
	at java.management/javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:298)
	... 75 more
------- Stdout: -------
06:15:04,302 WARN  [org.jboss.as.txn] (management-handler-thread - 2) WFLYTX0039: A value of zero is not permitted for the maximum timeout, as such the timeout has been set to 400
06:15:04,333 WARN  [org.jboss.as.txn] (management-handler-thread - 2) WFLYTX0039: A value of zero is not permitted for the maximum timeout, as such the timeout has been set to 500
06:16:04,209 ERROR [org.jboss.threads.errors] (XNIO-1 task-5) Thread Thread[XNIO-1 task-5,5,main] threw an uncaught exception: java.lang.IllegalThreadStateException
	at java.base/java.lang.ThreadGroup.addUnstarted(ThreadGroup.java:865)
	at java.base/java.lang.Thread.<init>(Thread.java:435)
	at java.base/java.lang.Thread.<init>(Thread.java:709)
	at java.base/java.lang.Thread.<init>(Thread.java:630)
	at org.jboss.remotingjmx.protocol.v2.ClientExecutorManager$1.newThread(ClientExecutorManager.java:56)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.<init>(ThreadPoolExecutor.java:623)
	at java.base/java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:912)
	at java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1354)
	at org.jboss.remotingjmx.protocol.v2.ClientExecutorManager.execute(ClientExecutorManager.java:64)
	at org.jboss.remotingjmx.protocol.v2.ClientCommon$MessageReceiver.handleMessage(ClientCommon.java:118)
	at org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:430)
	at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:975)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:834)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[org.jgroups.protocols.SYM_ENCRYPT] rejected decryption of unicast message from non-member,WFLY-12163,12810860,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Rejected,rhusar,tommaso-borgato,tommaso-borgato,04/Jun/19 5:43 AM,06/Jun/19 11:00 AM,28/Dec/19 1:29 PM,06/Jun/19 11:00 AM,17.0.0.Beta1,,,,,,,,Clustering,,,,,,,,,,,0,,,,,"The error is observed in EAP Clustering fail-over tests where the communication at the JGroups level is symmetrically encrypted .

The error causes sampling errors on the client (about 3000) and an overall 0.65% fail rate.

Basically, right after the deployment when the cache starts, we observe a big number of the following errors in the logs:

{noformat}
2019-05-30 12:19:34,445 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 82) WFLYUT0021: Registered web context: '/clusterbench-passivating' for server 'default-server'
2019-05-30 12:19:34,592 INFO  [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0010: Deployed ""clusterbench-ee8.ear"" (runtime-name : ""clusterbench-ee8.ear"")
2019-05-30 12:20:21,180 ERROR [org.jgroups.protocols.SYM_ENCRYPT] (thread-4,null,null) wildfly1: rejected decryption of unicast message from non-member wildfly2
2019-05-30 12:20:21,182 WARN  [org.jgroups.protocols.SYM_ENCRYPT] (thread-4,null,null) wildfly1: unrecognized cipher; discarding message from wildfly2
{noformat}

Complete logs:
* [eap-7.x-clustering-http-session-encrypt-sym/27|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session-Encrypt/job/eap-7.x-clustering-http-session-encrypt-sym/27/artifact/report/wildfly/]
* [eap-7.x-clustering-http-session-encrypt-sym/28|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session-Encrypt/job/eap-7.x-clustering-http-session-encrypt-sym/28/artifact/report/wildfly/]
* [eap-7.x-clustering-http-session-encrypt-sym/29|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-HTTP-Session-Encrypt/job/eap-7.x-clustering-http-session-encrypt-sym/29/artifact/report/wildfly/]

This is the setup for every node in the cluster that can be used to reproduce the issue:

{noformat}
embed-server --server-config=standalone-ha.xml
/subsystem=infinispan/cache-container=web/distributed-cache=testDist:add()
/subsystem=infinispan/cache-container=web/distributed-cache=testDist/component=locking:write-attribute(name=isolation, value=REPEATABLE_READ)
/subsystem=infinispan/cache-container=web/distributed-cache=testDist/component=transaction:write-attribute(name=mode, value=BATCH)
/subsystem=infinispan/cache-container=web:write-attribute(name=default-cache, value=testDist)
/subsystem=jgroups/channel=ee:write-attribute(name=stack,value=tcp)
batch
/subsystem=jgroups/stack=udp/protocol=AUTH:add(add-index=8)
/subsystem=jgroups/stack=udp/protocol=AUTH/token=digest:add(algorithm=SHA-512, shared-secret-reference={clear-text=123PIPPOBAUDO})
/subsystem=jgroups/stack=tcp/protocol=AUTH:add(add-index=8)
/subsystem=jgroups/stack=tcp/protocol=AUTH/token=digest:add(algorithm=SHA-512, shared-secret-reference={clear-text=123PIPPOBAUDO})
run-batch
/subsystem=elytron/key-store=jgroups-keystore:add(path=jgroups.keystore,credential-reference={clear-text=123PIPPOBAUDO},type=JCEKS,relative-to=jboss.server.config.dir)
/subsystem=jgroups/stack=udp/protocol=SYM_ENCRYPT:add(add-index=5,key-store=jgroups-keystore,key-alias=mykey,key-credential-reference={clear-text=123PIPPOBAUDO})
/subsystem=jgroups/stack=tcp/protocol=SYM_ENCRYPT:add(add-index=5,key-store=jgroups-keystore,key-alias=mykey,key-credential-reference={clear-text=123PIPPOBAUDO})
{noformat}

This is the command used to generate the key-store referenced in the cli script above:

{noformat}
cd $JBOSS_HOME/standalone/configuration/ 
java -cp $(find /tmp/tests-clustering/jboss-eap-1/modules -name ""jgroups-[0-9]*.jar"") org.jgroups.demos.KeyStoreGenerator --alg AES --size 128 --storeName jgroups.keystore --storepass 123PIPPOBAUDO --alias mykey
{noformat}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-06 11:00:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z063ok:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"06/Jun/19 11:00 AM;rhusar;The test setup is incorrect – the keystores need to store an identical key which is ""pre shared"". In the test, the cluster never forms.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deprecated configuration for TCPGOSSIP not usable,WFLY-11902,12798958,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Rejected,pferraro,rjanik,rjanik,25/Mar/19 8:21 AM,26/Mar/19 7:05 AM,28/Dec/19 1:29 PM,25/Mar/19 9:36 AM,17.0.0.Alpha1,,,,,,,,Clustering,,,,,,,,,,,0,,,,,"Related to WFLY-11901. Found on current master.

Running the example files produces:
{code}
./standalone.sh  -Djboss.jgroups.gossip.initial_hosts=127.0.0.1[12004] -Djboss.jgroups.gossip.num_initial_members=1 --server-config=../../docs/examples/configs/standalone-gossip-full-ha.xml

12:49:01,924 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 84) MSC000001: Failed to start service org.wildfly.clustering.jgroups.channel.ee: org.jboss.msc.service.StartException in service org.wildfly.clustering.jgroups.channel.ee: java.lang.IllegalStateException: java.lang.IllegalArgumentException: java.security.PrivilegedActionException: java.lang.IllegalArgumentException: Unrecognized TCPGOSSIP properties: [num_initial_members]
        at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:70)
        at org.wildfly.clustering.service.AsyncServiceConfigurator$AsyncService.lambda$start$0(AsyncServiceConfigurator.java:117)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
        at java.lang.Thread.run(Thread.java:748)
        at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: java.lang.IllegalStateException: java.lang.IllegalArgumentException: java.security.PrivilegedActionException: java.lang.IllegalArgumentException: Unrecognized TCPGOSSIP properties: [num_initial_members]
        at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceConfigurator.get(ChannelServiceConfigurator.java:116)
        at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceConfigurator.get(ChannelServiceConfigurator.java:58)
        at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:67)
        ... 7 more
Caused by: java.lang.IllegalArgumentException: java.security.PrivilegedActionException: java.lang.IllegalArgumentException: Unrecognized TCPGOSSIP properties: [num_initial_members]
        at org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationServiceConfigurator.createProtocol(AbstractProtocolConfigurationServiceConfigurator.java:130)
        at org.jboss.as.clustering.jgroups.JChannelFactory.createChannel(JChannelFactory.java:106)
        at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceConfigurator.get(ChannelServiceConfigurator.java:96)
        ... 9 more
Caused by: java.security.PrivilegedActionException: java.lang.IllegalArgumentException: Unrecognized TCPGOSSIP properties: [num_initial_members]
        at org.wildfly.security.manager.WildFlySecurityManager.doUnchecked(WildFlySecurityManager.java:851)
        at org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationServiceConfigurator.createProtocol(AbstractProtocolConfigurationServiceConfigurator.java:125)
        ... 11 more
Caused by: java.lang.IllegalArgumentException: Unrecognized TCPGOSSIP properties: [num_initial_members]
        at org.jgroups.stack.Protocol.setProperties(Protocol.java:144)
        at org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationServiceConfigurator.lambda$createProtocol$0(AbstractProtocolConfigurationServiceConfigurator.java:119)
        at org.wildfly.security.manager.WildFlySecurityManager.doUnchecked(WildFlySecurityManager.java:849)
        ... 12 more
{code}

Even though the configuration in the examples is deprecated, it should still work as changes between minor versions should be backward compatible. While this incompatibility is fine for WFLY, it is an issue for the product, where 17.0 will only translate to a minor version update.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-25 09:36:01.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z048kc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Mar/19 9:36 AM;pferraro;The num_initial_members property was deprecated in JGroups 3.5.0.Final (i.e. since WF9), so users were amply warned that this property would be removed in a future release.

In general, informal JGroups properties are not part of the formal management model (unlike those properties that correspond to formal attributes) and thus are not subject to compatibility requirements as suggested by this jira.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HA Singleton will not stop the service or deployment after merge the cluster-view if the elected node rejected by FullGC or suspended,WFLY-11619,12788297,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Critical,Cannot Reproduce,pferraro,wdfink,wdfink,21/Jan/19 7:36 AM,05/Feb/19 12:29 PM,28/Dec/19 1:29 PM,05/Feb/19 12:29 PM,16.0.0.Beta1,,,,,,,,Clustering,,,,,,,,,,,0,,,,,If a 2 node cluster has a HA Singleton deployment (no matter whether it is a service or deployment) a merge after a split caused by FullGC will end in running two nodes as a Singleton provider.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Jan/19 7:58 AM;wdfink;node1.log;https://issues.redhat.com/secure/attachment/12445811/node1.log","21/Jan/19 7:58 AM;wdfink;node2.log;https://issues.redhat.com/secure/attachment/12445812/node2.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-23 08:48:25.0,,,,,,,,,,,,,,,,,,,,,,,,,,2.0,3.0,,,,,,,,,,"1|z02mps:",9223372036854775807,,0.0,,,,,"User ha-singleton-deployment or ha-singelton-service quickstarts
start two nodes
deploy the application for both
-> one node is elected and run the singleton
stop the node running the singleton by suspend (Ctrl-Z)
-> backup will start the singeton
resume the first node
-> both nodes will process the singleton",,,,,,,,,,,"21/Jan/19 8:18 AM;wdfink;Note if the same happen with a network issue, so both nodes are detecting the split, the merge will stop the deployment/service for one of the nodes.
The message is like this:
INFO  [org.wildfly.clustering.server] (ChannelCommandDispatcherFactory - 1) WFLYCLSV0002: This node will no longer operate as the singleton provider of the jboss.deployment.unit.""ha-singleton-deployment.jar"".installer service
WARNING [class org.jboss.as.quickstarts.ha.singleton.SingletonTimer] (ServerService Thread Pool -- 72) SingletonTimer is stopping: the server is either being shutdown or another node has become elected to be the singleton master.
","23/Jan/19 8:48 AM;spyrkob;[~wdfink] just to clarify - when I tried this, the HA singleton on the first server (one being stoped/resumed) is running for a while after resume, but after a short while it was stopped - is that the behaviour you're seeing?","25/Jan/19 9:55 AM;rhusar;[~spyrkob] Make sure you wait long enough for the infinispan cache operation to timeout – that should reproduce the issue.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade RESTEasy to 3.10.0.Final,WFLY-12912,12895265,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,asoldano,istudens,ron_sigal,26/Dec/19 1:33 PM,26/Dec/19 1:34 PM,28/Dec/19 12:24 PM,26/Dec/19 1:34 PM,,,,,,19.0.0.Beta1,,,REST,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-12575,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12814,https://github.com/wildfly/wildfly/pull/12818,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z0k284:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JAXB Unmarshaller tries to instantiate abstract class ignoring xsi:type if it is a list element,WFLY-12874,12842669,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,vrlgohel,ivassile,ivassile,11/Dec/19 4:37 PM,17/Dec/19 9:17 PM,28/Dec/19 1:29 PM,17/Dec/19 9:16 PM,,,,,,,,,,,,,,,,,,,,0,downstream_dependency,,,,"Upstream Issue: https://github.com/eclipse-ee4j/jaxb-ri/issues/1135
Upstream PR: https://github.com/eclipse-ee4j/jaxb-ri/pull/1294",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-12-17 21:16:40.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0b2lg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Dec/19 9:16 PM;gaol;[~ivassile] Also this one ;)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ConnectionSecurityContext.getConnectionPrincipals leads to IllegalStateException getConnectionPrincipals,WFLY-12518,12827193,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dastraub,dastraub,dastraub,09/Sep/19 5:58 AM,11/Dec/19 9:12 AM,28/Dec/19 1:29 PM,17/Sep/19 8:13 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Security,,,,,,,,,,,0,,,,,"The commit https://github.com/wildfly/wildfly/commit/121c02b004adaca76e306bf3e8c16b3056bd0db1#diff-554f8ec76c02b6cbacc688356f164fe8 leads direct to an IllegalStateException during anonymous login.
In this case is no Realm available and the constructor of new RealmUser(realm, principal.getName()) throws an IllegalStateException.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:50.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12612,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08nnw:",9223372036854775807,,0.0,,,,,"Our application use an ejb-interceptor to switch the user context of an remote invocation. The interceptor uses ConnectionSecurityContext.getConnectionPrincipals() to check the current connected user. But some server instances are configured without an SecurityRealm, to allow anonymous access. At this instances a IllegalStateException ""realm is null' stops the remote call.

Breakpoint hit: ""thread=default task-12"", org.jboss.as.security.api.ConnectionSecurityContext.getConnectionPrincipals(), line=75 bci=54

default task-12[1] locals
Method arguments:
Local variables:
con = instance of org.jboss.as.security.remoting.RemotingContext$RemotingRemoteConnection(id=39556)
principals = instance of java.util.HashSet(id=39557)
localIdentity = instance of org.wildfly.security.auth.server.SecurityIdentity(id=39558)
principal = instance of org.wildfly.security.auth.principal.AnonymousPrincipal(id=39559)
realm = null
",,,,,,,,,,,"09/Sep/19 6:21 AM;dastraub;Fix to prevent IllegalStateException
","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jgroups-kubernetes to 1.0.10.Final,WFLY-12117,12808709,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,23/May/19 6:47 AM,04/Dec/19 6:22 AM,28/Dec/19 1:29 PM,04/Dec/19 6:21 AM,,,,,,18.0.0.Beta1,,,Clustering,,,,,,,,,,,0,,,,,Currently a placeholder for release containing fixes around CA parsing.,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12113,,,,,,WFLY-12118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05rgc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Dec/19 6:21 AM;rhusar;Included via WFLY-12347.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
kubernetes.KUBE_PING using token auth does not verify CA and always defaults to insecure stream,WFLY-12118,12808757,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,23/May/19 9:40 AM,04/Dec/19 6:22 AM,28/Dec/19 1:29 PM,04/Dec/19 6:22 AM,16.0.0.Final,17.0.0.Alpha1,,,,18.0.0.Beta1,,,Clustering,,,,,,,,,,,0,,,,,"The recommendation is to do verify is file is available:

{quote}If available, a certificate bundle is placed into the filesystem tree of each container at /var/run/secrets/kubernetes.io/serviceaccount/ca.crt, and should be used to verify the serving certificate of the apiserver.{quote}

https://kubernetes.io/docs/tasks/access-application-cluster/access-cluster/#accessing-the-api-from-a-pod",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z05rrg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Jun/19 8:39 AM;rhusar;PR submitted upstream https://github.com/jgroups-extras/jgroups-kubernetes/pull/69","15/Jun/19 8:29 AM;rhusar;Merged upstream, requires 1.0.10.Final upgrade.","04/Dec/19 6:22 AM;rhusar;Included via WFLY-12347.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade HAL to 3.2.1.Final,WFLY-12399,12823859,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,harald.pehl,harald.pehl,harald.pehl,20/Aug/19 8:36 PM,28/Nov/19 4:23 AM,28/Dec/19 1:29 PM,23/Aug/19 9:52 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Web Console,,,,,,,,,,,0,,,,,Diff: https://github.com/hal/console/compare/3.2.0.Final...3.2.1.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12001,,,,,,HAL-1603,HAL-1604,HAL-1609,HAL-1601,HAL-1608,HAL-1607,HAL-1588,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12524,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0845w:",9223372036854775807,,0.0,,,,,,,,,,,,spriadka,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Using JTA transaction's node_name attribute is set to an old value after node-identifier is changed,WFLY-12317,12819399,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,istraka,istraka,23/Jul/19 9:48 AM,22/Nov/19 11:16 AM,28/Dec/19 1:29 PM,20/Aug/19 4:29 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,"We have following test scenario (3 servers) that fails:
# node-identifier of server1, 2 & 3 is set to 'vkcd', 'FdOu' and 'GocW' (ts.jbosstsX.node.identifier property)
# server2 is started,  node-identifier is set to txdifferentnodeid and server2 is stopped
# server1 is started, node-identifier is set to txdifferentnodeid and server1 is reloaded
# server3 is running
# client call an EJB bean (where a transaction is started) on the server1
# the EJB sends JMS message to  the server3 (broker)
# the EJB enlists dummy xa resource
# during 2PC the Server1 is halted when prepare on dummy xa resource is invoked
# we move server1 object store directory to the server2
# server2 is started
# the server2 is expected to rollback whole transaction

Transaction is unfinished because server2 has not performed rollback.

{code:java}
prepareHalt(org.jboss.as.test.jbossts.crashrec.differentnode.test.TxDifferentNodeCrashRecoveryTestCase)  Time elapsed: 810.354 sec  <<< FAILURE!
java.lang.AssertionError: Some unfinished xids on messaging server - expected 0 but was 1
	at org.junit.Assert.fail(Assert.java:88)
	at org.jboss.as.test.jbossts.crashrec.differentnode.test.TxDifferentNodeCrashRecoveryTestCase.checkAfterTestExecution(TxDifferentNodeCrashRecoveryTestCase.java:792)
	at org.jboss.as.test.jbossts.crashrec.differentnode.test.TxDifferentNodeCrashRecoveryTestCase.prepareHalt(TxDifferentNodeCrashRecoveryTestCase.java:565)
{code}


In the beginning servers' node-identifier are set to some value (lets say A,B,C). Before test execution node-identifier of server1 and server2 is set to the same value, let's say X.

I see in logs that the transaction's node_name is set to the old value (vkcd vs txdifferentnodeid in the example below) on server1. Thus the server2 has not performed rollback.

See node_name
Server1:
{code:java}
2019-07-22 17:40:54,616 DEBUG [com.arjuna.ats.jta] (MSC service thread 1-5) Setting up node identifiers '[txdifferentnodeid]' for which recovery will be performed
{code}

{code:java}
2019-07-22 17:41:11,931 TRACE [com.arjuna.ats.jta] (default task-2) XAResourceRecord.XAResourceRecord ( < formatId=131077, gtrid_length=32, bqual_length=36, tx_uid=0:ffff0a2804ed:26165251:5d35d902:3c, node_name=vkcd, branch_uid=0:ffff0a2804ed:26165251:5d35d902:46, subordinatenodename=null, eis_name=java:/JmsXA NodeId:05b492ae-ac97-11e9-a446-2016b912eaa8 >, XAResourceWrapperImpl@4158c7ec[xaResource=org.jboss.activemq.artemis.wildfly.integration.WildFlyActiveMQXAResourceWrapper@4a21a45f pad=false overrideRmValue=null productName=ActiveMQ Artemis productVersion=2.0 jndiName=java:/JmsXA NodeId:05b492ae-ac97-11e9-a446-2016b912eaa8] ), record id=0:ffff0a2804ed:26165251:5d35d902:47

{code}

Server2:
 
{code:java}
2019-07-22 17:41:15,397 DEBUG [com.arjuna.ats.jta] (MSC service thread 1-3) Setting up node identifiers '[txdifferentnodeid]' for which recovery will be performed
{code}

{code:java}
2019-07-22 17:43:56,062 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) node name of < formatId=131077, gtrid_length=32, bqual_length=36, tx_uid=0:ffff0a2804ed:26165251:5d35d902:3c, node_name=vkcd, branch_uid=0:ffff0a2804ed:26165251:5d35d902:46, subordinatenodename=null, eis_name=forgot eis name for: 1 > is vkcd
2019-07-22 17:43:56,062 DEBUG [com.arjuna.ats.jta] (Periodic Recovery) XAResourceOrphanFilter com.arjuna.ats.internal.jta.recovery.arjunacore.JTANodeNameXAResourceOrphanFilter voted ABSTAIN
{code}

*When does the scenario pass*

When I run the TS with 
{code:java}
-Dts.jbossts1.node.identifier=txdifferentnodeid -Dts.jbossts2.node.identifier=txdifferentnodeid
{code}
the test passes (old and new node-identifier on both servers are same)

When step 3 slightly differs: 
When restart is performed instead of reload op.
Server1 is reloaded. If it is restarted, node name is set correctly to txdifferentnodeid

*tldr;*
The problem is that server1 set TX node name to old value after node identifier is changed and server is reloaded. If the server is restarted, everything is OK. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jul/19 9:42 AM;istraka;server1_TxDifferentNodeCrashRecoveryTestCase_prepareHalt_jta_server.log;https://issues.redhat.com/secure/attachment/12453521/server1_TxDifferentNodeCrashRecoveryTestCase_prepareHalt_jta_server.log","23/Jul/19 9:43 AM;istraka;server2_TxDifferentNodeCrashRecoveryTestCase_prepareHalt_jta_server.log;https://issues.redhat.com/secure/attachment/12453520/server2_TxDifferentNodeCrashRecoveryTestCase_prepareHalt_jta_server.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-27 16:13:14.0,,,,,,,,https://developer.jboss.org/thread/280430,,https://github.com/wildfly/wildfly/pull/12480,,,,,,,,,,,,,,,,2.0,10.0,,,,,,,,,,"1|hztzti:",9223372036854775807,,0.0,,,,,"git clone git@gitlab.mw.lab.eng.bos.redhat.com:jbossqe-eap/tests-transactions.git
get wildfly dist
mvn clean verify -Djboss.dist=__PATH_TO_DIST__ -Dtest=TxDifferentNodeCrashRecoveryTestCase#prepareHalt -DfailIfNoTests=false -Djbossts.noJTS -Dts.jbossts1.node.identifier=vkcd -Dts.jbossts2.node.identifier=FdOu -Dts.jbossts3.node.identifier=GocW
",,,,,,,,,,,"27/Jul/19 4:13 PM;mmusgrov;The problem is that many of our properties are statically initialised and are read once at boot time. The ""node-identifier"" is one such property and it is statically initialised (https://github.com/jbosstm/narayana/blob/master/ArjunaCore/arjuna/classes/com/arjuna/ats/arjuna/coordinator/TxControl.java#L238).

We cannot just make every property dynamic since some properties are dependent on each other and setting one can introduce race conditions (with for example periodic recovery) so we could only do that through careful analysis and I doubt the benefits are worth while.

The node-identifier model attribute (https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/subsystem/TransactionSubsystemRootResourceDefinition.java#L115) should be set to RESTART_JVM not reload.

The failing test is testing that another server is able to recover logs from another server. We do support this type of ""proxy recovery"" but the relevant attribute is not exposed in the management model (https://github.com/jbosstm/narayana/blob/master/ArjunaJTA/jta/classes/com/arjuna/ats/jta/common/JTAEnvironmentBean.java#L412),

My recommendation is to:
- change the test to perform a JVM restart instead of a reload.
- update the WildFly management model attribute to require a JVM restart when it is set","29/Jul/19 4:20 AM;ochaloup;What I remember (the test was written by Hayk) the reason for the test was a customer case where the customer wanted to be able to restore the transaction data on a different node and start there the server with the same setting as the previous one had. That way the test case should be valid. And I assume the test probably restarts the JVM as it starts it.

Agree, the txn subsystem model attribute should be fixed to announce the `RESTART_JVM` if it's necessary.

I can look at it if you want? [~mmusgrov]","29/Jul/19 4:22 AM;istraka;I see [~mmusgrov], however this is not an issue in WF14 or WF16 - test passes. Node-identifier is set in the same way in 5.9.3 (used in WF16) and master (your link). ","29/Jul/19 5:55 AM;mmusgrov;[~ochaloup] yes it you want to a look that would be useful. [~istraka] reports that he test does a reload not a reboot","29/Jul/19 6:25 AM;istraka;[~mmusgrov] yes, reload operation is performed. When I perform reboot op, test pass. However the original scenario passes with WF16.","29/Jul/19 7:00 AM;ochaloup;[~mmusgrov] ok, I see. Then the main failure is the attribute change is not defined as {{RESTART_JVM}} needed. Per design the {{:reload}} is not sufficient. Despite that it's just strange that it worked with reload with WFLY16. I will try to take a look.","01/Aug/19 8:35 AM;ochaloup;Summation of effort on this issue.
* The cause of the issue is described in the Mike's comment above (https://issues.jboss.org/browse/WFLY-12317?focusedCommentId=13763985#comment-13763985).
* Even the test worked before with {{:reload}} it was not correct and the correct behaviour needed (even in WFLY16) restart. The counterexample is - start WFLY with node-id {{1}}. Fill the object store with some transaction data (orphan detection needs to be triggered). Wait a 2 minutes for recovery to start. Try to change the node-id to {{2}} with cli operation and reload. Even the model and jboss cli shows the node-id is {{2}} Narayana still effectivelly uses the node-id with value {{1}}. To fix this restart of the JVM is needed.
* Question is what is the right fix. There is a discussion at the forum https://developer.jboss.org/thread/280430 what is the right fix. I personally incline to permit to change the node-id just with reload (the fix would be then like this https://github.com/ochaloup/wildfly/commit/c39536f621dd3be38fdc605cd3b8844c6f0099ff). The other option is to enforce JVM restart (the fix would be then like this https://github.com/ochaloup/wildfly/commit/42d098a41e1f9e9854d080491849aa8ce6c7057d).

So, for the test this means that it's wrongly written for WFLY16. It's not the problem of the test as it follows the attribute description in the model. But as the model description presents a wrong flag (reload requires instead of necessary restart requires) it's the issue of the model that the flag was set wrongly. (The fix for this issue can allow only the reload.)","07/Aug/19 7:33 AM;ochaloup;We are going with the fix for JVM restart.","17/Sep/19 9:19 AM;istraka;I am lowering the priority to major due to the discussion.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Weld to 3.1.2.Final,WFLY-12351,12821411,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,manovotn,manovotn,manovotn,06/Aug/19 3:44 AM,19/Nov/19 7:27 PM,28/Dec/19 1:29 PM,07/Aug/19 3:03 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,CDI / Weld,,,,,,,,,,,0,,,,,"Upgrade Weld to 3.1.2.Final and Weld API to 3.1.SP1.
More details on updates are here - http://weld.cdi-spec.org/news/2019/08/06/weld-312Final/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:50.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12473,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07qjo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Marshalling.river No standard field found for reverse order comparator,WFLY-12793,12838232,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,pferraro,emiliocuberos,emiliocuberos,14/Nov/19 10:27 AM,18/Nov/19 2:54 AM,28/Dec/19 1:29 PM,15/Nov/19 8:59 AM,17.0.1.Final,,,,,,,,Clustering,,,,,,,,,,,0,,,,,"There are lots of reports of this issue, and they were closed with the workaround of including jboss-marshalling and jboss-marshalling-river 2.6.0.

I still get the same error, even in Wildfly 17.0.1.Final, where jboss-marshalling 2.0.6 should be already included.

The full error-stack is:

{code}
14:16:53,582 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (ServerService Thread Pool -- 99) ISPN000136: Error executing command PutKeyValueCommand, writing keys [1]: java.lang.ExceptionInInitializerError
	at deployment.healthtrender-cloud-1.0.0.war//org.jboss.marshalling.river.RiverMarshaller.<clinit>(RiverMarshaller.java:1233)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commons.marshall.jboss.JBossMarshallerFactory.createMarshaller(JBossMarshallerFactory.java:49)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commons.marshall.jboss.AbstractJBossMarshaller$PerThreadInstanceHolder.getMarshaller(AbstractJBossMarshaller.java:314)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commons.marshall.jboss.AbstractJBossMarshaller.startObjectOutput(AbstractJBossMarshaller.java:90)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.marshall.core.VersionAwareMarshaller.startObjectOutput(VersionAwareMarshaller.java:110)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commons.marshall.AbstractDelegatingMarshaller.startObjectOutput(AbstractDelegatingMarshaller.java:30)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.marshall.core.MarshalledValue.serialize(MarshalledValue.java:92)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.marshall.core.MarshalledValue.<init>(MarshalledValue.java:79)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.MarshalledValueInterceptor.createMarshalledValue(MarshalledValueInterceptor.java:318)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.MarshalledValueInterceptor.visitPutKeyValueCommand(MarshalledValueInterceptor.java:133)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:78)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:191)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.CacheMgmtInterceptor.visitPutKeyValueCommand(CacheMgmtInterceptor.java:177)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:78)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:114)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:83)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commands.AbstractVisitor.visitPutKeyValueCommand(AbstractVisitor.java:43)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:78)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:335)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.cache.impl.CacheImpl.putInternal(CacheImpl.java:1121)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:1111)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:453)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.jcache.AbstractJCache.put(AbstractJCache.java:241)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.jcache.embedded.JCache.doPut(JCache.java:431)
	at deployment.healthtrender-cloud-1.0.0.war//org.infinispan.jcache.embedded.JCache.put(JCache.java:400)
	at deployment.healthtrender-cloud-1.0.0.war//com.hemocue.cloud.config.CacheSetup.lambda$loadCaches$10(CacheSetup.java:94)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at deployment.healthtrender-cloud-1.0.0.war//com.hemocue.cloud.config.CacheSetup.loadCaches(CacheSetup.java:92)
	at deployment.healthtrender-cloud-1.0.0.war//com.hemocue.cloud.config.CacheSetup.init(CacheSetup.java:85)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.ManagedReferenceLifecycleMethodInterceptor.processInvocation(ManagedReferenceLifecycleMethodInterceptor.java:96)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.common@17.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
	at org.jboss.as.weld.common@17.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doLifecycleInterception(Jsr299BindingsInterceptor.java:126)
	at org.jboss.as.weld.common@17.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:112)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.core@3.1.1.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.common@17.0.1.Final//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld@17.0.1.Final//org.jboss.as.weld.injection.WeldInjectionInterceptor.processInvocation(WeldInjectionInterceptor.java:53)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:28)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld@17.0.1.Final//org.jboss.as.weld.injection.WeldInterceptorInjectionInterceptor.processInvocation(WeldInterceptorInjectionInterceptor.java:56)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld@17.0.1.Final//org.jboss.as.weld.interceptors.Jsr299BindingsCreateInterceptor.processInvocation(Jsr299BindingsCreateInterceptor.java:111)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:237)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.tx.CMTTxInterceptor.requiresNew(CMTTxInterceptor.java:388)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.processInvocation(LifecycleCMTTxInterceptor.java:68)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld@17.0.1.Final//org.jboss.as.weld.injection.WeldInjectionContextInterceptor.processInvocation(WeldInjectionContextInterceptor.java:43)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.component.singleton.StartupCountDownInterceptor.processInvocation(StartupCountDownInterceptor.java:25)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:161)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:134)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:88)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.getComponentInstance(SingletonComponent.java:127)
	at org.jboss.as.ejb3@17.0.1.Final//org.jboss.as.ejb3.component.singleton.SingletonComponent.start(SingletonComponent.java:141)
	at org.jboss.as.ee@17.0.1.Final//org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:834)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: java.lang.IllegalStateException: No standard field found for reverse order comparator!
	at deployment.healthtrender-cloud-1.0.0.war//org.jboss.marshalling.river.Protocol.<clinit>(Protocol.java:220)
	... 87 more
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-11-14 11:22:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z0aeuk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Nov/19 11:22 AM;brian.stansberry;[~emiliocuberos] What JVM version was used?","15/Nov/19 3:38 AM;ropalka;From stack trace I see [~emiliocuberos] the marshalling is bundled in war file.
It shouldn't be there. Did you try to remove marshalling classes from your war archive?
","15/Nov/19 8:59 AM;pferraro;[~ropalka] His application bundles infinispan-jcache and its dependencies.  Thus, his application should bundle the marshalling library appropriate for that particular version of Infinispan.  WildFly's jboss-marshalling module is not actually being used. 
[~emiliocuberos] Given the above, I'm going to close this, as this isn't a WildFly issue, but rather an issue with the libraries bundled with your application.  If you are still stuck, open an issue against the ISPN project.","18/Nov/19 2:54 AM;emiliocuberos;Thanks for the quick and complete response.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"JBoss_Keycloak_""404 - Not Found""",WFLY-12776,12837725,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,nvwipmvca,nvwipmvca,11/Nov/19 4:35 PM,15/Nov/19 10:28 AM,28/Dec/19 1:29 PM,15/Nov/19 10:28 AM,,,,,,,,,,,,,,,,,,,,0,,,,,"==============
Environment -
==============

. OS -

$ sw_vers
ProductName: Mac OS X
ProductVersion: 10.14.5
BuildVersion: 18F132

. JBoss EAP 7.1

. Keycloak 7.0.1

==============
Issue -
==============

Getting ""404 - Not Found"" for a simple hello.war (with KEYCLOAK as the auth-method in its web.xml) when accessing http://localhost:8080/hello",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Nov/19 4:41 PM;nvwipmvca;hello.war;https://issues.redhat.com/secure/attachment/12457365/hello.war","11/Nov/19 8:35 PM;nvwipmvca;kc.json;https://issues.redhat.com/secure/attachment/12457367/kc.json",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-11-12 16:31:36.0,,,,,,,,,,,,,,,,,,,,,,,,,,2.0,3.0,,,,,,,,,,"1|z0abws:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Nov/19 4:36 PM;nvwipmvca;==============
Environment -
==============

1. OS -

$ sw_vers                                                                                                     
ProductName:	Mac OS X
ProductVersion:	10.14.5
BuildVersion:	18F132

2. JBoss EAP 7.1

3. Keycloak 7.0.1

==============
Issue -
==============

. Getting ""404 - Not Found"" for a simple hello.war (with KEYCLOAK as the auth-method in its web.xml) when accessing http://localhost:8080/hello 

==============
Attachments -
==============

# kc.json - export dump of keycloak database/configuration
# hello.war - the simple war tested with

Let me know if you need any other info.
","12/Nov/19 4:31 PM;brian.stansberry;Hi [~nvwipmvca]. If you have JBoss EAP support, you should open a support case via https://access.redhat.com/support/cases/ as it's hard to say when a request for help filed through the WildFly community will get attention.  If you don't have a support subscription you might get help faster from other users via the forums or the wildfly-user room in zulip: https://wildfly.org/gethelp/","15/Nov/19 10:28 AM;nvwipmvca;Resolved by making the module name in web.xml match the webapp name ...

<module-name>hello</module-name>
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorporate MicroProfile Config in RESTEasy,WFLY-12780,12837882,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,ron_sigal,ron_sigal,ron_sigal,12/Nov/19 3:02 PM,12/Nov/19 3:04 PM,28/Dec/19 1:29 PM,12/Nov/19 3:04 PM,,,,,,,,,,,,,,,,,,,,0,,,,,"Currently, RESTEasy 3.x (targeted to Wildfly) uses servlet context-params to obtain configuration information. In RESTEasy 4.x, we have updated configuration to access all standard MicroProfile Config sources. Also, we have added three additional ConfigSources:

* servlet init-params (ordinal 60)
* filter init-params (ordinal 50)
* servlet context-params (ordinal 40)

In this feature request, we propose to port the relevant changes from RESTEasy 4.x to RESTEasy 3.x.

In RESTEasy 4.x, all parameters, both RESTEasy parameters and application parameters, are available from all ConfigSources to both RESTEasy and application code. In RESTEasy 3.x, we propose to add a RESTEasy parameter, ""resteasy.config.resteasy.parameters.only"", which, when set to ""true"", will limit the three RESTEasy ConfigSources to returning RESTEasy parameters only. It will default to ""true"".",,,,,,,,,,,,,WFLY-12779,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Compatibility/Configuration,"Documentation (Ref Guide, User Guide, etc.)",,,,,,,,,,,,,,,,,,,,,Low,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z0acv0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Memory leak in StatelessSessionComponent,WFLY-12446,12825068,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Explained,cfang,jbaesner,jbaesner,28/Aug/19 11:02 AM,11/Nov/19 9:27 AM,28/Dec/19 1:29 PM,11/Nov/19 9:27 AM,17.0.1.Final,,,,,,,,CDI / Weld,EJB,,,,,,,,,,0,,,,,"When running the attached reproducer application and doing a memory analysis afterwards, it looks like a memory leak, e. g.

{code}
One instance of ""org.jboss.as.ejb3.component.stateless.StatelessSessionComponent"" loaded by ""org.jboss.modules.ModuleClassLoader @ 0x5e0fbc2e0"" occupies 936,593,520 (96.13%) bytes. The memory is accumulated in one instance of ""java.util.concurrent.ConcurrentLinkedQueue$Node"" loaded by ""<system class loader>"".
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/19 7:47 AM;cfang;dump-weld.png;https://issues.redhat.com/secure/attachment/12455218/dump-weld.png","28/Aug/19 10:55 AM;jbaesner;playground-jee8.zip;https://issues.redhat.com/secure/attachment/12454867/playground-jee8.zip","04/Sep/19 9:27 AM;jbaesner;server.log.gz;https://issues.redhat.com/secure/attachment/12455047/server.log.gz","10/Sep/19 12:36 AM;jaikiran;wfly-12446-heap-dump.png;https://issues.redhat.com/secure/attachment/12455199/wfly-12446-heap-dump.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-28 13:42:29.0,,,,,,,,,,,,,,,,,,,,,,,,,,4.0,13.0,,,,,,,,,,"1|z08b24:",9223372036854775807,,0.0,,,,,Look at the {{README.md}} of the attached reproducer application.,,,,,,,,,Workaround Exists,"Disable:
{code:xml}
<stateless>
    <bean-instance-pool-ref pool-name=""slsb-strict-max-pool""></bean-instance-pool-ref>
</stateless>
{code}","28/Aug/19 1:42 PM;brian.stansberry;Perhaps the problem is here:

https://github.com/wildfly/wildfly/blob/master/ejb3/src/main/java/org/jboss/as/ejb3/component/pool/PooledInstanceInterceptor.java#L64

combined with here:

https://github.com/wildfly/wildfly/blob/master/ejb3/src/main/java/org/jboss/as/ejb3/component/pool/PooledInstanceInterceptor.java#L73

The inner catch block discards and then the outer one discards again. Only one bean got removed from the pool (i.e. the StrictMaxPool.pool ConcurrentLinkedQueue) but the semaphore gets decremented twice. ","28/Aug/19 1:54 PM;brian.stansberry;Note that that duplicate discard call problem would have the effect of slowly increasing the max size of the pool. It doesn't leak 'bad' beans into the pool though. So I believe the size of the queue would be limited to the max # of concurrent requests, so not a never ending leak. So perhaps that is not the cause of the reported problem.","03/Sep/19 11:54 PM;jaikiran;[~jbaesner], would you be able to enable TRACE level logging for ""org.jboss.as.ejb3"" package and then attach the generated logs to this issue? If you have access to the generated heap dump file, attaching that too will help. I would have tried your reproducer, but it requires SOAP UI, which I don't have access to and I'm being lazy to set it up.","04/Sep/19 9:30 AM;jbaesner;[~jaikiran], sure, this is no problem, I have attached the  [^server.log.gz] ","09/Sep/19 9:50 AM;cfang;Added the screenshot of the object reference tree based on the dump file.","10/Sep/19 12:36 AM;jaikiran;A quick look at (my locally generated) heap dump suggests that this might need some investigation from the Weld team. I have attached wfly-12446.png which shows the heap usage. So a stateless session component (bean) uses a strict-max bean instance pool. That bean instance pool has 128 entries (which correspond to 128 instances of the stateless bean). This number is correct since it's the max number of bean instances allowed (by default) in that pool. So far so good. However, the total memory usage of this strict max pool (containing 128 entries) translates to 1.5 GB (as shown in the image). This is not good. Digging further, it shows that _each entry_ holds on to a 12 MB List through the org.jboss.weld.contexts.CreationalContextImpl#dependentInstances field. So 12 MB * 128 = 1.5 GB (approximately) which matches the reported numbers.
It's odd that the List is that huge, but I haven't yet looked why or what it holds on to. Someone from Weld might be able to understand this, a bit more quickly. 
FWIW, the stateless component in this attached application which has these 128 entries is the ""CommandServiceBean"".","10/Sep/19 7:45 AM;cfang;Thanks [~jaikiran] for the detailed analysis.  [~manovotn]  can you take a look from Weld side, in particular why ejb bean instance holds {{CreationalContextImpl}}, which holds huge list containing thousands of {{org.jboss.weld.contexts.SerializableContextualInstanceImpl}}?  I've updated the previously attached dump screenshot to show more weld classes.","10/Sep/19 4:44 PM;brian.stansberry;This input may be completely useless so don't assume otherwise. :)

In the source of the playground-jee8.zip in CommandServiceBean:

{code}
            // avoid memory leak
            logger.info(""destroying commands to avoid memory leak!"");
            for (Command command : commands) {
                commands.destroy(command);
            }
{code}

The Commands themselves are all SLSBs, injected via

@Any
@Inject
Instance<Command> commands;

Maybe irrelevant, or maybe it's a normal practice I just don't know about, or maybe it was an attempt to cure this leak that failed. But it seemed like an odd thing to do when the Command impls are all SLSBs.","11/Sep/19 4:57 AM;manovotn;[~brian.stansberry] in CDI + EJB integration, all stateless beans are {{@Dependent}} from CDI perspective. And in this case there is {{Instance<X>}} used to resolve these dependent instances. In such case user is responsible for disposing them properly. So some of this logic should be there, not sure it's correct though, looking at it now.
I am running the reproducer locally right now.","11/Sep/19 7:24 AM;manovotn;Alright, I think I see the issue -  *doesn't look like a bug but a user error* . Like I said above, when you retrieve {{@Dependent}} instances via {{Instance}}, you need to keep reference to them and destroy them. Note that every invocation of {{Instance.get()}} gives you new, different instance of the bean that you need to destroy and a for cycle over {{Instance}} means you invoke {{get()}} in order to grab each of those beans.
Therefore in the following code(from example), two sets of {{Command}} instances are created but only one is destroyed (mind the NOTEs I added to the code):

{code}
public CommandResult executeCommand(String commandName, String parameter) {

        CommandResult result = null;

        logger.infof(""CommandService: searching for command -> %s"", commandName);

        if (commands != null) {

            // search command
            for (Command command : commands) {

                // NOTE - this instantiates the command beans but no destroy is invoked within this for cycle!

                String name = command.getName();
                logger.infof(""   ... %s"", name);

                // execute if found
                if (commandName.equals(name)) {

                    logger.infof(""   ... found command, executing %s"", name);
                    result = command.execute(name + "": "" + parameter);

                    break;
                } 
            }

            // command found?
            if (result == null) {
                logger.infof(""CommandService: command not found -> %s"", commandName);
                result = new CommandResult(0L, ""Undefined"");
            }

            // avoid memory leak
            logger.info(""destroying commands to avoid memory leak!"");
            for (Command command : commands) {
                // NOTE - this is redundant, it created new/different instances of Command and destroys those only!
                commands.destroy(command);
            }

        } else {
            logger.info(""CommandService: no commands available!"");
        }

        return result;
    }
{code}

You can fix this easily by changing the first for cycle as follows and dropping the second one:

{code}
            for (Command command : commands) {

                String name = command.getName();
                logger.infof(""   ... %s"", name);

                // execute if found
                if (commandName.equals(name)) {

                    logger.infof(""   ... found command, executing %s"", name);
                    result = command.execute(name + "": "" + parameter);

                    // destroy the instance
                    commands.destroy(command);
                    break;
                }  else {
                    // destroy the instance
                    commands.destroy(command);
                }
            }
{code}

Fixing the code like this, jconsole shows me much less memory used during the load test and especially not hanging around afterwards.","21/Sep/19 12:16 AM;jaikiran;Thank you [~manovotn] for these details. This indeed makes sense now. The only surprising part to me (as someone who isn't familiar with CDI spec) is that using the same {{Iterable}} (which is the {{Instance}}) multiple times, creates new instances of the underlying bean returned by that Iterable/Instance.","23/Sep/19 1:53 AM;manovotn;[~jaikiran] you are welcome, hope you have it running smoothly now.

Handling dynamic resolution with dependent instances can get rough indeed.
To confirm that this is expected flow, here is a spec quote, namely [5.6.1 The {{Instance}} interface|https://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#dynamic_lookup]:

{quote}
The iterator() method must:

    Identify the set of beans that have the required type and required qualifiers and are eligible for injection into the class into which the parent Instance was injected, according to the rules of typesafe resolution, as defined in Performing typesafe resolution, resolving ambiguities according to Unsatisfied and ambiguous dependencies.

    Return an Iterator, that iterates over the set of contextual references for the resulting beans and required type, as defined in Contextual reference for a bean.
{quote}

And getting a contextual reference for a dependent bean means creating new instance every time, hence the behaviour we are seeing in this issue.","23/Sep/19 10:34 AM;jaikiran;> Jaikiran Pai you are welcome, hope you have it running smoothly now.

I'm just a lurker :) The issue was noticed and reported by [~jbaesner].

> To confirm that this is expected flow, here is a spec quote, namely 5.6.1 

That does indeed help. Thank you for providing these details.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jberet-core from 1.3.4.Final to 1.3.5.Final,WFLY-12767,12836978,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,cfang,cfang,cfang,06/Nov/19 9:52 AM,06/Nov/19 10:17 AM,28/Dec/19 1:29 PM,06/Nov/19 10:17 AM,17.0.1.Final,,,,,18.0.1.Final,,,Batch,,,,,,,,,,,0,,,,,"jberet-core 1.3.5.Final was released on 2019-11-06:
https://github.com/jberet/jsr352/releases

diff between 1.3.4.Final and 1.3.5.Final:
https://github.com/jberet/jsr352/compare/1.3.4.Final...1.3.5.Final

This issue is the only change in this release:
JBERET-458 getRunningExecutions() should look in cache as fallback
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z0a7hg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Classloading issues on IBM JDK 8 when JProfiler agent is enabled,WFLY-11451,12781718,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,jamezp,tkyjovsky,tkyjovsky,30/Nov/18 8:17 AM,04/Nov/19 2:27 PM,28/Dec/19 1:29 PM,04/Nov/19 2:27 PM,14.0.1.Final,,,,,,,,Logging,,,,,,,,,,,0,,,,,"When I enable JProfiler agent for the server running on IBM JDK 8 the server doesn't start, throwing classloading exceptions.

{noformat}
=========================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: /home/tkyjovsk/workspace/KEYCLOAK-8983/wildfly-14.0.1.Final

  JAVA: /home/tkyjovsk/software/java/ibm-java-80/bin/java

  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true -agentpath:/home/tkyjovsk/software/tools/jprofiler9/bin/linux-x64/libjprofilerti.so=port=6766 -Xshareclasses:none 

=========================================================================

JProfiler> Protocol version 55
JProfiler> Using JVMTI
JProfiler> Thread status info workaround enabled.
JProfiler> Restricted JVMTI version 1.1 detected.
JProfiler> 64-bit library
JProfiler> Listening on port: 6766.
JProfiler> Instrumenting native methods.
JProfiler> Native library initialized
JProfiler> VM initialized
JProfiler> Waiting for a connection from the JProfiler GUI ...
JProfiler> Using dynamic instrumentation
JProfiler> Time measurement: elapsed time
JProfiler> CPU profiling enabled
WARNING: Failed to load the specified log manager class org.jboss.logmanager.LogManager
Nov 30, 2018 1:48:31 PM org.jboss.msc.service.ServiceContainerImpl <clinit>
INFO: JBoss MSC version 1.4.3.Final
Nov 30, 2018 1:48:31 PM org.jboss.threads.Version <clinit>
INFO: JBoss Threads version 2.3.2.Final
Nov 30, 2018 1:48:31 PM org.jboss.as.server.BootstrapImpl internalBootstrap
WARN: WFLYSRV0071: The operating system has limited the number of open files to 1024 for this process; a value of at least 4096 is recommended
Nov 30, 2018 1:48:31 PM org.jboss.as.server.ApplicationServerService start
INFO: WFLYSRV0049: WildFly Full 14.0.1.Final (WildFly Core 6.0.2.Final) starting
Nov 30, 2018 1:48:33 PM org.wildfly.security.Version <clinit>
INFO: ELY00001: WildFly Elytron version 1.6.0.Final
Nov 30, 2018 1:48:34 PM org.jboss.as.controller.AbstractOperationContext executeStep
ERROR: WFLYCTL0013: Operation (""parallel-extension-add"") failed - address: ([])
java.lang.RuntimeException: WFLYCTL0079: Failed initializing module org.jboss.as.logging
	at org.jboss.as.controller.extension.ParallelExtensionAddHandler$1.execute(ParallelExtensionAddHandler.java:115)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1411)
	at org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:495)
	at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:470)
	at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:432)
	at org.jboss.as.server.ServerService.boot(ServerService.java:427)
	at org.jboss.as.server.ServerService.boot(ServerService.java:386)
	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:372)
	at java.lang.Thread.run(Thread.java:812)
Caused by: java.util.concurrent.ExecutionException: java.lang.IllegalStateException: WFLYLOG0078: The logging subsystem requires the log manager to be org.jboss.logmanager.LogManager. The subsystem has not be initialized and cannot be used. To use JBoss Log Manager you must add the system property ""java.util.logging.manager"" and set it to ""org.jboss.logmanager.LogManager""
	at java.util.concurrent.FutureTask.report(FutureTask.java:133)
	at java.util.concurrent.FutureTask.get(FutureTask.java:203)
	at org.jboss.as.controller.extension.ParallelExtensionAddHandler$1.execute(ParallelExtensionAddHandler.java:107)
	... 11 more
Caused by: java.lang.IllegalStateException: WFLYLOG0078: The logging subsystem requires the log manager to be org.jboss.logmanager.LogManager. The subsystem has not be initialized and cannot be used. To use JBoss Log Manager you must add the system property ""java.util.logging.manager"" and set it to ""org.jboss.logmanager.LogManager""
	at org.jboss.as.logging.LoggingExtension.initialize(LoggingExtension.java:194)
	at org.jboss.as.controller.extension.ExtensionAddHandler.initializeExtension(ExtensionAddHandler.java:131)
	at org.jboss.as.controller.extension.ExtensionAddHandler.initializeExtension(ExtensionAddHandler.java:104)
	at org.jboss.as.controller.extension.ParallelExtensionAddHandler$ExtensionInitializeTask.call(ParallelExtensionAddHandler.java:144)
	at org.jboss.as.controller.extension.ParallelExtensionAddHandler$ExtensionInitializeTask.call(ParallelExtensionAddHandler.java:127)
	at java.util.concurrent.FutureTask.run(FutureTask.java:277)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:812)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)

Nov 30, 2018 1:48:34 PM org.jboss.as.server.ServerService$4 logExit
FATAL: WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.
{noformat}

I tried to work around this by adding ""{{org.jboss.logmanager}}"" to {{JBOSS_MODULES_SYSTEM_PKGS}} and adding ""{{-Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:...}}"" in {{JAVA_OPTS}} but that just results in another class-loading error:
{noformat}
=========================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: /home/tkyjovsk/workspace/KEYCLOAK-8983/wildfly-14.0.1.Final

  JAVA: /home/tkyjovsk/software/java/ibm-java-80/bin/java

  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Djava.awt.headless=true -agentpath:/home/tkyjovsk/software/tools/jprofiler9/bin/linux-x64/libjprofilerti.so=port=6766 -Xshareclasses:none -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:/home/tkyjovsk/workspace/KEYCLOAK-8983/wildfly-14.0.1.Final/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.4.Final.jar 

=========================================================================

JProfiler> Protocol version 55
JProfiler> Using JVMTI
JProfiler> Thread status info workaround enabled.
JProfiler> Restricted JVMTI version 1.1 detected.
JProfiler> 64-bit library
JProfiler> Listening on port: 6766.
JProfiler> Instrumenting native methods.
JProfiler> Native library initialized
JProfiler> VM initialized
JProfiler> Waiting for a connection from the JProfiler GUI ...
JProfiler> Using dynamic instrumentation
JProfiler> Time measurement: elapsed time
JProfiler> CPU profiling enabled
java.lang.NoClassDefFoundError: org/wildfly/common/net/HostName
	at org.jboss.logmanager.ExtLogRecord.<init>(ExtLogRecord.java:87)
	at org.jboss.logmanager.Logger.log(Logger.java:796)
	at org.jboss.logging.JBossLogManagerLogger.doLogf(JBossLogManagerLogger.java:53)
	at org.jboss.logging.Logger.logf(Logger.java:2398)
	at org.jboss.msc.service.ServiceLogger_$logger.greeting(ServiceLogger_$logger.java:40)
	at org.jboss.msc.service.ServiceContainerImpl.<clinit>(ServiceContainerImpl.java:91)
	at org.jboss.msc.service.ServiceContainer$Factory.create(ServiceContainer.java:250)
	at org.jboss.as.server.BootstrapImpl$ShutdownHook.register(BootstrapImpl.java:229)
	at org.jboss.as.server.BootstrapImpl$ShutdownHook.access$100(BootstrapImpl.java:219)
	at org.jboss.as.server.BootstrapImpl.<init>(BootstrapImpl.java:70)
	at org.jboss.as.server.Bootstrap$Factory.newInstance(Bootstrap.java:278)
	at org.jboss.as.server.Main.main(Main.java:106)
	at org.jboss.modules.Module.run(Module.java:352)
	at org.jboss.modules.Module.run(Module.java:320)
	at org.jboss.modules.Main.main(Main.java:593)
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-27 04:35:27.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z01nfs:",9223372036854775807,,0.0,,,,,"# Edit {{standalone.conf}}:
** set {{JAVA_HOME}} to point to IBM JDK 8 home
** set {{JPROFILER_HOME}} to point to local JProfiler installation
** add ""{{-agentpath:$JPROFILER_HOME/bin/linux-x64/libjprofilerti.so=port=6766 -Xshareclasses:none}}"" to {{JAVA_OPTS}}
# start server
# attach JProfiler to a remote process at localhost:6766",,,,,,,,,,,"05/Dec/18 10:32 AM;tkyjovsky;Same problem when I try to enable the IBM Healthcenter agent: {{-Xhealthcenter}}.","27/Jan/19 4:35 AM;jamezp;Try using the append option and setting those arguments first. There is something, can't remember the exact details, in the IBM JVM that loads logging very early. In unit tests setting the arguments first and with the append option seemed to work.

{code}
JAVA_OPTS=""-Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/a:/home/tkyjovsk/workspace/KEYCLOAK-8983/wildfly-14.0.1.Final/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.4.Final.jar $JAVA_OPTS""
{code}","04/Nov/19 2:27 PM;jamezp;This can be resolved by adding the log manager to the boot class path and defining the {{java.util.logging.manager}} in the {{JAVA_OPTS}}.

The following example works for WildFly 18+ for lower versions you'd use the ""javax"" prefix where ""jakarta"" is used below.
{code:title=standalone.conf}
LOGMANAGER_JAR=$(find $JBOSS_HOME/modules -name ""jboss-logmanager*.jar"" -type f | xargs readlink -m)
WILDFLY_COMMON_JAR=$(find $JBOSS_HOME/modules -name ""wildfly-common*.jar"" -type f | xargs readlink -m)
JSON_API_JAR=$(find $JBOSS_HOME/modules -name ""jakarta.json-api*.jar"" -type f | xargs readlink -m)
JSON_IMPL_JAR=$(find $JBOSS_HOME/modules -name ""jakarta.json-1*.jar"" -type f | xargs readlink -m)

BOOT_CP=""$LOGMANAGER_JAR:$WILDFLY_COMMON_JAR:$JSON_API_JAR:$JSON_IMPL_JAR""
JAVA_OPTS=""-Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/a:$BOOT_CP -Xhealthcenter $JAVA_OPTS""
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
XercesUsageInWebServiceTestCase fails with security manager on IBM Java 8,WFLY-11505,12784252,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,baranowb,okotek,okotek,12/Dec/18 9:01 AM,04/Nov/19 1:44 PM,28/Dec/19 1:29 PM,04/Nov/19 1:44 PM,16.0.0.Beta1,,,,,,,,Test Suite,Web Services,,,,,,,,,,0,,,,,"{{org.jboss.as.test.integration.xerces.ws.unit.XercesUsageInWebServiceTestCase#testXercesUsageInWebService}} fails with security manager on IBM Java 8 due to missing permissions:

{noformat}
SEVERE [org.apache.cxf.frontend.WSDLGetInterceptor] (default task-3) WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.org.apache.xerces.impl.xs.identity"")"" in code source ""(vfs:/content/xerces-webservice-webapp.war/WEB-INF/lib/xercesImpl.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.xerces-webservice-webapp.war"" from Service Module Loader""): java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.org.apache.xerces.impl.xs.identity"")"" in code source ""(vfs:/content/xerces-webservice-webapp.war/WEB-INF/lib/xercesImpl.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.xerces-webservice-webapp.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1655)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPackageAccess(WildFlySecurityManager.java:490)
	at java.lang.J9VMInternals$2.run(J9VMInternals.java:268)
	at java.security.AccessController.doPrivileged(AccessController.java:673)
	at java.lang.J9VMInternals.checkPackageAccess(J9VMInternals.java:263)
	at java.lang.ClassLoader.defineClassImpl(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:379)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:1734)
	at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:424)
	at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:519)
	at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)
	at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)
	at org.jboss.modules.Module.loadModuleClass(Module.java:731)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.newDocumentBuilder(Unknown Source)
	at com.ibm.wsdl.xml.WSDLWriterImpl.getDocument(WSDLWriterImpl.java:1013)
	at com.ibm.wsdl.xml.WSDLWriterImpl.getDocument(WSDLWriterImpl.java:1043)
	at org.apache.cxf.frontend.WSDLGetUtils.writeWSDLDocument(WSDLGetUtils.java:705)
	at org.apache.cxf.frontend.WSDLGetUtils.getDocument(WSDLGetUtils.java:151)
	at org.apache.cxf.frontend.WSDLGetInterceptor.getDocument(WSDLGetInterceptor.java:129)
	at org.apache.cxf.frontend.WSDLGetInterceptor.handleMessage(WSDLGetInterceptor.java:77)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
	at org.jboss.wsf.stack.cxf.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:110)
	at org.jboss.wsf.stack.cxf.transport.ServletHelper.callRequestHandler(ServletHelper.java:134)
	at org.jboss.wsf.stack.cxf.CXFServletExt.invoke(CXFServletExt.java:88)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doGet(AbstractHTTPServlet.java:225)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at org.jboss.wsf.stack.cxf.CXFServletExt.service(CXFServletExt.java:136)
	at org.jboss.wsf.spi.deployment.WSFServlet.service(WSFServlet.java:140)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$825.000000005C9627C0.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$826.000000005C962DB0.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$826.000000005C962DB0.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$826.000000005C962DB0.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$826.000000005C962DB0.call(Unknown Source)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.security.AccessController.doPrivileged(AccessController.java:703)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:812)
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-02 03:06:45.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12294,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z01zko:",9223372036854775807,,0.0,,,,,"set IBM Java 8
{{cd integration/basic}}
{{mvn clean test -Dtest=XercesUsageInWebServiceTestCase -Dsecurity.manager}}",,,,,,,okotek,,,,"02/Jan/19 4:14 AM;okotek;[~baranowb] Thank you.","02/Jan/19 6:38 AM;okotek;I see the failure even with the IBM Java 8, build 8.0.5.26.","13/May/19 4:15 AM;baranowb;WEird. In latest WFLY I get:
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 3.013 s <<< FAILURE! - in org.jboss.as.test.integration.xerces.ws.unit.XercesUsageInWebServiceTestCase
[ERROR] org.jboss.as.test.integration.xerces.ws.unit.XercesUsageInWebServiceTestCase  Time elapsed: 3.012 s  <<< ERROR!
org.jboss.arquillian.container.spi.client.container.DeploymentException: Cannot deploy xerces-webservice-webapp.war: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => ""java.io.IOException: No such file or directory""}}
","14/May/19 4:32 AM;baranowb;Ok, I finally see it but it's tad different:

{noformat}
javax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.
        at org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:163)
        at org.apache.cxf.jaxws.ServiceImpl.<init>(ServiceImpl.java:129)
        at org.jboss.wsf.stack.cxf.client.ProviderImpl$JBossWSServiceImpl.<init>(ProviderImpl.java:574)
        at org.jboss.wsf.stack.cxf.client.ProviderImpl.createServiceDelegate(ProviderImpl.java:258)
        at javax.xml.ws.Service.<init>(Service.java:88)
        at javax.xml.ws.Service.create(Service.java:718)
        at org.jboss.as.test.integration.xerces.ws.unit.XercesUsageInWebServiceTestCase.testXercesUsageInWebService(XercesUsageInWebServiceTestCase.java:94)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
        at org.jboss.arquillian.junit.Arquillian$8$1.invokeMethod(Arquillian.java:325)
        at org.jboss.arquillian.junit.MethodInvoker$1.invoke(MethodInvoker.java:18)
        at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:57)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
        at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
        at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
        at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
        at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:50)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
        at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
        at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:118)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
        at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:139)
        at org.jboss.arquillian.junit.MethodInvoker.invoke(MethodInvoker.java:15)
        at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:332)
        at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:204)
        at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
        at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
        at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:215)
        at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:279)
        at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:88)
        at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:66)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
        at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:128)
        at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:114)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:508)
        at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
        at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
        at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
        at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
        at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
        at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:273)
        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
        at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:166)
        at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
        at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
        at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
        at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
Caused by: org.apache.cxf.service.factory.ServiceConstructionException: Failed to create service.
        at org.apache.cxf.wsdl11.WSDLServiceFactory.<init>(WSDLServiceFactory.java:87)
        at org.apache.cxf.jaxws.ServiceImpl.initializePorts(ServiceImpl.java:218)
        at org.apache.cxf.jaxws.ServiceImpl.initialize(ServiceImpl.java:161)
        ... 136 more
Caused by: javax.wsdl.WSDLException: WSDLException (at /soap:Envelope): faultCode=INVALID_WSDL: Expected element '{http://schemas.xmlsoap.org/wsdl/}definitions'.
        at com.ibm.wsdl.xml.WSDLReaderImpl.checkElementName(WSDLReaderImpl.java:2167)
        at com.ibm.wsdl.xml.WSDLReaderImpl.parseDefinitions(WSDLReaderImpl.java:248)
        at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(WSDLReaderImpl.java:2352)
        at com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(WSDLReaderImpl.java:2338)
        at org.apache.cxf.wsdl11.WSDLManagerImpl.loadDefinition(WSDLManagerImpl.java:255)
        at org.apache.cxf.wsdl11.WSDLManagerImpl.getDefinition(WSDLManagerImpl.java:165)
        at org.apache.cxf.wsdl11.WSDLServiceFactory.<init>(WSDLServiceFactory.java:85)
        ... 138 more

{noformat}

Will check it though.","04/Nov/19 1:44 PM;jamezp;I'm closing this as out of date. All the tests pass for me on the latest WildFly upstream with OpenJ9 + OpenJDK 11 and OpenJ9 + OpenJDK 8.

{code}
openjdk version ""11.0.4"" 2019-07-16
OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.4+11)
Eclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.15.1, JRE 11 Linux amd64-64-Bit Compressed References 20190717_286 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - fa49279450 based on jdk-11.0.4+11)
{code}
{code}
openjdk version ""1.8.0_222""
OpenJDK Runtime Environment (build 1.8.0_222-b10)
Eclipse OpenJ9 VM (build openj9-0.15.1, JRE 1.8.0 Linux amd64-64-Bit Compressed References 20190717_368 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - f147086df1e based on jdk8u222-b10)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WSTrustTestCase failing on IBM,WFLY-11178,12774401,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,asoldano,jbliznak,jbliznak,15/Oct/18 7:31 AM,04/Nov/19 12:26 PM,28/Dec/19 1:29 PM,04/Nov/19 12:26 PM,14.0.0.Final,,,,,,,,MSC,,,,,,,,,,,0,,,,,"As discovered during investigation in WFLY-10336, we are now getting test failures in WSTrustTestCase when IBM JDK is used. The relevant part of the exception is:
{code:java}
Caused by: java.lang.IllegalArgumentException: Provider org.apache.xerces.jaxp.validation.XMLSchemaFactory not found
	at javax.xml.validation.SchemaFactory.newInstance(Unknown Source)
	at org.opensaml.core.xml.config.XMLConfigurator.<init>(XMLConfigurator.java:94)
	at org.apache.wss4j.common.saml.OpenSAMLBootstrap.bootstrap(OpenSAMLBootstrap.java:85)
	at org.apache.wss4j.common.saml.OpenSAMLUtil.initSamlEngine(OpenSAMLUtil.java:91)
	at org.apache.wss4j.common.saml.OpenSAMLUtil.initSamlEngine(OpenSAMLUtil.java:75)
	at org.apache.wss4j.common.saml.SamlAssertionWrapper.<init>(SamlAssertionWrapper.java:184)
	at org.apache.cxf.sts.token.provider.SAMLTokenProvider.createSamlToken(SAMLTokenProvider.java:308)
	at org.apache.cxf.sts.token.provider.SAMLTokenProvider.createToken(SAMLTokenProvider.java:120)
	... 102 more
{code}

It turned out the issue is in wildfly for some time, the breaking change was identified as https://github.com/wildfly/wildfly-core/pull/3201/

",,,,,,,,,,,,,,,,,,,,,,,,WFLY-12458,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/18 9:10 AM;jbliznak;log.txt;https://issues.redhat.com/secure/attachment/12441793/log.txt",,,,,,,,,,,,,,,,,,,Regression,,,,,,,,,,,,2018-10-15 08:51:36.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,21.0,,,,,,,,,,"1|z00i4w:",9223372036854775807,,0.0,,,,,"{code:java}
#build wildfly
mvn clean install -DskipTests
#run tests
mvn verify -pl testsuite/integration/ws -Dts.basic -Dtest=WSTrustTestCase -DtestLogToFile=false
{code}
",,,,,,,mjurc,,,,"15/Oct/18 7:40 AM;jbliznak;[~dmlloyd] this might need your attention as well, it might be only dependency loading issue after breaking change.","15/Oct/18 8:51 AM;dmlloyd;[~jbliznak] do you have the rest of the stack trace?","15/Oct/18 9:11 AM;jbliznak;The result of this command (where you can find all whole stacktraces) was attached to the jira:

{noformat}
mvn -V verify -pl testsuite/integration/ws -Dts.basic -Dtest=WSTrustTestCase -DtestLogToFile=false | tee log.txt
{noformat}
","15/Oct/18 2:05 PM;jbliznak;[~dmlloyd], I debugged the execution just before ""SchemaFactory.newInstance()"" should be called and tried to find something different before and after breaking commit.

There is actually a difference in system properties (dumped to stdout and sorted before diff, both runs using latest IBM JDK 8):
{code:java}
@@ -59,9 +58 @@
- javax.xml.datatype.DatatypeFactory=__redirected.__DatatypeFactory
- javax.xml.parsers.DocumentBuilderFactory=__redirected.__DocumentBuilderFactory
- javax.xml.parsers.SAXParserFactory=__redirected.__SAXParserFactory
- javax.xml.stream.XMLEventFactory=__redirected.__XMLEventFactory
- javax.xml.stream.XMLInputFactory=__redirected.__XMLInputFactory
- javax.xml.stream.XMLOutputFactory=__redirected.__XMLOutputFactory
- javax.xml.transform.TransformerFactory=__redirected.__TransformerFactory
- javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema=__redirected.__SchemaFactory
- javax.xml.xpath.XPathFactory:http://java.sun.com/jaxp/xpath/dom=__redirected.__XPathFactory
+ javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema=org.apache.xerces.jaxp.validation.XMLSchemaFactory
@@ -111 +101,0 @@
- org.xml.sax.driver=__redirected.__XMLReaderFactory
{code}

This looks related to changes in MODULES-339.","15/Oct/18 4:49 PM;dmlloyd;Yes, we substantially changed how JAXP providers are loaded.  We should not be using the system properties at all now.

I wonder if the {{javax.xml.validation.SchemaFactory}} system property is being set by the test as a workaround to some problem in the old system?  Normally the standard JAXP discovery mechanism should be used.","15/Oct/18 7:42 PM;jbliznak;AFAICT we are not setting {{javax.xml.validation.SchemaFactory}} property anywhere in tests.

One possibility is it is a IBM JDK default, as specified in jaxp.properties.sample file.
","15/Oct/18 8:05 PM;jbliznak;Just tried to actually track down where the property is set by replacing system properties with my own subclass. It turned out being set in picketlink sources. However, that is also the case for Oracle/Open JDK, so I am still missing a difference.

{code:java}
java.lang.IllegalAccessException: jaxp property being set
at org.jboss.modules.Main$MyProperties.logPropertyWrite(Main.java:94)  // <- extension point to log property access
at org.jboss.modules.Main$MyProperties.setProperty(Main.java:86)  // <- extension point to log property access
at java.lang.System.setProperty(System.java:492)
at org.picketlink.common.util.SecurityActions.setSystemProperty(SecurityActions.java:158)
at org.picketlink.common.util.SystemPropertiesUtil.<clinit>(SystemPropertiesUtil.java:41)
at org.picketlink.common.util.TransformerUtil.getTransformerFactory(TransformerUtil.java:104)
at org.picketlink.common.util.TransformerUtil.getTransformer(TransformerUtil.java:81)
at org.picketlink.common.util.DocumentUtil.getSourceAsStream(DocumentUtil.java:346)
at org.picketlink.common.util.DocumentUtil.getNodeAsStream(DocumentUtil.java:329)
at org.picketlink.identity.federation.core.wstrust.PicketLinkSTS.invoke(PicketLinkSTS.java:131)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
at java.lang.reflect.Method.invoke(Method.java:508)
at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.as.webservices.deployers.WSComponentInstanceAssociationInterceptor.processInvocation(WSComponentInstanceAssociationInterceptor.java:56)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:619)
at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
at org.jboss.as.webservices.invocation.AbstractInvocationHandler.invokeInternal(AbstractInvocationHandler.java:161)
at org.jboss.as.webservices.invocation.AbstractInvocationHandler.lambda$invoke$0(AbstractInvocationHandler.java:116)
at org.jboss.as.webservices.invocation.AbstractInvocationHandler$$Lambda$735.00000000703AA230.call(Unknown Source)
at org.jboss.as.webservices.security.SecurityDomainContextImpl.runAs(SecurityDomainContextImpl.java:124)
at org.jboss.as.webservices.invocation.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:115)
at org.jboss.wsf.stack.cxf.JBossWSInvoker.performInvocation(JBossWSInvoker.java:169)
at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)
at org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.invoke(AbstractJAXWSMethodInvoker.java:232)
at org.apache.cxf.jaxws.JAXWSMethodInvoker.invoke(JAXWSMethodInvoker.java:85)
at org.jboss.wsf.stack.cxf.JBossWSInvoker.invoke(JBossWSInvoker.java:145)
at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:522)
at java.util.concurrent.FutureTask.run(FutureTask.java:277)
at org.apache.cxf.interceptor.ServiceInvokerInterceptor$2.run(ServiceInvokerInterceptor.java:126)
at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)
at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:131)
at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)
at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)
at org.jboss.wsf.stack.cxf.RequestHandlerImpl.handleHttpRequest(RequestHandlerImpl.java:109)
at org.jboss.wsf.stack.cxf.transport.ServletHelper.callRequestHandler(ServletHelper.java:134)
at org.jboss.wsf.stack.cxf.CXFServletExt.invoke(CXFServletExt.java:88)
at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)
at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:220)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
at org.jboss.wsf.stack.cxf.CXFServletExt.service(CXFServletExt.java:136)
at org.jboss.wsf.spi.deployment.WSFServlet.service(WSFServlet.java:140)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:67)
at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$718.00000000531FC270.call(Unknown Source)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1521)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$719.00000000531FCAC0.call(Unknown Source)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1521)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$719.00000000531FCAC0.call(Unknown Source)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1521)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$719.00000000531FCAC0.call(Unknown Source)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1521)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$719.00000000531FCAC0.call(Unknown Source)
at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
at java.lang.Thread.run(Thread.java:812)

{code}
","16/Oct/18 9:07 AM;dmlloyd;So somehow the property is not being set under OpenJDK?  Or perhaps something is manually clearing it?  Maybe there's a class init order difference?","16/Oct/18 10:21 AM;jbliznak;At the moment, I don't know how to obtain info about class init order.
No, the linked picketlink code is the only place where this property is manipulated with. It is executed in both cases - IBM and OpenJDK before the attempt to call SchemaFactory.newInstance().

Is there an easy way how to list currently loaded modules, for given deployment?
I am trying to prepare reduced reproducer that would show the issue too.","16/Oct/18 10:29 AM;dmlloyd;Sure, just use the JMX MBean for the ""ServiceModuleLoader"" and you can get all dependency info for a given deployment.

There isn't a good general way to get class init order information, but you can print a log/stack trace when the property is modified *or* when it's read.  Then compare the sequence between OpenJDK and IBM to see if that accounts for the difference.

Another possibility is that somehow the IBM JAXP APIs don't conform to spec.","19/Oct/18 9:07 AM;jbliznak;In allocated time I wasn't able to find any difference in loaded modules or stacktraces.

However, I was able to find a workaround for this particular test - adding explicit dependency to ""org.apache.xerces"" for one of the deployments fixed the test for IBM JDK.
But it just doesn't seem right to do that...

The next question is - is it ok for the linked picketlink sources to set the system property? I guess we can't restrict users from doing so even in application code so jboss-modules should handle that somehow, right?","19/Oct/18 9:36 AM;dmlloyd;bq. The next question is - is it ok for the linked picketlink sources to set the system property? I guess we can't restrict users from doing so even in application code so jboss-modules should handle that somehow, right?

I'd say, no that's not OK, unless picketlink is also ensuring that the dependency is available.  Application code is certainly allowed to do so, but in that case it's up to them to ensure the dependency is added to the deployment.","19/Oct/18 9:52 AM;jbliznak;OK will try to get some input on picketlink side when I determine who is responsible for it.

Still, wildfly bundles own xerces module so I thought we would want to use it. If problem of not finding particular class with IBM JDK is fixed by adding xerces module dependency whereas OpenJDK can find it without dependency that could indicate that the class is actually not loaded from our xerces module but is loaded from JDK libraries itself.","19/Oct/18 9:55 AM;dmlloyd;If it is unspecified, it _should_ be using the default which we install at boot.  This is done by JBoss Modules, which adds a ""virtual"" service implementation to every module that contains the ""__redirected"" class, which in turn calls the implementation class.  In this case, it will be the Xerces we bundle, even though it is not actually on the deployment class path.","19/Oct/18 10:44 AM;msvehla;[~okotek] FYI","22/Oct/18 10:54 AM;jbliznak;[~dmlloyd], yeah, I get it, you described desired situation.
I tried to prepare a reproducer which should reveal the issue without webservices and without picketlink.
It is a copy of WF helloworld quickstart with additional call to ""SchemaFactory.newInstance()"" and some diagnostic output.

To reproduce:
# clone https://github.com/jbliznak/reproducer-wfly-11178
# execute server with particular JDK and  {{test.use.property}} set to true when {{javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema}} property should be set to {{org.apache.xerces.jaxp.validation.XMLSchemaFactory}}, eg. 
{{JAVA_OPTS=""-Djaxp.debug=true -Dtest.use.property=true"" bin/standalone.sh}}
# deploy the app to running server with {{mvn clean package wildfly:deploy}}
# invoke servlet, eg. 
{{curl http://localhost:8080/helloworld/HelloWorld}}

The result with WF 14.0.1.Final class can't be initialized in case of IBM&&property set:

||resolved class ||property unset ||property set ||
||OpenJDK|  __redirected.__SchemaFactory | __redirected.__SchemaFactory |
||IBM JDK| __redirected.__SchemaFactory  | java.lang.IllegalArgumentException: Provider org.apache.xerces.jaxp.validation.XMLSchemaFactory not found |

The interesting thing in JAXP debug output for OpenJDK&&property set is: 
{code:java}
15:38:53,429 ERROR [stderr] (default task-1) JAXP: using thread context class loader (ModuleClassLoader for Module ""deployment.helloworld.war"" from Service Module Loader) for search
15:38:53,429 ERROR [stderr] (default task-1) JAXP: Looking up system property 'javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema'
15:38:53,429 ERROR [stderr] (default task-1) JAXP: The value is 'org.apache.xerces.jaxp.validation.XMLSchemaFactory'
15:38:53,430 ERROR [stderr] (default task-1) JAXP: createInstance(org.apache.xerces.jaxp.validation.XMLSchemaFactory)
15:38:53,430 ERROR [stderr] (default task-1) java.lang.ClassNotFoundException: org.apache.xerces.jaxp.validation.XMLSchemaFactory from [Module ""deployment.helloworld.war"" from Service Module Loader]
15:38:53,430 ERROR [stderr] (default task-1) 	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
15:38:53,430 ERROR [stderr] (default task-1) 	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
15:38:53,430 ERROR [stderr] (default task-1) 	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
15:38:53,430 ERROR [stderr] (default task-1) 	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
15:38:53,431 ERROR [stderr] (default task-1) 	at java.lang.Class.forName0(Native Method)
15:38:53,431 ERROR [stderr] (default task-1) 	at java.lang.Class.forName(Class.java:348)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.xml.validation.SchemaFactoryFinder.createClass(SchemaFactoryFinder.java:256)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.xml.validation.SchemaFactoryFinder.createInstance(SchemaFactoryFinder.java:285)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.xml.validation.SchemaFactoryFinder._newFactory(SchemaFactoryFinder.java:173)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.xml.validation.SchemaFactoryFinder.newFactory(SchemaFactoryFinder.java:146)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.xml.validation.SchemaFactory.newInstance(SchemaFactory.java:213)
15:38:53,431 ERROR [stderr] (default task-1) 	at org.jboss.as.quickstarts.helloworld.HelloService.createHelloMessage(HelloService.java:51)
15:38:53,431 ERROR [stderr] (default task-1) 	at org.jboss.as.quickstarts.helloworld.HelloWorldServlet.doGet(HelloWorldServlet.java:58)
15:38:53,431 ERROR [stderr] (default task-1) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
15:38:53,432 ERROR [stderr] (default task-1) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
15:38:53,432 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
15:38:53,432 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
15:38:53,433 ERROR [stderr] (default task-1) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:38:53,433 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
15:38:53,434 ERROR [stderr] (default task-1) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
15:38:53,434 ERROR [stderr] (default task-1) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
15:38:53,435 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
15:38:53,435 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
15:38:53,435 ERROR [stderr] (default task-1) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
15:38:53,435 ERROR [stderr] (default task-1) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
15:38:53,435 ERROR [stderr] (default task-1) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
15:38:53,435 ERROR [stderr] (default task-1) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
15:38:53,435 ERROR [stderr] (default task-1) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
15:38:53,435 ERROR [stderr] (default task-1) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
15:38:53,435 ERROR [stderr] (default task-1) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
15:38:53,435 ERROR [stderr] (default task-1) 	at java.lang.Thread.run(Thread.java:748)
15:38:53,435 ERROR [stderr] (default task-1) JAXP: failed to getClass(org.apache.xerces.jaxp.validation.XMLSchemaFactory)
15:38:53,435 ERROR [stderr] (default task-1) JAXP: found null in $java.home/jaxp.properties
15:38:53,436 ERROR [stderr] (default task-1) JAXP: factory '__redirected.__SchemaFactory' was found for http://www.w3.org/2001/XMLSchema
{code}

whereas for IBM&&property set
{code:java}

15:50:31,917 ERROR [stderr] (default task-1) JAXP: find factoryId=javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema
15:50:31,918 ERROR [stderr] (default task-1) JAXP: found system property, value=org.apache.xerces.jaxp.validation.XMLSchemaFactory
15:50:31,923 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /helloworld/HelloWorld: java.lang.IllegalArgumentException: Provider org.apache.xerces.jaxp.validation.XMLSchemaFactory not found
	at javax.xml.validation.SchemaFactory.newInstance(Unknown Source)
	at org.jboss.as.quickstarts.helloworld.HelloService.createHelloMessage(HelloService.java:51)
	at org.jboss.as.quickstarts.helloworld.HelloWorldServlet.doGet(HelloWorldServlet.java:58)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$757.00000000DFD9ADA0.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$758.00000000E027C730.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$758.00000000E027C730.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$758.00000000E027C730.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$758.00000000E027C730.call(Unknown Source)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:812)
{code}

RE:
??Application code is certainly allowed to do so, but in that case it's up to them to ensure the dependency is added to the deployment.??
The testing app doesn't have org.apache.xerces module dependency explicitly added, yet OpenJDK can handle situation with property set (looks like OpenJDK has some fallback mechanism which IBM doesn't). Or there might be some classloading issue with IBM.

At this point I think JBoss Modules jira could be created for future work on this, WDYT?","22/Oct/18 11:46 AM;dmlloyd;Maybe, though I am hesitant just because any such work would be a workaround for a JDK bug.  Probably a better fix would be to add a stable upstream JAXP API JAR to the JVM's endorsed APIs directory (however that is done for IBM), and/or file a bug with IBM, and/or prevent PL from incorrectly setting the property in the first place.

I think you're right about there being a fallback mechanism in OpenJDK; that probably explains the difference.","23/Oct/18 3:41 AM;rsvoboda;[~msvehla] how should we proceed with this issue ?","31/Oct/18 9:32 AM;jbliznak;As shown by reproducer, the root problem isn't in Webservices, changing component to modules.","31/Oct/18 9:44 AM;dmlloyd;I believe there is no fix in JBoss Modules that will solve this.  The property simply must not be set; setting the property results in undefined and unsupported behavior.","04/Nov/19 12:26 PM;jamezp;I'm closing this as out of date. All the tests pass for me on the latest WildFly upstream with OpenJ9 + OpenJDK 11 and OpenJ9 + OpenJDK 8.

{code}
openjdk version ""11.0.4"" 2019-07-16
OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.4+11)
Eclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.15.1, JRE 11 Linux amd64-64-Bit Compressed References 20190717_286 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - fa49279450 based on jdk-11.0.4+11)
{code}
{code}
openjdk version ""1.8.0_222""
OpenJDK Runtime Environment (build 1.8.0_222-b10)
Eclipse OpenJ9 VM (build openj9-0.15.1, JRE 1.8.0 Linux amd64-64-Bit Compressed References 20190717_368 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - f147086df1e based on jdk8u222-b10)
{code}",,,,,,,,,,,,,,,,,,,,,,,,
WebServices tests failing in IBM JDK8,WFLY-12458,12825393,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,jim.ma,ropalka,ropalka,30/Aug/19 4:10 AM,04/Nov/19 12:25 PM,28/Dec/19 1:29 PM,04/Nov/19 12:25 PM,,,,,,,,,Web Services,,,,,,,,,,,0,,,,,"[ERROR]   EJBSignTestCase.signedRequest:86 » SOAPFault MustUnderstand headers: [{http://...
[ERROR]   SignTestCase.signedRequest:88 » SOAPFault MustUnderstand headers: [{http://doc...
[ERROR]   EJBSignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromAlice:90 » SOAPFault
[ERROR]   EJBSignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromJohn:102 » SOAPFault
[ERROR]   EJBSignEncryptTestCase.encryptedAndSignedRequest:88 » SOAPFault MustUnderstand...
[ERROR]   SignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromAlice:91 » SOAPFault
[ERROR]   SignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromJohn:103 » SOAPFault
[ERROR]   SignEncryptTestCase.encryptedAndSignedRequest:90 » SOAPFault MustUnderstand he...
[ERROR]   WSBearerElytronSecurityPropagationTestCase.testBearer:133 » SOAPFault MustUnde...
[ERROR]   WSBearerSecurityPropagationTestCase.testBearer:133 » SOAPFault MustUnderstand ...
[ERROR]   WSTrustTestCase.test:319 » SOAPFault MustUnderstand headers: [{http://docs.oas...
[ERROR]   WSTrustTestCase.testActAs:442 » SOAPFault MustUnderstand headers: [{http://doc...
[ERROR]   WSTrustTestCase.testBearer:553 » SOAPFault MustUnderstand headers: [{http://do...
[ERROR]   WSTrustTestCase.testHolderOfKey:494 » SOAPFault MustUnderstand headers: [{http...
[ERROR]   WSTrustTestCase.testNoClientCallback:384 » SOAPFault MustUnderstand headers: [...
[ERROR]   WSTrustTestCase.testNoSignatureUsername:415 » SOAPFault MustUnderstand headers...
[ERROR]   WSTrustTestCase.testOnBehalfOf:469 » SOAPFault MustUnderstand headers: [{http:...
[ERROR]   WSTrustTestCase.testPicketLink:526 » SOAPFault MustUnderstand headers: [{http:...
[ERROR]   WSTrustTestCase.testUsingEPR:351 » SOAPFault MustUnderstand headers: [{http://...
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-11-04 12:25:55.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08cxo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Nov/19 12:25 PM;jamezp;I'm closing this as out of date. All the tests pass for me on the latest WildFly upstream with OpenJ9 + OpenJDK 11 and OpenJ9 + OpenJDK 8.

{code}
openjdk version ""11.0.4"" 2019-07-16
OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.4+11)
Eclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.15.1, JRE 11 Linux amd64-64-Bit Compressed References 20190717_286 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - fa49279450 based on jdk-11.0.4+11)
{code}
{code}
openjdk version ""1.8.0_222""
OpenJDK Runtime Environment (build 1.8.0_222-b10)
Eclipse OpenJ9 VM (build openj9-0.15.1, JRE 1.8.0 Linux amd64-64-Bit Compressed References 20190717_368 (JIT enabled, AOT enabled)
OpenJ9   - 0f66c6431
OMR      - ec782f26
JCL      - f147086df1e based on jdk8u222-b10)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement MP Fault Tolerance,WFLY-12209,12813005,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,rhusar,tstadler,tstadler,12/Jun/19 4:40 PM,02/Nov/19 4:33 PM,28/Dec/19 1:29 PM,02/Nov/19 4:33 PM,,,,,,,,,,,,,,,,,,,,0,,,,,"Please integrate MicroProfile Fault tolerance.

Details about MP Fault Tolerance:
https://github.com/eclipse/microprofile-fault-tolerance/releases/tag/2.0

Maybe it is possible to use SmallRye implementation:
https://github.com/smallrye/smallrye-fault-tolerance/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-11-02 16:33:36.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06gac:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Nov/19 4:33 PM;rhusar;Let me close this as a duplicate of WFLY-12590. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JSF based on Mojarra 2.3.9.SP03,WFLY-11960,12801501,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,ivassile,ivassile,08/Apr/19 11:32 PM,28/Oct/19 3:04 PM,28/Dec/19 1:29 PM,04/Sep/19 7:42 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,JSF,,,,,,,,,,,1,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-11683,,,,,,,,,,,,,,,,,,,,,WFLY-6918,WFLY-11864,WFLY-12335,WFLY-12312,WFLY-12295,WFLY-12336,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-04 02:36:38.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12564,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z04n84:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"16/Aug/19 8:22 AM;stevendegroote;Not sure where else this should go, but given the bugs resolved in here have prevented us from upgrading since WildFly11, could you shed a light on when this could be expected to go public?

I mean, in which Wildfly version? A patch for 17 or immediately 18? And when would that be?","16/Aug/19 2:11 PM;brian.stansberry;[~stevendegroote] I'm not sure when this upgrade will happen, but in any case there are no plans for further 17.x releases.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Upgrade jboss-jsf-api_2.3_spec to 3.0.0.Final,WFLY-12509,12826863,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,fjuma,fjuma,06/Sep/19 12:04 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,16/Sep/19 8:35 PM,,,,,,18.0.0.Final,,,JSF,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:27.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12654,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08loc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a test feature-pack for use in testing common layer combinations,WFLY-12507,12826848,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,06/Sep/19 10:16 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,15/Sep/19 12:42 AM,,,,,,18.0.0.Final,,,Build System,Test Suite,,,,,,,,,,0,,,,,"In our OpenShift images we intend to provide a number Galleon layers tailored toward handling common use cases. WFLY-12394 is about testing those use cases in the main WF testsuite. To help make that testing more robust, add a testsuite/test-feature-pack module that produces layers analogous to what will be in the images, and test those in testsuite/layers.  And then the WFLY-12394 work can use those too, as opposed to using hand coded equivalents in each testsuite module.",,,,,,,,,,,,,,,,,,,,,,,,WFLY-12604,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ll0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add javax.annotations replacement to JAXWS-Client BOM,WFLY-12253,12815844,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,28/Jun/19 5:41 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,28/Jun/19 5:45 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,Server uses org.jboss.spec.javax.annotation:jboss-annotations-api_1.3_spec instead.,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12251,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-28 10:57:51.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06ud0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Jun/19 11:02 AM;emmartins;Yep.


","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add documentation for enhanced mapping of X509Certificate to the underlying identity,WFLY-12133,12809303,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,27/May/19 5:26 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,11/Jul/19 6:49 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,,,,,0,CD17-Deferred,EAP-CD18,Previous_RFE,,Presently we support decoding the distinguished name however there are requests to use alternative such as the subject alternative name.,,,,,,,,,,,,,EAP7-1173,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:26.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12352,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05us4:",9223372036854775807,,0.0,,,,,,,,,,,,okotek,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tweak basic integration tests for OCSP to be able to run them in product branches,WFLY-12579,12829343,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,20/Sep/19 3:15 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,23/Sep/19 2:24 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"The following tests assert values checking the WildFly home web page: CertificateRevocationListTestCase,OcspResponderDownTestCase,OcspTestCase

The title of the console home web page in WildFly contains the string ""Welcome to WildFly"", however, the title is different in our product branches.

The task here is to remove the ""WildFly"" name so we can run the tests without issues in WildFly as well as in our product branches.",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12332,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:26.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12665,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08zr0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JGroups to 4.1.1.Final,WFLY-11890,12798466,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,rhusar,rhusar,21/Mar/19 10:09 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,13/Jun/19 4:19 AM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"https://issues.jboss.org/projects/JGRP/versions/12341388
https://issues.jboss.org/projects/JGRP/versions/12341389",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JGRP-2333,JGRP-2352,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:26.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z045p8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add CredentialStore documentation,WFLY-11101,12772416,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,02/Oct/18 7:09 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,24/Jul/19 1:36 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Documentation,Security,,,,,,,,,,0,,,,,"The CredentialStore is a significant component within WildFly Elytron, however it is not really covered in the documentation.

We have a couple of different approaches to creating the store, we then have referencing the store.  Finally we have custom implementations.

New features are also being developed so really we need a source of documentation to add descriptions of the new features to.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-20 17:36:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12414,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00700:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"20/Jun/19 5:36 PM;fjuma;[~dlofthouse] Just FYI, in case you haven't seen it, just came across some documentation on credential stores in the product docs that could be a good starting point:

https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html/how_to_configure_server_security/securely_storing_credentials#credential_store","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Narayana to 5.9.6.Final,WFLY-12341,12820880,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,mstefank,mstefank,31/Jul/19 3:45 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,08/Aug/19 2:23 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-11917,,,,,,,,,,,,,,,,,,,,,JBTM-3166,JBTM-3165,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12479,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ng4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DatabaseTimerPersistence does not detect mssql driver type,WFLY-12280,12817596,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,filippe.spolti,dward,dward,10/Jul/19 1:07 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,13/Aug/19 3:42 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"The DatabaseTimerPersistence class' identifyDialect method [1] only recognizes the ""microsoft"" driver when it should also recognize the ""mssql"" driver, similar to how the code checks for both ""hsql"" and ""hypersonic"".

The result of this is that instead of the ""create-table.mysql"" property being loaded from timer-sql.properties [2], the default ""create-table"" property is used.

The repercussion of _that_ is that the TIMESTAMP column type is used instead of the DATETIME2 column type when creating the table, which results in the error ""WFLYEJB0163: Cannot create table for timer persistence: com.microsoft.sqlserver.jdbc.SQLServerException: A table can only have one timestamp column. Because table 'JBOSS_EJB_TIMER' already has one, the column 'NEXT_DATE' cannot be added."" Similar reports can be found all over the internet, for example, here: [3]

We ran into this problem when trying to fix RHPAM-2002. Please read the comments from this point forward: [4]

I _think_ the fix would be as simple as changing this line:
{code:java}
}else if (name.toLowerCase().contains(""microsoft"")) {
{code}
to this:
{code:java}
}else if (name.toLowerCase().contains(""mssql"") || name.toLowerCase().contains(""microsoft"")) {
{code}

[1] https://github.com/wildfly/wildfly/blob/master/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/persistence/database/DatabaseTimerPersistence.java#L256

[2] https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/ejb3/main/timers/timer-sql.properties#L9

[3] https://stackoverflow.com/questions/12063850/multiple-timestamp-columns-in-sql-server-2000/12063938

[4] https://issues.jboss.org/browse/RHPAM-2002?focusedCommentId=13757468&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-13757468",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:24.0,,,,,,,Low,,,https://github.com/wildfly/wildfly/pull/12494,https://github.com/wildfly/wildfly/pull/12495,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z074hg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document purpose of each clustering module.,WFLY-12506,12826821,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,06/Sep/19 8:41 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Sep/19 10:11 AM,18.0.0.Beta1,,,,,18.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"There are currently a large number of clustering modules within the wildfly code base.  I've had to field a number of questions about the purpose and intended usage of each one, which is an indication that their function and context is not adequately documented.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:24.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12614,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08lf8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Yasson from 1.0.3 to 1.0.5,WFLY-12578,12829297,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,19/Sep/19 3:06 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,19/Sep/19 8:15 PM,,,,,,18.0.0.Final,,,EE,,,,,,,,,,,0,,,,,Yasson is the Jakarta EE JSON-B implementation and should be upgraded from 1.0.3 to 1.0.5 which is the latest release.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:24.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12663,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08zh8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 10.0.0.Beta3,WFLY-12359,12821673,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,07/Aug/19 9:13 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,07/Aug/19 4:28 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:23.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07rxo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Complete message object visible in ERROR at org.jboss.resource.adapter.jms.inflow.JmsServerSession,WFLY-12415,12824252,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ivassile,ivassile,ivassile,22/Aug/19 4:47 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,08/Sep/19 5:01 PM,17.0.1.Final,,,,,18.0.0.Final,,,JMS,,,,,,,,,,,0,,,,,"JMS message data is  thrown in server.log for error in org.jboss.resource.adapter.jms.inflow.JmsServerSession, since this can be sensitive data for users, there is no option to hide the data while having the exception. 

09:54:28,428 ERROR [org.jboss.resource.adapter.jms.inflow.JmsServerSession] (default-threads - 38) Unexpected error delivering message TextMessage={ Header={ JMSMessageID={ID: XXXXXXXXXXXXXXXXXX} JMSDestination={Queue[]} JMSReplyTo={null} JMSDeliveryMode={PERSISTENT} JMSRedelivered={false} JMSCorrelationID={null} JMSType={null} JMSTimestamp={Wed Jul 03 09:54:23 GMT 2019} JMSDeliveryTime={Wed Jul 03 09:54:23 GMT 2019} JMSExpiration={0} JMSPriority={4} } Properties={ WHOLE EVENT MESSAGE DISPLAY HERE} }: javax.ejb.EJBTransactionRolledbackException: Problem during method invocation (onMessage)

This exception originates from this line:

https://github.com/jms-ra/generic-jms-ra/blob/master/generic-jms-ra-jar/src/main/java/org/jboss/resource/adapter/jms/inflow/JmsServerSession.java#L168
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:23.0,,,,,,,,,,https://github.com/jms-ra/generic-jms-ra/pull/28,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z086h8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-concurrency-api_1.0_spec from 1.0.2.Final to 2.0.0.Final,WFLY-12408,12824146,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,22/Aug/19 6:35 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,11/Sep/19 6:11 PM,,,,,,18.0.0.Final,,,Concurrency Utilities,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,JBEE-216,JBEE-217,JBEE-215,JBEE-218,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:23.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12540,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z085v8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Sep/19 4:40 AM;emmartins;re-opening for 2.0.0.Final","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need to include the schedule expression value in the toString() output of a calendar-based timer,WFLY-12309,12819056,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,20/Jul/19 9:12 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,23/Jul/19 2:41 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"Currently the toString() output of a calendar-based timer contains the same info as that of a non-calendar-based timer.  Need to enhance it to include schedule expression details to aid debug and monitoring.

The current output of a sample calendar-based timer:
{code}
timer [ID=FD3752D5-3D58-48AC-8E22-75A54BBF0C65 TIMEDOBJECTID=xxx AUTO-TIMER?:FALSE PERSISTENT?:FALSE TIMERSERVICE=ORG.JBOSS.AS.EJB3.TIMERSERVICE.TIMERSERVICEIMPL@49E567E4 INITIALEXPIRATION=NULL INTERVALDURATION(IN MILLI SEC)=0 NEXTEXPIRATION=NULL TIMERSTATE=ACTIVE INFO=TIMERINFO]
{code}

The desired output for a sample calendar-based timer:
{code}
timer: [id=07a989cf-e7d7-4dbc-ad66-75c54ad0d9fd timedObjectId=xxx auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@204ac9fc initialExpiration=null intervalDuration(in milli sec)=0 nextExpiration=Sun Jul 21 09:06:21 CST 2019 timerState=ACTIVE info=null] ScheduleExpression[second=21 minute=6 hour=9 dayOfWeek=* dayOfMonth=21 month=7 year=2019 start=null end=null timezone=null]
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:22.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07cr8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-transaction-api_1.3_spec to 2.0.0.Final,WFLY-12521,12827274,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,09/Sep/19 10:43 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,11/Sep/19 6:11 PM,,,,,,18.0.0.Final,,,Transactions,,,,,,,,,,,0,,,,,Contents are https://github.com/jboss/jboss-jakarta-jta-api/pull/4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:22.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08o50:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JPA (Hibernate) second level cache (additional) testing requirements,WFLY-12310,12819160,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tommaso-borgato,tommaso-borgato,tommaso-borgato,22/Jul/19 9:50 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,08/Aug/19 2:24 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,EAP-CD18,,,,"This jira is a placeholder for collecting requirements for (additional) JPA second level cache testing.  I asked [~stephen.fikes] for his input here, as he has helped many customers with various 2lc issues.  

Others are welcome to add ideas here as well, as to what additional 2lc testing we should do in the WF or external QE testsuite.

Current 2lc tests in WildFly (external QE testsuite has zero 2lc tests):
# Clustered test [https://github.com/wildfly/wildfly/blob/master/testsuite/integration/clustering/src/test/java/org/jboss/as/test/clustering/cluster/jpa2lc/ClusteredJPA2LCTestCase.java]
# Clustered extended persistence context failover test [https://github.com/wildfly/wildfly/blob/master/testsuite/integration/clustering/src/test/java/org/jboss/as/test/clustering/cluster/ejb/xpc/StatefulWithXPCFailoverTestCase.java]
#  non-JPA testing [https://github.com/wildfly/wildfly/tree/master/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/hibernate]
# JPA testing [https://github.com/wildfly/wildfly/tree/master/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/jpa/secondlevelcache]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:22.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12444,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07dcc:",9223372036854775807,,0.0,,,,,,,,,,,,tommaso-borgato,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-jaxrpc-api_1.1_spec from 1.0.2.Final to 2.0.0.Final,WFLY-12443,12824971,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jim.ma,jim.ma,jim.ma,28/Aug/19 6:16 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Sep/19 4:43 PM,,,,,,18.0.0.Final,,,Web Services,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:22.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12550,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ah0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EE concurrency resources should use capability wiring,WFLY-11841,12797061,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,brian.stansberry,brian.stansberry,12/Mar/19 11:03 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Jul/19 11:18 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Concurrency Utilities,,,,,,,,,,,0,,,,,"This kind of thing is a bug:

https://github.com/wildfly/wildfly/blob/master/ee/src/main/java/org/jboss/as/ee/subsystem/ManagedScheduledExecutorServiceAdd.java#L58

The subsystem exposes a capability so consumers of its services should use the capabilities API to handle requiring it and accessing its services.

There's probably missing capability wiring within the concurrency resources as well; e.g. for dependency by executors on thread factories.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-10 04:41:24.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12426,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03xho:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Jul/19 3:19 AM;emmartins;??There's probably missing capability wiring within the concurrency resources as well; e.g. for dependency by executors on thread factories.??

EE Concurrency uses its own thread factories.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Exclude log4j and jcl-over-slf4j manually from JAXWS-Client BOM,WFLY-12320,12819663,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,24/Jul/19 4:00 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,25/Jul/19 3:48 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,BOM,,,,,,,,,,,0,,,,,"The referred artifacts are not productized yet managed at server's dep management, and thus need to be manually excluded from the JAXWS Client BOM.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:21.0,,,,,,,,,,https://github.com/wildfly/boms/pull/63,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07g7o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Monitor resource adapter thread pools ,WFLY-12243,12815658,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,27/Jun/19 4:55 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,23/Aug/19 9:46 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"Please add facility to monitor the utilization of resource adapter thread pools.
The two pools in question are :
* activemq.artemis.client.global.thread.pool.max.size
* activemq.artemis.client.global.scheduled.thread.pool.core.size

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-17 17:36:34.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06tbo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Jul/19 5:36 PM;brian.stansberry;""Rejecting"" the PR JIRA found as it's the analysis doc, not the fix, so this issues is not in PR sent state.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade RESTEasy to 3.8.1.Final,WFLY-12207,12814136,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,18/Jun/19 9:26 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,15/Jul/19 10:59 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11737,WFLY-12138,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:21.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06l1g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move jboss-j2eemgmt-api_1.1_spec from 1.0.2.Final to 2.0.0.CR1,WFLY-12435,12824888,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,27/Aug/19 4:38 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,31/Aug/19 10:17 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12541,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z089zo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix org.wildfly.clustering.service.ServiceSupplier usage,WFLY-12380,12823194,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,15/Aug/19 12:18 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,19/Aug/19 4:57 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"When PassiveServiceSupplier is used to obtain the value of a service for use by metrics, it is generally safe to construct it using OperationContext.getServiceRegistry(false), as it does not affect the MSC state of the target service.

ActiveServiceSupplier, on the other hand, must always be constructed with OperationContext.getServiceRegistry(true).  It is meant to obtain the value of an ACTIVEly installed service, thus its get() should never return null.  I'd like to convert as many uses of ActiveServiceSupplier to PassiveServiceSupplier as possible.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:20.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z080ac:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Server reload race conditions in testsuite/integration/multinode,WFLY-12514,12827104,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,08/Sep/19 11:39 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,08/Sep/19 4:56 PM,,,,,,18.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"The testsuite/integration/multinode suite includes two servers. Tests do various manipulations of those servers and use the ServerReload.reloadIfRequired utility to attempt to reload the servers if necessary.

The problem is the behavior of the ServerReload.reloadIfRequired(ModelControllerClient) method is to use TestsuiteEnvironment to get the address/port of the server to connect to after the reload in order to poll waiting for completion of the reload. But that breaks down in multi-server environments as TestsuiteEnvironment is going to only provide the data for one of the servers, so ServerReload is not going to accurately wait for completion of reload for the other.

ServerReload provides an overloaded reloadIfRequired method where a ManagementClient instead of a ModelControllerClient can be provided. If that is used then the correct address/port is taken from the ManagementClient. So that variant should be used wherever possible.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12609,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08n5g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Narayana to 5.9.8.Final,WFLY-12471,12825637,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,02/Sep/19 4:50 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,03/Sep/19 10:49 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,https://issues.jboss.org/projects/JBTM/versions/12342709,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:20.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12576,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08edw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate ORM from 5.3.10 to 5.3.11,WFLY-12233,12815033,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,mstefank,mstefank,24/Jun/19 8:41 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,02/Oct/19 6:31 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12008,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:32:16.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12503,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z06pro:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:32 PM;brian.stansberry;Hi [~smarlow] -- please don't Close issues that are Resolved as Done. It makes the release process harder as we need to do things with them during the release.","02/Oct/19 6:51 PM;smarlow;Sorry about that Brian.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ManagedExecutorService keeping references on undeploy/deploy,WFLY-12384,12823317,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,jbaesner,jbaesner,16/Aug/19 4:43 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,08/Sep/19 4:56 PM,19.0.0.Beta1,,,,,18.0.0.Final,,,Concurrency Utilities,,,,,,,,,,,0,downstream_dependency,,,,"Usage of {{ManagedExecutorService}} leading to kept references after {{undeploy}}/{{deploy}}. This can be seen in the log as below:

{code}
SEVERE [a.b.c.MemberRepository] (EE-ManagedThreadFactory-default-Thread-1) exception when loading the members: Type specified for TypedQuery [a.b.c.Member] is incompatible with query return type [class a.b.c.Member]: java.lang.IllegalArgumentException: Type specified for TypedQuery [a.b.c.Member] is incompatible with query return type [class a.b.c.Member]
	at org.hibernate.internal.AbstractSharedSessionContract.resultClassChecking(AbstractSharedSessionContract.java:792)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:746)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:23)
	at org.jboss.as.jpa.container.AbstractEntityManager.createQuery(AbstractEntityManager.java:133)
	at a.b.c.MemberRepository.loadMembers(MemberRepository.java:77)
	at a.b.c.MemberRepository$Proxy$_$$_WeldClientProxy.loadMembers(Unknown Source)
	at a.b.c.PollMembersTask.call(PollMembersTask.java:45)
	at a.b.c.PollMembersTask.call(PollMembersTask.java:25)
	at org.jboss.as.ee.concurrent.ControlPointUtils$ControlledCallable.call(ControlPointUtils.java:129)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.glassfish.enterprise.concurrent.internal.ManagedFutureTask.run(ManagedFutureTask.java:141)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	at org.glassfish.enterprise.concurrent.ManagedThreadFactoryImpl$ManagedThread.run(ManagedThreadFactoryImpl.java:250)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-16 08:20:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12534,https://github.com/wildfly/wildfly-capabilities/pull/38,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z08110:",9223372036854775807,,0.0,,,,,"A reproducer application is available at [https://github.com/heike2718/readhead-support-reproducer|https://github.com/heike2718/readhead-support-reproducer]",,,,,,,,,,"Switching to us a {{ScheduledManagedExecutor}} does not show this behavior. See [https://github.com/jbaesner/readhead-support-reproducer|https://github.com/jbaesner/readhead-support-reproducer], which is a for of the reproducer with the fix committed on top of it.","16/Aug/19 8:20 AM;emmartins;[~jbaesner] please remove the thread-factory attribute on the executor configuration and let me know if the issue persists. I believe there is a design issue by allowing to plug a managed thread factory in the executors.","16/Aug/19 9:36 AM;jbaesner;[~emmartins] I can confirm that on the compiled WildFly from upstream/master the issue does not occur in case I remove the {{thread-factory}} configuration from the {{managed-executor-service}} configuration in the {{standalone.xml}}","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use a single non-cancelling task per bean manager for tracking passivation expiration,WFLY-12321,12819682,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,24/Jul/19 6:24 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,17/Sep/19 9:07 PM,,,,,,18.0.0.Final,,,Clustering,EJB,,,,,,,,,,0,,,,,"InfinispanBeanManager creates and cancels tasks for expiring bean passivation per bean.
Replace that by a single task per all beans that is never canceled, but instead reschedules itself to the next bean to be expired when it runs.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:19.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12449,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07gbw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Javaee8 BOM should include all spec artifacts directly,WFLY-12409,12824153,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,22/Aug/19 7:06 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,27/Aug/19 9:59 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,BOM,,,,,,,,,,,0,,,,,"... instead of importing through JBoss Specs BOM, which WildFly does not uses and thus its dependency management may be out of sync.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-22 07:53:00.0,,,,,,,,,,https://github.com/wildfly/boms/pull/67,,,,,,,,,,,,,,,,0.0,7.0,,,,,,,,,,"1|z085wk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Aug/19 7:53 AM;psakar;We have a tooling to synchronize versions. 
What will happen to JBoss Specs BOM ? Would it be discontinued ? If not this issue does not make sense.

cc [~brian.stansberry] [~dosoudil] [~rguimara]","22/Aug/19 8:14 AM;psakar;[~emmartins] unless it is clear what will happen to  JBoss Specs BOM this issue only means more work (we have to change existing automated version propagation) without actually bringing anything","22/Aug/19 8:19 AM;emmartins;[~psakar] please look at the PR, you don't need to change anything other than stop caring about jboss spec BOM version for the import","22/Aug/19 8:24 AM;psakar;[~emmartins] I've looked at the PR. It means we have to change procedure which is automatically synchronizing versions between projects in release.","22/Aug/19 8:26 AM;psakar;[~emmartins] your arguments are true only in case  JBoss Specs BOM is discontinued","22/Aug/19 10:16 AM;emmartins;Another positive outcome of this change is that in dev javaee8 BOM is always in sync with server, while in the past it would only be correct whenever there was jboss spec import version upgrade, lasting only till next change in related spec artifacts in server. We don't re-release jboss specs as followup on every single change in server's dep management. So this also means more accurate early testing in both BOMs and Quickstarts...","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SimpleSecurityManager uses AccessController.doPrivileged even if the SM is not checking ,WFLY-12340,12820856,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,swd847,swd847,31/Jul/19 12:19 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,06/Aug/19 11:18 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07nb8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reduce distributed web session expiration scheduler payload,WFLY-12405,12824035,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,21/Aug/19 2:43 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,23/Aug/19 9:50 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"If a web request is handled by a member other than the primary owner of the session, we schedule the expiration of that session on the primary owner.  The command responsible for this serialized both the session ID and the meta data of the session.  However, given that the primary owner will already have this information cached locally, there is no reason to include it in the payload of the scheduler command.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0857o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document usage of JAXWS Client BOM in jaws-* quickstarts,WFLY-12377,12822802,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,14/Aug/19 4:39 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,03/Oct/19 3:36 AM,,,,,,18.0.0.Final,,,Quickstarts,,,,,,,,,,,0,,,,,"All JAXWS Quickstarts should explain usage of the JAXWS Client BOM as the proper way to manage/use the dependencies in server, assuring compatibility with it. Traditionally this kind of guidance is done along the reference to the BOM is pom.xml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,User Experience,,,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/363,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07y0k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jgroups-kubernetes to 1.0.12.Final,WFLY-12347,12821084,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,01/Aug/19 5:20 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,08/Aug/19 2:23 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Adds support for grouping pods by {{metadata.labels.pod-template-hash}} during rolling update.

Tag/changelog 
https://github.com/jgroups-extras/jgroups-kubernetes/tree/1.0.12.Final ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12478,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ook:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-http-client version to 1.0.16.Final,WFLY-12270,12816840,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,04/Jul/19 6:03 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,08/Jul/19 5:53 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,Upgrade wildfly-http-client version to 1.0.16.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WEJBHTTP-26,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0709g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE when microprofile-metrics subsystem is enabled but microprofile-config is not,WFLY-12542,12827864,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,rcd,rcd,11/Sep/19 5:56 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,16/Sep/19 10:32 PM,17.0.1.Final,,,,,18.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,"If the microprofile-metrics subsystem is present in the WildFly config but the microprofile-config subsystem is not, WildFly dies due to a NPE:

{code}
2019-09-11 17:49:43,522 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([(""subsystem"" => ""microprofile-metrics-smallrye"")]): java.lang.NullPointerException
	at org.wildfly.extension.microprofile.metrics.MicroProfileMetricsSubsystemAdd$2.execute(MicroProfileMetricsSubsystemAdd.java:90)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1412) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:521) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:472) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:434) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.server.ServerService.boot(ServerService.java:435) [wildfly-server-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.server.ServerService.boot(ServerService.java:394) [wildfly-server-9.0.2.Final.jar:9.0.2.Final]
	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:374) [wildfly-controller-9.0.2.Final.jar:9.0.2.Final]
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_212]
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-16 22:32:09.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12645,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08rkk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"16/Sep/19 10:32 PM;brian.stansberry;The microprofile-config subsystem is still required, but it won't fail with a runtime NPE.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate deprecated DeploymentPhaseContext.addDependency() method usages,WFLY-11958,12801492,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,08/Apr/19 4:36 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,19/Jun/19 6:11 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,Transactions,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:18.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12216,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04n64:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Exclude unmanaged dependencies not productized,WFLY-12319,12819661,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,24/Jul/19 3:54 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,29/Jul/19 9:53 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"The following artifacts may be found as transitives in WildFly's dependency management, and are not supported by PROD, and thus should be excluded:

 * org.jboss.spec.javax.xml.ws:jboss-jaxws-api_2.2_spec:jar:2.0.2.Final:compile
 * org.slf4j:jcl-over-slf4j:jar:1.7.26:compile
 * org.apache.geronimo.javamail:geronimo-javamail_1.4_mail:jar:1.8.4:compile
 * org.apache.velocity:velocity:jar:1.7:compile
 * io.dropwizard.metrics:metrics-core:jar:3.1.2:compile
 * com.google.code.findbugs:jsr305:jar:3.0.1:compile
 * org.jvnet.staxex:stax-ex:jar:1.8:compile
 * javax.activation:javax.activation-api:jar:1.2.0:compile",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12447,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07g78:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move to jakarta.inject:jakarta.inject-api,WFLY-12502,12826618,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,yersan,jamezp,05/Sep/19 4:18 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,10/Sep/19 9:30 PM,,,,,,18.0.0.Final,,,EE,,,,,,,,,,,0,,,,,"This will be a two commit, three step process since the {{javax.injecti}} module is in WildFly Core.
# Create the {{jjavax.inject}} module in full. This is the first commit
# Change the {{javax.inject:javax.inject:1}} dependencies in other modules to {{jakarta.inject:jakarta.inject-api:1.0}}. This is the second commit.
# Once core, WFCORE-4630, is merged into WildFly revert the first commit.",,,,,,,,,,,,,WFCORE-4630,,,,,,,,,,,WFLY-12355,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12603,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08k6s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade RESTEasy to 3.9.0.Final,WFLY-12466,12825554,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,ron_sigal,30/Aug/19 7:18 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,02/Sep/19 11:57 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-12207,,,,,,,,,,,,,,,,,,,,,WFLY-12192,EAP7-1248,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08dvw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define galleon layers for h2 datasource,WFLY-12254,12815847,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,28/Jun/19 5:53 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,29/Jul/19 9:52 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"Define following layers:
h2-driver
h2-datasource
h2-default-datasource (set example ds as default ee datasource)

Remove following layers:
h2-database

Refactor existing databases feature-group to avoid feature definitions duplication.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06udo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove redundant dependency management on Quickstarts BOM,WFLY-12197,12813782,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,15/Jun/19 10:09 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,15/Jun/19 10:18 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"The following dependencies are managed by Quickstarts BOM, yet these already managed by javaee8 BOM and thus should be removed:

{code}
                                <dependency>
                                    <groupId>org.apache.httpcomponents</groupId>
                                    <artifactId>httpclient</artifactId>
                                </dependency>
                                <!-- contacts-jquerymobile -->
                                <dependency>
                                    <groupId>commons-io</groupId>
                                    <artifactId>commons-io</artifactId>
                                </dependency>
                                <dependency>
                                    <groupId>org.jboss.msc</groupId>
                                    <artifactId>jboss-msc</artifactId>
                                </dependency>
                                <dependency>
                                    <groupId>org.slf4j</groupId>
                                    <artifactId>slf4j-api</artifactId>
                                </dependency>
                                <dependency>
                                    <groupId>com.fasterxml.jackson.core</groupId>
                                    <artifactId>jackson-core</artifactId>
                                </dependency>
                                <dependency>
                                    <groupId>com.fasterxml.jackson.core</groupId>
                                    <artifactId>jackson-databind</artifactId>
                                </dependency>
                                <dependency>
                                    <groupId>org.javassist</groupId>
                                    <artifactId>javassist</artifactId>
                                </dependency>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06j04:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EE Concurrency Capability API,WFLY-12279,12817497,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,10/Jul/19 4:43 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,14/Aug/19 7:37 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Concurrency Utilities,,,,,,,,,,,0,,,,,"EE Concurrency resource definitions should have capabilities, which should manage related MSC services.",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11841,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z073ys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-api_3.2_spec to 2.0.0.Final,WFLY-12559,12828367,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,13/Sep/19 6:08 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,14/Sep/19 5:59 PM,,,,,,18.0.0.Final,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08uis:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ee-security Galleon layer,WFLY-12470,12825620,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,02/Sep/19 4:04 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,02/Sep/19 1:40 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:16.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ea4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.servlet.jboss-servlet-api_4.0_spec to 2.0.0.CR2,WFLY-12437,12824939,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,28/Aug/19 4:03 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,30/Aug/19 6:37 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,Web (Undertow),,,,,,,,,,0,,,,,Upgrade the servlet spec API to 2.0.0.CR2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:16.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08aac:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WS-Security in combination with MTOM attachments,WFLY-12424,12824427,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,iweiss,iweiss,iweiss,23/Aug/19 11:37 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,08/Sep/19 6:45 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Web Services,,,,,,,,,,,0,,,,,"Please ensure to pick up this commit[1] of Apache CXF in next EAP release

[1]https://github.com/apache/cxf/commit/6207b11203790fbe5ac4404b13d2292e30c81462

Thanks!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-08 18:44:09.0,,,,,,,,,,https://github.com/apache/cxf/commit/6207b11203790fbe5ac4404b13d2292e30c81462,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z087jw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Sep/19 6:44 PM;jbliznak;This is already incorporated by upgrade to CXF 3.3.3 WFLY-12087
https://github.com/apache/cxf/commit/e438cd4745c2e08997af62c2958e2d079608a0da","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define Galleon Layer for transactions,WFLY-11954,12801415,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,08/Apr/19 8:26 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,05/Sep/19 9:06 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,,,,,1,,,,,"There is a need to compose a server with transactions layer.
Req: https://developer.jboss.org/thread/279916
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:16.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04mpg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Execute portions of the testsuite using a slimmed server instead of the normal dist,WFLY-12394,12823656,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,19/Aug/19 10:14 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,28/Sep/19 12:35 PM,,,,,,18.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"A lot of the testsuite can run against a slimmed server, not requiring the standard installation. So, if -Dts.layers is set (which currently turns on testsuite/layers) also execute profiles in other testsuite modules that provision slimmed servers and all or a subset of the module's tests.",,,,,,,,,,,,,,,WFLY-12507,,,,,,,,,WFLY-12604,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z082yk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Skip redundant put operations when distributable web sessions use local, non-persistent cache configuration",WFLY-12333,12820212,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,29/Jul/19 11:10 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,31/Jul/19 3:00 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,Web (Undertow),,,,,,,,,,0,downstream_dependency,,,,"When a distributable web session is closed, we perform a cache put to ensure state is persisted/replicated.  However, when the cache configuration is both local and non-persistent, this cache operation is redundant.",,,,,,,,,,,,,WFLY-12331,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:15.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12457,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07jgs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix contended MSC Supplier.get() call in Jsr299BindingsInterceptor.processInvocation,WFLY-12373,12822676,12822674,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,brian.stansberry,brian.stansberry,13/Aug/19 11:40 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,04/Sep/19 3:54 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,CDI / Weld,,,,,,,,,,,0,,,,,"WFLY-11381 changed Jsr299BindingsInterceptor.processInvocation from using InjectValue.getValue() to using Supplier.get() resulting in the kind of concurrency problem noted in the parent issue.

Possible solutions are to revert some part of that change or to cache the value in the interceptor.",,,,,,,,,WFLY-11381,MSC-248,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-02 05:30:13.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12497,https://github.com/wildfly/wildfly/pull/12570,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z07x90:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Aug/19 2:55 PM;brian.stansberry;I'm also a bit concerned about

https://github.com/wildfly/wildfly/pull/11862/files#diff-ba3a2d6b6f5b9f48cd04f301c20ea1c0

and 

https://github.com/wildfly/wildfly/pull/11862/files#diff-a03cbe645209f431d4aab4d8f8ecc510L78

and 

https://github.com/wildfly/wildfly/pull/11862/files#diff-6e84d97385b372abdc10b19178372e4bL89","02/Sep/19 5:30 AM;ropalka;The proper fix came into code base via WFCORE upgrade.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update wildfly-transaction-client to 1.1.4.Final,WFLY-12204,12814036,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,17/Jun/19 6:27 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,18/Jun/19 6:05 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,Transactions,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12205,,,,,,,,,,WFLY-12077,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-17 20:18:53.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06khw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Jun/19 8:18 PM;brian.stansberry;[~tomekadamski] Please add ""incorporates"" links to any JIRAs this resolves.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose management metrics for HotRod caches,WFLY-12165,12811001,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,04/Jun/19 11:13 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,02/Sep/19 9:12 PM,17.0.0.Beta1,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"As of Infinispan 9.4.0, the HotRod client exposes statistics.
When enabled (i.e. statistics-enabled=true), we should register a runtime resource per remote cache that exposes the statistics gathered by https://github.com/infinispan/infinispan/blob/master/client/hotrod-client/src/main/java/org/infinispan/client/hotrod/impl/ClientStatistics.java 
as well as a runtime operation to reset the statistics.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:15.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12461,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z064fw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-client to 4.0.23.Final,WFLY-12378,12823029,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,15/Aug/19 5:26 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,15/Aug/19 5:18 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,https://github.com/wildfly/jboss-ejb-client/compare/4.0.22.Final...4.0.23.Final,,,,,,,,,,,,,,,,,,,,,,,,EJBCLIENT-346,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-15 16:31:43.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z07zbo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"15/Aug/19 4:31 PM;brian.stansberry;[~tomekadamski] Please add a github compare link, from the old tag to the new tag, to the JIRA description.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.jms.jboss-jms-api_2.0_spec to 2.0.0.Final,WFLY-12366,12822062,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,09/Aug/19 11:04 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Sep/19 4:46 PM,17.0.1.Final,,,,,18.0.0.Final,,,JMS,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:14.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07u9g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-transaction-client from 1.1.5.Final to 1.1.6.Final,WFLY-12323,12819699,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,soul2zimate,soul2zimate,24/Jul/19 11:23 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,29/Jul/19 9:54 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,Transactions,,,,,,,,,,0,,,,,https://github.com/wildfly/wildfly-transaction-client/compare/1.1.5.Final...1.1.6.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-28 09:19:20.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12454,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z07gfo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Jul/19 9:19 AM;cfang;wildfly-transaction-client 1.1.6.Final was released on 2019-07-28.
https://issues.jboss.org/projects/WFTC/versions/12342500","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-jms-api_2.0_spec from 1.0.2.Final to 2.0.0.CR1,WFLY-12450,12825186,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,28/Aug/19 8:49 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,30/Aug/19 6:34 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12554,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08br8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 10.0.0.Beta8,WFLY-12548,12827980,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,12/Sep/19 9:48 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Sep/19 7:03 PM,,,,,,18.0.0.Final,,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:13.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08s8s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add documentation to the ""Using the Elytron Subsystem"" section on the attributes that can be specified when configuring server and client SSLContexts",WFLY-11925,12799933,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,29/Mar/19 4:37 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,18/Jun/19 6:07 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,,,,,0,,,,,"Add documentation to the ""Using the Elytron Subsystem"" section on the attributes that can be specified when configuring a {{server-ssl-context}} and a {{client-ssl-context}}.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:13.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12360,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04e7g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Distributable SFSB creation unnecessarily checks passivation store,WFLY-12352,12821457,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,06/Aug/19 7:14 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,09/Aug/19 4:15 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,EJB,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:12.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07qtg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invalid 'images/images' in image URLs in the docs,WFLY-12277,12817473,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,09/Jul/19 10:33 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,18/Jul/19 4:43 PM,,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Documentation,,,,,,,,,,,0,,,,,"There are a lot docs.wildfly.org pages with broken image link because the 'images' part of src URL is duplicated.  The images render correctly when looking at the adoc page rendered by github in the wildfly/wildfly repo, but when the asciidoc is rendered to html, the 'images' part of the url is duplicated.

I think what happens is when there is an

image:xxx.png

in the adoc, the asciidoc plugin converts that to an image tag with a src attribute value of ""images/xxx.png"".  But our adoc files have this:

image:images/xxx.png

So, the 'images' is duplicated.

I think we have that in our files because that style renders correctly when looking at the raw adoc in http://github.com/wildfly/wildfly

I think the solution is to remove the 'images' from the line, and instead change the ifdef at the top of the page from:

ifdef::env-github[:imagesdir: ../]

to

ifdef::env-github[:imagesdir: ../images/]

At least with the one example I tried that worked.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jul/19 10:34 PM;brian.stansberry;images_images.txt;https://issues.redhat.com/secure/attachment/12453080/images_images.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12431,https://github.com/wildfly/wildfly/pull/12433,,,,,,,,,,,,,,,1.0,2.0,,,,,,,,,,"1|z073tw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Jul/19 10:35 PM;brian.stansberry;Attached a list of all the places 'images/images' appears in the 'docs' dir in the wildfly source.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Batch resources should use request-controller capability wiring,WFLY-12282,12817637,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,11/Jul/19 3:13 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Jul/19 11:19 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Batch,,,,,,,,,,,0,,,,,"This kind of thing is a bug:

https://github.com/wildfly/wildfly/blob/8d46601ce6757d26877df6cb61d56a90a3869451/batch-jberet/src/main/java/org/wildfly/extension/batch/jberet/BatchSubsystemDefinition.java#L182

The subsystem exposes a capability so consumers of its services should use the capabilities API to handle requiring it and accessing its services.",,,,,,,,,,,,,WFLY-11841,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12427,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z074po:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a sitemap for docs.wildfly.org,WFLY-12276,12817438,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,09/Jul/19 1:01 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,09/Jul/19 9:23 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Documentation,,,,,,,,,,,0,,,,,"I've seen that google reports pages from various versions of our docs as the 'canonical' version of the page.[1] This is understandable, as google has no way know what's 'canonical', e.g. that the 17 folder is more relevant than the 14 folder and in many cases the pages themselves are identical.  But I presume this will mean docs searches are more likely to direct people to older docs versions.

Of the various ways to improve this, the one that seems *possibly* practical is to add a sitemap file[2].  There are way too many pages to cover them all, but perhaps covering the root page for the version plus the root page of the various documents (Admin Guide, Developer Guide, etc) will suffice to get crawlers to focus on those pages, and then the rest will be ranked appropriately based on crawling from those roots. Or not; I'm no SEO SME. ;)

Part of the PR for adding docs for a new release would then be to update the sitemap doc, e.g. to replace '17' in URLs with '18'.

[~jamezp] FYI.

[1] https://support.google.com/webmasters/answer/139066
[2] https://support.google.com/webmasters/answer/183668?hl=en&ref_topic=4581190",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jul/19 2:57 PM;jamezp;sitemap.xml;https://issues.redhat.com/secure/attachment/12453064/sitemap.xml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-09 14:58:27.0,,,,,,,,,,https://github.com/wildfly/wildfly.github.io/pull/9,,,,,,,,,,,,,,,,1.0,3.0,,,,,,,,,,"1|z073ng:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Jul/19 2:58 PM;jamezp;I've not yet read those links, but the attached sitemap.xml I generated using a nodejs command.","09/Jul/19 4:00 PM;brian.stansberry;Thanks; that looks like it covers things.

We'd want to remove the 16 and earlier URLs. Per the docs in [1] from the description, when using a sitemap to specify canonical URLs:

""Don't include non-canonical pages in a sitemap. If using a sitemap, specify only canonical URLs in the sitemap.""","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define a galleon layer for transactions,WFLY-12269,12816833,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,04/Jul/19 5:30 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,18/Jul/19 6:44 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"This layer would add some benefits:
1) Avoid duplication of permissions we are observing with feature-groups in a cloud-profile context.
2) Allow extension in other context. For example, transactions layer could be redefined in order to enable tx-recovery (add node-identifier=${jboss.node.name} and recovery-listener=true attributes added to the subsystem) and package needed JBOSS modules (eg: tooling for tx-recovery).
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12417,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07084:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document missing discovery capabilities,WFLY-12225,12814799,12755791,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,rhusar,rhusar,21/Jun/19 7:21 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,21/Aug/19 4:38 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,"namely https://github.com/wildfly/wildfly-capabilities/tree/master/org/wildfly/discovery/provider/capability.adoc
",,,,,,,,,,,,,,,,,,,,,WFLY-12222,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:11.0,,,,,,,,,,https://github.com/wildfly/wildfly-capabilities/pull/37,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06ogs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WFTC is not integrated with http-client and transaction propagation does not work for server to server ejb over HTTP calls,WFLY-12184,12812316,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,ochaloup,ochaloup,11/Jun/19 4:34 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,20/Aug/19 7:50 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"The ejb over http (aka. InitialContext lookup using the {{http://}} protocol) should be working fine (see https://issues.jboss.org/browse/WFLY-5029) but the transaction propagation does not work as the http-client provider is not integrated with WFTC.

The integration needs to be fixed. A naive way of fixing this is here:
https://github.com/ochaloup/wildfly/commit/e8e011b9597113a6fd80e9c2b26004b0690ba6d1",,,,,,,,,,,,,,,WEJBHTTP-26,WFLY-12270,,,,,,,,WFLY-5029,EAP7-1236,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-08 05:54:14.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12420,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z06c98:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Jul/19 5:54 AM;kabirkhan;[~flavia.rainone] [~ochaloup] The http client upgrade has been merged","08/Jul/19 8:21 AM;kabirkhan;[~ochaloup] it is merged now. I got so carried away with Jira earlier that I forgot to actually press the merge button on the PR :)","08/Jul/19 9:09 AM;ochaloup;[~kabirkhan] thanks! :0)

I created a PR for this issue.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move javax.validation to jakarta.validation,WFLY-12523,12827320,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,09/Sep/19 4:24 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,11/Sep/19 11:46 AM,,,,,,18.0.0.Final,,,Bean Validation,,,,,,,,,,,0,,,,,Move from javax.validation:validation-api:2.0.1 to jakarta.validation:jakarta.validation-api:2.0.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12615,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08oes:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update wildfly-transaction-client to 1.1.7.Final,WFLY-12453,12825236,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,29/Aug/19 6:09 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,30/Aug/19 7:42 PM,17.0.1.Final,,,,,18.0.0.Final,,,Transactions,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFTC-75,WFWIP-201,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:10.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08c1g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Align legacy distributable-web subsystem xml template with xml parser description,WFLY-12247,12815793,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,27/Jun/19 9:29 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,28/Jun/19 1:07 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Legacy build template uses:
<infinispan-session-management name=""default"" cache-container=""web"" granularity=""SESSION"">

... but xml parser description outputs:
<infinispan-session-management name=""default"" granularity=""SESSION"" cache-container=""web"">",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:10.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12394,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06u24:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update AggregateRealmTestCase to use ConfigurableElement definitions,WFLY-12179,12812076,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,08/Jun/19 10:53 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,13/Jun/19 4:47 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,Test Suite,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:10.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06auk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Documentation for Enhanced Audit Logging - RFC support and Configuring Reconnects,WFLY-12275,12817437,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jucook,jucook,jucook,09/Jul/19 12:08 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,30/Aug/19 7:40 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,,,,,0,EAP-CD18,,,,"Currently, Audit Logging in Elytron does not have the same capabilities as Legacy Security. This task is to enhance Elytron Audit Logging to have support for RFC5424/RFC3164 and add the additional ability to configure reconnect attempts.
",,,,,,,,,,,,,WFCORE-4394,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-30 19:40:48.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z073n8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"30/Aug/19 7:40 PM;brian.stansberry;Thanks [~jucook]!","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core to 10.0.0.Beta1,WFLY-12264,12816076,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,brian.stansberry,jmesnil,01/Jul/19 7:00 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,05/Jul/19 8:26 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Server,,,,,,,,,,,0,,,,,"Move to 10.0.Beta1

https://issues.jboss.org/projects/WFCORE/versions/12341763
",,,,,,,,,,,,,WFLY-12256,,,,,,,,,,,,,,,,,,,,,WFLY-12229,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06vr8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-jsf-api_2.3_spec to 3.0.0.CR1,WFLY-12436,12824914,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,27/Aug/19 6:42 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,27/Aug/19 11:32 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,JSF,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-28 03:56:54.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12542,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z08a5g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Aug/19 3:56 AM;soul2zimate;https://github.com/wildfly/wildfly/pull/12542#issuecomment-525596213 I have a problem with this upgrade in PR.","28/Aug/19 9:50 AM;fjuma;[~soul2zimate] As mentioned on the PR, I can successfully access the artifact using both the HTTPS and HTTP URLS. Are you still seeing this issue?","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Explicitly disable the inheritance of Galleon configurations from transitive feature pack,WFLY-12580,12829376,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,20/Sep/19 6:10 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,23/Sep/19 2:24 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"Since galleon 4.0.1.Final, configurations from transitive feature pack dependencies are inherited by default. This is a bug in Galleon. As a temporal workaround in WildFly, we have to explicitly stop such inheritance until having the proper fix with a Galleon upgrade.
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:09.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12666,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08zxg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SQLException.getSQLState() and getCause() are null with XADatasource connection for postgresql during network failure,WFLY-12315,12819386,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,istudens,istudens,istudens,23/Jul/19 9:06 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,04/Sep/19 7:48 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"
When using staled connection of xa datasource, the connection throws SQLException.
Then SQLException.getSQLState() and getCause() returns null if using XA datasource.

The SQLException is re-created in the following stack.
{code}
#####: java.sql.SQLException: Error
	at org.jboss.jca.adapters.jdbc.WrappedConnection.checkException(WrappedConnection.java:2033)
	at org.jboss.jca.adapters.jdbc.WrappedStatement.checkException(WrappedStatement.java:1436)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeQuery(WrappedPreparedStatement.java:509)
	at com.example.SelectXaServlet.doGet(SelectXaServlet.java:41)
{code}

- adapters/src/main/java/org/jboss/jca/adapters/jdbc/WrappedConnection.java
{code}
   protected SQLException checkException(Throwable t) throws SQLException
   {
      Throwable result = null;
      if (t instanceof AbstractMethodError)
      {
         t = new SQLFeatureNotSupportedException(bundle.methodNotImplemented(), t);
      }

      if (mc != null)
         result = mc.connectionError(t);

      if (result instanceof SQLException)
      {
         throw (SQLException) result;
      }
      else
      {
         throw new SQLException(""Error"", result); // If the managed connection is null, create a new SQLException.
      }

   }
{code}

In the above, the managed connection is null.
This is because that the ConnectionEventListener#connectionErrorOccurred() fired by the Postgresql driver.
(oracle driver doesn't fire the event during executing statement, so this issue doen't occur.)

{code}
	at org.jboss.jca.adapters.jdbc.WrappedConnection.setManagedConnection(WrappedConnection.java:120) // null set
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.cleanup(BaseWrapperManagedConnection.java:339)
	- locked <0x00000000f9ea3560> (a java.util.HashSet)
	at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.returnConnection(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:666)
	at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.returnConnection(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:611)
	at org.jboss.jca.core.connectionmanager.pool.AbstractPool.returnConnection(AbstractPool.java:847)
	at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.returnManagedConnection(AbstractConnectionManager.java:725)
	at org.jboss.jca.core.connectionmanager.listener.AbstractConnectionListener.connectionErrorOccurred(AbstractConnectionListener.java:472)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.broadcastConnectionError(BaseWrapperManagedConnection.java:673)
	at org.jboss.jca.adapters.jdbc.xa.XAManagedConnection.broadcastConnectionError(XAManagedConnection.java:203)
	at org.jboss.jca.adapters.jdbc.xa.XAManagedConnection$1.connectionErrorOccurred(XAManagedConnection.java:91)
	at org.postgresql.ds.PGPooledConnection.fireConnectionFatalError(PGPooledConnection.java:183)
	at org.postgresql.ds.PGPooledConnection.fireConnectionError(PGPooledConnection.java:237)
	at org.postgresql.ds.PGPooledConnection.access$200(PGPooledConnection.java:38)
	at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:428)
	at com.sun.proxy.$Proxy64.executeQuery(Unknown Source)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeQuery(WrappedPreparedStatement.java:504)
	at com.example.SelectXaServlet.doGet(SelectXaServlet.java:41)
{code}

adapters/src/main/java/org/jboss/jca/adapters/jdbc/xa/XAManagedConnection.java
{code}
   public XAManagedConnection(XAManagedConnectionFactory mcf, XAConnection xaConnection, Properties props,
                              int transactionIsolation, int psCacheSize) throws SQLException
   {
      super(mcf, xaConnection.getConnection(), props, transactionIsolation, psCacheSize);

      this.xaConnection = xaConnection;
      xaConnection.addConnectionEventListener(new javax.sql.ConnectionEventListener()
      {
         ...<snip>

         public void connectionErrorOccurred(javax.sql.ConnectionEvent ce)
         {
            SQLException ex = ce.getSQLException();
            broadcastConnectionError(ex);          // cleanup and return this connection when this event fired.
         }
      });
{code}
",,,,,,,,,,,,,JBJCA-1391,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:08.0,,,,,,,,,,https://github.com/ironjacamar/ironjacamar/pull/687,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ems:",9223372036854775807,,0.0,,,,,"reproducer.zip attached.

1. start-up postgreSQL
2. start-up EAP and deploy reproducer. A XA connection need to be created by prefill. (it need to create an connection before execute statement.)
3. shut down postgreSQL. then the pooled connection was staled.
4. invoke servlet as reproducer (SelectXAServlet, SelectServlet), the reproducer will do getConnection and statement.execute.

/selectxa -> using xa connection. SQLException#getSQLState() will be null.
/select   -> using non-xa conneciton. SQLException#getSQLState() will be not-null such as 08006.

Those results would be out to System.out.

If setting valid-on-match, the application needs to sleep between getConnection and statement.execute.
While the application sleeping, shutting down the postgreSQL instance.
You can see the same issue with the step.
The reproducer includes the servlets with sleep (SleepServlet, SleepXAServlet).
",,,,,,,,,,none,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move com.sun.mail:javax.mail to com.sun.mail:jakarta.mail-api,WFLY-12524,12827323,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,09/Sep/19 5:19 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,11/Sep/19 11:46 AM,,,,,,18.0.0.Final,,,Mail,,,,,,,,,,,0,,,,,"Move from com.sun.mail:javax.mail:1.6.2 to com.sun.mail:jakarta.mail-api:1.6.4

Note that this differs from jakarta.mail:jakarta.mail-api:1.6.4, which is only an API jar. The com.sun.mail artifact includes impl classes we use.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12617,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ofg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Timer ScheduleExpression default timezone should be null,WFLY-12469,12825579,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,01/Sep/19 12:28 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,02/Sep/19 9:00 PM,18.0.0.Beta1,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"According to javadoc: https://javaee.github.io/javaee-spec/javadocs/javax/ejb/ScheduleExpression.html

public String getTimezone()

Return the timezone, if set; otherwise null.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:08.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08e18:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Standalone EJB Client using Remote UserTransaction can hang if there are more than 15 concurrent client threads,WFLY-12056,12806153,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,08/May/19 4:01 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,04/Sep/19 7:47 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,,,,,0,downstream_dependency,,,,Standalone EJB Client using Remote UserTransaction can hang if there are more than 15 concurrent client threads,,,,,,,,,XNIO-339,,,,,,,,,,,,,,,WFLY-10150,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-29 05:50:11.0,,,,,,,,,,https://github.com/xnio/xnio/pull/187,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05d2c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"29/Jul/19 5:50 AM;mstefank;PR is merged in XNIO 3.7.2.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Layers test not disabling inheritance in transitive dependencies,WFLY-12482,12826131,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,04/Sep/19 4:00 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,04/Sep/19 9:08 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"By resolving the transitive dependencies locally, we enable inheritance of packages and configs.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08hc4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
wildfly-clustering-web-hotrod contains unreferenced classes,WFLY-12181,12812204,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,10/Jun/19 11:33 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,13/Jun/19 4:31 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"HotRodMarshaller was refactored into wildfly-clustering-infinispan-extension.
RemoteCacheContainerConfiguration and RemoteCacheContainerFactory were made obsolete as part of WFLY-7719",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06bl0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Naming Client to 1.0.11.Final,WFLY-12162,12810847,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,04/Jun/19 5:33 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,13/Jun/19 4:51 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Naming,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z063lo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.management.j2ee:jboss-j2eemgmt-api_1.1_spec to 2.0.0.Final,WFLY-12561,12828442,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,16/Sep/19 4:03 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,16/Sep/19 6:28 PM,,,,,,18.0.0.Final,,,Management,,,,,,,,,,,0,,,,,https://github.com/jboss/jboss-jakarta-management-api/compare/2.0.0.CR1...jboss:2.0.0.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ur0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Default routing cache in HA profiles should use replicated-cache,WFLY-12245,12815760,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,27/Jun/19 12:19 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,28/Jun/19 1:10 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:06.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12393,https://github.com/wildfly/wildfly/pull/12399,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06tvg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Microprofile REST Client 1.3 implementation,WFLY-12138,12809942,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,29/May/19 12:36 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,15/Jul/19 5:36 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,REST,,,,,,,,,,,0,,,,,"Provide an implementation of the Microprofile RestClient specification 1.3.
Latest available specification: https://github.com/eclipse/microprofile-rest-client/releases/tag/1.3.2",,,,,,,,,,,,,,,,,,,,,,,,RESTEASY-2257,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-07 15:07:00.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12373,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05ya4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"07/Jun/19 3:07 PM;jamezp;The PR is for the proposal. Placing this back in the Open state.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MockitoException in InfinispanBeanTestCase on latest JDK13,WFLY-12429,12824486,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,ropalka,ropalka,25/Aug/19 10:54 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,09/Sep/19 9:42 PM,,,,,,18.0.0.Final,,,Clustering,,,,,,,,,,,0,jdk13,,,,"[INFO] Running org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanTestCase
[ERROR] Tests run: 7, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.929 s <<< FAILURE! - in org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanTestCase
[ERROR] isExpired(org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanTestCase)  Time elapsed: 0.027 s  <<< ERROR!
org.mockito.exceptions.base.MockitoException: 

Cannot call abstract real method on java object!
Calling real methods is only possible when mocking non abstract method.
  //correct example:
  when(mockOfConcreteClass.nonAbstractMethod()).thenCallRealMethod();
	at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanTestCase.isExpired(InfinispanBeanTestCase.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-26 11:09:08.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12616,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z087wc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Aug/19 10:55 AM;ropalka;Just FYI [~brian.stansberry] this issue is new regression on latest JDK13 ","26/Aug/19 11:09 AM;brian.stansberry;[~ropalka] Can you apply some label to these JDK 13 issues so it's easy to query them? Thanks.","27/Aug/19 6:18 AM;ropalka;Added jdk13 label to known issues [~brian.stansberry]","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE with wildfly-openssl using OpenSSL 1.1.1a,WFLY-11640,12788867,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,iweiss,jstourac,jstourac,23/Jan/19 1:18 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,04/Sep/19 7:56 PM,15.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Web (Undertow),,,,,,,,,,,0,downstream_dependency,,,,"It is impossible to use {{wildfly-openssl}} binding with OpenSSL 1.1.1a (RHEL8 uses 1.1.1 at the moment but there seems to be same issue). There is an NPE during the ciphersuites initialization:
{code}
9:10:58,330 WARNING [org.wildfly.openssl.OpenSSLContextSPI] (MSC service thread 1-3) WFOPENSSL0014 Failed to initialize ciphers: java.lang.NullPointerException
	at org.wildfly.openssl.CipherSuiteConverter.toJava(CipherSuiteConverter.java:284)
	at org.wildfly.openssl.OpenSSLContextSPI.getAvailableCipherSuites(OpenSSLContextSPI.java:109)
	at org.wildfly.openssl.OpenSSLEngine.getSupportedCipherSuites(OpenSSLEngine.java:711)
	at org.wildfly.openssl.OpenSSLSocket.getSupportedCipherSuites(OpenSSLSocket.java:163)
	at javax.net.ssl.SSLContextSpi.engineGetSupportedSSLParameters(SSLContextSpi.java:194)
	at javax.net.ssl.SSLContext.getSupportedSSLParameters(SSLContext.java:436)
	at org.jboss.as.domain.management.security.SSLContextService.wrapSslContext(SSLContextService.java:116)
	at org.jboss.as.domain.management.security.SSLContextService.start(SSLContextService.java:102)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
{code}

and then there is NPE during the request itself:
{code}
19:12:18,417 ERROR [org.xnio.listener] (default I/O-2) XNIO001007: A channel event listener threw an exception: java.lang.NullPointerException
	at org.wildfly.openssl.CipherSuiteConverter.toJava(CipherSuiteConverter.java:284)
	at org.wildfly.openssl.OpenSSLEngine.toJavaCipherSuite(OpenSSLEngine.java:1094)
	at org.wildfly.openssl.OpenSSLEngine.getEnabledCipherSuites(OpenSSLEngine.java:729)
	at org.wildfly.openssl.OpenSSLContextSPI.getCiphers(OpenSSLContextSPI.java:339)
	at org.wildfly.openssl.OpenSSLEngine.getEnabledCipherSuites(OpenSSLEngine.java:720)
	at io.undertow.server.protocol.http.AlpnOpenListener.engineSupportsHTTP2(AlpnOpenListener.java:324)
	at io.undertow.server.protocol.http.AlpnOpenListener$1.apply(AlpnOpenListener.java:239)
	at io.undertow.server.protocol.http.AlpnOpenListener$1.apply(AlpnOpenListener.java:235)
	at io.undertow.server.protocol.http.AlpnOpenListener$SSLConduitUpdater.apply(AlpnOpenListener.java:430)
	at io.undertow.server.protocol.http.AlpnOpenListener$SSLConduitUpdater.apply(AlpnOpenListener.java:419)
	at io.undertow.protocols.alpn.DefaultAlpnEngineManager.registerEngine(DefaultAlpnEngineManager.java:31)
	at io.undertow.protocols.alpn.ALPNManager.registerEngineCallback(ALPNManager.java:80)
	at io.undertow.server.protocol.http.AlpnOpenListener.handleEvent(AlpnOpenListener.java:235)
	at io.undertow.server.protocol.http.AlpnOpenListener.handleEvent(AlpnOpenListener.java:64)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.ChannelListeners$DelegatingChannelListener.handleEvent(ChannelListeners.java:1092)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:131)
	at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:479)
{code}

Looking briefly into it, the cipher that is trying to be used is *{{TLS_AES_256_GCM_SHA384}}*. It is interesting that this cipher has underscores '_' in its name instead of hyphens '-' as most of the openssl ciphers have. Looks like these were added in the sake of TLSv1.3, [see here|https://github.com/openssl/openssl/commit/fa25763b5528b56b448d64bfbaeac54905b0c80d].",,,,,,,,,WFSSL-10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-27 04:17:08.0,,,,,,,,,,https://github.com/wildfly/wildfly-openssl/pull/57,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z02pmg:",9223372036854775807,,0.0,,,,,"# start eap with path to OpenSSL 1.1.1a, e.g.:
{code}
./bin/standalone.sh -Dorg.wildfly.openssl.path=/tmp/openssl-1.1.1a/
{code}
# configure tls provider via CLI:
{code}
/core-service=management/security-realm=ApplicationRealm/server-identity=ssl:write-attribute(name=protocol,value=openssl.TLSv1.2)
reload
{code}
# see NPE during ciphers initialization in server.log
# perform request to server, e.g. {{curl -k https://localhost:8443}} and see another NPE
",,,,,,,,,,,"23/Jan/19 1:24 PM;jstourac;Note, JFYI - here is the comparison of cipher sets between 1.1.0i-fips (default on my system) and 1.1.1a (compiled from source):
{code}
-AES128-CCM
-AES128-CCM8
 AES128-GCM-SHA256
 AES128-SHA
 AES128-SHA256
-AES256-CCM
-AES256-CCM8
 AES256-GCM-SHA384
 AES256-SHA
 AES256-SHA256
-CAMELLIA128-SHA
-CAMELLIA128-SHA256
-CAMELLIA256-SHA
-CAMELLIA256-SHA256
-DHE-RSA-AES128-CCM
-DHE-RSA-AES128-CCM8
+DHE-PSK-AES128-CBC-SHA
+DHE-PSK-AES128-CBC-SHA256
+DHE-PSK-AES128-GCM-SHA256
+DHE-PSK-AES256-CBC-SHA
+DHE-PSK-AES256-CBC-SHA384
+DHE-PSK-AES256-GCM-SHA384
+DHE-PSK-CHACHA20-POLY1305
 DHE-RSA-AES128-GCM-SHA256
 DHE-RSA-AES128-SHA
 DHE-RSA-AES128-SHA256
-DHE-RSA-AES256-CCM
-DHE-RSA-AES256-CCM8
 DHE-RSA-AES256-GCM-SHA384
 DHE-RSA-AES256-SHA
 DHE-RSA-AES256-SHA256
-DHE-RSA-CAMELLIA128-SHA
-DHE-RSA-CAMELLIA128-SHA256
-DHE-RSA-CAMELLIA256-SHA
-DHE-RSA-CAMELLIA256-SHA256
 DHE-RSA-CHACHA20-POLY1305
-ECDHE-ECDSA-AES128-CCM
-ECDHE-ECDSA-AES128-CCM8
 ECDHE-ECDSA-AES128-GCM-SHA256
 ECDHE-ECDSA-AES128-SHA
 ECDHE-ECDSA-AES128-SHA256
-ECDHE-ECDSA-AES256-CCM
-ECDHE-ECDSA-AES256-CCM8
 ECDHE-ECDSA-AES256-GCM-SHA384
 ECDHE-ECDSA-AES256-SHA
 ECDHE-ECDSA-AES256-SHA384
-ECDHE-ECDSA-CAMELLIA128-SHA256
-ECDHE-ECDSA-CAMELLIA256-SHA384
 ECDHE-ECDSA-CHACHA20-POLY1305
+ECDHE-PSK-AES128-CBC-SHA
+ECDHE-PSK-AES128-CBC-SHA256
+ECDHE-PSK-AES256-CBC-SHA
+ECDHE-PSK-AES256-CBC-SHA384
+ECDHE-PSK-CHACHA20-POLY1305
 ECDHE-RSA-AES128-GCM-SHA256
 ECDHE-RSA-AES128-SHA
 ECDHE-RSA-AES128-SHA256
 ECDHE-RSA-AES256-GCM-SHA384
 ECDHE-RSA-AES256-SHA
 ECDHE-RSA-AES256-SHA384
-ECDHE-RSA-CAMELLIA128-SHA256
-ECDHE-RSA-CAMELLIA256-SHA384
 ECDHE-RSA-CHACHA20-POLY1305
+PSK-AES128-CBC-SHA
+PSK-AES128-CBC-SHA256
+PSK-AES128-GCM-SHA256
+PSK-AES256-CBC-SHA
+PSK-AES256-CBC-SHA384
+PSK-AES256-GCM-SHA384
+PSK-CHACHA20-POLY1305
+RSA-PSK-AES128-CBC-SHA
+RSA-PSK-AES128-CBC-SHA256
+RSA-PSK-AES128-GCM-SHA256
+RSA-PSK-AES256-CBC-SHA
+RSA-PSK-AES256-CBC-SHA384
+RSA-PSK-AES256-GCM-SHA384
+RSA-PSK-CHACHA20-POLY1305
+SRP-AES-128-CBC-SHA
+SRP-AES-256-CBC-SHA
+SRP-RSA-AES-128-CBC-SHA
+SRP-RSA-AES-256-CBC-SHA
+TLS_AES_128_GCM_SHA256
+TLS_AES_256_GCM_SHA384
+TLS_CHACHA20_POLY1305_SHA256
{code}","27/Feb/19 4:17 AM;iweiss;[~jstourac], do you know the compilation options used for OpenSSL 1.1.1a?

I just tested on Fedora 29 and it worked, no problems.

{noformat}
 $ rpm -qi openssl
Name        : openssl
Epoch       : 1
Version     : 1.1.1a
Release     : 1.fc29
Architecture: x86_64
{noformat}

But I only see the NPE when connecting to the server.","27/Feb/19 10:56 AM;jstourac;[~iweiss], I can see the very same issue even on my Fedora 29. See:
# get and download WildFly 15.0.1.Final
# unzip and start ./bin/standalone.sh
# configure openssl provider:
{code}
/core-service=management/security-realm=ApplicationRealm/server-identity=ssl:write-attribute(name=protocol,value=openssl.TLSv1.2)
reload
{code}
# perform https request against server: curl -k https://localhost:8443
# see error in server.log

Same version of OpenSSL library:
{code}
$ rpm -qi openssl
Name        : openssl
Epoch       : 1
Version     : 1.1.1a
Release     : 1.fc29
Architecture: x86_64
{code}

What version of WildFly have you been testing this against?","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on org.jboss.ws.common,WFLY-11318,12778669,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,09/Nov/18 6:39 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,08/Aug/19 2:24 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Server,,,,,,,,,,,0,,,,,"Validate the need of these module dependencies in org.jboss.ws.common module:

{code:xml}
 <module name=""javax.transaction.api""/>
 <module name=""javax.xml.rpc.api""/>
 <module name=""javax.rmi.api""/>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11827,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01648:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
wildfly-clustering-web-* deps missing provided scope in galleon-pack pom.xml,WFLY-12498,12826604,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,05/Sep/19 2:39 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,06/Sep/19 4:23 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:05.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08k3w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add product maven repository to BOMs and Quickstarts ,WFLY-12494,12826414,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,05/Sep/19 5:30 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,05/Sep/19 5:38 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,BOM,Quickstarts,,,,,,,,,,0,,,,,"Product artifacts are now being used by WildFly, thus such repos are needed also in BOMs and Quickstarts parent poms.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:05.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08iyc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Log WARN if application specifies @RunAsPrincipal and not @RunAs,WFLY-12216,12814539,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,tmiyar,tmiyar,20/Jun/19 10:04 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Jul/19 11:11 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,"Log WARN if application specifies @RunAsPrincipal and not @RunAs

As per: https://docs.jboss.org/author/display/WFLY10/EJB+3+Reference+Guide

Specification of Run-as Principal using Metadata Annotations
...
Using this annotation without specifying a run-as role is considered an error.

For example:

{code}
@RunAs(""admin"")
@RunAsPrincipal(""MyBean"")
{code}

If a user specifies @RunAsPrincipal and not @RunAs (or the xml equivalent), then the user shows up as anonymous, we should log a warning to let the application know that there is an issue so that they know it needs to be corrected.",,,,,,,,,,,,,JBEAP-17061,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12377,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06nek:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java.net.URISyntaxException: Illegal character in opaque part at index 7: file:C:\Java\jboss\jboss-as\standalone\configuration/logging.properties,WFLY-12085,12807542,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,16/May/19 11:40 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,27/Sep/19 1:46 PM,17.0.0.Alpha1,17.0.0.Final,,,,18.0.0.Final,,,JMS,,,,,,,,,,,0,downstream_dependency,,,,"There seems to be a regression in JBoss EAP 7.2.1 patch. After applying it the following exception can be seen in the server log file during the startup:

{noformat} 
2019-05-13 11:45:11,419 WARN  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 78) AMQ222277: Problem initializing automatic logging configuration reload for file:C:\Java\jboss\jboss-as\standalone\configuration/logging.properties: java.net.URISyntaxException: Illegal character in opaque part at index 7: file:C:\Java\jboss\jboss-as\standalone\configuration/logging.properties
	at java.net.URI$Parser.fail(URI.java:2848)
	at java.net.URI$Parser.checkChars(URI.java:3021)
	at java.net.URI$Parser.parse(URI.java:3058)
	at java.net.URI.<init>(URI.java:588)
	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.initialisePart1(ActiveMQServerImpl.java:2369)
	at org.apache.activemq.artemis.core.server.impl.LiveOnlyActivation.run(LiveOnlyActivation.java:64)
	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.internalStart(ActiveMQServerImpl.java:544)
	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.start(ActiveMQServerImpl.java:481)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.start(JMSServerManagerImpl.java:376)
	at org.wildfly.extension.messaging.activemq.jms.JMSService.doStart(JMSService.java:206)
	at org.wildfly.extension.messaging.activemq.jms.JMSService.access$000(JMSService.java:65)
	at org.wildfly.extension.messaging.activemq.jms.JMSService$1.run(JMSService.java:100)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{noformat}

This issue only affects Microsoft Windows platform.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-16 15:11:35.0,,,,,,,,https://developer.jboss.org/message/989719#989719,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z05l8s:",9223372036854775807,,0.0,,,,,"- install JBoss EAP 7.2.0 in Microsoft Windows 10
- apply patch 7.2.1 
- start JBoss server with standalone-full.xml profile",,,,,,,,,,"While not ideal you can filter out the message since it's a warning and doesn't cause any real issues.
{code}
/subsystem=logging/logger=org.apache.activemq.artemis.core.server:add(filter-spec=not(match(""AMQ222277.*"")))
{code}","16/May/19 12:06 PM;ehugonnet;The automatic logging configuration reload functionality in ActiveMQ Artemis is meant to be used when the broker is standalone. It will monitor whatever file is referenced by the -Dlogging.configuration system property and reload the configuration therein if necessary so that users/administrators can update the logging configuration while the broker is running. Obviously this behavior is not desirable in the EAP use-case. Therefore, the messaging subsystem can invoke setConfigurationFileRefreshPeriod(-1) on its instance of org.apache.activemq.artemis.core.config.Configuration to avoid any reload attempts. via [~jbertram]
","16/May/19 3:11 PM;jamezp;This unfortunately won't fix this warning from being logged. The {{ReloadManager}} will not be scheduled, but the {{new URL(System.getProperty(""logging.proeprties"")).toURL()}} will still be invoked. This is because it's registered as a callback to the reload manager.

{code:java}
if (System.getProperty(""logging.configuration"") != null) {
   try {
      reloadManager.addCallback(new URI(System.getProperty(""logging.configuration"")).toURL(), new LoggingConfigurationFileReloader());
   } catch (Exception e) {
      // a syntax error with the logging system property shouldn't prevent the server from starting
      ActiveMQServerLogger.LOGGER.problemAddingConfigReloadCallback(System.getProperty(""logging.configuration""), e);
   }
}
{code}

I don't know enough about the reload manager, but we may want to set it to {{-1}} anyway if the configuration should be coming from WildFly itself anyway.","06/Jun/19 11:38 AM;brian.stansberry;Rejecting https://github.com/wildfly/wildfly/pull/12301 as it is not a fix for this, it's a fix for WFLY-12174","11/Jul/19 5:30 AM;ehugonnet;This has been fixed in Apache Artemis 2.9.0
commit 4fffc0277835815699f2a740910175683155df78
Author: James Perkins <jperkins@redhat.com>
Date:   Thu May 16 14:07:25 2019 -0700

    ARTEMIS-2342 Use a URL instead of a URI for the logging.configuration property

    The property the log manager itself expects is a URL which could result in an invalid URI missing the // prefix after file:.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-jaxb-api_2.3_spec from 1.0.1.Final to 2.0.0.CR1,WFLY-12441,12824962,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jim.ma,jim.ma,jim.ma,28/Aug/19 5:21 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,30/Aug/19 6:35 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Web Services,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:04.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08af8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core to 10.0.0.Beta5,WFLY-12451,12825190,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,28/Aug/19 10:23 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,29/Aug/19 7:10 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Server,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12372,,,,,,,,,,WFLY-12373,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12559,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08bs4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Integration test for EJBCLIENT-335, display host:port on connecting to server error",WFLY-12101,12808005,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,tmiyar,tmiyar,20/May/19 2:23 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,28/Jun/19 5:47 PM,,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,EJBCLIENT-335,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12375,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05nss:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow setting create-on-start / drop-on-exit on Infinispan JDBC tables,WFLY-12072,12806835,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,galder.zamarreno,galder.zamarreno,13/May/19 12:21 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,31/Jul/19 2:57 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,A port of ISPN-5267.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:03.0,,,,,,,,https://stackoverflow.com/questions/55881179/infinispan-cache-table-not-auto-created-with-wildfly-15-using-invalidation-cach,,https://github.com/wildfly/wildfly/pull/12298,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05h30:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Quickstarts docs references to Java EE,WFLY-12594,12830343,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,26/Sep/19 4:05 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,26/Sep/19 4:10 AM,,,,,,18.0.0.Final,,,Quickstarts,,,,,,,,,,,0,,,,,... replacing these with Jakarta EE,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:03.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z095gk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Microprofile Health 2.1,WFLY-12555,12828225,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,13/Sep/19 6:46 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,14/Sep/19 6:07 PM,,,,,,18.0.0.Final,,,MP Health,,,,,,,,,,,0,,,,,"https://github.com/eclipse/microprofile-health/compare/2.0.1...2.1
",,,,,,,,,,,,,,,,,,,,,,,,WFLY-12554,WFLY-12628,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:03.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08tp8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Sep/19 6:50 AM;jmesnil;smallrye-health 2.0 depends on mp-health 2.1","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
page-size-bytes should be an INT instead of a LONG,WFLY-12515,12827126,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,09/Sep/19 3:23 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,11/Sep/19 9:14 AM,18.0.0.Beta1,,,,,18.0.0.Final,,,JMS,,,,,,,,,,,0,,,,,page-size-bytes is defined as a LONG in the model but in fact only an INT value makes sense. We should fix the model to represent that.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12610,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08na4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Apache Artemis from 2.8.1 to 2.9.0,WFLY-12479,12826063,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,03/Sep/19 12:47 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,03/Sep/19 10:49 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,,,,,0,,,,,Upgrade Apache Artemis from 2.8.1 to 2.9.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08gzg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"socket-binding ""jgroups-tcp-fd"" for FD_SOCK is used for UDP stack",WFLY-12232,12815032,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,vramik,vramik,24/Jun/19 8:41 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,27/Jun/19 5:14 AM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Clustering,,,,,,,,,,,0,,,,,"There are switched names of socket bindings in jgroups.xml

* https://github.com/wildfly/wildfly/commit/5ee199b7ecd3166a5afdc97425af412f0bc796c0#diff-1706d0bcdcaec20af3babae4dd52e5a7R14
* https://github.com/wildfly/wildfly/commit/5ee199b7ecd3166a5afdc97425af412f0bc796c0#diff-1706d0bcdcaec20af3babae4dd52e5a7R29

when legacy build system is used, e.g. like [here|https://github.com/keycloak/keycloak/blob/master/distribution/feature-packs/server-feature-pack/src/main/resources/configuration/standalone/subsystems-ha.xml#L33] it ends with switched values than in standalone-ha.xml from wildfly17 dist
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12383,https://github.com/wildfly/wildfly/pull/12385,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06prg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need to use principal-transformer in aggregate-realm in between authentication-realm and authorization-realm,WFLY-12202,12814020,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aabdelsa,aabdelsa,aabdelsa,17/Jun/19 4:52 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,04/Sep/19 5:30 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,,,,,0,,,,,"It is requirement to use principal-transformer in aggregate-realm in between authentication-realm and authorization-realm .
--------------------------------------

<security-domain name=""TestDomain"" default-realm=""TestAggRealm"" permission-mapper=""default-permission-mapper"" pre-realm-principal-transformer=""test-transformer"" security-event-listener=""local-audit"">
<realm name=""TestAggRealm"" role-decoder=""from-roles-attribute""/>
</security-domain>

.
.

<aggregate-realm name=""TestAggRealm"" authentication-realm=""TestLdapRealm"" authorization-realm=""Test_Auth_LdapRealm""/>

--------------------------------------

I think to achieve this there need to be something like ""mid-realm-principal-transformer"" in <aggregate-realm> only .

",,,,,,,,,,,,,WFCORE-4496,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12579,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06kec:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Galleon layer for datasources,WFLY-12431,12824579,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,26/Aug/19 9:58 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,26/Aug/19 7:28 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,,,,,0,,,,,Define the galleon layer to enable datasources feature.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z088g4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Confusing error message when writing simple-load-provider attribute when dynamic load provider is present,WFLY-10872,12765049,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,jkasik,jkasik,16/Aug/18 5:29 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,19/Jun/19 6:11 PM,14.0.0.Beta2,17.0.0.Final,,,,18.0.0.Beta1,18.0.0.Final,,mod_cluster,,,,,,,,,,,0,,,,,"Following should add simple load provider with factor=0:
{code}
/subsystem=modcluster/mod-cluster-config=configuration/:write-attribute(name=simple-load-provider, value=0)
{code}

Instead, this error shows up:

{code}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0216: Management resource '[
    (\""subsystem\"" => \""modcluster\""),
    (\""proxy\"" => \""default\""),
    (\""load-provider\"" => \""simple\"")
]' not found"",
    ""rolled-back"" => true
}
{code}

There is missing translation to create the resource, same is the situation for undefine operation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Regression,,,,,,,,,,,,2018-08-20 10:12:51.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12358,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|i000gv:",9223372036854775807,,0.0,,,,,"{code}
/subsystem=modcluster/mod-cluster-config=configuration/:write-attribute(name=simple-load-provider, value=0)
{code}

or

{code}
/subsystem=modcluster/mod-cluster-config=configuration/:undefine-attribute(name=simple-load-provider)
{code}",,,,,,,,,Workaround Exists,"{code}
/subsystem=modcluster/proxy=default/load-provider=simple:add(factor=0)
{code}","20/Aug/18 10:12 AM;pferraro;The reason this fails is because there is only 1 load provider allowed at a given time, and the current load provider is the dynamic one.  Consequently, the existing load provider needs to be removed first (adding the load-provider=simple will also do this).  The error message is admittedly confusing, since the operation executed is not the same as the one entered, meaning:
/subsystem=mod_cluster/mod-cluster-config=configuration:write-attribute(name=simple-load-provider, value=0)
will actually execute:
/subsystem=mod_cluster/mod-cluster-config=configuration/load-provider=simple:write-attribute(name=factor, value=0)
What we should do is validate the existence of the load-provider=simple resource first and use a more contextual message rather than the current one.","20/Aug/18 10:14 AM;pferraro;Lowering priority, as this is not a bug, but rather needs a better error message.","11/Jun/19 10:40 AM;rhusar;Agreed, this should just be a logging change, rather than auto creating and/or removing resources. Submitted a PR with this approach.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-client from 4.0.18 to 4.0.20,WFLY-12200,12813882,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,tmiyar,tmiyar,17/Jun/19 7:36 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,28/Jun/19 5:46 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,EJB,,,,,,,,,,,0,,,,,"compare between 4.0.18.Final and the next version (4.0.20.Final):
https://github.com/wildfly/jboss-ejb-client/compare/4.0.18.Final...4.0.20.Final

Any particular fixes are you expecting?",,,,,,,,,,,,,,,,,,,,,,,,JBEAP-16778,JBEAP-17207,,,,,,,,,EJBCLIENT-335,WFLY-12101,EJBCLIENT-336,EJBCLIENT-338,WFLY-12205,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-26 05:50:14.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06jl8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SSL certificate revocation list community docs,WFLY-12124,12808936,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mmazanek,mmazanek,mmazanek,24/May/19 9:36 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,11/Jul/19 6:48 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:01.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12316,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05srg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-jaxrs-api_2.1_spec to 2.0.0.Final,WFLY-12433,12824676,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,27/Aug/19 3:28 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Sep/19 4:42 PM,,,,,,18.0.0.Final,,,REST,,,,,,,,,,,0,,,,,"JBoss Jakarta JAX-RS API fork:
https://github.com/jboss/jboss-jakarta-jaxrs-api_spec/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-27 22:37:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|z088zw:",9223372036854775807,https://github.com/tomjenkinson/jboss-as/pull/8 merged into https://github.com/tomjenkinson/jboss-as,0.0,,,,,,,,,,,,,,,,"27/Aug/19 6:48 AM;asoldano;CR1 tag: https://github.com/jboss/jboss-jakarta-jaxrs-api_spec/commits/jboss-jaxrs-api_2.1_spec-2.0.0.CR1","27/Aug/19 10:37 PM;brian.stansberry;I'm ""rejecting"" the PR for CR1 to get this out of PR Sent state. I merged it but this JIRA is to get to 2.0.0.Final so we're not there yet. :)","04/Sep/19 6:42 AM;asoldano;CR2 tag: https://github.com/jboss/jboss-jakarta-jaxrs-api_spec/commits/jboss-jaxrs-api_2.1_spec-2.0.0.CR2","07/Sep/19 5:01 PM;ron_sigal;[~smarlow],  [~brian.stansberry], should I re-open this JIRA to merge 2.0.0.Final or create a new one?","07/Sep/19 5:09 PM;ron_sigal;There have been no changes to https://github.com/eclipse-ee4j/jaxrs-api branch EE4J_8 since [~asoldano]'s most recent tag on https://github.com/jboss/jboss-jakarta-jaxrs-api_spec, and I was about to add a Final tag, but I don't have permission: ""Permission to jboss/jboss-jakarta-jaxrs-api_spec.git denied to ronsigal.""

I could fork it and tag my own version, if that's OK.","08/Sep/19 6:51 PM;brian.stansberry;[~ron_sigal] Either is fine. Re-opening seems easier for you. :)","09/Sep/19 11:10 AM;ron_sigal;Re-opening for 2.0.0.Final.","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Elytron: Ability to load the attributes of an identity from multiple sources,WFLY-12051,12805908,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,07/May/19 7:35 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,04/Sep/19 7:58 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,,,,,0,,,,,"In previous versions a {{security-domain}} was used to merge or add roles from multiple repositories. For example the roles for the users were obtained from two different ldaps and a database. All the roles were merged and the final authenticated principal belonged to all of them. The old picketbox subsystem used stacking of login modules (and password) to implement this feature. This use-case is not rare among the customers.

This issue is avoiding migrations from the old security subsystem to elytron.",,,,,,,,,,,,,WFCORE-4447,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Documentation (Ref Guide, User Guide, etc.)",Release Notes,,,,,,,,,,,,,,2019-10-14 12:29:01.0,,,,,,,,https://developer.jboss.org/thread/279849,,https://github.com/wildfly/wildfly/pull/12354,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05bl0:",9223372036854775807,,0.0,,,,,,,,,,,,okotek,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transition  OpenTracing to 1.3,WFLY-12306,12819022,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,19/Jul/19 12:17 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,21/Aug/19 6:57 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP OpenTracing,,,,,,,,,,,0,EAP-CD18,OS_Observability,tp_candidate,,"Upgrading MP opentracing to Microprofile 3.0 aka OpenTracing 1.3

",,,,,,,,,,,,,EAP7-1082,,WFLY-10847,WFLY-10876,WFLY-10877,,,,,,,EAP7-1061,WFLY-11270,WFCORE-4225,,EAP7-1027,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Documentation (Ref Guide, User Guide, etc.)",Release Notes,,,,,,,,,,,,,,2019-10-14 12:29:00.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ck4:",9223372036854775807,,0.0,,,,,,,,,,,,okotek,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove org.jboss.spec.javax.rmi:jboss-rmi-api_1.0_spec from javaee8 BOMs,WFLY-12489,12826336,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,04/Sep/19 2:47 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,04/Sep/19 2:51 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,BOM,,,,,,,,,,,0,,,,,"WFLY-12416 removed the artifact from server's dependency management, and such change should be propagated to BOMs",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12416,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:00.0,,,,,,,,,,https://github.com/wildfly/boms/pull/68,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08ihg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.websockets to 2.0.0.CR1,WFLY-12438,12824940,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,28/Aug/19 4:04 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,30/Aug/19 8:36 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,Web (Undertow),,,,,,,,,,0,,,,,Upgrade the WebSockets API to 2.0.0.CR1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:00.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08aak:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make opentracing an optional dependency of observability layer,WFLY-11990,12802673,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,15/Apr/19 10:14 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,17/Sep/19 9:06 PM,,,,,,18.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"It appears that the opentracing should have its own 'open-tracing' layer.
observability layer should have an optional dependency on open-tracing layer. 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:00.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04tac:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DefaultConcurrencyCDITestCase fails on JDK11 with secman due to lack of permissions,WFLY-12529,12827482,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,istraka,istraka,istraka,10/Sep/19 10:35 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,14/Sep/19 10:48 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"org.jboss.as.test.integration.ee.naming.defaultbindings.concurrency.DefaultConcurrencyCDITestCase.testCDI fails on JDK11 with secman. This happens because the bean  calls WildFlySecurityManager.getCurrentContextClassLoaderPrivileged() but misses the permission.

{code:java}
java.util.concurrent.ExecutionException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar"" from Service Module Loader"")
	at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)
	at deployment.c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar//org.jboss.as.test.integration.ee.naming.defaultbindings.concurrency.DefaultConcurrencyTestCDIBean.test(DefaultConcurrencyTestCDIBean.java:72)
	at deployment.c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar//org.jboss.as.test.integration.ee.naming.defaultbindings.concurrency.DefaultConcurrencyCDITestCase.testCDI(DefaultConcurrencyCDITestCase.java:57)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at deployment.arquillian-service//org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at deployment.arquillian-service//org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$8$1.invokeMethod(Arquillian.java:325)
	at deployment.arquillian-service//org.jboss.arquillian.junit.MethodInvoker$1.invoke(MethodInvoker.java:18)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:57)
	at jdk.internal.reflect.GeneratedMethodAccessor29.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:36)
	at jdk.internal.reflect.GeneratedMethodAccessor28.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at jdk.internal.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at jdk.internal.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at jdk.internal.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:139)
	at deployment.arquillian-service//org.jboss.arquillian.junit.MethodInvoker.invoke(MethodInvoker.java:15)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:332)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:204)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:215)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:279)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:34)
	at jdk.internal.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at jdk.internal.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at jdk.internal.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at jdk.internal.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:273)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at deployment.arquillian-service//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at deployment.arquillian-service//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:166)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
	at deployment.arquillian-service//org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at deployment.arquillian-service//org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at deployment.arquillian-service//org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:61)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:153)
	at deployment.arquillian-service//org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:137)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:119)
	at deployment.arquillian-service//org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at jdk.internal.reflect.GeneratedMethodAccessor18.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at jdk.internal.reflect.GeneratedMethodAccessor13.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at java.base/sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:260)
	at java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at java.management/com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at java.management/com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at java.management/com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remoting-jmx@3.0.3.Final//org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remoting-jmx@3.0.3.Final//org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.elytron-private@1.10.0.CR6//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.elytron-private@1.10.0.CR6//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller@10.0.0.Beta5//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller@10.0.0.Beta5//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx@10.0.0.Beta5//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remoting-jmx@3.0.3.Final//org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar"" from Service Module Loader"")
	at org.wildfly.security.elytron-private@1.10.0.CR6//org.wildfly.security.manager.WildFlySecurityManager.checkPDPermission(WildFlySecurityManager.java:1112)
	at org.wildfly.security.elytron-private@1.10.0.CR6//org.wildfly.security.manager.WildFlySecurityManager.getCurrentContextClassLoaderPrivileged(WildFlySecurityManager.java:1257)
	at deployment.c264f3c9-b4f6-48c0-8158-ecbbe92937b6.jar//org.jboss.as.test.integration.ee.naming.defaultbindings.concurrency.DefaultConcurrencyTestCDIBean.lambda$test$0(DefaultConcurrencyTestCDIBean.java:69)
	at org.jboss.as.ee@18.0.0.Beta1-SNAPSHOT//org.jboss.as.ee.concurrent.ControlPointUtils$ControlledRunnable.run(ControlPointUtils.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.glassfish.javax.enterprise.concurrent//org.glassfish.enterprise.concurrent.internal.ManagedFutureTask.run(ManagedFutureTask.java:141)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:834)
	at org.glassfish.javax.enterprise.concurrent//org.glassfish.enterprise.concurrent.ManagedThreadFactoryImpl$ManagedThread.run(ManagedThreadFactoryImpl.java:250)
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:59.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pcc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow the main testsuite/integration/clustering surefire execution to run for 75 mins,WFLY-12481,12826083,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,03/Sep/19 3:56 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,03/Sep/19 4:31 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,Test Suite,,,,,,,,,,0,,,,,We are regularly seeing CI failures because the clustering testsuite has a surefire execution that runs over an hour. So bump the surefire.forked.process.timeout setting to 4500 from the current 3600.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12581,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08h3w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Single action timer is not triggered automatically after a DB outage, requires server restart",WFLY-12457,12825374,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,elguardian,elguardian,30/Aug/19 2:59 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,17/Sep/19 9:07 PM,,,,,,18.0.0.Final,,,EJB,,,,,,,,,,,0,,,,,"A timer is created with the {{timerService.createSingleActionTimer(..)}} method. When the database is down at the time this timer expires, the timer execution fails with the following ERROR:

{noformat}
09:01:32,968 ERROR [org.jboss.as.ejb3.timer] (EJB timer-thread-pool - 4) WFLYEJB0502: Exception checking if timer [id=7ac2a79a-daa8-46fb-afa1-9e72f39a5b01 timedObjectId=ejb-timer-db-outage.ejb-timer-db-outage.TimeoutExample auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@7071c87c initialExpiration=Fri Aug 09 09:01:32 MDT 2019 intervalDuration(in milli sec)=0 nextExpiration=Fri Aug 09 09:01:32 MDT 2019 timerState=ACTIVE info=timer_1565362882955_10000] should run: java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:jboss/datasources/ejb_timer
	at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:159)
	at org.jboss.as.connector.subsystems.datasources.WildFlyDataSource.getConnection(WildFlyDataSource.java:64)
	at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.shouldRun(DatabaseTimerPersistence.java:405)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.shouldRun(TimerServiceImpl.java:1148)
	at org.jboss.as.ejb3.timerservice.TimerTask.run(TimerTask.java:133)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl$Task$1.run(TimerServiceImpl.java:1304)
	at org.wildfly.extension.requestcontroller.RequestController$QueuedTask$1.run(RequestController.java:494)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:jboss/datasources/ejb_timer
	at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.getManagedConnection(AbstractConnectionManager.java:690)
	at org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.getManagedConnection(TxConnectionManagerImpl.java:440)
	at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.allocateConnection(AbstractConnectionManager.java:789)
	at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:151)
	... 10 more
{noformat}

EXPECTATION: The timer should fire once the DB is accessible again.
RESULT: The timer is not executed even after the DB connection has been restored.

After a server restart, the timer is executed again.

Note: This issue has originally been reported in the context of RHPAM as RHPAM-2180 where processes with timers get stuck after a DB outage. The relevant [jBPM code|https://github.com/kiegroup/jbpm/blob/master/jbpm-services/jbpm-services-ejb/jbpm-services-ejb-timer/src/main/java/org/jbpm/services/ejb/timer/EJBTimerScheduler.java#L107] calls {{timerService.createSingleActionTimer(..)}}. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:59.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12558,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08ctw:",9223372036854775807,,0.0,,,,,"See attached zip file for a reproducer:
# Configure EAP 7.2 with EJB timers backed by a DB
# Deploy the test application - it creates a single timer upon application startup, and a 10s single action timer on each subsequent timer execution
# Stop the DB
# Check that the next timer execution results in an ERROR
# Restart the DB
=> The timer execution is not resumed automatically, a server restart is required",,,,,,,,,,,"30/Aug/19 3:01 AM;elguardian;When the ejb timers datastore is not accesible and a timer is in timeout it causes an inconsistency. first the timer is never retried, and in memory is in a end state. ","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a testcase that checks remote client transaction afinity in case of failed server,WFLY-12194,12813361,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,ochaloup,ochaloup,14/Jun/19 7:48 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,16/Jul/19 9:35 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"The remote client transaction affinity is not well covered in testsuite.

Particularly, it would be good to test what happens when a transaction starts on a standalone client. The call goes to a stateless bean. There are two servers started in server that the client can choose. The client starts transaction, calls the bean and then the server fails. Will be the next call to bean fails correctly? (as it could be expected as the affinity points to the non-existent server, despite the fact there is another server deploying the same stateless bean)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:59.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12370,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z06ics:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Jun/19 5:36 AM;ochaloup;for stateful bean there is such testcase in as testsuite here: https://github.com/wildfly/wildfly/blob/17.0.0.Final/testsuite/integration/clustering/src/test/java/org/jboss/as/test/clustering/cluster/ejb/remote/TransactionalRemoteStatefulEJBFailoverTestCase.java
The SFSB affinity works fine, the test should be enhanced for SLSB affinity as well.","18/Jun/19 12:25 PM;ochaloup;Based on the investigation of behaviour described in the documentation (see https://issues.jboss.org/browse/JBEAP-16879) adding new testcases working with EJB remoting protocols and transaction affinity.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refresh Infinispan cache metrics,WFLY-12020,12804675,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,26/Apr/19 5:26 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,17/Sep/19 9:05 PM,16.0.0.Final,,,,,18.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"The cache metrics exposes by WildFly were setup a long time ago.  The set of metrics we expose should be reassessed, deprecating those that don't make sense within the context of WildFly (e.g. cache-status), and adding those that do make sense, but are missing from WildFly.

Additionally, cache metrics should be registered with the cache runtime resources (now that these exist), and the metrics previously registered with the cache configuration resource definition deprecated.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:59.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z054r0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JSF modules should not depend on javaee.api,WFLY-12392,12823649,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aabdelsa,brian.stansberry,brian.stansberry,19/Aug/19 6:55 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,08/Sep/19 5:02 PM,,,,,,18.0.0.Final,,,JSF,,,,,,,,,,,0,,,,,"The javaee.api module is just a convenience wrapper around the various EE API modules it depends on and exports. There are 3 JSF modules that depend on this; those should be updated to depend on the specific APIs they need.

Depending on javaee.api is problematic because in a server that has been slimmed using Galleon we only want to depend on modules that are actually needed and not pull in other API.

The problematic modules:

feature-pack/src/main/resources/modules/system/layers/base/com/sun/jsf-impl/main/module.xml
jsf/multi-jsf-installer/src/main/resources/mojarra-impl-module.xml
jsf/multi-jsf-installer/src/main/resources/myfaces-impl-module.xml",,,,,,,,,,,,,,,,,,,,,,,,WFLY-5966,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12600,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z082x8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor deprecated WorkerService constructor usages,WFLY-12363,12821826,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,08/Aug/19 7:05 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,09/Aug/19 4:39 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12486,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07sus:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix inadvertent inverse tautology in local command dispatching assertion.,WFLY-12314,12819368,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,23/Jul/19 8:19 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,25/Jul/19 9:48 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12445,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ej0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade smallrye-metrics 2.1.4,WFLY-12474,12825894,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,03/Sep/19 4:01 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,03/Sep/19 10:48 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,https://github.com/smallrye/smallrye-metrics/compare/smallrye-metrics-2.0-1.1.0...2.1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12413,WFLY-12403,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:58.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08fzo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"03/Sep/19 4:10 AM;jmesnil;smallrye-metrics 2.1.4 upgraded to MP metrics 2.0.2","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update jboss-jakarta-ejb-api_spec to 2.0.0.CR1,WFLY-12449,12825179,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,28/Aug/19 5:52 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,30/Aug/19 6:35 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:58.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08bpo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate ORM from 5.3.11 to 5.3.12,WFLY-12534,12827534,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gbadner,gbadner,gbadner,10/Sep/19 6:15 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,13/Sep/19 4:04 PM,,,,,,18.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,,,,,Hibernate needs private dependencies on JAXB 2.3 API + IMPL.,,,,,,,,,,,,,,,WFLY-12546,,,,,,,,,,,,,WFLY-12233,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12638,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pn0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
wildfly-ejb-client-bom does not manage org.jboss.ejb3:jboss-ejb3-ext-api anymore,WFLY-12376,12822797,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,14/Aug/19 4:11 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,14/Aug/19 4:59 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,BOM,,,,,,,,,,,0,,,,,"When using {{org.jboss.eap:wildfly-ejb-client-bom:7.3.0.CD17}}, {{org.jboss.ejb3:jboss-ejb3-ext-api}} is not provided anymore. This is a regression compared to {{org.jboss.eap:wildfly-ejb-client-bom:7.3.0.CD16}}.

From the user point of view, this will mean they will have to modify their existing applications to include version of this dependency, which is pretty bad UX.

The BOM is the only recommended and documented way to consume EJB client libraries in standalone applications, please see [Developing EJB Applications|https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html-single/developing_ejb_applications/index#project_dependencies_for_remote_ejb_clients].",,,,,,,,,,,,,JBEAP-17248,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Regression,,,,+,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,,https://github.com/wildfly/boms/pull/65,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07xzg:",9223372036854775807,,0.0,,,,,"1. run {{mvn clean install -Dversion.wildfly-ejb-client-bom=7.3.0.CD16 dependency:tree}} on the provided rudimentary {{pom.xml}} reproducer. As you can see, with CD16, {{org.jboss.ejb3:jboss-ejb3-ext-api}} is successfully resolved.

2.  run {{mvn clean install -Dversion.wildfly-ejb-client-bom=7.3.0.CD17 dependency:tree}} on the provided rudimentary {{pom.xml}} reproducer. As you can see, with CD17, {{org.jboss.ejb3:jboss-ejb3-ext-api}} is not successfully resolved.

{code:bash} mjurc@tigris  ~/Code/mock-artifacts/ejbclient/eap7.1-httpclient/client   master ●  mvn clean install -Dversion.wildfly-ejb-client-bom=7.3.0.CD17 dependency:tree -Dmaven.repo.local=/home/mjurc/Playground/cd17/jboss-eap-7.3.0.CD17-maven-repository/maven-repository
[INFO] Scanning for projects...
[ERROR] [ERROR] Some problems were encountered while processing the POMs:
[ERROR] 'dependencies.dependency.version' for org.jboss.ejb3:jboss-ejb3-ext-api:jar is missing. @ line 39, column 21
 @ 
[ERROR] The build could not read 1 project -> [Help 1]
[ERROR]   
[ERROR]   The project client:client:1.0-SNAPSHOT (/home/mjurc/Code/mock-artifacts/ejbclient/eap7.1-httpclient/client/pom.xml) has 1 error
[ERROR]     'dependencies.dependency.version' for org.jboss.ejb3:jboss-ejb3-ext-api:jar is missing. @ line 39, column 21
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException
{code}",,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Mojarra 4596 - Scripts with CDATA cause ""empty response"" error on Ajax render",WFLY-12336,12820554,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,mstefank,mstefank,31/Jul/19 3:59 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,04/Sep/19 7:46 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JSF,,,,,,,,,,,0,downstream_dependency,,,,"Fix required for Mojarra Issue 4388 / Scripts with CDATA cause ""empty response"" error on Ajax render

Ref: https://github.com/javaserverfaces/mojarra/issues/4388

--

The RenderKitImpl (com.sun.jsf-impl) class is returning a wrong configured ResponseWriter on partial responses. It is breaking the xhtml when it contains a javascript with CDATA; the final xhtml has a bad closed nested CDATAs.

The JSF 2.2.15 RenderKitImpl: https://github.com/javaserverfaces/mojarra/blob/2.2.15/jsf-ri/src/main/java/com/sun/faces/renderkit/RenderKitImpl.java
The JSF 2.3.5 RenderKitImpl: https://github.com/javaserverfaces/mojarra/blob/2.3.5/jsf-ri/src/main/java/com/sun/faces/renderkit/RenderKitImpl.java

The issue was introduced with the following commits:
https://github.com/javaserverfaces/mojarra/commit/8a5a562e129a31f3655de86cfeb79c33d3eaa1f8
https://github.com/javaserverfaces/mojarra/commit/ee3671db95986395e3a40a591c52522421b25bf2

The issue is fixed on JSF 2.3.9 reverting those above commits.
https://github.com/javaserverfaces/mojarra/issues/4358#issuecomment-440093385

Apply:
https://github.com/javaserverfaces/mojarra/commit/cebcd9bd41f562ec02450d55bf0c3e2b1b287607
https://github.com/javaserverfaces/mojarra/commit/954773aa256b68e744ae9178013faccfb05ca204

Final class:
https://github.com/javaserverfaces/mojarra/blob/MOJARRA_2_3X_ROLLING/jsf-ri/src/main/java/com/sun/faces/renderkit/RenderKitImpl.java",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Jul/19 3:59 AM;mstefank;reproducer2.war;https://issues.redhat.com/secure/attachment/12453730/reproducer2.war",,,,,,,,,,,,,,,,,,,,,,,,?,?,,?,?,?,,2019-10-14 12:28:57.0,,,,,,,,,,https://github.com/jboss/mojarra/pull/39,,,,,,,,,,,,,,,,1.0,1.0,,,,,,,,,,"1|z07lhw:",9223372036854775807,,0.0,,,,,"-  Deploy the attached reproducer.
-  Navigate to the view: http://localhost:8080/reproducer2/index.xhtml
-  Click the rerender CDATA script container button.

The browser will display ""An empty response was received from the server"" error message.
",,,7.backlog.GA,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Jackson2 databind to 2.9.9.3,WFLY-12357,12821617,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,07/Aug/19 5:52 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,08/Aug/19 2:24 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-12325,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12477,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07rqs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Jackson2 databind to 2.9.9.1,WFLY-12325,12819739,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mstefank,mstefank,mstefank,25/Jul/19 6:34 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,29/Jul/19 9:54 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-12143,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07gno:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Disable failing SSL tests on JDK14+,WFLY-12219,12814623,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,20/Jun/19 5:35 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,06/Aug/19 10:51 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12380,https://github.com/wildfly/wildfly/pull/12470,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06nwc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate Search to 5.10.7.Final,WFLY-12550,12828115,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gbadner,gbadner,gbadner,12/Sep/19 3:06 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,13/Sep/19 4:04 PM,,,,,,18.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12638,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08t0c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JGroups get modified in a wrong way after cli command,WFLY-12539,12827691,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,thofman,thofman,thofman,11/Sep/19 7:49 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,11/Sep/19 11:36 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Clustering,Management,,,,,,,,,,0,,,,,"What happens:
  While trying to run domain with EAP 7 with EAP 6 as slaves the following happens: 

Intro:

On running following cli commands after domain controller started, the jgroups get modified by themselves in a wrong way:
------
cli commands run:
/profile=MP_NONSINGLETONS/subsystem=bean-validation:remove
/profile=MP_TRANS_RMP_RAY/subsystem=bean-validation:remove
-------
Before running cli command:
                       <protocol type=""pbcast.NAKACK""/>
                       <protocol type=""UNICAST2""/>
After running cli command:
                        <protocol type=""pbcast.NAKACK2""/>
                        <protocol type=""UNICAST3""/>

------
Full jgroups section before running cli command for MP_TRANS_RMP_RAY, MP_NONSINGLETONS profiles:

Before running cli command:
    <subsystem xmlns=""urn:jboss:domain:jgroups:1.1"" default-stack=""udp"">
        <stack name=""udp"">
            <transport type=""UDP"" socket-binding=""jgroups-udp""/>
            <protocol type=""PING""/>
            <protocol type=""MERGE3""/>
            <protocol type=""FD_SOCK"" socket-binding=""jgroups-udp-fd""/>
            <protocol type=""FD""/>
            <protocol type=""VERIFY_SUSPECT""/>
            <protocol type=""pbcast.NAKACK""/>
            <protocol type=""UNICAST2""/>
            <protocol type=""pbcast.STABLE""/>
            <protocol type=""pbcast.GMS""/>
            <protocol type=""UFC""/>
            <protocol type=""MFC""/>
            <protocol type=""FRAG2""/>
            <protocol type=""RSVP""/>
        </stack>
    </subsystem>

After running cli command:
~~~
            <subsystem xmlns=""urn:jboss:domain:jgroups:6.0"">
                <channels default=""auto"">
                    <channel name=""ee-web"" stack=""udp""/>
                    <channel name=""ee-hibernate"" stack=""udp""/>
                    <channel name=""auto"" stack=""udp""/>
                </channels>
                <stacks default=""udp"">
                    <stack name=""udp"">
                        <transport type=""UDP"" socket-binding=""jgroups-udp"">
                            <property name=""port_range"">
                                50
                            </property>
                        </transport>
                        <protocol type=""PING""/>
                        <protocol type=""MERGE3""/>
                        <protocol type=""FD_SOCK"" socket-binding=""jgroups-udp-fd""/>
                        <protocol type=""FD""/>
                        <protocol type=""VERIFY_SUSPECT""/>
                        <protocol type=""pbcast.NAKACK2""/>
                        <protocol type=""UNICAST3""/>
                        <protocol type=""pbcast.STABLE""/>
                        <protocol type=""pbcast.GMS""/>
                        <protocol type=""UFC""/>
                        <protocol type=""MFC""/>
                        <protocol type=""FRAG2""/>
                        <protocol type=""RSVP""/>
                    </stack>
                </stacks>
            </subsystem>
~~~
The architecture EAP 7 master - EAP 6 slave is supported according to https://access.redhat.com/articles/2568341",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:57.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12625,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08qjw:",9223372036854775807,,0.0,,,,,"1. Start JBoss
2. Run Domain mode
3. Execute bean-validation remove:
~~~
/profile=MP_NONSINGLETONS/subsystem=bean-validation:remove
/profile=MP_TRANS_RMP_RAY/subsystem=bean-validation:remove
~~~
4. Compare before and after",,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
More fine grain dependency for galleon basic layers,WFLY-12299,12818621,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,17/Jul/19 12:43 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,22/Aug/19 2:51 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"Having basic layers to only depend on the layers (and features) they do require will offer more flexibility than depending on web-server layer.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-18 18:49:00.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12511,,,,,,,,,,,,,,,,0.0,9.0,,,,,,,,,,"1|z07a98:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Jul/19 6:49 PM;brian.stansberry;I'm going to copy the discussion between myself and Jean-Francois on https://github.com/wildfly/wildfly/pull/12417 into comments here so we can carry on the conversation and others can read it here.
","18/Jul/19 6:49 PM;brian.stansberry;bstansberry 10 days ago  Member
@jfdenise Does this need to depend on this aggregation layer, as opposed to specific detail layers from servlet f-p?

There are a few in this category. Here's what depends on web-server:

{code}
$ git grep ""layer name=\""web-server\""""
galleon-pack/src/main/resources/layers/standalone/cdi/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/h2-database/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/jaxrs/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/jms-activemq/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/jpa/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/observability/layer-spec.xml:        <layer name=""web-server""/>
galleon-pack/src/main/resources/layers/standalone/resource-adapters/layer-spec.xml:        <layer name=""web-server""/>
{code}

Obviously jaxrs needs web-server. The others it's less obvious that HTTP is required.

The advantage of doing it this way is for a servlet app with jpa support you can just say ""jpa"" instead of ""web-server, jpa"". And perhaps for compatibility reasons we have to leave it that way for the existing layers. But that doesn't apply to this 'transactions' one, since it is new.

Apologies if we've discussed this and I've forgotten. The wildfly-dev ""Wildfly layers"" doesn't have any discussion, other than your initial post that stated it would work this way.","18/Jul/19 6:50 PM;brian.stansberry;jfdenise 10 days ago  Author Member
The idea was that web-server would be the minimal layer any ""full feature (cdi, ...)"" would require. Making the layer ""runnable"" and reachable from http.
transactions only requires elytron, so we could define the layer to only depend on elytron, but doing so it would have to be combined with other full features (if used outside cloud-profile or other layers that depend on it).
transaction is perhaps not a feature you add alone in your config, it is a dependency for top level layers. I agree that having it depend on elytron should be sufficient. It should be still runnable and you could combine it with smaller layers.
I would be ready to revisit them all and change documentation. They are not yet supported so changes can occur.","18/Jul/19 6:50 PM;brian.stansberry;bstansberry 8 days ago  Member
@jfdenise A question then would be whether we would provide other layers that depend on transactions but which don't also involve an a servlet container.

Not just whether they might exist in theory, but whether we would provide them. If we don't provide them, then the user who would want that would be somehow doing fairly complex provisioning config manipulation anyway, and excluding the servlet container / undertow parts would just be another part of that. Not unreasonable.

So what layer that would use transactions would we provide that doesn't have an HTTP endpoint? It would have to be something that involves some other remote access protocol (e.g. native remoting or IIOP or QPID.) Or something that doesn't involve listening for outside connections at all.

For the 'other remote access protocol' case, I don't see us providing such a layer. Our standard configs aim toward having a single HTTP socket for application use with HTTP Upgrade used if needed.

The ""doesn't involve listening for outside connections at all"" case is valid though. A server set up for batch jobs. Or a server that runs MDBs, where the messages processed by the MDB are pulled from a remote broker over a client socket, not a server socket.","18/Jul/19 6:51 PM;brian.stansberry;jfdenise yesterday  Author Member
@bstansberry , now that I see these ""mini aggregations"" of web-server+feature, it looks wrong. We are loosing some flexibility to make layers ""simpler"" to use. Having to express web-server in some cases is not that difficult and makes sense.
For future layers definition it would create, as you noted, some un-necessary complexity.

This transactions layer should depend on elytron+ee (it needs it in order to set use-transaction-setup-provider).

I would be ready to open another JIRA and update layers and doc with the removal of web-server for all layers that don't 100% require a web-server.
If we keep the web-server dependency for jaxrs, we could possibly rename it to be ""jaxrs-server"" that would be the aggregation, jaxrs layer would not depend on web-server (for very exotic case). That would seem more homogeneous.

We would keep the rule that all layers identified to be used from user configuration should be provisioned and runnable alone (even if they don't offer any valid feature).","18/Jul/19 7:02 PM;brian.stansberry;[~jdenise]
In the above, I think a 'jaxrs-server' would only differ from 'jaxrs' in not having a dependency on deployment-scanner. Otherwise all the layers in 'web-server' are things a JAX-RS app would need.

I'm doubtful about having two variants just to include/exclude the scanner.

Tangent -- what do you think makes a ""xxx-server""? (Let's ignore core-server for now).  I'll try and come back later and brainstorm about that...

","18/Jul/19 9:45 PM;brian.stansberry;Back to ""what makes a xxx-server""...  

I think it does work triggered by external activity of some sort or has some sort of internal trigger. It handles the triggering event, so its layer includes/depends on whatever is needed for that.

web-server
ejb-server (remote session beans; listens for requests)
mdb-server (pulls messages from a broker)
batch-server
messaging-server

If we limit ourselves to cases that involve deployments, then messaging-server comes off the list. (Which is fine; Artemis itself provides a server; wrapping it in WF for no users other than external clients is an anti-pattern.) Since they all involve deployments, they all get deployment-scanner just to keep it simple.

Then the other layers are either

1) dependencies of servers
2) ""decorators"" of one particular server (and thus can depend on it) -- e.g. jax-rs, webservices, jsf
3) ""decorators"" for potentially many servers (and thus don't depend on them) -- cdi, jpa, lots of stuff

And then a xxx-profile is a server + a set of decorators.","26/Jul/19 10:40 AM;jdenise;The current xxx-server is not very well formalized. It is a mix of WildFly server and ""feature server"" (such as web-server or core-server).

We have base-server (root resource and default public interface), core-server (an aggregation of the main features core-feature pack is expected to offer), web-server (a servlet container).

The server aspect of ""base-server"" meant that a WildFly server would be able to start when provisioning this layer. There is no ""server"" aspect, no entry point open for interaction.

The server aspect of ""core-server"" meant that a WildFly server offering the expected ""management"" feature would be provisioned. It could have been named ""management-support"" or ""core-support"". There is a ""server"" aspect, the management interface. This entry-point is not bound to the ""core-server"", it is the ""management"" layer that brings it, so provisioning ""management"" with any other layer would bring a ""management server"".

The server aspect of ""web-server"" meant both an aggregation of all features expected by a servlet container (ee, naming, deployment scanner) and the servlet server.

The jaxrs-server vs jaxrs is to be consistent with other decorators, but if jaxrs is not usable at all without a servlet container, it is implicit that the webserver is needed. The scanner can be explicitly excluded from the web-server, it is an optional dependency.

Questions on the servers you listed. Having the ""xxx-server"" layer seems to help separate use-cases when defining new layers.

""ejb-server""

Do you see splitting the ejb features into multiple layers, eg: ejb-common (dependency for other layers, eg: timers), ejb-session, ejb-mdb? We could still imagine a web-server+ejb-session kind of provisioned server.

The ejb-server would depend on ejb-session, configure a remote-connector, enable remote-naming, depend on undertow (no servlet support) + optionally iiop layer. 

""mdb-server""

Do you see it as something like the ejb-mdb + jms-activemq + resource-adapters layer?

""batch-server""

From what I read, batch needs to be explicitly called. What would be the entry-point? Could be a servlet, jsf, ... So shouldn't it be a ""batch"" layer provisioned with another server that has the entry-point? eg: jsf+batch","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Testsuite deleting git managed files,WFLY-12447,12825077,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aabdelsa,dlofthouse,dlofthouse,28/Aug/19 11:32 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,30/Aug/19 10:05 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,Test Suite,,,,,,,,,,0,,,,,"After an allTests run the following is the status from git: -

{noformat}
$ git status
HEAD detached from 004c344b7d
Changes not staged for commit:
  (use ""git add/rm <file>..."" to update what will be committed)
  (use ""git checkout -- <file>..."" to discard changes in working directory)

	deleted:    testsuite/integration/manualmode/keystores-workdir/client.crt
	deleted:    testsuite/integration/manualmode/keystores-workdir/client.keystore
	deleted:    testsuite/integration/manualmode/keystores-workdir/client.truststore
	deleted:    testsuite/integration/manualmode/keystores-workdir/server.crt
	deleted:    testsuite/integration/manualmode/keystores-workdir/server.keystore
	deleted:    testsuite/integration/manualmode/keystores-workdir/server.truststore
	deleted:    testsuite/integration/manualmode/keystores-workdir/untrusted.crt
	deleted:    testsuite/integration/manualmode/keystores-workdir/untrusted.keystore

no changes added to commit (use ""git add"" and/or ""git commit -a"")
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:56.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12563,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08b3w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for injecting Optional<T> parameter types,WFLY-12192,12813287,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,weinanli,tagliola,weinanli,14/Jun/19 12:24 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,02/Sep/19 12:01 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,REST,,,,,,,,,,,0,,,,,"Currently, PathParam and QueryParam support the following construct (from https://docs.jboss.org/resteasy/docs/3.0.17.Final/userguide/html_single/#_PathParam):
{quote}The parameter type you inject into can be any primitive type, a String, or any Java object that has a constructor that takes a String parameter, or a static valueOf method that takes a String as a parameter.{quote}
Proposal is to also support java.util.Optional.ofNullable as a wrapper object for Strings, which is always called. This will eliminate all null checks for optional parameters in resource classes with the different Optional followup methods, such as optional.ifPresent.",,,,,,,,,,,,,RESTEASY-1419,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-18 13:14:08.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06hxo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Jun/19 1:14 PM;jamezp;The PR is for the analysis document. ","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JGroups to 4.1.4.Final,WFLY-12395,12823700,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,rhusar,rhusar,20/Aug/19 5:54 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,10/Sep/19 8:52 PM,,,,,,18.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,Brings in changes for {{SSL_KEY_EXCHANGE}} integration.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JGRP-2370,JGRP-2371,JGRP-2373,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:55.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12619,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08370:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade galleon to 4.0.4 and galleon-plugins to 4.0.3,WFLY-12293,12818374,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,jdenise,jdenise,16/Jul/19 8:46 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,29/Aug/19 7:10 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFCORE-4567,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:55.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12559,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z078y4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Quickstarts BOM,WFLY-12199,12813788,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,15/Jun/19 3:51 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,15/Jun/19 4:27 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"As followup of WFLY-12195, WFLY-12197 and WFLY-12198, the Quickstarts BOM now has a single managed dependency, the H2 driver, which fits well in the tools BOM, so we may move it to such BOM and remove the Quickstarts BOM.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:55.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06j1g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unify line-endings of bat scripts (regression against WF15),WFLY-11983,12802279,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,mkopecky,mkopecky,12/Apr/19 7:32 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,04/Sep/19 7:57 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Scripts,,,,,,,,,,,0,,,,,"Line-endings of bat scripts should be unified. This is regression against WF15.

Some files in WF16 uses CRLF, another LF only. We need to clarify the recommended line ending and use this line ending in all Windows scripts.

WF16:
{noformat}
$ find | grep bat$ | xargs file
./wsprovide.bat:       DOS batch file, ASCII text, with CRLF line terminators
./jboss-cli.bat:       DOS batch file, ASCII text
./elytron-tool.bat:    DOS batch file, ASCII text
./domain.bat:          DOS batch file, ASCII text, with CRLF line terminators
./wsconsume.bat:       DOS batch file, ASCII text, with CRLF line terminators
./standalone.bat:      DOS batch file, ASCII text, with CRLF line terminators
./vault.bat:           DOS batch file, ASCII text, with CRLF line terminators
./domain.conf.bat:     ASCII text, with CRLF line terminators
./common.bat:          DOS batch file, ASCII text, with CRLF line terminators
./jdr.bat:             DOS batch file, ASCII text
./jconsole.bat:        DOS batch file, ASCII text
./appclient.bat:       DOS batch file, ASCII text, with CRLF line terminators
./appclient.conf.bat:  ASCII text, with CRLF line terminators
./standalone.conf.bat: ASCII text, with CRLF line terminators
./add-user.bat:        DOS batch file, ASCII text
$ 
{noformat}
WF15:
{noformat}
$ find | grep bat$ | xargs file
./wsprovide.bat:       DOS batch file, ASCII text, with CRLF line terminators
./jboss-cli.bat:       DOS batch file, ASCII text, with CRLF line terminators
./elytron-tool.bat:    DOS batch file, ASCII text, with CRLF line terminators
./domain.bat:          DOS batch file, ASCII text, with CRLF line terminators
./wsconsume.bat:       DOS batch file, ASCII text, with CRLF line terminators
./standalone.bat:      DOS batch file, ASCII text, with CRLF line terminators
./vault.bat:           DOS batch file, ASCII text, with CRLF line terminators
./domain.conf.bat:     ASCII text, with CRLF line terminators
./common.bat:          DOS batch file, ASCII text, with CRLF line terminators
./jdr.bat:             DOS batch file, ASCII text, with CRLF line terminators
./jconsole.bat:        DOS batch file, ASCII text, with CRLF line terminators
./appclient.bat:       DOS batch file, ASCII text, with CRLF line terminators
./appclient.conf.bat:  ASCII text, with CRLF line terminators
./standalone.conf.bat: ASCII text, with CRLF line terminators
./add-user.bat:        DOS batch file, ASCII text, with CRLF line terminators
$ 
{noformat}",,,,,,,,,,,,,,,WFGP-144,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-31 12:33:19.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12336,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|z04qzw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"31/May/19 12:33 PM;jamezp;This seems like something that would be difficult to enforce. Is this needed for a specific reason?","03/Jun/19 9:32 AM;rhusar;[~jamezp] On the contrary, this is easy to enforce with basic git functionality called {{.gitattributes}}. We just need to configure it to always checkout these files with CRLF line endings regardless of the OS.

However, the core of the problem is in wildfly-core where the scripts are coming from – opened WFCORE-4502.","03/Jun/19 9:35 AM;rhusar;[~mkopecky] How about the .ps1 files? Shouldn't those also enforce CRLF line ends? Can you check and update the Jira accordingly?","03/Jun/19 11:15 AM;jamezp;Ah good call [~rhusar]. I didn't even think about that :)","03/Jun/19 12:06 PM;rhusar;Looking at Beta1, this is also problem for our ps1 scripts. I will update the PR.

{noformat}
[rhusar@ribera wildfly-17.0.0.Beta1]$ find . | grep ps1$ | xargs file
./bin/add-user.ps1:        ASCII text
./bin/jdr.ps1:             ASCII text
./bin/standalone.ps1:      ASCII text
./bin/common.ps1:          ASCII text
./bin/appclient.conf.ps1:  ASCII text
./bin/appclient.ps1:       ASCII text
./bin/wsprovide.ps1:       ASCII text
./bin/jconsole.ps1:        ASCII text
./bin/elytron-tool.ps1:    ASCII text
./bin/domain.ps1:          ASCII text
./bin/domain.conf.ps1:     ASCII text
./bin/jboss-cli.ps1:       ASCII text
./bin/wsconsume.ps1:       ASCII text
./bin/standalone.conf.ps1: ASCII text
./bin/vault.ps1:           ASCII text
[rhusar@ribera wildfly-17.0.0.Beta1]$ find . | grep bat$ | xargs file
./bin/add-user.bat:                         DOS batch file text, ASCII text
./bin/jdr.bat:                              DOS batch file text, ASCII text
./bin/standalone.bat:                       DOS batch file text, ASCII text, with CRLF line terminators
./bin/appclient.bat:                        DOS batch file text, ASCII text, with CRLF line terminators
./bin/wsprovide.bat:                        DOS batch file text, ASCII text, with CRLF line terminators
./bin/appclient.conf.bat:                   ASCII text, with CRLF line terminators
./bin/common.bat:                           DOS batch file text, ASCII text, with CRLF line terminators
./bin/elytron-tool.bat:                     DOS batch file text, ASCII text
./bin/jconsole.bat:                         DOS batch file text, ASCII text
./bin/domain.bat:                           DOS batch file text, ASCII text, with CRLF line terminators
./bin/wsconsume.bat:                        DOS batch file text, ASCII text, with CRLF line terminators
./bin/standalone.conf.bat:                  ASCII text, with CRLF line terminators
./bin/domain.conf.bat:                      ASCII text, with CRLF line terminators
./bin/jboss-cli.bat:                        DOS batch file text, ASCII text
./bin/vault.bat:                            DOS batch file text, ASCII text, with CRLF line terminators
./docs/contrib/scripts/service/service.bat: DOS batch file text, ASCII text, with very long lines, with CRLF line terminators
{noformat}","18/Jun/19 6:10 PM;brian.stansberry;I merged https://github.com/wildfly/wildfly/pull/12336 but I believe the files themselves need to be updated so I'm not resolving this. If I'm wrong and this can be resolved, go for it!","18/Jun/19 7:01 PM;jamezp;You are correct the files themselves need to be updated. You'd have to apply this change then do something like {{find feature-pack/src -name ""*.bat"" | xargs -I \{\} git reset-file ""\{\}""}}. Every user would have to do this though or more importantly whoever does the release.

That said there is also WFGP-144 which fixes this issue with the changes on the [WFCORE-4502|https://issues.jboss.org/browse/WFCORE-4502?focusedCommentId=13741905&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13741905] comment.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose UndertowOptions.PRESERVE_PATH_ON_FORWARD in Undertow settings,WFLY-11764,12793843,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,spyrkob,spyrkob,spyrkob,22/Feb/19 8:44 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,17/Sep/19 11:52 AM,,,,,,18.0.0.Final,,,Web (Undertow),,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-10 13:25:15.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12107,https://github.com/wildfly/wildfly/pull/12633,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03gqc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Sep/19 6:12 AM;kabirkhan;I have opened https://github.com/wildfly/wildfly/pull/12633 as a system property alternative to https://github.com/wildfly/wildfly/pull/12107. 

#12665 includes the following PRs (squashed) from the 7.2.x branch 

https://github.com/jbossas/jboss-eap7/pull/2977
https://github.com/jbossas/jboss-eap7/pull/3014

","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Timely topology changes can defer expiration of distributed SFSB,WFLY-12401,12823861,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,20/Aug/19 9:08 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,23/Aug/19 9:49 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,EJB,,,,,,,,,,0,,,,,"Currently, the expiration of a given SFSB is scheduled for the current time + the @StatefulTimeout duration.  However, a topology change cause a change in ownership, expiration for newly owned SFSBs are scheduled on the local member.  Because these are not scheduled using the last accessed time, it is possible that regular topology changes can defer SFSBs from expiring indefinitely.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:54.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0846c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-client from 4.0.20 to 4.0.21,WFLY-12281,12817628,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,10/Jul/19 10:46 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,12/Jul/19 11:14 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"compare jboss-ejb-client 4.0.20.Final vs 4.0.21.Final:
https://github.com/wildfly/jboss-ejb-client/compare/4.0.20.Final...4.0.21.Final

including fix for issues:
*     EJBCLIENT-339 Remove some doPrivileged calls
*    EJBCLIENT-340 Ensure any AuthenticationContext associated with the invocation is propagated to the transaction call",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:54.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z074no:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused dependency on Quickstart jaxws-ejb,WFLY-12198,12813783,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,15/Jun/19 10:20 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,15/Jun/19 3:47 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,The Quickstart depends on com.sun.istack:istack-commons-runtime but seems to be not needed and thus may be removed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:54.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06j0c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade smallrye-metrics 2.1.5,WFLY-12553,12828186,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,13/Sep/19 3:37 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,16/Sep/19 7:34 PM,,,,,,18.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:54.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12632/,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08tgk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade ByteBuddy to 1.9.11,WFLY-12546,12827884,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gbadner,gbadner,gbadner,12/Sep/19 3:44 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,13/Sep/19 4:04 PM,,,,,,18.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:54.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12638,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08rp0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.16.Final,WFLY-12350,12821351,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,05/Aug/19 12:14 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,07/Aug/19 3:03 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,https://issues.jboss.org/projects/ISPN/versions/12342253,,,,,,,,,,,,,JBEAP-17097,,,,,,,,,,,,,,,,,,,,,WFLY-12334,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:53.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12471,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07q78:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Resolve failure with EAP 7.2 mixed domain tests on JDK 12,WFLY-12182,12812223,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,brian.stansberry,brian.stansberry,10/Jun/19 2:28 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,13/Jul/19 12:49 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Management,Test Suite,,,,,,,,,,0,,,,,"The EAP 7.2 mixed domain tests have been failing with JDK 12 since May 1.  Task is to figure out why.

The changes that went into master before the first failure are here:

https://ci.wildfly.org/viewLog.html?buildId=148651&buildTypeId=WF_MasterLinuxJdk12&tab=buildChangesDiv

Note this includes a WildFly Core upgrade, so that could include all sorts of things.

The mixed domain runs report 12 failures, but the non-EAP 7.2 ones looks to be just because the 7.2 problems mess up the test env state, breaking later tests. This is something we've always seen.

The failure occurs when starting the legacy Process Controller:

{code}
&amp#27;[0m05:12:02,434 INFO  [org.jboss.modules] (main) JBoss Modules version 1.8.6.Final-redhat-00001
&amp#27;[0m&amp#27;[33m05:12:02,692 WARN  [org.jboss.modules.define] (main) Failed to define class org.jboss.logging.MDC in Module ""org.jboss.logging"" version 3.3.2.Final-redhat-00001 from local module loader @2ddc9a9f (finder: local module finder @298a5e20 (roots: /store/work/tc-work/8edf911abfd02209/testsuite/mixed-domain/target/domains/MixedDomain720TestSuite/slave/added-modules,/store/work/tc-work/8edf911abfd02209/testsuite/mixed-domain/target/domains/MixedDomain720TestSuite/added-modules,/store/work/tc-work/8edf911abfd02209/testsuite/mixed-domain/target/old-versions/jboss-eap-7.2.0/modules,/store/work/tc-work/8edf911abfd02209/testsuite/mixed-domain/target/old-versions/jboss-eap-7.2.0/modules/system/layers/base)): org.jboss.modules.ModuleLoadError: java.se
	at org.jboss.modules.ModuleLoadException.toError(ModuleLoadException.java:74)
	at org.jboss.modules.Module.getPathsUnchecked(Module.java:1608)
	at org.jboss.modules.Module.loadModuleClass(Module.java:726)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at java.base/java.lang.ClassLoader.defineClass1(Native Method)
	at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)
	at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:423)
	at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:519)
	at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)
	at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)
	at org.jboss.modules.Module.loadModuleClass(Module.java:731)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at org.jboss.as.process-controller@6.0.11.Final-redhat-00001//org.jboss.as.process.Main.start(Main.java:80)
	at org.jboss.as.process-controller@6.0.11.Final-redhat-00001//org.jboss.as.process.Main.main(Main.java:76)
	at org.jboss.modules.Module.run(Module.java:352)
	at org.jboss.modules.Module.run(Module.java:320)
	at org.jboss.modules.Main.main(Main.java:593)

&amp#27;[0mException in thread ""main"" org.jboss.modules.ModuleLoadError: java.se
	at org.jboss.modules.ModuleLoadException.toError(ModuleLoadException.java:74)
	at org.jboss.modules.Module.getPathsUnchecked(Module.java:1608)
	at org.jboss.modules.Module.loadModuleClass(Module.java:726)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at java.base/java.lang.ClassLoader.defineClass1(Native Method)
	at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)
	at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:423)
	at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:519)
	at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)
	at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)
	at org.jboss.modules.Module.loadModuleClass(Module.java:731)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at org.jboss.as.process-controller@6.0.11.Final-redhat-00001//org.jboss.as.process.Main.start(Main.java:80)
	at org.jboss.as.process-controller@6.0.11.Final-redhat-00001//org.jboss.as.process.Main.main(Main.java:76)
	at org.jboss.modules.Module.run(Module.java:352)
	at org.jboss.modules.Module.run(Module.java:320)
	at org.jboss.modules.Main.main(Main.java:593)
{code}

I'm labeling this a Task for now rather than a Bug because I suspect the problem may be in the test infrastructure.  In particular I recommend having a look at anything that changed in the WF Core launcher module in the 9.0.0.Beta4 release.  The mixed domain tests use DomainLifecycleUtil, which in turn uses launcher's DomainCommandBuilder. Those use java.lang.Process to start a legacy PC using the JDK 11 jvm on the CI server. So the PC process is completely separate from the test client or the master PC/HC/servers. No reason the old code should stop working with JDK 11 so I suspect something has changed with the launcher.

[~jamezp] [~ropalka] FYI",,,,,,,,,,,,,,,WFCORE-4517,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-10 14:35:29.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z06bp0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/Jun/19 2:35 PM;jamezp;My guess is that it's related to WFCORE-4415. The PR removed the {{--add-modules=java.se}} in several places including the launcher. Since the current launcher would be used and the older versions of the {{jboss-modules.jar}} likely don't automatically add the {{java.se}} module we should still have the launcher add this property as it should work with any version of WildFly.","10/Jun/19 3:20 PM;jamezp;It does look like we could add a workaround as well by adding a {{-Dextra.server.jvm.args=--add-modules=java.se}} property. This worked for me locally at least. Sorry I spoke too soon. This only works for 7.2.0 tests for some reason, but it's something we can likely figure out a way to workaround.

This obviously won't work when Java 8 is used so this is an unusable workaround.","10/Jun/19 4:53 PM;jamezp;I can confirm that this would fix it https://github.com/wildfly/wildfly-core/compare/master...jamezp:WFLY-12182.","13/Jul/19 12:49 PM;brian.stansberry;The WFCORE fix in 10.0.0.Beta1 did indeed fix it.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document usage of EJB and JMS Client BOM in Quickstarts,WFLY-12630,12831676,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,03/Oct/19 3:37 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,03/Oct/19 4:17 AM,,,,,,18.0.0.Final,,,Quickstarts,,,,,,,,,,,0,,,,,"Similar to WFLY-12377, all Quickstarts should explain usage of the EJB Client and JMS Client BOMs, as the proper way to manage/use the dependencies in server, assuring compatibility with it.",,,,,,,,,,,,,WFLY-12377,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,User Experience,,,,,,,,,,,,,,,2019-10-14 12:28:53.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z09dak:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Subsystem metrics are missing from microprofile-metrics JSON output,WFLY-12543,12827866,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,rcd,rcd,11/Sep/19 6:16 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,24/Sep/19 1:18 PM,17.0.1.Final,18.0.0.Beta1,,,,18.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,"Calling /metrics with Accept = application/json results in much fewer metrics being returned than when it is called without Accept (and thus returns data in the OpenMetrics format). Specifically, all the subsystem metrics (anything affected by the prefix configured in the microprofile-metrics subsystem) are missing.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:53.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z08rl0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Sep/19 6:25 PM;rcd;I just noticed this in the WildFly 17 documentation:

bq. The WildFly metrics (that measures activity in the subsystem or application deployments) are exposed only on the /metrics endpoint with the Prometheus format.

Okay, so I guess this isn't a bug, but that still seems like a strange limitation. It really cripples the usefulness of the JSON format.","18/Sep/19 2:08 PM;rcd;This is now working in the latest nightly (665). Probably fixed by WFLY-12311.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make the certificate authority used by a certificate-authority-account configurable,WFLY-12044,12805547,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dvilkola,dvilkola,dvilkola,03/May/19 8:58 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,11/Jul/19 6:47 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Documentation,Security,,,,,,,,,,0,,,,,"Currently, Let's Encrypt (https://acme-v02.api.letsencrypt.org/directory) is the only certificate authority that can be used by a certificate-authority-account. In the future, if/when other certificate authorities implement the server side of the ACME protocol, this will need to be configurable. In addition, making this configurable would also allow local Let's Encrypt server instances to be used for testing purposes.",,,,,,,,,,,,,WFCORE-4362,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:53.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z059us:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Using hotrod session manager with near cache throws IllegalAccessError,WFLY-12334,12820252,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,29/Jul/19 7:45 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,07/Aug/19 3:04 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Until an Infinispan release containing ISPN-10248 is incorporated, the org.wildfly.clustering.infinispan.spi module needs to extend package protected classes from the org.infinispan.client.hotrod module.  However, this throws a IllegalAccessError since the package protected class to which we are attempting to extend resides in a different module.

Until Infinispan 9.4.16.Final is released, we need to absorb the org.infinispan.client.hotrod module into the org.wildfly.clustering.infinispan.spi module.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:52.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12471,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07jp0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Re-add jboss public maven repos to BOMs and Quickstart's parents ,WFLY-12288,12818221,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,15/Jul/19 2:57 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,18/Jul/19 4:03 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"The repositories are still needed, not all dependencies are available in Maven Central",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:52.0,,,,,,,,,,https://github.com/wildfly/boms/pull/62,https://github.com/wildfly/quickstart/pull/357,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07844:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Default VERIFY_SUSPECT timeout is too high,WFLY-12242,12815600,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,26/Jun/19 4:06 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,27/Jun/19 4:51 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"In a world where WF starts in 2 seconds on a 2 year old laptop, the default VERIFY_SUSPECT timeout of WF (currently 5 seconds) can easily create the condition where a killed and restarted server shows up in the topology before the old server leaves.  Ideally, the VERIFY_SUSPECT timeout should not be longer than the time it takes to start the server process.  A timeout of 1 second should suffice.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:52.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06szg:",9223372036854775807,,0.0,,,,,,,,,,,,,,Workaround Exists,"<protocol type=""VERIFY_SUSPECT"">
    <property name=""timeout"">1000</property>
</protocol>","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move to jakarta.security.enterprise:jakarta.security.enterprise-api and org.glassfish.soteria:jakarta.security.enterprise ,WFLY-12418,12824320,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dvilkola,dvilkola,dvilkola,23/Aug/19 6:13 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,26/Aug/19 6:18 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,EE,Security,,,,,,,,,,0,,,,,This is simple component upgrade to jakarta since we will not be forking EE security for now. ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-23 14:59:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12520,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z086vw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"23/Aug/19 2:59 PM;brian.stansberry;[~dvilkola] [~dlofthouse] Please make sure any related changes to the boms are completed.","27/Aug/19 4:21 AM;dlofthouse;Had a chat with [~emmartins] this morning, it sounds like there are lot of changes flying around the boms so Eduardo will sync the boms with the component upgrades.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.15.Final,WFLY-12208,12814336,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,19/Jun/19 8:45 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,19/Jun/19 5:47 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,https://issues.jboss.org/projects/ISPN/versions/12342165,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:51.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12374,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06m7w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for configuring load-balancer with ranked routing,WFLY-12144,12810137,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,30/May/19 10:12 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,14/Aug/19 7:33 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,Web (Undertow),,,,,,,,,,0,affects-model,,,,"Support none/single/ranked affinity strategies for both:

* mod_cluster
* regular proxy",,,,,,,,,,,,,,,WFLY-12173,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:51.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12347,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05zfw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Aug/19 7:04 AM;rhusar;Update for wildfly-proposals https://github.com/wildfly/wildfly-proposals/pull/239.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update legacy wildfly-build-tools to 1.2.12.Final,WFLY-12552,12828154,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,12/Sep/19 5:04 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,13/Sep/19 5:37 PM,,,,,,18.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,Pick up WFBUILD-48 to allow cleaner comparisons between build/dist and build-legacy/dist-legacy output.,,,,,,,,,,,,,WFCORE-4664,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12639,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08t9g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Align jgroups stacks in example configurations with default ha configuration,WFLY-12248,12815794,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,27/Jun/19 9:35 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,28/Jun/19 1:08 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:50.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12394,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06u2c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Narayana to 5.9.7.Final,WFLY-12422,12824416,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,23/Aug/19 11:17 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,23/Aug/19 5:03 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,Release notes: https://issues.jboss.org/projects/JBTM/versions/12326302,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:50.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z087hg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.websockets to 2.0.0.Final,WFLY-12544,12827867,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,jamezp,11/Sep/19 6:27 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,11/Sep/19 11:35 PM,,,,,,18.0.0.Final,,,EE,Web (Undertow),,,,,,,,,,0,,,,,Upgrade the WebSockets API to 2.0.0.CR1,,,,,,,,,,,,,WFLY-12438,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:50.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12629,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08rl8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WildFlyCustomJtaPlatform does not cache TSR for manually bootstrapped hibernate apps,WFLY-12365,12821907,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,swd847,swd847,08/Aug/19 7:56 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,09/Aug/19 4:34 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,This results in the TSR being looked up from JNDI every time which has a performance impact,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:49.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07tc4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SecurityManager push/pull is expensive also for datasources,WFLY-12344,12820965,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,maeste,maeste,01/Aug/19 5:59 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,13/Aug/19 3:47 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"Pushing SecurityDefinition in securityManager in eery SubjectFactory is creating a lot of object with an impact on performance.
Double checking WFLY-6372 it seems not needed for that issue.",,,,,,,,,,,,,WFLY-12318,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:49.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07nys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MixedDomainTestSuite might not set version to null in AfterClass method ,WFLY-12519,12827272,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,istraka,istraka,istraka,09/Sep/19 10:29 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,10/Sep/19 6:30 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"In our environment server might not start within a timeout (see MixedDomain710TestSuite fail in [1]). 

{code:java}
java.lang.AssertionError: Slave server-one did not start within 20000 ms
	at org.junit.Assert.fail(Assert.java:88)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSupport.startSlaveServer(MixedDomainTestSupport.java:166)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSupport.start(MixedDomainTestSupport.java:129)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSuite.getSupport(MixedDomainTestSuite.java:157)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSuite.getSupport(MixedDomainTestSuite.java:133)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSuite.getSupport(MixedDomainTestSuite.java:78)
	at org.jboss.as.test.integration.domain.mixed.MixedDomainTestSuite.getSupport(MixedDomainTestSuite.java:68)
	at org.jboss.as.test.integration.domain.mixed.eap710.MixedDomain710TestSuite.initializeDomain(MixedDomain710TestSuite.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
{code}

If this happens during the initialization phase [here|https://github.com/wildfly/wildfly/blob/18.0.0.Beta1/testsuite/mixed-domain/src/test/java/org/jboss/as/test/integration/domain/mixed/MixedDomainTestSuite.java#L157] support static field is not set. When AfterClass close method is called version is not set to null [here|https://github.com/wildfly/wildfly/blob/18.0.0.Beta1/testsuite/mixed-domain/src/test/java/org/jboss/as/test/integration/domain/mixed/MixedDomainTestSuite.java#L172]. This results to other fails in [1]. Simply because of [this|https://github.com/wildfly/wildfly/blob/18.0.0.Beta1/testsuite/mixed-domain/src/test/java/org/jboss/as/test/integration/domain/mixed/MixedDomainTestSuite.java#L55] - version is supposed to be null but it is not.


[1] https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/eap-7.x-as-testsuite-mixed-domain-rhel/384/jdk=ibm-java-1.8,label_exp=RHEL7&&dynamic&&large/testReport/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:49.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12613,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08o4k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent failures in DynamicJNDIContextEJBInvocationTestCase,WFLY-12512,12827097,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,brian.stansberry,brian.stansberry,07/Sep/19 12:12 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,10/Sep/19 6:26 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,EJB,,,,,,,,,,,0,,,,,"We're starting to see quite frequent intermittent failures of DynamicJNDIContextEJBInvocationTestCase.

Looking at the history[1] it seems that this first started popping up with the EJB Client Interceptors PR.[2]

[1] https://ci.wildfly.org/project.html?projectId=WF_PullRequest&buildTypeId=&tab=testDetails&testNameId=3633635619745467113&order=TEST_STATUS_DESC&branch_WF_PullRequest=__all_branches__&itemsCount=50

[2] https://github.com/wildfly/wildfly/pull/12490

I'm putting Blocker priority on this because it's a potential regression. But if it's not a regression, just a test that needs improvement, please lower the Priority right away, i.e. don't wait to fix the test.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-09 13:40:32.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z08n44:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Sep/19 1:40 PM;cfang;I was able to reproduce it with WildFly 18 snapshot (after commenting out the @Ignore line in {{DynamicJNDIContextEJBInvocationTestCase}}, and with the following command that mimics LInux+Elytron build:

mvn -U -Dinsecure.repositories=WARN -DallTests -Dmaven.test.failure.ignore=true -DfailIfNoTests=false -Dipv6 -Delytron clean install

The important params seem to be {{-Dipv6 -Delytron}}.  When running without these params (i.e., running {{mvn clean install}}), I did not see these failures.

{code}
[ERROR] testServerToServerSFSBUsingEJB2xHomeView(org.jboss.as.test.multinode.remotecall.scoped.context.DynamicJNDIContextEJBInvocationTestCase)  Time elapsed: 0.093 s  <<< ERROR!
javax.naming.NameNotFoundException: StatefulBeanA!org.jboss.as.test.multinode.remotecall.scoped.context.StatefulBeanA [Root exception is java.lang.IllegalStateException: WFLYEE0046: Failed to instantiate component view]
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:153)
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:83)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:207)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:239)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.doLookup(InitialContext.java:290)
	at org.jboss.as.test.multinode.remotecall.scoped.context.DynamicJNDIContextEJBInvocationTestCase.testServerToServerSFSBUsingEJB2xHomeView(DynamicJNDIContextEJBInvocationTestCase.java:187)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invokeMethod(Arquillian.java:325)
	at org.jboss.arquillian.junit.MethodInvoker$1.invoke(MethodInvoker.java:18)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:62)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:139)
	at org.jboss.arquillian.junit.MethodInvoker.invoke(MethodInvoker.java:15)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:332)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:215)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:279)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:90)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:69)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:86)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:95)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:133)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:105)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:273)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:166)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:350)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:177)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:115)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:61)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:153)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:137)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:119)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: WFLYEE0046: Failed to instantiate component view
	at org.jboss.as.ee.component.ViewManagedReferenceFactory.getReference(ViewManagedReferenceFactory.java:58)
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:143)
	... 156 more
{code}","09/Sep/19 7:31 PM;tomekadamski;Thanks [~cfang]. ","10/Sep/19 6:26 PM;brian.stansberry;Thanks, Tomek!","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing license info from core feature pack,WFLY-12229,12814942,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,23/Jun/19 5:15 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,03/Jul/19 2:48 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Build System,,,,,,,,,,,0,,,,,The docs/licenses/core-feature-pack-licenses.html file and thus the overall docs/licenses/licenses.html file is missing most of the expected content. Seems to have only org.wildfly.core:wildfly-event-logger and various org.wildfly.security items.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06p90:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Out of specification: Singleton EJB is allowed to implement SessionBean interface.,WFLY-12265,12816234,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,thofman,cfang,cfang,01/Jul/19 2:15 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,20/Aug/19 7:51 PM,16.0.0.Final,17.0.0.Final,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"Singleton EJB is allowed to implement SessionBean interface and the EJB 3.2 spec says in section 4.9.2 Session Bean Class: 

""The class may implement, directly or indirectly, the javax.ejb.SessionBean interface. Except for singleton session beans.""

EAP should throw an exception or log a warning that it is not valid by the spec.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jul/19 2:15 PM;cfang;SingletonBean.java;https://issues.redhat.com/secure/attachment/12452775/SingletonBean.java",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:48.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12460,,,,,,,,,,,,,,,,1.0,1.0,,,,,,,,,,"1|z06wp0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Bouncycastle API usage on Quickstarts helloworld-mutual-ssl,WFLY-12195,12813771,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,14/Jun/19 6:45 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,15/Jun/19 10:19 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"The Bouncycastle API is only used to convert a certificate to PEM string, which may be done instead with the JDK's Base64 encoder.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:48.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06iyc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade org.jboss.spec.javax.servlet.jsp.jboss-jsp-api_2.3_spec to 2.0.0.Final,WFLY-12439,12824941,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,28/Aug/19 4:06 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,11/Sep/19 11:35 PM,,,,,,18.0.0.Final,,,EE,Web (Undertow),,,,,,,,,,0,,,,,Upgrade the JSP Spec API to 2.0.0.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:48.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12629,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08aas:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move from javax.activation:activation:1.1.1 to com.sun.activation:jakarta.activation:1.2.1,WFLY-12540,12827718,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,11/Sep/19 9:12 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,14/Sep/19 7:36 PM,,,,,,18.0.0.Final,,,Server,,,,,,,,,,,0,,,,,Move to the Jakarta JAF project.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-11 19:52:46.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12630,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z08qpo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Sep/19 7:52 PM;jamezp;I meant to reject the PR as there seems to be some issues with the migration I'll need to sort out. See https://ci.wildfly.org/viewLog.html?buildId=167626&buildTypeId=WF_PullRequest_LinuxElytro.","11/Sep/19 10:23 PM;brian.stansberry;I changed the title as jakarta.activation:jakarta.activation-api is not meant to be used at runtime, as discussed at https://github.com/eclipse-ee4j/jaf/issues/18. I expect that's why the CI job linked above failed.

Another twist is the javax.activation:activation:1.1.1 we use is really old, e.g. a 1.2 came out in 2017: https://github.com/javaee/activation/releases","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RESTEasy support for setting HTTP proxy by using JAX-RS API,WFLY-11737,12792735,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,pjurak,pjurak,18/Feb/19 8:45 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,15/Jul/19 5:36 AM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,REST,,,,,,,,,,,0,,,,,Provide support for setting HTTP proxy by using JAX-RS API.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:48.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12373,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03avo:",9223372036854775807,,0.0,,,,,,,,,,,,mkopecky,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Skip redundant put operations when distributable SFSBs use local, non-persistent cache configuration",WFLY-12331,12820206,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,29/Jul/19 10:04 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,31/Jul/19 3:00 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,EJB,,,,,,,,,,0,downstream_dependency,,,,"When a distributable SFSB is released, we perform a cache put to ensure state is persisted/replicated.  However, when the cache configuration is both local and non-persistent, this cache operation is redundant.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:47.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12456,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07jfw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Basic integration tests for OCSP,WFLY-12332,12820207,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jstourac,jstourac,jstourac,29/Jul/19 10:11 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,16/Sep/19 7:57 PM,,,,,,18.0.0.Final,,,Security,,,,,,,,,,,0,,,,,Let's provide integration tests for OCSP feature into WildFly testsuite.,,,,,,,,,,,,,,,,,,,,,,,,EAP7-715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:47.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12455,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07jg4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SecurityManager push/pull is expensive,WFLY-12318,12819637,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,maeste,maeste,24/Jul/19 12:00 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,29/Jul/19 9:53 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"Pushing SecurityDefinition in securityManager in eery SubjectFactory is creating a lot of object with an impact on performance.
Double checking WFLY-6372 it seems not needed for that issue.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:47.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07g2k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace CompositeCharSequence with version from wildfly-common,WFLY-12508,12826853,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,06/Sep/19 10:22 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,08/Sep/19 5:04 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,Web (Undertow),,,,,,,,,,,0,,,,,"CompositeCharSequence is now available in wildfly-common, thus we can remove the class from web-common.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:47.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12598,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08lm4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CallerPrincipal will be anonymous (randomly) if EJB2 is called,WFLY-12301,12818796,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,wdfink,wdfink,18/Jul/19 10:37 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,06/Aug/19 10:58 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,Security,,,,,,,,,,0,EJB2,security,,,"An EJB application which call an EJB2 SLSB will fail (randomly) to show the correct user if getCallerPrincipal is used inside. Also the roles are not set.

The EJB2 Bean is secured by ejb-jar.xml so it is not expected that it will be called without role
  <assembly-descriptor>
    <method-permission>
      <role-name>testRole</role-name>
      <method>
        <ejb-name>simpleejb.server.SomeEJB2Bean</ejb-name>
        <method-intf>Remote</method-intf>
        <method-name>*</method-name>
      </method>
    </method-permission>

This error is constant seen if the server is up and running but each restart will change the behaviour randomly.
Note that an EJB3 bean of the same EAR file will work always correctly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/19 10:36 AM;wdfink;reproducer.zip;https://issues.redhat.com/secure/attachment/12453412/reproducer.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-19 05:39:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12468,,,,,,,,,,,,,,,,1.0,3.0,,,,,,,,,,"1|z07b9g:",9223372036854775807,,0.0,,,,,"build the project and deploy ear/target/EJB2EJB3Principal.ear to a fresh server.
run
   bin/add-user.sh -a -u test -p password1 -g testRole,testRole2
to add the user
Execute
java -cp ""SRV_HOME/bin/client/jboss-client.jar:client/target/EJB2EJB3Principal-client.jar:ejb2App/target/EJB2EJB3Principal-ejb2-client.jar:ejb3App/target/EJB2EJB3Principal-ejb3-client.jar Client
or use ""mvn exec:java"" in Client directory

This will show that the EJB3 and EJB2 are called with the correct user and role.

Now change the security to Elytron by using the quickstart script configure-elytron.cli from the ejb-security quickstart (https://github.com/wildfly/quickstart/blob/master/ejb-security/configure-elytron.cli)",,,,,,,,,,,"19/Jul/19 5:39 AM;cfang;By following the steps and running the test.sh script included in reproducer, I was able to reproduce it with the recent WildFly build.  If I replace jboss-ejb-client in the reproducer to be 4.0.21.Final (the current latest), the test still failed, but takes more rounds to reproduce than running with the original jboss-ejb-client (version 4.0.12.Final-redhat-00001).  Not sure if this is significant data point.  

One of the bug fixes in 4.0.21.Final is EJBCLIENT-340 (Ensure any AuthenticationContext associated with the invocation is propagated to the transaction call.), not sure if it's related.

From various symptom described here (e.g., slight difference between running server vs restarted server, passed with default security config vs failed with elytron), I suspect the problem is at server side security context intake, rather than at the client side propagation.  [~dlofthouse] can you take a look?","01/Aug/19 4:26 PM;fjuma;I was able to reproduce this locally and found the following:

* When the caller principal for the EJB2 bean is correct, the corresponding {{EJBComponentDescription}} always has {{securityRequired}} set to {{true}}.
* When the caller principal for the EJB2 bean is anonymous, the corresponding {{EJBComponentDescription}} always has {{securityRequired}} set to {{false}}.
* Whether or not security is required for the {{EJBComponentDescription}} gets set in [EJBSecurityViewConfigurator|https://github.com/wildfly/wildfly/blob/1bf993be72b570a0c780a58ba05cabafe1ce7935/ejb3/src/main/java/org/jboss/as/ejb3/security/EJBSecurityViewConfigurator.java#L147-L148].
* The {{EJBSecurityViewConfigurator}} gets called for each view that is associated with the {{EJBComponentDescription}}.
* For EJB2, unlike EJB3, there are actually two views associated with the {{EJBComponentDescription}}: {{server.SomeEJB2}} and {{server.SomeEJBHome}}. Currently, whether or not security is required for the {{EJBComponentDescription}} associated with the EJB2 bean depends on the order in which these two views are processed. If {{server.SomeEJB2}} is processed last, {{securityRequired}} will be set to {{true}} since it has method level security metadata. However, if {{server.SomeEJBHome}} is processed last, {{securityRequired}} will be set to {{false}} since it does not have method level security metadata.

The following PR fixes this by ensuring that {{EJBComponentDescription#setSecurityRequired}} only gets called in {{EJBSecurityViewConfigurator}} if security is actually required to avoid resetting the value when there are multiple views:

https://github.com/wildfly/wildfly/pull/12468","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Separate out feature groups related to clustering,WFLY-12495,12826431,12826192,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,05/Sep/19 7:08 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,06/Sep/19 4:12 PM,,,,,,18.0.0.Final,,,Build System,Clustering,,,,,,,,,,0,,,,,The Galleon pack has a number of feature groups that incorporate in one group chunks of clustering-related config that are related to different use cases. Separate these out to make them useful for distinct layers related to those use cases.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08j24:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tasks-* quickstarts have no pre-requisite of tasks quickstart,WFLY-12262,12816004,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,30/Jun/19 6:21 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,30/Jun/19 6:37 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Quickstarts,,,,,,,,,,,0,,,,,"The README.adoc of tasks-rf and tasks-jsf quickstart refers tasks QuickStart as pre-requisite, this is outdated and should be fixed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:46.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06vbg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade microprofile-health to 2.0.1,WFLY-12228,12814860,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,21/Jun/19 11:31 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,20/Aug/19 7:49 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-26 16:42:06.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z06otg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Jun/19 11:32 AM;jmesnil;The upgrade to MicroProfile Health 2.0.1 requires to upgrade smallrye-health implementation too.

SmallRye has changed its GAV convention and the upgraded GAV is io.smallrye:smallrye-health-2.0:1.0.2 (the version in the artifactId is the version of the implemented API).","26/Jun/19 4:42 PM;brian.stansberry;This is part of an RFE, right? MP 3.0 variant of MP Health.","28/Jun/19 4:01 AM;jmesnil;Right, MP Health 2.0.1 is the version in MicroProfile 3.0 umbrella","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade CXF to 3.3.3 ,WFLY-12087,12807615,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jim.ma,jim.ma,jim.ma,16/May/19 10:51 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,04/Sep/19 5:29 PM,17.0.0.Alpha1,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"We need to remove the getClassloader permission in these tests when upgrade CXF:
* testsuite/integration/xts/src/test/java/org/jboss/as/test/xts/suspend/AbstractTestCase.java 
* testsuite/integration/xts/src/test/java/org/jboss/as/test/xts/suspend/wsat/AtomicTransactionSuspendTestCase.java

CXF issue for this permission problem: https://issues.apache.org/jira/browse/CXF-8042




",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12424,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:46.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05lo4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Align license.xml content with standard names and urls,WFLY-12566,12828846,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,17/Sep/19 7:22 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,18/Sep/19 8:23 PM,,,,,,18.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"Our licenses.xml files use standard values for the various 'name' elements and standard remote urls for the license text. Adapt the various changes made in these files to conform.

This is primarily

{code}
            <name>EPL 2.0</name>
            <url>http://www.eclipse.org/legal/epl-2.0</url>
{code}

becomes

{code}
          <name>Eclipse Public License 2.0</name>
          <url>http://www.eclipse.org/legal/epl-2.0</url>
{code}

and

{code}
            <name>GPL2 w/ CPE</name>
            <url>https://www.gnu.org/software/classpath/license.html</url>
{code}

becomes

{code}
          <name>GNU General Public License, Version 2 with the Classpath Exception</name>
          <url>http://repository.jboss.org/licenses/gpl-2.0-ce.txt</url>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12659,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08wvw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Testing adding an Elytron jdbc-realm in admin mode,WFLY-12346,12821073,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aabdelsa,aabdelsa,aabdelsa,01/Aug/19 2:49 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,15/Aug/19 5:19 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:45.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07om4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update permission names in tests to fix failures that occur with the security manager enabled after the JBoss Jakarta JACC and JASPI upgrades,WFLY-12455,12825350,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,29/Aug/19 2:25 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,29/Aug/19 7:10 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"The upgrades to JBoss Jakarta JACC 2.0.0.CR1 and JBoss Jakarta JASPI fork 2.0.0.CR1 are causing the following test failures with the security manager enabled:

PolicyContextTestCase.testHttpServletRequestFromPolicyContext
{code}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.security.SecurityPermission"" ""setPolicy"")"" in code source ""(vfs:/content/ear-jacc-context.ear/ear-jacc-context.jar &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.ear-jacc-context.ear.ear-jacc-context.jar"" from Service Module Loader"")
 at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
 at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
 at javax.security.jacc.PolicyContext.checkSetPolicyPermission(PolicyContext.java:237)
 at javax.security.jacc.PolicyContext.getContext(PolicyContext.java:226)
{code}
 
AuthenticationPolicyContextTestCase.test
{code}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.security.SecurityPermission"" ""setPolicy"")"" in code source ""(vfs:/content/picketlink-sts-ws.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.picketlink-sts-ws.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at javax.security.jacc.PolicyContext.checkSetPolicyPermission(PolicyContext.java:237)
	at javax.security.jacc.PolicyContext.getContext(PolicyContext.java:226)
{code}

The above two failures are occurring because {{PolicyContext.getContext}} now checks for the ""setPolicy"" permission instead of the ""getPolicy"" permission:

PolicyContext.getContext before JACC upgrade:
https://github.com/jboss/jboss-jacc-api_spec/blob/master/src/main/java/javax/security/jacc/PolicyContext.java#L93

PolicyContext.getContext after JACC upgrade:
https://github.com/jboss/jboss-jakarta-jacc-api_spec/blob/6b5f2641b115239df97b10ad95b4972ac62d01e3/api/src/main/java/javax/security/jacc/PolicyContext.java#L226
 
DynamicJaspiTestCase.testCalls
{code}
&amp#27;[0m&amp#27;[31m09:18:43,183 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /ConfiguredJaspiTestCase/: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.security.SecurityPermission"" ""getProperty.authconfigprovider.factory"")"" in code source ""(vfs:/content/ConfiguredJaspiTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ConfiguredJaspiTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at javax.security.auth.message.config.AuthConfigFactory.checkPermission(AuthConfigFactory.java:166)
	at javax.security.auth.message.config.AuthConfigFactory.getFactory(AuthConfigFactory.java:201)
	at org.wildfly.security.auth.jaspi.JaspiConfigurationBuilder.register(JaspiConfigurationBuilder.java:106)
{code}
 
The above failure occurs because {{AuthConfigFactory.getFactory}} now checks for the ""getProperty.authconfigprovider.factory"" permission instead of the ""getFactory"" permission:

AuthConfigFactory.getFactory before JASPI upgrade:
https://github.com/jboss/jboss-jaspi-api_spec/blob/jboss-jaspi-api_1.1_spec-1.0.2.Final/src/main/java/javax/security/auth/message/config/AuthConfigFactory.java#L205

AuthConfigFactory.getFactory after JASPI upgrade:
https://github.com/jboss/jboss-jakarta-jaspi-api_spec/blob/3e290bd05a6518015f6f2e4ab6defe6a5e07fc29/api/src/main/java/javax/security/auth/message/config/AuthConfigFactory.java#L201

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:45.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12559,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08cok:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade java-support to 7.3.0 for opensmal 3.3.0,WFLY-12267,12816280,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jim.ma,jim.ma,jim.ma,02/Jul/19 3:33 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,11/Jul/19 6:52 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Web Services,,,,,,,,,,,0,,,,,"OpenSmal 3.3.0 depends on java-support 7.3.0. 
We need to upgrade java-support dependency from 7.1.1 to 7.3.0",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:45.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06wyk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support SSL Certificate revocation using OCSP community docs,WFLY-12123,12808935,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mmazanek,mmazanek,mmazanek,24/May/19 9:30 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,11/Jul/19 6:48 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Security,,,,,,,,,,,0,,,,,"- Provide undertow's client certificate revocation capability when undertow is used as a load balancer using OCSP.
(CRL capability is provided in the earlier release as part of Elytron SSL Consolidation effort that this JIRA is cloned from)",,,,,,,,,,,,,WFCORE-3947,,,,,,,,,,,,,,,WFLY-12124,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:45.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12317,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05sr8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core to 10.0.0.Beta4,WFLY-12428,12824481,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,24/Aug/19 1:58 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,04/Sep/19 7:43 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Server,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z087v8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Avoid redispatching to a worker the ejb call if it is not async (at AssociationImpl),WFLY-12322,12819683,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,flavia.rainone,flavia.rainone,24/Jul/19 6:29 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,26/Sep/19 1:49 PM,,,,,,18.0.0.Final,,,EJB,,,,,,,,,,,0,,,,,"Prevent the extra cost of dispatching the message at AssociationImpl.execute if the message is synchronous, by just executing it right away",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:44.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07gc4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Use ModelNode.TRUE, ModelNode.FALSE, ModelNode.ZERO and ModelNode.ZERO_LONG",WFLY-12284,12817983,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,13/Jul/19 9:17 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,15/Jul/19 5:18 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Management,,,,,,,,,,,0,,,,,"ModelNode declares constants ModelNode.TRUE, ModelNode.FALSE, ModelNode.ZERO and ModelNode.ZERO_LONG. Save memory and a bit of runtime cost by using these instead of the hundreds of 'new ModelNode(true)' etc.

This kind of thing does the trick for me:

find ~/dev/wildfly/wildfly -type f -name ""*.java"" -exec grep -i ""new ModelNode(false)"" -l {} \;  -exec sed -i """" 's/new ModelNode(false)/ModelNode.FALSE/g' {} \;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12430,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z076ro:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-jaxws-api_2.3_spec from 1.0.0.Final to 2.0.0.Final,WFLY-12440,12824960,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jim.ma,jim.ma,jim.ma,28/Aug/19 5:20 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,12/Sep/19 4:42 PM,,,,,,18.0.0.Final,,,Web Services,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:44.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12634,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08aes:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IllegalStateException when bad metrics scope requested,WFLY-12413,12824217,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jstourac,jstourac,22/Aug/19 11:01 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,03/Sep/19 10:48 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,"With WildFly build from master branch (commit {{0e13252d9e7a6c82e6e170bac1a2faf727287c1d}}), I can see following exception in log:
{code}
16:38:57,964 ERROR [io.undertow.request] (management I/O-1) UT005071: Undertow request failed HttpServerExchange{ GET /metrics/test}: java.lang.IllegalStateException: UT000002: The response has already been started
	at io.undertow.server.HttpServerExchange.setStatusCode(HttpServerExchange.java:1406)
	at org.wildfly.extension.microprofile.metrics.MetricsContextService$1.lambda$handleRequest$0(MetricsContextService.java:85)
	at io.smallrye.metrics.MetricsRequestHandler.handleRequest(MetricsRequestHandler.java:142)
	at io.smallrye.metrics.MetricsRequestHandler.handleRequest(MetricsRequestHandler.java:73)
	at org.wildfly.extension.microprofile.metrics.MetricsContextService$1.handleRequest(MetricsContextService.java:84)
	at org.jboss.as.domain.http.server.security.RealmReadinessHandler.handleRequest(RealmReadinessHandler.java:51)
	at org.jboss.as.domain.http.server.security.ServerErrorReadinessHandler.handleRequest(ServerErrorReadinessHandler.java:35)
	at io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:91)
	at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:211)
	at io.undertow.server.handlers.cache.CacheHandler.handleRequest(CacheHandler.java:92)
	at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:78)
	at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)
	at org.jboss.as.domain.http.server.ManagementHttpRequestHandler.handleRequest(ManagementHttpRequestHandler.java:57)
	at org.jboss.as.domain.http.server.cors.CorsHttpHandler.handleRequest(CorsHttpHandler.java:75)
	at org.jboss.as.domain.http.server.ManagementHttpServer$UpgradeFixHandler.handleRequest(ManagementHttpServer.java:664)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)
	at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)
	at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:162)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:100)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:57)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:132)
	at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:479)
{code}

This exception is caused by following request:
{code}
$ curl -v http://localhost:9990/metrics/test
*   Trying ::1:9990...
* TCP_NODELAY set
* connect to ::1 port 9990 failed: Connection refused
*   Trying 127.0.0.1:9990...
* TCP_NODELAY set
* Connected to localhost (127.0.0.1) port 9990 (#0)
> GET /metrics/test HTTP/1.1
> Host: localhost:9990
> User-Agent: curl/7.65.3
> Accept: */*
> 
* Mark bundle as not supporting multiuse
< HTTP/1.1 404 Not Found
< Connection: keep-alive
< Content-Length: 25
< Date: Thu, 22 Aug 2019 14:57:20 GMT
< 
* Connection #0 to host localhost left intact
Bad scope requested: test

The 404 Not Found HTTP response code is expected and also 'Bad scope request: test' in this case. Although, I think that mentioned IllegalStateException should be avoided. Also, this exception is not thrown in WildFly 17.0.1.
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-22 21:44:27.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z0869w:",9223372036854775807,,0.0,,,,,"# Build WildFly from master branch with commit {{0e13252d9e7a6c82e6e170bac1a2faf727287c1d}}
# Start server ./bin/standalone.sh
# perform request 'curl http://localhost:9990/metrics/test'
# see exception in server.log",,,,,,,,,,,"22/Aug/19 9:44 PM;brian.stansberry;Problem is in MetricsRequestHandler:

{code}
            MetricRegistry.Type scope = getScopeFromPath(responder, scopePath);
            if (scope == null) {
                responder.respondWith(404, ""Scope "" + scopePath + "" not found"", Collections.emptyMap());
                return;
            }
{code}

Problem is that 'getScopeFromPath(...) call also calls 'responder.respondWith(404...)' when the scopePath is wrong.

Needs a smallrye bug; WildFly can probably work around it by having the Responder lambda check if it's been invoked and ignore the second request.","23/Aug/19 9:36 PM;brian.stansberry;I filed issue https://github.com/smallrye/smallrye-metrics/pull/167 and submitted PRs https://github.com/smallrye/smallrye-metrics/pull/168 and https://github.com/smallrye/smallrye-metrics/pull/169 for the smallrye-metrics master and 2.1.x branches.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade CDI dependency to the one from Jakarta,WFLY-12528,12827474,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,10/Sep/19 10:03 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,10/Sep/19 8:45 PM,,,,,,18.0.0.Final,,,CDI / Weld,,,,,,,,,,,0,,,,,2.0.2 according to https://github.com/jakartaee/specifications/blob/master/cdi/2.0/_index.md,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12620,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pak:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move javax.json.bind to jakarta.json.bind,WFLY-12499,12826612,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,05/Sep/19 3:59 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,10/Sep/19 9:30 PM,,,,,,18.0.0.Final,,,EE,,,,,,,,,,,0,,,,,"https://github.com/eclipse-ee4j/jsonb-api

* Check license
* Move {{javax.json.bind:javax.json.bind-api:1.0}} to {{jakarta.json.bind:jakarta.json.bind-api:1.0.2}}
* Upgrade Yasson form 1.0.3 to 1.0.4",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12603,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08k5g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix NPE in JndiNamingDependencyProcessor if EE subsystem is not present,WFLY-12472,12825818,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,02/Sep/19 12:51 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,03/Sep/19 9:18 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Naming,,,,,,,,,,,0,,,,,"03:48:16,932 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service jboss.deployment.unit.""infinispan-server-testsuite-9.4.16.ER1-redhat-00001-tests.jar"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.""infinispan-server-testsuite-9.4.16.ER1-redhat-00001-tests.jar"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment ""infinispan-server-testsuite-9.4.16.ER1-redhat-00001-tests.jar""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:151)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.jboss.as.naming.deployment.JndiNamingDependencyProcessor.installComponentJndiAggregatingServices(JndiNamingDependencyProcessor.java:83)
	at org.jboss.as.naming.deployment.JndiNamingDependencyProcessor.deploy(JndiNamingDependencyProcessor.java:67)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:144)
	... 8 more",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-03 14:03:10.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12573,https://github.com/wildfly/wildfly/pull/12580,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08fjg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-transaction-api_1.2_spec to jboss-transaction-api_1.3_spec 2.0.0CR1,WFLY-12460,12825405,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,30/Aug/19 5:27 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,03/Sep/19 10:47 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,https://github.com/jboss/jboss-jakarta-jta-api/commits/1.3-2.0.0.CR1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08d0c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core from 10.0.0.Beta5 to 10.0.0.Beta6,WFLY-12478,12826060,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,03/Sep/19 12:42 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,03/Sep/19 10:50 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12315422&version=12342764,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:42.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12578,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08gys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade MicroProfile Metrics 2.0.2,WFLY-12475,12825897,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,03/Sep/19 4:06 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,03/Sep/19 10:48 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,https://github.com/eclipse/microprofile-metrics/compare/2.0.1...2.0.2,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12474,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:42.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08g04:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update subsystem schemas to reference the new XML schema for credential-reference,WFLY-12217,12814596,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,20/Jun/19 1:40 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,04/Sep/19 7:56 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Management,Security,,,,,,,,,,0,credential-reference,eap72,,,"With https://issues.jboss.org/browse/EAP7-538, all passwords references in the subsystems must support credential references.

The model attribute is provided by wildlfy-controller module (including its XML parser and marshaller) but the corresponding XML element has been added directly to the subsystems XML schemas. This will become a maintenance issue when/if the credential references has to be updated and all the subsystems schema risk to be out of sync with the actual code reading/writing the credential reference.

We should follow the same design than for threads attributes (provided by the willdfly-threads module): the wildlfy-controller module provides a XML schema for the credential-references with its own versioned namespace and any subsystem that requires it will just refer to it.",,,,,,,,,,,,,WFCORE-4501,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:42.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12378,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06nqc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-client from 4.0.21 to 4.0.22,WFLY-12369,12822293,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,mstefank,mstefank,12/Aug/19 2:29 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,13/Aug/19 3:50 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"compare jboss-ejb-client 4.0.21.Final vs 4.0.22.Final:
https://github.com/wildfly/jboss-ejb-client/compare/4.0.21.Final...4.0.22.Final
",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12281,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-12 05:27:59.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z07v0k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Aug/19 5:27 AM;cfang;[~tomekadamski], [~flavia.rainone] apart from https://github.com/wildfly/jboss-ejb-client/pull/412, do you see anything else that should be included in ejb-client 4.0.22?","12/Aug/19 10:36 AM;cfang;jboss-ejb-client 4.0.22.Final was released on 2019-08-12.
","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 10.0.0.Beta2,WFLY-12296,12818544,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,17/Jul/19 6:23 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,17/Jul/19 4:36 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:41.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z079ss:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bump the Undertow subsystem model version and schema to version 10,WFLY-12173,12811620,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,06/Jun/19 6:16 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,14/Aug/19 7:32 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,The Undertow subsystem schema should be bumped from 9 to 10 and the model version should be bumped from 9 to 10.,,,,,,,,,,,,,WFLY-11816,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:41.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12346,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0685o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Undertow should not create WebResourcePermission with an action of ""!""",WFLY-12397,12823821,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,20/Aug/19 10:58 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,23/Aug/19 9:50 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,"As Undertow processes a deployment to convert the security constraints to a JACC Policy using JACC Permissions there is a step which adds unchecked permissions based on the HTTP methods seen so far: -

{noformat}
            if(jbossWebMetaData.getDenyUncoveredHttpMethods() == null) {
                if (seenMethods.size() != NUMBER_OF_HTTP_METHODS) {
                    WebResourcePermission wrpUnchecked = new WebResourcePermission(qurl, ""!""
                            + getCommaSeparatedString(seenMethods.toArray(new String[seenMethods.size()])));
                    pc.addToUncheckedPolicy(wrpUnchecked);
                }
            }
{noformat}

If no methods have been seen so far this can lead to an action of ""!"".

Where an action is null or empty String the meaning is ""all methods"".
Where a list of methods of prefixed with ""!"" the meaning is ""all methods except those listed"".

Where we use ""!"" we mean all methods as we have not already encountered any, however the API does specify the syntax and a single ""!"" without any actions is invalid so for that scenario we should use null or empty String.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-23 16:14:46.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12516,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z083xg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"23/Aug/19 4:14 PM;brian.stansberry;[~dlofthouse] In the last paragraph in the description there is some strange quoted text. I think you meant two occurrences of ""!"" but some other text got swapped in.

No big deal. I was doing PR review and wanted to understand what I was looking at and that paragraph got me scratching my head a bit. :)","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-transaction-api_1.2_spec to 2.0.0.CR1,WFLY-12448,12825116,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,28/Aug/19 1:00 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,28/Aug/19 10:25 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,"Available here: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/2.0.0.CR1/ 

Commits are here https://github.com/jboss/jboss-jakarta-jta-api/commits/2.0.0.CR1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:40.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08bb8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ClassNotFoundException over org.glassfish.jersey.client.JerseyClientBuilder when sec-mgr is enabled,WFLY-12235,12815071,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,24/Jun/19 9:58 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,24/Jun/19 4:52 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,"From JBEAP-17069:

When the security manager is enabled the resteasy client initialization fails with the following exception:

{noformat}
ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /resteasy/SampleServlet: java.lang.RuntimeException: java.lang.ClassNotFoundException: org.glassfish.jersey.client.JerseyClientBuilder from [Module ""javax.ws.rs.api"" version 1.0.1.Final-redhat-00001 from local module loader @69d9c55 (finder: local module finder @13a57a3b (roots: /opt/jboss/jboss-eap-7.2/modules,/opt/jboss/jboss-eap-7.2/modules/system/layers/base/.overlays/layer-base-jboss-eap-7.2.1.CP,/opt/jboss/jboss-eap-7.2/modules/system/layers/base))]
	at javax.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:132)
	at com.redhat.sample.SampleServlet.processRequest(SampleServlet.java:29)
	at com.redhat.sample.SampleServlet.doGet(SampleServlet.java:48)
        ...
Caused by: java.lang.ClassNotFoundException: org.glassfish.jersey.client.JerseyClientBuilder from [Module ""javax.ws.rs.api"" version 1.0.1.Final-redhat-00001 from local module loader @69d9c55 (finder: local module finder @13a57a3b (roots: /opt/jboss/jboss-eap-7.2/modules,/opt/jboss/jboss-eap-7.2/modules/system/layers/base/.overlays/layer-base-jboss-eap-7.2.1.CP,/opt/jboss/jboss-eap-7.2/modules/system/layers/base))]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:264)
	at javax.ws.rs.client.FactoryFinder.newInstance(FactoryFinder.java:120)
	at javax.ws.rs.client.FactoryFinder.find(FactoryFinder.java:227)
	at javax.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:96)
	... 52 more
{noformat}

It seems that the issue is that the internal resteasy class is not found and the default {{org.glassfish.jersey.client.JerseyClientBuilder}} is tried but fails.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JBEE-204,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:40.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06pzw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade  jboss-jakarta-connector-api_spec to 2.0.0.Final,WFLY-12434,12824842,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,maeste,maeste,27/Aug/19 11:22 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,13/Sep/19 4:03 PM,,,,,,18.0.0.Final,,,JCA,,,,,,,,,,,0,,,,,"JBoss Jakarta Connectors API fork:
https://github.com/jboss/jboss-jakarta-connector-api_spec",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-13 13:28:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12641,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z089pw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Sep/19 1:28 PM;jamezp;I'm reopening this as it's not in WildFly master.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support for https in galleon layers,WFLY-12407,12824120,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,22/Aug/19 5:04 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,26/Aug/19 7:28 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,,,,,,,,,,,0,,,,,When building a configuration with galleon layers we need a way to evolve undertow with a support for https.,,,,,,,,,,,,,,,WFCORE-4616,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:40.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z085pg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WFLY integration test for WFCORE-3670,WFLY-12362,12821752,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,soul2zimate,soul2zimate,soul2zimate,07/Aug/19 11:10 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,08/Aug/19 2:30 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,WFCORE-3670 is fixed in 10.0.0.Beta3,,,,,,,,,,,,,,,,,,,,,,,,WFCORE-3670,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12484,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07sek:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move Messaging management model version to 8,WFLY-12326,12819801,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,25/Jul/19 9:29 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,14/Aug/19 7:35 PM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,,,,,0,,,,,Update messaging subsystem model to 8,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07h0k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unnecessary module dependencies in clustering modules,WFLY-12505,12826820,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,06/Sep/19 8:39 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,12/Sep/19 10:11 AM,18.0.0.Beta1,,,,,18.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"In particular, ensure that dynamic dependencies (i.e. loaded via service loader) are optional whenever appopriate.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12614,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08lf0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Generic JMS RA 2.0.2.Final,WFLY-12497,12826529,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,05/Sep/19 10:12 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,08/Sep/19 4:59 PM,,,,,,18.0.0.Final,,,JMS,,,,,,,,,,,0,,,,,https://github.com/jms-ra/generic-jms-ra/compare/2.0.1.Final...jms-ra:2.0.2.Final,,,,,,,,,,,,,,,,,,,,,,WFLY-12419,,,,,,,,,,,,WFLY-12415,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08jnw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade smallrye-config 1.3.6,WFLY-12213,12814449,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,20/Jun/19 3:14 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,24/Jun/19 3:52 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Config,,,,,,,,,,,0,,,,,"Upgrade smallrye-config to 1.3.6.

There is a more recent version of smallrye-config (1.3.7) but it challenges TCK tests from MicroProfile Config 1.3 (regarding the semantic of empty config property).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:39.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06mvo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add MicroProfile Config TCK to the WildFly integration test suite,WFLY-12189,12813235,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,13/Jun/19 11:16 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,27/Jun/19 8:43 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Config,Test Suite,,,,,,,,,,0,,,,,"Add module to run MicroProfile Config TCK[1] to the existing MicroProfile TCKs in https://github.com/wildfly/wildfly/tree/master/testsuite/integration/microprofile-tck

https://github.com/eclipse/microprofile-config/tree/master/tck",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:38.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06hms:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Switch from javax.persistence:javax.persistence-api to jakarta.persistence:jakarta.persistence-api,WFLY-12480,12826073,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,smarlow,smarlow,03/Sep/19 2:31 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,10/Sep/19 8:44 PM,,,,,,18.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,,,,,Switch to [https://github.com/eclipse-ee4j/jpa-api/tree/master/api],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:38.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12589,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08h1o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"03/Sep/19 3:00 PM;smarlow;https://github.com/scottmarlow/wildfly/tree/WFLY-12480 doesn't build yet, that should change after https://github.com/eclipse-ee4j/jpa-api/issues/228 is done.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-transaction-client from 1.1.4.Final to 1.1.5.Final,WFLY-12258,12815967,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,28/Jun/19 3:48 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,12/Jul/19 11:15 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,EJB,Transactions,,,,,,,,,,0,,,,,"compare 1.1.4.Final vs 1.1.5.Final:
https://github.com/wildfly/wildfly-transaction-client/compare/1.1.4.Final...1.1.5.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:38.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06v3o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade IronJacamar from 1.4.16.Final to 1.4.17.Final,WFLY-12283,12817644,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mstefank,mstefank,mstefank,11/Jul/19 3:57 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,11/Aug/19 6:28 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JCA,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11973,,,,,,JBJCA-1389,WFLY-12315,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-30 15:09:43.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12485,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z074r8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"30/Jul/19 3:09 PM;brian.stansberry;The PR for this should also incorporate the test commit currently found in https://github.com/wildfly/wildfly/pull/12439","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate Validator to 6.0.17,WFLY-12533,12827531,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,10/Sep/19 5:30 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,11/Sep/19 11:46 AM,,,,,,18.0.0.Final,,,Bean Validation,,,,,,,,,,,0,,,,,"https://github.com/hibernate/hibernate-validator/compare/6.0.16.Final...6.0.17.Final

Guillaume Smet notes we should do this if we are moving to the Jakarta variant of the BV API.

https://github.com/wildfly/wildfly/pull/12615#discussion_r322610996",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12615,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08pmc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JGroups subsystem pbcast.GMS/view attribute only shows the viewId,WFLY-11873,12798112,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,19/Mar/19 1:57 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,17/Sep/19 5:42 AM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"{code}
[standalone@127.0.0.1:10190 /] /subsystem=jgroups/channel=ee/protocol=pbcast.GMS:read-resource(include-runtime=true
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""after_creation_hook"" => undefined,
        ""coord"" => false,
        ""ergonomics"" => true,
        ""flush_invoker_class"" => undefined,
        ""id"" => 12,
        ""implementation"" => ""ParticipantGmsImpl"",
        ""install_view_locally_first"" => true,
        ""is_leaving"" => false,
        ""join_timeout"" => 3000L,
        ""leave_timeout"" => 3000L,
        ""level"" => undefined,
        ""local_address"" => ""node3"",
        ""log_collect_msgs"" => false,
        ""log_view_warnings"" => true,
        ""max_bundling_time"" => 50L,
        ""max_join_attempts"" => 10L,
        ""members"" => ""(2) node2,node3"",
        ""merge_id"" => undefined,
        ""merge_in_progress"" => false,
        ""merge_killer_running"" => false,
        ""merge_task_running"" => false,
        ""merge_timeout"" => 5000L,
        ""num_members"" => 2,
        ""num_prev_mbrs"" => 50,
        ""num_prev_views"" => 10,
        ""number_of_views"" => 0,
        ""print_local_addr"" => false,
        ""print_physical_addrs"" => true,
        ""stats"" => false,
        ""use_delta_views"" => true,
        ""use_flush_if_present"" => true,
        ""view"" => ""[node2|1]"",
        ""view_ack_collection_timeout"" => 2000L,
        ""view_bundling"" => true,
        ""view_handler_size"" => 0,
        ""view_handler_suspended"" => false
    }
}
{code}",,,,,,,,,JGRP-2333,WFLY-11890,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:38.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z043ng:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Mar/19 2:23 PM;rhusar;The problem is jgroups implementation of getView():

{code}
    @ManagedAttribute
    public String getView() {return view != null? view.getViewId().toString() : ""null"";}
{code}","17/Sep/19 5:42 AM;rhusar;This is fixed for WF18 with JGroups upgrade. Resolving.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade MicroProfile Metrics 2.0.1,WFLY-12294,12818538,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,17/Jul/19 5:28 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,15/Aug/19 4:06 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:37.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z079rg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add entries to maven-enforcer-plugin ban-bad-dependencies config for artifacts whose maven GA has changed,WFLY-12551,12828152,12818626,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,12/Sep/19 5:01 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,18/Sep/19 11:00 PM,,,,,,18.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"For the updates where the maven GA has changed, add the old GA to the root pom.xml config of the maven-enforcer-plugin ban-bad-dependencies execution. And then add any necessary excludes.

This is being done as part of the upgrade PR some of the APIs; task is to do it for the rest.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12660,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08t90:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wildfly 15 documentation missing images,WFLY-11786,12794504,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,,vokail,vokail,27/Feb/19 8:10 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,15/Jul/19 4:57 AM,15.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Documentation,,,,,,,,,,,0,,,,,"In getting started guide  for Wildfly 15 some images are missing, for example reference to: http://docs.wildfly.org/15/images/gfx/Eclipse_Helloworld_Deploy_1.jpg return 404 not found

(see attached image)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Feb/19 8:09 AM;vokail;Screenshot_2019-02-27 Getting Started Developing Applications Guide.png;https://issues.redhat.com/secure/attachment/12447638/Screenshot_2019-02-27+Getting+Started+Developing+Applications+Guide.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-26 12:33:50.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12432,,,,,,,,,,,,,,,,1.0,4.0,,,,,,,,,,"1|z03k24:",9223372036854775807,,0.0,,,,,"1) go to http://docs.wildfly.org/15/Getting_Started_Developing_Applications_Guide.html#cdi-servlet-helloworld-quickstart
2) go to 3.1
3) you can see only alt description for image
",,,,,,,,,,,"26/Apr/19 12:33 PM;heatmanofurioso;Issue is solved. Can it be closed for cleanup?","26/Apr/19 2:47 PM;brian.stansberry;[~heatmanofurioso] It's not fixed in the WildFly 16 docs. Are you aware of a commit that fixed this since 16 was released?","18/Jul/19 4:42 PM;brian.stansberry;I added the images to the WildFly 17 docs. They are also in master so when we generate 18 docs they will be there.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 JSFFailoverTestCase fails intermittently,WFLY-11389,12780345,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,okotek,okotek,21/Nov/18 6:36 AM,04/Oct/19 9:41 AM,28/Dec/19 1:29 PM,29/Nov/18 5:51 PM,15.0.0.Beta1,,,,,15.0.0.Final,,,Clustering,Test Suite,,,,,,,,,,0,,,,,"Tests of the {{org.jboss.as.test.clustering.cluster.jsf.JSFFailoverTestCase}} test case fail intermittently.

testGracefulSimpleFailover: https://ci.wildfly.org/project.html?projectId=WF&testNameId=3970377990724419775&tab=testDetails
testGracefulUndeployFailover: https://ci.wildfly.org/project.html?projectId=WF&testNameId=-7178234329393173354&tab=testDetails",,,,,,,,,ISPN-9701,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-23 04:51:30.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01fg8:",9223372036854775807,,0.0,,,,,,,,,,,,okotek,,,,"23/Nov/18 4:51 AM;rhusar;Caused by ISPN-9701, needs Infinispan ugprade.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RemoteStatefulEJBConcurrentFailoverTestCase is unreliable,WFLY-11322,12778774,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,brian.stansberry,brian.stansberry,09/Nov/18 7:24 PM,04/Oct/19 8:59 AM,28/Dec/19 1:29 PM,29/Nov/18 5:51 PM,,,,,,15.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"Test is failing regularly.

https://ci.wildfly.org/project.html?projectId=WF&buildTypeId=&tab=testDetails&testNameId=-3521612110649647838&order=TEST_STATUS_DESC&branch_WF=__all_branches__&itemsCount=50",,,,,,,,,ISPN-9701,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z016qw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
StatefulFailoverTestCase fails intermittently,WFLY-11384,12780223,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,okotek,okotek,20/Nov/18 10:22 AM,04/Oct/19 8:42 AM,28/Dec/19 1:29 PM,06/Dec/18 9:56 AM,15.0.0.Beta1,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,Test Suite,,,,,,,,,,0,,,,,"The tests of {{org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase}} occasionally fail, for example:

{noformat}
[ERROR] Failures: 
[ERROR]   StatefulFailoverTestCase.jmsConnectionFactoryFailover:166->failover:193->queryCount:315 expected:<200> but was:<500>
[ERROR]   StatefulFailoverTestCase.nestedBeanFailover:286->queryCount:315 expected:<200> but was:<500>
[ERROR]   StatefulFailoverTestCase.noFailover:117 expected:<1> but was:<3>
{noformat}

or

{noformat}
[ERROR] Failures: 
[ERROR]   StatefulFailoverTestCase.nestedBeanFailover:286->queryCount:315 expected:<200> but was:<500>
[ERROR]   StatefulFailoverTestCase.noFailover:117->queryCount:315 expected:<200> but was:<500>
[ERROR]   StatefulFailoverTestCase.simpleFailover:145->failover:193->queryCount:315 expected:<200> but was:<500>
{noformat}

connectionFactoryFailover: https://ci.wildfly.org/project.html?projectId=WF&testNameId=-8228296359452549252&tab=testDetails
noFailover: https://ci.wildfly.org/project.html?projectId=WF&testNameId=-5749446090626454101&tab=testDetails
jmsConnectionFactoryFailover: https://ci.wildfly.org/project.html?projectId=WF&testNameId=3564603678560707919&tab=testDetails
simpleFailover: https://ci.wildfly.org/project.html?projectId=WF&testNameId=4824753507849926218&tab=testDetails",,,,,,,,,ISPN-9701,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-22 05:41:49.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,7.0,,,,,,,,,,"1|z01eps:",9223372036854775807,,0.0,,,,,"{{cd testsuite/integration/clustering}}
{{mvn clean test -Dtest=StatefulFailoverTestCase}}
or
{{mvn clean test}}
",,,,,,,okotek,,,,"22/Nov/18 5:41 AM;rhusar;Most likely another Infinispan clean shutdown issue; possibly related to ISPN-9701 and exacerbated by fix for WFLY-11036.

{noformat}
23:38:09,562 ERROR [org.infinispan.commons.tx.TransactionImpl] (default task-2) ISPN000926: afterCompletion() failed for SynchronizationAdapter{localTransaction=LocalTransaction{remoteLockedNodes=[node-1, node-2], isMarkedForRollback=false, lockedKeys=[], backupKeyLocks=[SessionCreationMetaDataKey(D_qoJ7pRmpOfYrvxNXq-dVDCW5IaIPIYz2foDUCF), SessionAttributesKey(D_qoJ7pRmpOfYrvxNXq-dVDCW5IaIPIYz2foDUCF), SessionAccessMetaDataKey(D_qoJ7pRmpOfYrvxNXq-dVDCW5IaIPIYz2foDUCF)], topologyId=5, stateTransferFlag=null} org.infinispan.transaction.synchronization.SyncLocalTransaction@96} org.infinispan.transaction.synchronization.SynchronizationAdapter@b5: org.infinispan.IllegalLifecycleStateException: Cannot wire or start components while the registry is not running
	at org.infinispan.factories.impl.BasicComponentRegistryImpl.prepareWrapperChange(BasicComponentRegistryImpl.java:610)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl.wireWrapper(BasicComponentRegistryImpl.java:158)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.wire(BasicComponentRegistryImpl.java:736)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:712)
	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:148)
	at org.infinispan.transaction.impl.TransactionTable.afterCompletion(TransactionTable.java:861)
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:33)
	at org.infinispan.commons.tx.TransactionImpl.notifyAfterCompletion(TransactionImpl.java:506)
	at org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:338)
	at org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
	at org.wildfly.clustering.ee.infinispan.InfinispanBatch.close(InfinispanBatch.java:97)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:87)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:945)
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:579)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:346)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
{noformat}","22/Nov/18 7:14 AM;rhusar;Opened ISPN-9761 for upstream.","03/Dec/18 3:35 AM;okotek;Still occurs.","03/Dec/18 1:18 PM;rhusar;[~okotek] you are right – we have opened WFLY-11469 with a PR to reintroduce the shutdown logic to workaround the issue.

","06/Dec/18 9:56 AM;rhusar;Should be fixed now with WFLY-11469.","07/Dec/18 3:18 AM;okotek;Seems OK, thank you.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Jakarta update to Quickstarts docs,WFLY-12593,12830336,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,emmartins,emmartins,emmartins,26/Sep/19 3:27 AM,03/Oct/19 4:22 AM,28/Dec/19 1:29 PM,03/Oct/19 4:22 AM,,,,,,,,,Quickstarts,,,,,,,,,,,0,,,,,"Any references to Java EE, in Quickstart docs, should be updated wrt Jakarta EE.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z095f0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"03/Oct/19 4:22 AM;emmartins;Dupe of WFLY-12594",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
wildfly-feature-pack -- Dependency Error,WFLY-11265,12777199,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,jason.greene,gesker,gesker,31/Oct/18 2:23 PM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,02/Nov/18 12:49 PM,14.0.0.Final,,,,,14.0.0.Final,,,,,,,,,,,,,,4,wildfly-feature-pack,,,,"In my gradle build I've added:

* providedCompile ""org.wildfly:wildfly-feature-pack:14.0.1.Final""*

 

But, I'm getting:

 

*> Could not resolve javax.security.enterprise:javax.security.enterprise-api:1.1-b01-SNAPSHOT.

  Required by:

      project : > org.wildfly:wildfly-feature-pack:14.0.1.Final > org.glassfish.soteria:javax.security.enterprise:1.0*

   > Could not resolve javax.security.enterprise:javax.security.enterprise-api:1.1-b01-SNAPSHOT.

      > Unable to load Maven meta-data from https://repository.jboss.org/nexus/content/groups/public-jboss/javax/security/enterprise/javax.security.enterprise-api/1.1-b01-SNAPSHOT/maven-metadata.xml.

         > Could not get resource 'https://repository.jboss.org/nexus/content/groups/public-jboss/javax/security/enterprise/javax.security.enterprise-api/1.1-b01-SNAPSHOT/maven-metadata.xml'.

            > Could not GET 'https://repository.jboss.org/nexus/content/groups/public-jboss/javax/security/enterprise/javax.security.enterprise-api/1.1-b01-SNAPSHOT/maven-metadata.xml'.

               > extension (10) should not be presented in server_hello

 

Presently I have the following repositories in my build:

 

    jcenter()

    mavenCentral()

 

    maven {

        name ""Gradle Repository""

        url ""https://plugins.gradle.org/m2/""

    }

    maven {

        name ""JBoss Public Maven Repository Group""

        url ""https://repository.jboss.org/nexus/content/groups/public-jboss/""

    }

    maven {

        name ""JBoss Public Maven Repository Group""

        url ""http://repository.jboss.org/nexus/content/groups/public/""

    }

 

 

But, I suspect I am missing a repository specific to WildFly. Or, maybe there is a bad entry in the POM?

 

Thanks,

Dennis",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,User Experience,,,,,,,,,,,,,,,2018-11-02 12:43:50.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z00xmg:",9223372036854775807,,0.0,,,,,"Add providedCompile ""org.wildfly:wildfly-feature-pack:14.0.1.Final"" to Gradle Build Script",,,,,,,,,,,"02/Nov/18 12:43 PM;brian.stansberry;In case it helps, you don't need 1.1-b01-SNAPSHOT, you need 1.0.

The org.glassfish.soteria:parent:1.0 pom has this unfortunate business:

{code}
    <properties>
        ...

        <!--
            <spec_build> and <spec_impl_version> are overridden
            below for the ""release"" profile, and must be updated
            in both places when the release or build number of
            the dependency changes.
        -->
        <spec_build>01</spec_build>
        <spec_impl_version>1.1-b01-SNAPSHOT</spec_impl_version>

        <api_dependency_version>${spec_impl_version}</api_dependency_version>

        ...

    </properties>

    <profiles>
        <profile>
            <id>release</id>
            <properties>
                <spec_build>01</spec_build>
                <spec_impl_version>1.0</spec_impl_version>
            </properties>
        </profile>
    </profiles>
{code}

So when they build their stuff using the 'release' profile they depend on the non-snapshot but anyone whose tooling is following their dependency tree but not declaring a 'release' profile is going to see a SNAPSHOT version.  And of course people are quite likely not going to specify a 'release' profile if they are not doing a release of their own stuff.

The org.wildfly:wildfly-parent:14.0.1.Final pom has a dependency-management section where we control this version, and we specify 1.0.  I suspect you'll need to do the same.","02/Nov/18 12:49 PM;brian.stansberry;I'm going to reject this as I don't see what else we could do about this. Our dependency-management specifies that javax.security.enterprise:javax.security.enterprise-api:1.0 should be used.","02/Nov/18 3:18 PM;gesker;Hi Brian:

Thanks for looking into this.
Is this something where a request to the upstream project for an
alteration/correction could be made?

It would be nice to just be able to use the feature-pack directly out of
Maven without conflict.

Dennis







On Fri, Nov 2, 2018 at 10:50 AM Brian Stansberry (Jira) <issues@jboss.org>



-- 

Dennis R. Gesker
[image: LinkedIn]
<https://mailtrack.io/trace/link/40c07073ef1f079e46b6c95fd95fe9aa0d73ca38?url=http%3A%2F%2Fwww.linkedin.com%2Fin%2Fgesker%2F&userId=3240016&signature=65c9addf1b79c784>[image:
WordPress]
<https://mailtrack.io/trace/link/5740e1283aee01dca1989107ed4c17d57e53bc18?url=https%3A%2F%2Fdennis.gesker.com&userId=3240016&signature=530f84771fb628b6>[image:
Gesker]
<https://mailtrack.io/trace/link/92cdad02b6406ba91fb2aeca86965269e9918df6?url=http%3A%2F%2Fwww.gesker.com%2F&userId=3240016&signature=3a50fb6af83384e6>[image:
GPG_PGP]
<https://mailtrack.io/trace/link/fd063f0bd5e0bafedfa8563c31ae44b420f338e0?url=http%3A%2F%2Fwww.gesker.com%2Fhome%2Fdennis-gpg-key&userId=3240016&signature=c1a8b31fb536d5d5>[image:
dennis@gesker.com] <dennis@gesker.com>
“Be without fear in the face of your enemies. Be brave and upright that God
may love thee. Speak the truth always, even if it leads to your death.
Safeguard the helpless and do no wrong – that is your oath.”* -The Knight’s
Oath (Kingdom of Heaven)*
","05/Nov/18 9:26 AM;brian.stansberry;Hi Dennis,

The current active repository for soteria appears to be https://github.com/eclipse-ee4j/soteria. Apparently as part of the move to Jakarta EE the project has moved from the previous https://github.com/javaee/security-soteria/blob/master/README.md.

I'm not sure but it looks like they use GitHub issues as an issue tracker:

https://github.com/eclipse-ee4j/soteria/issues

Best regards,
Brian
","05/Nov/18 6:21 PM;gesker;Thanks, Brain.

I opened a new issue on the eclipse-ee4j site.
https://github.com/eclipse-ee4j/soteria/issues/236
<https://mailtrack.io/trace/link/544d5afd9cff39f10f51cbc1de9c91e020af1e1e?url=https%3A%2F%2Fgithub.com%2Feclipse-ee4j%2Fsoteria%2Fissues%2F236&userId=3240016&signature=3d3bed2ff94549eb>

Dennis

On Mon, Nov 5, 2018 at 7:27 AM Brian Stansberry (Jira) <issues@jboss.org>



-- 

Dennis R. Gesker
[image: LinkedIn]
<https://mailtrack.io/trace/link/d1bb13a14ab2fb3bc9204b027761b32def94448a?url=http%3A%2F%2Fwww.linkedin.com%2Fin%2Fgesker%2F&userId=3240016&signature=a0820b000589ef13>[image:
WordPress]
<https://mailtrack.io/trace/link/460c1db6bad44dbb9faedbd69835b12fc7b5acad?url=https%3A%2F%2Fdennis.gesker.com&userId=3240016&signature=0b2506d2b123c5de>[image:
Gesker]
<https://mailtrack.io/trace/link/66aa15f9fb11a7bbf4449265745128bd3a8d191f?url=http%3A%2F%2Fwww.gesker.com%2F&userId=3240016&signature=5700890b1decdf06>[image:
GPG_PGP]
<https://mailtrack.io/trace/link/100ed4c1aab023e2b98a983beee97e4d5bad66c6?url=http%3A%2F%2Fwww.gesker.com%2Fhome%2Fdennis-gpg-key&userId=3240016&signature=8f91d9d4665bd8ff>[image:
dennis@gesker.com] <dennis@gesker.com>
“Be without fear in the face of your enemies. Be brave and upright that God
may love thee. Speak the truth always, even if it leads to your death.
Safeguard the helpless and do no wrong – that is your oath.”* -The Knight’s
Oath (Kingdom of Heaven)*
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BOM Builder Maven Plugin,WFLY-11300,12778395,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,07/Nov/18 10:45 PM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,17/May/19 11:21 AM,,,,,,No Release,,,Build System,,,,,,,,,,,0,,,,,"BOMs are painful to maintain manually, and should be replaced by poms creating the BOMs (and installing to maven repo) through a maven plugin, with many similarities with the plugin that builds wildfly's component matrix.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly-bom-builder-plugin/pull/1,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z014hc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Nov/18 3:58 PM;emmartins;A first fully working PoC is available as a mojo added to component matrix plugin:

https://github.com/emmartins/wildfly-component-matrix-plugin/tree/WFLY-11300

A builder pom is also available for BOMs (client/jaxws-client-builder), which generates and installs a jaws-client BOM, which may be used with master of WildFly Quickstarts unchanged:

https://github.com/emmartins/boms/tree/WFLY-11300",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Publish WildFly 14 model reference to wildscribe.github.io,WFLY-10984,12768339,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,05/Sep/18 5:16 PM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,05/Sep/18 6:46 PM,,,,,,No Release,,,,,,,,,,,,,,0,,,,,https://wildscribe.github.io/ shows WF 13. (It also shows EAP 7.0 instead of 7.1).,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildscribe/wildscribe.github.io/pull/7,https://github.com/wildscribe/wildscribe/pull/19,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|w001g0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Sep/18 6:16 PM;brian.stansberry;As part of this I stopped generating model reference docs for the long-ago deprecated picketlink subsystems and added datasources-agroal.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core to 9.0.2.Final,WFLY-12256,12815962,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,brian.stansberry,brian.stansberry,28/Jun/19 2:42 PM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,01/Jul/19 4:33 PM,,,,,,17.0.1.Final,,,Server,,,,,,,,,,,0,,,,,"Move to 9.0.2.Final.

https://issues.jboss.org/projects/WFCORE/versions/12342214
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12229,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-07-01 07:02:45.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06v2k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Jun/19 2:44 PM;brian.stansberry;I put both the 17.0.1.Final and 18.0.0.Beta1 fix versions on this, but it's ok to drop 18.0.0.Beta1 if there will be a core 10.0.0.Beta1 to put into master next week.","01/Jul/19 7:02 AM;jmesnil;I'de removed WildFly 18.0.0.Final from the fix versions: WildFly Core 10.0.0.Beta1 will be released on Wed 2019-07-03 and WildFly CI has used 10.0.0.Beta1 snapshots for a few weeks now",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Jaeger Tracing: No sender found,WFLY-10967,12767740,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,,hwellmann.de,hwellmann.de,02/Sep/18 10:47 AM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,25/Jan/19 8:35 AM,14.0.0.Final,,,,,15.0.0.Final,,,MP OpenTracing,,,,,,,,,,,0,,,,,"I'm not really sure what the intended behaviour is, but is seems that MicroProfile OpenTracing does not work out of the box.

When deploying a JAX-RS + CDI application, I get the following warning

{noformat}
16:37:49,023 WARN  [io.jaegertracing.internal.senders.SenderResolver] (ServerService Thread Pool -- 73) No suitable sender found. Using NoopSender, meaning that data will not be sent anywhere!
{noformat}

My guess is that the module configuration is not quite correct. After adding the following dependencies, things look better:

module io.jaegertracing.jaeger-core:

{code:xml}
<module name=""io.jaegertracing.jaeger-thrift"" services=""import""/>
{code}

module io.jaegertracing.jaeger-thrift:

{code:xml}
<module name=""org.apache.thrift""/>
{code}
",,,,,,,,,,,,,,,,,,,,,,WFLY-10961,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|i00fxb:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add transitives to BOMs with dependencies,WFLY-12251,12815839,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,28/Jun/19 5:14 AM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,28/Jun/19 5:38 AM,,,,,,No Release,,,Build System,,,,,,,,,,,0,,,,,"... otherwise when users want to have a single dependency on the BOM they need to also import the BOM, to get the proper dependency management.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly-bom-builder-plugin/pull/2,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z06ubw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update jboss-ejb-client to 4.0.17.Final,WFLY-12003,12803230,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,tomekadamski,tomekadamski,tomekadamski,17/Apr/19 10:40 AM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,08/May/19 3:32 PM,16.0.0.Final,,,,,17.0.0.Final,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,WFCORE-4433,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z04wis:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Automatic detection of file based KeyStore types community docs.,WFLY-11658,12789627,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mmazanek,mmazanek,mmazanek,29/Jan/19 6:59 AM,02/Oct/19 9:29 PM,28/Dec/19 1:29 PM,07/Jun/19 3:58 PM,,,,,,16.0.0.Beta1,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFCORE-4058,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12037,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z02u34:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Galleon and WildFly Galleon Plugins 2.0.0.Final,WFLY-10922,12766742,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aloubyansky,aloubyansky,aloubyansky,24/Aug/18 11:40 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 3:50 PM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,Upgrade to the latest Galleon 2 Final release,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:52.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11582,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00a5j:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clean up licenses xml/html discrepancies between galleon and legacy build,WFLY-10928,12766798,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,brian.stansberry,brian.stansberry,25/Aug/18 5:08 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,30/Aug/18 5:44 PM,,,,,,14.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"A diff of the legacy build vs the galleon build shows some discrepancies. Please investigate in case any of these are problems, particularly with the galleon build.

I'm unconcerned with minor presentation differences.

An expected difference is the legacy build has entries for the legacy f-ps while the galleon build has entries for the galleon f-ps. That's normal and fine.

Most important goal is to use the comparison as a way to find and correct things in the galleon build that would cause productization delays.

[~aloubyansky] FYI.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11619,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00ahb:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace org.wildfly by project.groupId where possible,WFLY-10865,12765032,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,16/Aug/18 4:43 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,21/Aug/18 1:46 PM,14.0.0.Beta2,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,Some new subsystems added for this version are not using project.groupId instead of the static group id. This change will make the transition to product easier.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:51.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11535,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i000db:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Testsuite - System.out cleanup - vdx, basic (jms), clustering modules",WFLY-10941,12767072,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rsvoboda,rsvoboda,rsvoboda,28/Aug/18 8:06 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,28/Aug/18 5:22 PM,,,,,,14.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"Testsuite - System.out cleanup - vdx, basic (jms), clustering modules

System.out is the enemy of TeamCity, using jboss logging or commenting out unnecessary content is much better.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:48.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11602,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00c13:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Opentracing CDI extension is using deprecated method leading to WARN,WFLY-10888,12765559,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,manovotn,manovotn,manovotn,20/Aug/18 10:09 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,21/Aug/18 9:48 AM,14.0.0.Beta2,,,,,14.0.0.Final,,,MP OpenTracing,,,,,,,,,,,0,,,,,"Opentracing [CDI extension|https://github.com/wildfly/wildfly/blob/master/microprofile/opentracing-smallrye/src/main/java/org/wildfly/microprofile/opentracing/smallrye/TracingCDIExtension.java#L36-L39] which registers bean types is using deprecated method which leads to WARNINGs every time it is registered.

{code}
2018-08-20 12:24:43,009 WARN  [org.jboss.weld.Bootstrap] (MSC service thread 1-3) WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType<?>) used for class org.wildfly.microprofile.opentracing.smallrye.TracerProducer is deprecated from CDI 1.1!
2018-08-20 12:24:43,010 WARN  [org.jboss.weld.Bootstrap] (MSC service thread 1-3) WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType<?>) used for class io.smallrye.opentracing.SmallRyeTracingCDIInterceptor is deprecated from CDI 1.1!
{code}

Instead of [{{BBD.addAnnotatedType(AnnotatedType<?> type)}}|https://github.com/cdi-spec/cdi/blob/master/api/src/main/java/javax/enterprise/inject/spi/BeforeBeanDiscovery.java#L137-L150] you should be using [{{BBD.addAnnotatedType(AnnotatedType<?> type, String id)}}|https://github.com/cdi-spec/cdi/blob/master/api/src/main/java/javax/enterprise/inject/spi/BeforeBeanDiscovery.java#L152-L174].

Will send PR shortly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:44.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11543,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i0037z:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clean up warnings in Elytron documentation generation,WFLY-10905,12766212,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,22/Aug/18 10:02 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,23/Aug/18 8:07 AM,,,,,,14.0.0.Final,,,Documentation,,,,,,,,,,,0,,,,,"{noformat}
asciidoctor: WARNING: _elytron/General_Elytron_Architecture.adoc: line 161: id assigned to section already in use: ssl-tls
asciidoctor: WARNING: _elytron/migrate/LDAP_Based_Authentication_Migration.adoc: line 47: id assigned to section already in use: legacy-security-realm
asciidoctor: WARNING: _elytron/migrate/Database_Authentication_Migration.adoc: line 73: id assigned to section already in use: migrated
asciidoctor: WARNING: _elytron/migrate/Kerberos_Based_Authentication_Migration.adoc: line 31: id assigned to section already in use: http-authentication
asciidoctor: WARNING: _elytron/migrate/Kerberos_Based_Authentication_Migration.adoc: line 34: id assigned to section already in use: legacy-security-realm
asciidoctor: WARNING: _elytron/migrate/Application_Client_Migration.adoc: line 12: id assigned to section already in use: original-configuration
asciidoctor: WARNING: _elytron/migrate/Application_Client_Migration.adoc: line 32: id assigned to section already in use: migrated-configuration
asciidoctor: WARNING: _elytron/migrate/Application_Client_Migration.adoc: line 119: id assigned to section already in use: original-configuration-1
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:43.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11559,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i0071b:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inefficient read of the entire resource tree in messaging subsystem socket binding analysis,WFLY-10897,12766077,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,brian.stansberry,brian.stansberry,21/Aug/18 6:46 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,29/Aug/18 12:48 PM,,,,,,14.0.0.Final,,,JMS,,,,,,,,,,,0,,,,,"The isOutBoundSocketBinding utility method is performing a read of the entire model. Worse, it gets called inside a loop.

Just non-recursively read the s-b-g names, and then non-recursively read each s-b-g (in reality there will only be one) to find the children.

For bonus points, pass in the entire list of a names and return a LinkedHashMap<String, Boolean> and process everything with one pair of reads instead of repeating for each name.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-22 07:51:38.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11604,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|i0069z:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Aug/18 7:51 AM;ehugonnet;This work has been integrated into WFLY-10518_artemis-2.x branch so it should we closed with the RFE integration","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jastow to 2.0.5.Final,WFLY-10859,12765010,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,ivassile,ivassile,15/Aug/18 11:01 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,28/Aug/18 8:16 AM,,,,,,14.0.0.Final,,,Web (Undertow),,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-9865,,,,,,,,,,,,,,,,,,,,,UNDERTOW-1398,JBEAP-10134,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:43.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i0008f:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate Validator to 6.0.13.Final,WFLY-10908,12766275,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,guillaume.smet,guillaume.smet,guillaume.smet,22/Aug/18 6:30 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,23/Aug/18 4:59 AM,,,,,,14.0.0.Final,,,Bean Validation,,,,,,,,,,,0,,,,,"As discussed with Kabir, here is an update to HV fixing an encoding issue with the French translation and a few potential null pointer dereference bugs reported by Bharti.

Changelog is here: https://hibernate.atlassian.net/browse/HV-1650?jql=project%20%3D%2010060%20AND%20fixVersion%20%3D%2031703%20ORDER%20BY%20priority%20DESC%2C%20key%20ASC .

Commits:
 * https://github.com/hibernate/hibernate-validator/commit/d3858bc7c7c003d4b4f892f5831da40b5f20ccf3
 * https://github.com/hibernate/hibernate-validator/commit/53fd14f7aa075dc0675596671d5de8083ab0a9fb",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:41.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11562,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i007e7:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Duplicated httpcomponent jars in WF 14.0.0.Beta2,WFLY-10873,12765080,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,msvehla,msvehla,16/Aug/18 7:52 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,23/Aug/18 5:32 PM,14.0.0.Beta2,,,,,14.0.0.Final,,,Server,,,,,,,,,,,0,,,,,"In current Beta2 build, I see duplicated httpclient and httpcore jars. The new org.apache.httpcomponents.core module was added that introduced this duplication.

in 14.0.0.Beta2:
{code}
$ tree modules/system/layers/base/org/apache/httpcomponents/
modules/system/layers/base/org/apache/httpcomponents/
├── core
│   └── main
│       ├── httpclient-4.5.2.jar
│       ├── httpcore-4.4.4.jar
│       └── module.xml
└── main
    ├── httpasyncclient-4.1.3.jar
    ├── httpclient-4.5.2.jar
    ├── httpcore-4.4.4.jar
    ├── httpcore-nio-4.4.4.jar
    ├── httpmime-4.5.2.jar
    └── module.xml
{code}

In WF 13.0.0.Final
{code}
$ tree modules/system/layers/base/org/apache/httpcomponents/
modules/system/layers/base/org/apache/httpcomponents/
└── main
    ├── httpasyncclient-4.1.3.jar
    ├── httpclient-4.5.2.jar
    ├── httpcore-4.4.4.jar
    ├── httpcore-nio-4.4.4.jar
    ├── httpmime-4.5.2.jar
    └── module.xml
{code}",,,,,,,,,,,,,,,WFCORE-4057,,,,,,,,,WFLY-10878,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-17 08:58:54.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11549,,,,,,,,,,,,,,,,0.0,6.0,,,,,,,,,,"1|i000lj:",9223372036854775807,,0.0,,,,,,,,,,,,msvehla,,,,"17/Aug/18 8:58 AM;rsvoboda;https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/org/apache/httpcomponents/main/module.xml
https://github.com/wildfly/wildfly-core/blob/master/core-feature-pack/src/main/resources/modules/system/layers/base/org/apache/httpcomponents/core/main/module.xml","17/Aug/18 9:00 AM;rsvoboda;https://github.com/wildfly/wildfly-core/commits/master/core-feature-pack/src/main/resources/modules/system/layers/base/org/apache/httpcomponents/core/main/module.xml says it's [~ehugonnet] who introduced that to core","17/Aug/18 9:03 AM;msvehla;[~ehugonnet] I assigned this to you since Jason is busy and as mentioned it seems your commit introduced the duplication

[~kabirkhan], [~jamezp], [~jmesnil] FYI ^^","17/Aug/18 9:04 AM;ehugonnet;[~msvehla]no problem, I thought it was already affected to me ;)","21/Aug/18 7:52 AM;rsvoboda;[~ehugonnet] are you working on fix for this so it makes it to WF14 ?","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Avoid overriding galleon pack properties when feature pack licenses html files are created,WFLY-10938,12767021,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,28/Aug/18 3:43 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,28/Aug/18 7:21 AM,,,,,,14.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"Counterpart issue to do the same done in WFCORE-4066 but for wildfly full covering the full-feature-pack-licenses.html and servlet-feature-pack-licenses.html files.
",,,,,,,,,,,,,WFCORE-4066,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:40.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11600,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00bqf:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
VDX testsuite - JBossWS**TestCase fix checks on space characters,WFLY-10915,12766585,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rsvoboda,rsvoboda,rsvoboda,24/Aug/18 6:23 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 10:38 AM,,,,,,14.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"VDX testsuite - JBossWS**TestCase fix checks on space characters

Current checks are too strict, this was revealed on testing EAP builds",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:40.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11578,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00973:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate meaningless diffs between configs in galleon builds vs legacy,WFLY-10926,12766790,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,24/Aug/18 9:13 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,25/Aug/18 7:32 AM,,,,,,14.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,Clean up minor ordering diffs that have crept in during WF 14 work.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00afr:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Server stop blocked by DistributableSessionManager after invalidation during async request,WFLY-10923,12766780,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,aogburn,aogburn,24/Aug/18 4:12 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,27/Aug/18 6:27 PM,14.0.0.Beta2,,,,,14.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"After WFLY-10621, a DistributableSessionManager.stop hang can still occur in the following scenario.

1. async request a starts
2. sync request b invalidates session
3. async request a completes

Upon completion, the async request does not unlock and throws following exception:
{code}
16:04:58,260 ERROR [stderr] (default task-18) Exception in thread ""default task-18"" java.lang.RuntimeException: java.lang.IllegalStateException: WFLYCLWEBUT0001: Session 8adSKXK1li8Qo15QnaIGrd31DrB6B83jEL4blzq1 is invalid
16:04:58,260 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.ServletContextImpl.invokeRunnable(ServletContextImpl.java:944)
16:04:58,260 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl.onAsyncComplete(AsyncContextImpl.java:594)
16:04:58,260 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl.access$100(AsyncContextImpl.java:71)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl$3.run(AsyncContextImpl.java:315)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl$6.run(AsyncContextImpl.java:473)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl$TaskDispatchRunnable.run(AsyncContextImpl.java:584)
16:04:58,261 ERROR [stderr] (default task-18) 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
16:04:58,261 ERROR [stderr] (default task-18) 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
16:04:58,261 ERROR [stderr] (default task-18) 	at java.lang.Thread.run(Thread.java:748)
16:04:58,261 ERROR [stderr] (default task-18) Caused by: java.lang.IllegalStateException: WFLYCLWEBUT0001: Session 8adSKXK1li8Qo15QnaIGrd31DrB6B83jEL4blzq1 is invalid
16:04:58,261 ERROR [stderr] (default task-18) 	at org.wildfly.clustering.web.undertow.session.DistributableSession.validate(DistributableSession.java:57)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.wildfly.clustering.web.undertow.session.DistributableSession.getAttribute(DistributableSession.java:157)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.HttpSessionImpl.getAttribute(HttpSessionImpl.java:122)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.jboss.weld.context.http.HttpSessionContextImpl.checkBeanIdentifierIndexConsistency(HttpSessionContextImpl.java:98)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.jboss.weld.context.http.HttpSessionContextImpl.associate(HttpSessionContextImpl.java:47)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.jboss.weld.context.http.HttpSessionContextImpl.associate(HttpSessionContextImpl.java:23)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.jboss.weld.servlet.HttpContextLifecycle.requestInitialized(HttpContextLifecycle.java:237)
16:04:58,261 ERROR [stderr] (default task-18) 	at org.jboss.weld.servlet.WeldInitialListener.requestInitialized(WeldInitialListener.java:152)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.core.ApplicationListeners.requestInitialized(ApplicationListeners.java:246)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl.setupRequestContext(AsyncContextImpl.java:678)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl.access$700(AsyncContextImpl.java:71)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.AsyncContextImpl$7.run(AsyncContextImpl.java:599)
16:04:58,261 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.ServletContextImpl$2.call(ServletContextImpl.java:177)
16:04:58,262 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.ServletContextImpl$2.call(ServletContextImpl.java:174)
16:04:58,262 ERROR [stderr] (default task-18) 	at io.undertow.servlet.spec.ServletContextImpl.invokeRunnable(ServletContextImpl.java:942)
16:04:58,262 ERROR [stderr] (default task-18) 	... 8 more
{code}",,,,,,,,,UNDERTOW-1402,,,,,,,,,,,,,,,,,,,WFLY-10621,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Aug/18 4:15 PM;aogburn;servlet-async.war;https://issues.redhat.com/secure/attachment/12439759/servlet-async.war",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-27 08:51:37.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11595,,,,,,,,,,,,,,,,1.0,4.0,,,,,,,,,,"1|i00adj:",9223372036854775807,,0.0,,,,,"1. deploy servlet-async.war
2. request /servlet-async/hi.jsp to establish session
3. request /servlet-async/ to start repeated long async requests
4. In new tab, request /servlet-async/invalidate.jsp
5. Close out /servlet-async/ tab, attempt shutdown, and note hang",,,,,,,,,,,"24/Aug/18 5:57 PM;aogburn;Looks like this may just be undertow not catching that exception and missing the HttpServletResponseImpl.responseDone call that'd prompt the unlock as a result.  Will try to further confirm that further and adjust descriptions accordingly next week.","27/Aug/18 8:51 AM;pferraro;Even if that's the case, we can still add a workaround to the wildfly-clustering-web-undertow module by closing the session when detected to be invalid.","27/Aug/18 11:33 AM;aogburn;Good point; thanks for that fix, [~pferraro]!

Also confirmed the undertow exception handling concern; will track that separately with UNDERTOW-1402.","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
AbstractUndertowSubsystemTestCase should not use ServiceController.awaitValue with no timeout,WFLY-10889,12765613,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,20/Aug/18 5:35 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,21/Aug/18 9:47 AM,,,,,,14.0.0.Final,,,Test Suite,Web (Undertow),,,,,,,,,,0,,,,,"Avoid hangs like https://ci.wildfly.org/viewLog.html?buildId=118094&buildTypeId=WF_PullRequest_Windows with the important thread being:

{code}""main"" #1 prio=5 os_prio=0 tid=0x000000000127d800 nid=0x2fd4 in Object.wait() [0x000000000149d000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00000006c13073a8> (a org.jboss.msc.service.ServiceControllerImpl)
	at java.lang.Object.wait(Object.java:502)
	at org.jboss.msc.service.ServiceControllerImpl.awaitValue(ServiceControllerImpl.java:1130)
	- locked <0x00000006c13073a8> (a org.jboss.msc.service.ServiceControllerImpl)
	at org.wildfly.extension.undertow.AbstractUndertowSubsystemTestCase.testRuntime(AbstractUndertowSubsystemTestCase.java:122)
	at org.wildfly.extension.undertow.UndertowSubsystem12TestCase.testRuntime(UndertowSubsystem12TestCase.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junitcore.JUnitCore.run(JUnitCore.java:55)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:137)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:107)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:83)
	at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:75)
	at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:158)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
{code}

Put some kind of timeout in there so the job doesn't run for hours before timing out.

Same for clustering testsuite's ValueServiceServlet.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11546,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i003in:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update BouncyCastle Module,WFLY-10900,12766152,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,xtron,xtron,22/Aug/18 5:56 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,28/Aug/18 5:20 PM,14.0.0.Beta2,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,Please update BouncyCastle module to version 1.60,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-22 06:57:38.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|i006of:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Aug/18 10:52 AM;brian.stansberry;FWIW, other than deprecated federation subsystem, use all ties back to WS / JAXRS:

{code}
$ git grep bouncy | grep module.xml
feature-pack/src/main/resources/modules/system/layers/base/org/bouncycastle/main/module.xml:<module xmlns=""urn:jboss:module:1.8"" name=""org.bouncycastle"">
feature-pack/src/main/resources/modules/system/layers/base/org/bouncycastle/main/module.xml:        <artifact name=""${org.bouncycastle:bcprov-jdk15on}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/bouncycastle/main/module.xml:        <artifact name=""${org.bouncycastle:bcmail-jdk15on}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/bouncycastle/main/module.xml:        <artifact name=""${org.bouncycastle:bcpkix-jdk15on}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/bouncycastle/main/module.xml:            <with-class name=""org.bouncycastle.jce.provider.BouncyCastleProvider""/>
feature-pack/src/main/resources/modules/system/layers/base/org/bouncycastle/main/module.xml:            <with-class name=""org.bouncycastle.pqc.jcajce.provider.BouncyCastlePQCProvider""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/webservices/server/integration/main/module.xml:        <module name=""org.bouncycastle"" export=""true""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/resteasy/resteasy-crypto/main/module.xml:        <module name=""org.bouncycastle""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/ws/jaxws-client/main/module.xml:        <module name=""org.bouncycastle"" />
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:      <module name=""org.bouncycastle""/>
feature-pack/src/main/resources/modules/system/layers/base/org/picketlink/federation/main/module.xml:        <module name=""org.bouncycastle"" />
taozi:wildfly bstansberry$ git grep org.opensaml | grep module.xml
feature-pack/src/main/resources/modules/system/layers/base/org/apache/cxf/impl/main/module.xml:        <module name=""org.opensaml"" />
feature-pack/src/main/resources/modules/system/layers/base/org/apache/cxf/services-sts/main/module.xml:        <module name=""org.opensaml"" />
feature-pack/src/main/resources/modules/system/layers/base/org/apache/cxf/ws-security/main/module.xml:        <module name=""org.opensaml"" />
feature-pack/src/main/resources/modules/system/layers/base/org/apache/ws/security/main/module.xml:      <module name=""org.opensaml"" />
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:<module xmlns=""urn:jboss:module:1.5"" name=""org.opensaml"">
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-core}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-profile-api}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-saml-api}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-saml-impl}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-security-api}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-security-impl}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-soap-api}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-xacml-api}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-xacml-impl}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-xacml-saml-api}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-xacml-saml-impl}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-xmlsec-api}""/>
feature-pack/src/main/resources/modules/system/layers/base/org/opensaml/main/module.xml:        <artifact name=""${org.opensaml:opensaml-xmlsec-impl}""/>
{code}","27/Aug/18 4:45 PM;asoldano;[~brian.stansberry] [~dlofthouse] , I'm fine with the upgrade.","28/Aug/18 5:53 AM;kabirkhan;[~asoldano] [~dlofthouse] who will do the upgrade? The deadline is tomorrow","28/Aug/18 6:06 AM;dlofthouse;[~asoldano] Passing your way if you don't mind - as only WS / JAXRS make use of this jar I assume you will want to perform some additional testing,","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Opentracing extension does not follow xxx-smallrye pattern naming,WFLY-10898,12766108,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,22/Aug/18 3:57 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,23/Aug/18 5:30 PM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,"The Opentracing extension name is {{org.wildfly.extension.microprofile.opentracing}}, however the excluded-extensions section in host-excludes is configured with an incorrect name {{org.wildfly.extension.microprofile.opentracing-smallrye}}

Legacy domain.xml template is fine, the issue is only in domain-host-excludes feature group.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11554,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i006gf:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Server dependencies should not contain ironjacamar-spec-api,WFLY-10918,12766623,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,24/Aug/18 9:29 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 5:55 PM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,"We should exclude ironjacamar-spec-api artifact, It is not delivered in the server and it will help at productization level to build the server from the sources using only maven central and product repository.",,,,,,,,,,,,,,,,,,,,,,,,WFLY-10829,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-08-24 17:23:26.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|i009fb:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"24/Aug/18 5:23 PM;brian.stansberry;+1.  WF gets the classes in this artifact from org.jboss.spec.javax.resource:jbos-connector-api_1.7_spec","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Review documentation for outbound LDAP connections used by legacy security realms.,WFLY-10903,12766182,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,22/Aug/18 7:56 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,23/Aug/18 5:38 AM,,,,,,14.0.0.Final,,,Documentation,,,,,,,,,,,0,,,,,"WFCORE-2647 added a new option to always send the servers certificate on all connections.

Additionally reviewing the current documentation it does not appear to mention LDAPS at all and I dont' see a security-realm reference.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:28.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11558,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i006v3:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure the org.apache.geronimo.specs are explicitly excluded,WFLY-11014,12769620,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,13/Sep/18 1:49 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,14/Sep/18 5:28 AM,,,,,,14.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,Some dependencies are bringing in dependencies on {{org.apache.geronimo.specs:*}} specs. These should be excluded in favor of using the specs defined by WildFly.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:26.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11664,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y002g4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JSF based on Mojarra 2.3.5.SP2,WFLY-10896,12766062,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,21/Aug/18 1:37 PM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,23/Aug/18 5:31 PM,,,,,,14.0.0.Final,,,,,,,,,,,,,,0,,,,,Upgrade to Mojarra 2.3.5.SP2 to incorporate the fix for WFLY-10746.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10746,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:26.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11551,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i0066v:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TS - explicit dependency on org.apache.maven.surefire:surefire-junit47 disallows TestNG based tests ,WFLY-10891,12766013,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rsvoboda,rsvoboda,rsvoboda,21/Aug/18 9:36 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,22/Aug/18 3:16 AM,,,,,,14.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"TS - explicit dependency on org.apache.maven.surefire:surefire-junit47 disallows TestNG based tests 
https://github.com/wildfly/wildfly/blob/master/pom.xml#L6461

This was brought in 5 years ago, current version of Maven and surefire plugins should be able to deal with it without explicit help.

Removal of this part could allow adoption of TestNG based test coverage 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:23.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11548,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i005xj:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate Wildfly Galleon plugin unnecessary configuration from servlet distribution ,WFLY-10930,12766870,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,27/Aug/18 7:16 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,30/Aug/18 6:46 AM,,,,,,14.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"The Servlet Galleon Pack plugin configuration has meaningless configuration left over after migrating to galleon 2.0.0.Final. This configuration does not affect the server builds, however, should be removed.  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:22.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11593,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00avr:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sync version properties names on BOMs+Quickstarts with WildFly,WFLY-10881,12765295,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,17/Aug/18 11:09 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,17/Aug/18 12:38 PM,13.0.0.Final,,,,,14.0.0.Beta2,,,Quickstarts,,,,,,,,,,,0,,,,,"BOMs and Quickstarts projects should use the same WildFly properties names for defining dependency versions, allowing easier sync of values.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:22.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i001vr:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deactivate modular JVM properties we used in the past for workarounds,WFLY-10932,12766919,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,27/Aug/18 11:13 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,27/Aug/18 6:29 PM,,,,,,14.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11596,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00b47:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ldaps tests failing on IBM,WFLY-10914,12766541,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mchoma,mchoma,mchoma,24/Aug/18 2:26 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,25/Aug/18 4:28 AM,14.0.0.Beta2,,,,,14.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"* org.jboss.as.test.integration.security.loginmodules.LdapExtLikeAdvancedLdapLMTestCase.test3
* org.jboss.as.test.integration.security.loginmodules.LdapExtLikeAdvancedLdapLMTestCase.test4
* org.jboss.as.test.integration.security.loginmodules.LdapExtLoginModuleTestCase.test2
* org.jboss.as.test.integration.security.loginmodules.LdapExtLoginModuleTestCase.test3
* org.jboss.as.test.integration.security.loginmodules.LdapExtLoginModuleTestCase.test4
* org.jboss.as.test.integration.security.loginmodules.LdapExtLoginModuleTestCase.test2throw
* org.jboss.as.test.integration.security.loginmodules.LdapLoginModuleTestCase.testLdaps
* org.jboss.as.test.manualmode.security.OutboundLdapConnectionClientCertTestCase.test
* org.jboss.as.test.manualmode.security.OutboundLdapConnectionTestCase.test",,,,,,,,,,,,,,,,,,,,,,,,WFLY-10950,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:18.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11575,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|i008xz:",9223372036854775807,,0.0,,,,,"With latest ibm java run
{code}
cd wildfly/testsuite/integration/basic
mvn test
{code}",,,,,,,,,,,"24/Aug/18 2:46 AM;mchoma;There is SSLHandshake Exception during ldaps connection
{code}
test3
08:12:49,257 TRACE [org.jboss.security] (default task-1) PBOX00354: Setting security roles ThreadLocal: null
08:12:49,259 TRACE [org.jboss.security] (default task-1) PBOX00354: Setting security roles ThreadLocal: null
08:12:49,260 TRACE [org.jboss.security] (default task-1) PBOX00200: Begin isValid, principal: org.wildfly.extension.undertow.security.AccountImpl$AccountPrincipal@41a318e9, cache entry: null
08:12:49,261 TRACE [org.jboss.security] (default task-1) PBOX00209: defaultLogin, principal: org.wildfly.extension.undertow.security.AccountImpl$AccountPrincipal@41a318e9
08:12:49,261 TRACE [org.jboss.security] (default task-1) PBOX00221: Begin getAppConfigurationEntry(test-DEP3), size: 13
08:12:49,261 TRACE [org.jboss.security] (default task-1) PBOX00224: End getAppConfigurationEntry(test-DEP3), AuthInfo: AppConfigurationEntry[]:
[0]
LoginModule Class: org.jboss.security.negotiation.AdvancedLdapLoginModule
ControlFlag: LoginModuleControlFlag: required
Options:
name=java.naming.factory.initial, value=com.sun.jndi.ldap.LdapCtxFactory
name=java.naming.provider.url, value=ldaps://127.0.0.1:10636
name=referralUserAttributeIDToCheck, value=member
name=rolesCtxDN, value=ou=Roles,o=example3,dc=jboss,dc=org
name=roleFilter, value=(|(objectClass=referral)(member={1}))
name=roleAttributeID, value=cn
name=java.naming.security.authentication, value=simple
name=bindDN, value=uid=admin,ou=system
name=bindCredential, value=****
name=java.naming.referral, value=follow
name=baseCtxDN, value=ou=People,o=example3,dc=jboss,dc=org
name=throwValidateError, value=true
name=baseFilter, value=(|(objectClass=referral)(cn={0}))

08:12:49,261 TRACE [org.jboss.security] (default task-1) PBOX00236: Begin initialize method
08:12:49,261 WARN  [org.jboss.security] (default task-1) PBOX00234: Invalid or misspelled module option: throwValidateError
08:12:49,261 TRACE [org.jboss.security] (default task-1) PBOX00240: Begin login method
08:12:49,261 TRACE [org.jboss.security.auth.spi.AbstractServerLoginModule] (default task-1) Identity - Java Duke
08:12:49,261 TRACE [org.jboss.security.auth.spi.AbstractServerLoginModule] (default task-1) Logging into LDAP server, env={java.naming.factory.initial=com.sun.jndi.ldap.LdapCtxFactory, java.naming.referral=follow, java.naming.security.principal=uid=admin,ou=system, baseCtxDN=ou=People,o=example3,dc=jboss,dc=org, roleAttributeID=cn, roleFilter=(|(objectClass=referral)(member={1})), rolesCtxDN=ou=Roles,o=example3,dc=jboss,dc=org, referralUserAttributeIDToCheck=member, baseFilter=(|(objectClass=referral)(cn={0})), jboss.security.security_domain=test-DEP3, throwValidateError=true, java.naming.provider.url=ldaps://127.0.0.1:10636, bindDN=uid=admin,ou=system, java.naming.security.authentication=simple, bindCredential=***, java.naming.security.credentials=***}
08:12:49,425 DEBUG [org.jboss.security.auth.spi.AbstractServerLoginModule] (default task-1) Login failed: javax.security.auth.login.LoginException: Unable to create new InitialLdapContext
	at org.jboss.security.negotiation.AdvancedLdapLoginModule.constructLdapContext(AdvancedLdapLoginModule.java:499)
	at org.jboss.security.negotiation.AdvancedLdapLoginModule.innerLogin(AdvancedLdapLoginModule.java:386)
	at org.jboss.security.negotiation.AdvancedLdapLoginModule$AuthorizeAction.run(AdvancedLdapLoginModule.java:981)
	at org.jboss.security.negotiation.AdvancedLdapLoginModule.login(AdvancedLdapLoginModule.java:331)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:508)
	at javax.security.auth.login.LoginContext.invoke(LoginContext.java:788)
	at javax.security.auth.login.LoginContext.access$000(LoginContext.java:196)
	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:698)
	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:696)
	at java.security.AccessController.doPrivileged(AccessController.java:696)
	at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:696)
	at javax.security.auth.login.LoginContext.login(LoginContext.java:597)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.defaultLogin(JBossCachedAuthenticationManager.java:406)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.proceedWithJaasLogin(JBossCachedAuthenticationManager.java:345)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.authenticate(JBossCachedAuthenticationManager.java:323)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.isValid(JBossCachedAuthenticationManager.java:146)
	at org.wildfly.extension.undertow.security.JAASIdentityManagerImpl.verifyCredential(JAASIdentityManagerImpl.java:123)
	at org.wildfly.extension.undertow.security.JAASIdentityManagerImpl.verify(JAASIdentityManagerImpl.java:94)
	at io.undertow.security.impl.BasicAuthenticationMechanism.authenticate(BasicAuthenticationMechanism.java:167)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:245)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:268)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.access$100(SecurityContextImpl.java:231)
	at io.undertow.security.impl.SecurityContextImpl.attemptAuthentication(SecurityContextImpl.java:125)
	at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:99)
	at io.undertow.security.impl.SecurityContextImpl.authenticate(SecurityContextImpl.java:92)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:55)
	at io.undertow.server.handlers.DisableCacheHandler.handleRequest(DisableCacheHandler.java:33)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$733.00000000680A1620.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$734.00000000680A2680.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$734.00000000680A2680.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$734.00000000680A2680.call(Unknown Source)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$734.00000000680A2680.call(Unknown Source)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:811)
Caused by: javax.naming.CommunicationException: 127.0.0.1:10636 [Root exception is javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names present]
	at com.sun.jndi.ldap.Connection.<init>(Connection.java:250)
	at com.sun.jndi.ldap.LdapClient.<init>(LdapClient.java:149)
	at com.sun.jndi.ldap.LdapClient.getInstance(LdapClient.java:1627)
	at com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2761)
	at com.sun.jndi.ldap.LdapCtx.<init>(LdapCtx.java:331)
	at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:204)
	at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:222)
	at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:165)
	at com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:95)
	at org.jboss.as.naming.InitialContext.getDefaultInitCtx(InitialContext.java:116)
	at org.jboss.as.naming.InitialContext.init(InitialContext.java:101)
	at javax.naming.ldap.InitialLdapContext.<init>(InitialLdapContext.java:165)
	at org.jboss.as.naming.InitialContext.<init>(InitialContext.java:91)
	at org.jboss.as.naming.InitialContextFactory.getInitialContext(InitialContextFactory.java:43)
	at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:695)
	at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:324)
	at javax.naming.InitialContext.init(InitialContext.java:255)
	at javax.naming.ldap.InitialLdapContext.<init>(InitialLdapContext.java:165)
	at org.jboss.security.negotiation.AdvancedLdapLoginModule.constructLdapContext(AdvancedLdapLoginModule.java:495)
	... 69 more
Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names present
	at com.ibm.jsse2.k.a(k.java:15)
	at com.ibm.jsse2.av.a(av.java:531)
	at com.ibm.jsse2.D.a(D.java:68)
	at com.ibm.jsse2.D.a(D.java:628)
	at com.ibm.jsse2.E.a(E.java:803)
	at com.ibm.jsse2.E.a(E.java:447)
	at com.ibm.jsse2.D.r(D.java:139)
	at com.ibm.jsse2.D.a(D.java:485)
	at com.ibm.jsse2.av.a(av.java:717)
	at com.ibm.jsse2.av.i(av.java:869)
	at com.ibm.jsse2.av.a(av.java:19)
	at com.ibm.jsse2.av.startHandshake(av.java:672)
	at com.sun.jndi.ldap.Connection.createSocket(Connection.java:406)
	at com.sun.jndi.ldap.Connection.<init>(Connection.java:227)
	... 87 more
Caused by: java.security.cert.CertificateException: No subject alternative names present
	at com.ibm.jsse2.util.b.b(b.java:104)
	at com.ibm.jsse2.util.b.a(b.java:88)
	at com.ibm.jsse2.aD.a(aD.java:165)
	at com.ibm.jsse2.aD.a(aD.java:168)
	at com.ibm.jsse2.aD.a(aD.java:211)
	at com.ibm.jsse2.aD.checkServerTrusted(aD.java:162)
	at com.ibm.jsse2.E.a(E.java:831)
	... 96 more
{code}

which reminds me latest jdk ldaps change: https://www.oracle.com/technetwork/java/javase/8u181-relnotes-4479407.html#JDK-8200666

Setting -Dcom.sun.jndi.ldap.object.disableEndpointIdentification on server really helped. Strange is it does not occure on oracle jdk though.","02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failing OnOffOpenTracingTestCase when -Dnode0 is defined to non-localhost address,WFLY-10911,12766395,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jstourac,jstourac,jstourac,23/Aug/18 10:10 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 5:04 AM,14.0.0.Beta2,,,,,14.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"The OnOffOpenTracingTestCase fails when -Dnode0 is specified with non-localhost address. 

The reason for this is that test reads value of the HTTP response from server and searches for {{java.lang.NoClassDefFoundError: Lio/opentracing/Tracer}} value to check that OpenTracing is not available in this case. This works just fine when server is running with localhost address as stack-trace for servlet deployments is by default set to ""local-only"" value. Although, when server runs with non-localhost IP address, the stacktrace is not included in HTTP response anymore.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:17.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11567,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i0083b:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable checkstyle on modular JVM,WFLY-10933,12766920,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,27/Aug/18 11:23 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,27/Aug/18 6:29 PM,,,,,,14.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:14.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11596,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00b4f:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Run MP Health TCK as part of TS execution,WFLY-10899,12766116,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rsvoboda,rsvoboda,rsvoboda,22/Aug/18 4:31 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,23/Aug/18 9:22 AM,,,,,,14.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"Run MP Health TCK as part of main TS execution.

Introduce new module in {{testsuite/integration}}

TCK run including server boot and shutdown is ~14s",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10891,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11555,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i006hr:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JGroups subsystem parser not properly validating required attributes for protocol archetypes.,WFLY-10893,12766036,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,21/Aug/18 11:07 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,22/Aug/18 4:02 AM,14.0.0.Beta2,,,,,14.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11552,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i0061z:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Additional coverage for MP Metrics,WFLY-11402,12780619,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rsvoboda,rsvoboda,rsvoboda,22/Nov/18 7:57 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,27/Nov/18 6:41 PM,,,,,,15.0.0.Final,,,MP Metrics,Test Suite,,,,,,,,,,0,,,,,"Additional coverage for MP Metrics

Tests for (un)authenticated users.
Tests for metrics metadata
Tests for http request types",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11876,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01h4g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on org.jboss.metadata.ejb,WFLY-11367,12779724,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,16/Nov/18 6:33 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,20/Nov/18 6:28 AM,,,,,,15.0.0.Final,,,Server,,,,,,,,,,,0,,,,,"Validate the need of these module dependencies in org.jboss.metadata.ejb:

{code:xml}
<module name=""javax.transaction.api"" optional=""true""/>
<module name=""javax.xml.rpc.api"" optional=""true""/>
<module name=""javax.rmi.api"" optional=""true""/>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11855,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01bzk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change the scope of the wildfly-subsystem-test dependency in the MP OpenTracing extension,WFLY-10982,12768298,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,05/Sep/18 11:41 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,05/Sep/18 7:54 PM,,,,,,14.0.1.Final,15.0.0.Beta1,15.0.0.Final,MP OpenTracing,,,,,,,,,,,0,,,,,The MP OpenTracing Extension has a dependency on {{org.wildfly.core:wildfly-subsystem-test}} which is the default scope. This should be set to a test scope.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:30.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11641,https://github.com/wildfly/wildfly/pull/11645,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|w0017k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use synchronous command execution for local dispatcher,WFLY-11395,12780487,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,21/Nov/18 1:32 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,22/Nov/18 5:12 AM,15.0.0.Beta1,,,,,15.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"The asynchronous API of the CommandDispatcher is meant to facilitate remote command execution.  However, when a command is dispatched only to the local node, we can execute these commands synchronously.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:30.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11868,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01gbc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quickstarts: deprecated Hibernate annotations,WFLY-11216,12775326,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,18/Oct/18 8:52 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,18/Oct/18 8:54 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"While importing to Red Hat Developer Studio the following quickstarts:

* bean-validation
* contacts-jquerymobile
* hibernate
* kitchensink
* kitchensink-angularjs
* kitchensink-ear
* kitchensink-jsp
* kitchensink-ml
* spring-kitchensink-basic

have the following warnings:

{noformat}
The type Email is deprecated (org.hibernate.validator.constraints.Email)
The type NotEmpty is deprecated (org.hibernate.validator.constraints.NotEmpty)
{noformat}

Used software versions are in the issue environment section.  ",,,,,,,,,,,,,JBEAP-15613,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:30.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/305,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00ne0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Do not register jdbc-driver's datasource-class-info as metric,WFLY-11212,12775191,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,18/Oct/18 7:06 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,24/Oct/18 2:28 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"jdbc-driver resource registers 1 attribute as metric:

* datasource-class-info

{code}
/subsystem=datasources/jdbc-driver=h2:read-attribute(name=datasource-class-info)
{
    ""outcome"" => ""success"",
    ""result"" => [{""org.h2.jdbcx.JdbcDataSource"" => {
        ""URL"" => ""java.lang.String"",
        ""description"" => ""java.lang.String"",
        ""loginTimeout"" => ""int"",
        ""password"" => ""java.lang.String"",
        ""url"" => ""java.lang.String"",
        ""user"" => ""java.lang.String""
    }}]
}
{code}

This attribute is not an actual metric (that may change due to server activity).
It should be registered as runtime read-only attributes instead.

This change only impacts metadata and does not require resource transformation.

Additionally, I've checked with HAL team that this change has no impact on HAL UI (that does not distinguish between read-only runtime attribute and metric).

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:30.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00mmg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove link to a constant from java doc,WFLY-11207,12775118,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,18/Oct/18 3:42 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,19/Oct/18 1:58 PM,No Release,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,,,,,This task follows up  https://issues.jboss.org/browse/WFLY-11137 and fix the java doc where a link to a constant was added. We must use the string name instead.,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11137,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:30.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11763,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00m6o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Artemis client pulls netty dependencies,WFLY-11183,12774500,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,15/Oct/18 2:39 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,17/Oct/18 7:56 PM,15.0.0.Beta1,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:30.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00ink:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"16/Oct/18 3:57 AM;ehugonnet;[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.
[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.
[WARNING] netty-buffer-4.1.24.Final.jar, netty-all-4.1.25.Final.jar define 114 overlapping classes: 
[WARNING]   - io.netty.buffer.AdvancedLeakAwareCompositeByteBuf
[WARNING]   - io.netty.buffer.UnsafeByteBufUtil
[WARNING]   - io.netty.buffer.AbstractReferenceCountedByteBuf
[WARNING]   - io.netty.buffer.FixedCompositeByteBuf$Component
[WARNING]   - io.netty.buffer.ByteBufUtil$HexUtil
[WARNING]   - io.netty.buffer.PoolArenaMetric
[WARNING]   - io.netty.buffer.PoolThreadCache$SubPageMemoryRegionCache
[WARNING]   - io.netty.buffer.ByteBufUtil$ThreadLocalDirectByteBuf$1
[WARNING]   - io.netty.buffer.PoolChunkMetric
[WARNING]   - io.netty.buffer.UnpooledDuplicatedByteBuf
[WARNING]   - 104 more...
[WARNING] netty-transport-native-epoll-4.1.24.Final-linux-x86_64.jar, netty-all-4.1.25.Final.jar define 60 overlapping classes: 
[WARNING]   - io.netty.channel.epoll.AbstractEpollStreamChannel$2
[WARNING]   - io.netty.channel.epoll.AbstractEpollServerChannel$EpollServerSocketUnsafe
[WARNING]   - io.netty.channel.epoll.AbstractEpollStreamChannel$SpliceInChannelTask
[WARNING]   - io.netty.channel.epoll.NativeDatagramPacketArray
[WARNING]   - io.netty.channel.epoll.EpollSocketChannelConfig
[WARNING]   - io.netty.channel.epoll.EpollEventArray
[WARNING]   - io.netty.channel.epoll.AbstractEpollStreamChannel$6
[WARNING]   - io.netty.channel.epoll.EpollChannelConfig$1
[WARNING]   - io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe
[WARNING]   - io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe$3
[WARNING]   - 50 more...
[WARNING] netty-all-4.1.25.Final.jar, netty-common-4.1.24.Final.jar define 439 overlapping classes: 
[WARNING]   - io.netty.util.ResourceLeakException
[WARNING]   - io.netty.util.collection.CharObjectHashMap$KeySet
[WARNING]   - io.netty.util.Signal$SignalConstant
[WARNING]   - io.netty.util.concurrent.ImmediateExecutor
[WARNING]   - io.netty.util.AsciiString$CharEqualityComparator
[WARNING]   - io.netty.util.AsciiString$AsciiCaseInsensitiveCharEqualityComparator
[WARNING]   - io.netty.util.collection.LongObjectMap
[WARNING]   - io.netty.util.internal.shaded.org.jctools.queues.CircularArrayOffsetCalculator
[WARNING]   - io.netty.util.internal.logging.AbstractInternalLogger
[WARNING]   - io.netty.util.AsciiString$1
[WARNING]   - 429 more...
[WARNING] netty-handler-4.1.24.Final.jar, netty-all-4.1.25.Final.jar define 237 overlapping classes: 
[WARNING]   - io.netty.handler.ssl.ApplicationProtocolNegotiator
[WARNING]   - io.netty.handler.ssl.Java9SslUtils$6
[WARNING]   - io.netty.handler.ssl.JdkDefaultApplicationProtocolNegotiator
[WARNING]   - io.netty.handler.ssl.PemReader
[WARNING]   - io.netty.handler.timeout.IdleStateHandler
[WARNING]   - io.netty.handler.ipfilter.IpSubnetFilterRule
[WARNING]   - io.netty.handler.traffic.GlobalChannelTrafficShapingHandler$1
[WARNING]   - io.netty.handler.ssl.OpenSslCertificateException
[WARNING]   - io.netty.handler.ssl.SniHandler$Selection
[WARNING]   - io.netty.handler.ssl.PemEncoded
[WARNING]   - 227 more...
[WARNING] netty-transport-native-kqueue-4.1.24.Final-osx-x86_64.jar, netty-all-4.1.25.Final.jar define 47 overlapping classes: 
[WARNING]   - io.netty.channel.kqueue.Native
[WARNING]   - io.netty.channel.kqueue.KQueueDatagramChannelConfig
[WARNING]   - io.netty.channel.kqueue.KQueueChannelOption
[WARNING]   - io.netty.channel.kqueue.KQueueStaticallyReferencedJniMethods
[WARNING]   - io.netty.channel.kqueue.AbstractKQueueServerChannel$KQueueServerSocketUnsafe
[WARNING]   - io.netty.channel.kqueue.AbstractKQueueStreamChannel$4
[WARNING]   - io.netty.channel.kqueue.KQueueSocketChannelConfig
[WARNING]   - io.netty.channel.kqueue.AcceptFilter
[WARNING]   - io.netty.channel.kqueue.KQueueDatagramChannel$KQueueDatagramChannelUnsafe
[WARNING]   - io.netty.channel.kqueue.AbstractKQueueChannel$1
[WARNING]   - 37 more...
[WARNING] netty-all-4.1.25.Final.jar, netty-transport-4.1.24.Final.jar define 347 overlapping classes:
[WARNING]   - io.netty.channel.socket.nio.NioSocketChannel$3
[WARNING]   - io.netty.channel.AbstractCoalescingBufferQueue
[WARNING]   - io.netty.channel.AbstractChannel$AbstractUnsafe$8
[WARNING]   - io.netty.channel.DefaultChannelPipeline$2
[WARNING]   - io.netty.channel.oio.AbstractOioChannel
[WARNING]   - io.netty.bootstrap.Bootstrap$1
[WARNING]   - io.netty.channel.group.ChannelMatchers$ClassMatcher
[WARNING]   - io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe
[WARNING]   - io.netty.channel.EventLoopGroup
[WARNING]   - io.netty.channel.RecvByteBufAllocator$Handle
[WARNING]   - 337 more...
[WARNING] netty-all-4.1.25.Final.jar, netty-resolver-4.1.24.Final.jar define 26 overlapping classes:
[WARNING]   - io.netty.resolver.RoundRobinInetAddressResolver
[WARNING]   - io.netty.resolver.CompositeNameResolver$2
[WARNING]   - io.netty.resolver.DefaultHostsFileEntriesResolver
[WARNING]   - io.netty.resolver.HostsFileEntriesResolver
[WARNING]   - io.netty.resolver.InetSocketAddressResolver$1
[WARNING]   - io.netty.resolver.DefaultNameResolver
[WARNING]   - io.netty.resolver.AddressResolverGroup
[WARNING]   - io.netty.resolver.InetSocketAddressResolver
[WARNING]   - io.netty.resolver.NoopAddressResolver
[WARNING]   - io.netty.resolver.SimpleNameResolver
[WARNING]   - 16 more...
[WARNING] netty-transport-native-unix-common-4.1.24.Final.jar, netty-all-4.1.25.Final.jar define 21 overlapping classes:
[WARNING]   - io.netty.channel.unix.Errors$NativeConnectException
[WARNING]   - io.netty.channel.unix.ServerDomainSocketChannel
[WARNING]   - io.netty.channel.unix.DomainSocketAddress
[WARNING]   - io.netty.channel.unix.IovArray
[WARNING]   - io.netty.channel.unix.Socket
[WARNING]   - io.netty.channel.unix.NativeInetAddress
[WARNING]   - io.netty.channel.unix.DomainSocketChannelConfig
[WARNING]   - io.netty.channel.unix.LimitsStaticallyReferencedJniMethods
[WARNING]   - io.netty.channel.unix.UnixChannelUtil
[WARNING]   - io.netty.channel.unix.Errors$NativeIoException
[WARNING]   - 11 more...
[WARNING] netty-all-4.1.25.Final.jar, netty-codec-http-4.1.24.Final.jar define 338 overlapping classes:
[WARNING]   - io.netty.handler.codec.http.websocketx.ContinuationWebSocketFrame
[WARNING]   - io.netty.handler.codec.http.HttpObjectDecoder$State
[WARNING]   - io.netty.handler.codec.http.multipart.InterfaceHttpData$HttpDataType
[WARNING]   - io.netty.handler.codec.http.websocketx.extensions.WebSocketClientExtensionHandler
[WARNING]   - io.netty.handler.codec.http.HttpClientCodec$Decoder
[WARNING]   - io.netty.handler.codec.http.ClientCookieEncoder
[WARNING]   - io.netty.handler.codec.http.HttpObjectDecoder$1
[WARNING]   - io.netty.handler.codec.http.HttpHeaderDateFormat$1
[WARNING]   - io.netty.handler.codec.http.HttpHeaders
[WARNING]   - io.netty.handler.codec.http.multipart.HttpPostBodyUtil
[WARNING]   - 328 more...
[WARNING] netty-all-4.1.25.Final.jar, netty-codec-4.1.24.Final.jar define 197 overlapping classes:
[WARNING]   - io.netty.handler.codec.compression.ZlibUtil
[WARNING]   - io.netty.handler.codec.CharSequenceValueConverter
[WARNING]   - io.netty.handler.codec.compression.Bzip2Encoder$3
[WARNING]   - io.netty.handler.codec.DefaultHeaders$1
[WARNING]   - io.netty.handler.codec.compression.Bzip2BlockDecompressor
[WARNING]   - io.netty.handler.codec.compression.Lz4FrameDecoder$1
[WARNING]   - io.netty.handler.codec.compression.SnappyFrameDecoder
[WARNING]   - io.netty.handler.codec.compression.DecompressionException
[WARNING]   - io.netty.handler.codec.compression.Bzip2DivSufSort$TRBudget
[WARNING]   - io.netty.handler.codec.compression.Bzip2Decoder$State
[WARNING]   - 187 more...
[WARNING] maven-shade-plugin has detected that some class files are
[WARNING] present in two or more JARs. When this happens, only one
[WARNING] single version of the class is copied to the uber jar.
[WARNING] Usually this is not harmful and you can skip these warnings,
[WARNING] otherwise try to manually exclude artifacts based on
[WARNING] mvn dependency:tree -Ddetail=true and the above output.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bump Messaging schema version to 5.0,WFLY-11051,12770636,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,20/Sep/18 9:39 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Dec/18 1:00 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,Update schema version to enable changes for WildFly 15,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:29.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y008dg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ava.lang.NoClassDefFoundError: org/wildfly/transaction/client/ContextTransactionManager,WFLY-11220,12775543,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,pmm,pmm,20/Oct/18 11:54 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Dec/18 1:09 PM,14.0.1.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"When we try to access a datasource with a query timeout we get the following error
{code}
17:50:13,810 WARN  [org.jboss.jca.core.connectionmanager.listener.TxConnectionListener] (default task-1) IJ000305: Connection error occured: org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@29492673[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@8b00648 connection handles=1 lastReturned=1540050613786 lastValidated=1540050613786 lastCheckedOut=1540050613786 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@5d7715b7 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@38b9ad3[pool=ExampleDS] xaResource=LocalXAResourceImpl@296ef24e[connectionListener=29492673 connectionManager=49948084 warned=false currentXid=null productName=H2 productVersion=1.4.193 (2016-10-31) jndiName=java:jboss/datasources/ExampleDS] txSync=null]: javax.resource.spi.ResourceAdapterInternalException: Unexpected error
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.broadcastConnectionError(BaseWrapperManagedConnection.java:664)
	at org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.connectionError(BaseWrapperManagedConnection.java:630)
	at org.jboss.jca.adapters.jdbc.WrappedConnection.checkException(WrappedConnection.java:1969)
	at org.jboss.jca.adapters.jdbc.WrappedStatement.checkException(WrappedStatement.java:1436)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeQuery(WrappedPreparedStatement.java:509)
	at com.github.marschall.transactionquerytimeouttest.QueryTimeoutUtil.getQueryTimeout(QueryTimeoutUtil.java:23)
	at com.github.marschall.transactionquerytimeouttest.NoTransactionServlet.getQueryTimeout(NoTransactionServlet.java:28)
	at com.github.marschall.transactionquerytimeouttest.QueryTimeoutServlet.doGet(QueryTimeoutServlet.java:16)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NoClassDefFoundError: org/wildfly/transaction/client/ContextTransactionManager
	at org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl.getTimeLeftBeforeTransactionTimeout(TxConnectionManagerImpl.java:392)
	at org.jboss.jca.adapters.jdbc.WrapperDataSource.getTimeLeftBeforeTransactionTimeout(WrapperDataSource.java:201)
	at org.jboss.jca.adapters.jdbc.WrappedConnection.checkConfiguredQueryTimeout(WrappedConnection.java:2043)
	at org.jboss.jca.adapters.jdbc.WrappedStatement.checkConfiguredQueryTimeout(WrappedStatement.java:1456)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeQuery(WrappedPreparedStatement.java:498)
	... 51 more
Caused by: java.lang.ClassNotFoundException: org.wildfly.transaction.client.ContextTransactionManager from [Module ""org.jboss.ironjacamar.impl"" version 1.4.11.Final from local module loader @79698539 (finder: local module finder @73f792cf (roots: /Users/marschall/Hacking/JBoss/wildfly-14.0.1.Final/modules,/Users/marschall/Hacking/JBoss/wildfly-14.0.1.Final/modules/system/layers/base))]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	... 56 more
{code}

The issue is a missing dependency from the org.jboss.ironjacamar.impl module to the org.wildfly.transaction.client module.",,,,,,,,,,,,,,,,,,,,,,WFLY-10974,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:29.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00ojk:",9223372036854775807,,0.0,,,,,"# start with a plain WildFly 14.0.1
# add the following timeout configuration in the datasources subsystem {code}
<timeout>
  <set-tx-query-timeout>true</set-tx-query-timeout> 
  <query-timeout>300</query-timeout>
</timeout>
{code}
# add the following timeout configuration in the transactions subsystem {code}
<coordinator-environment default-timeout=""300""/>
{code}
# deploy the following app https://github.com/marschall/transaction-query-timeout-test",,,,,,,,,,,"21/Oct/18 7:46 AM;pmm;Duplicate of WFLY-10974","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Shutdown hangs if WAR is distributable and uses SSE,WFLY-11036,12770287,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,rcd,rcd,18/Sep/18 11:36 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,07/Nov/18 9:44 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,Web (Undertow),,,,,,,,,,0,,,,,"I have an application (WAR) that uses server-sent events (as standardized in JAX-RS 2.1). The application is also marked as <distributable/> in web.xml. If anything actually opens a SSE channel, WildFly hangs during shutdown.

The culprit appears to be DistributableSessionManager. See the below thread dump, taken during a hung shutdown. DSM is coded to wait up to getDefaultMaxInactiveInterval() seconds in its stop() method, and the default is 30 minutes unless configured otherwise. That's why shutdown hangs, although I don't know what it's waiting for.

If I remove <distributable/> from web.xml, shutdown happens normally.

{code}
""ServerService Thread Pool -- 45"" #154 prio=5 os_prio=0 tid=0x000000002bc1a800 nid=0x115e8 waiting on condition [0x0000000035c5e000]
   java.lang.Thread.State: TIMED_WAITING (parking)
        at sun.misc.Unsafe.park(Native Method)
        - parking to wait for  <0x00000000fb4bcc98> (a java.util.concurrent.locks.StampedLock)
        at java.util.concurrent.locks.StampedLock.acquireWrite(StampedLock.java:1119)
        at java.util.concurrent.locks.StampedLock.tryWriteLock(StampedLock.java:394)
        at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.stop(DistributableSessionManager.java:98)
        - locked <0x00000000fb446c70> (a org.wildfly.clustering.web.undertow.session.DistributableSessionManager)
        at io.undertow.servlet.core.DeploymentManagerImpl$3.call(DeploymentManagerImpl.java:617)
        at io.undertow.servlet.core.DeploymentManagerImpl$3.call(DeploymentManagerImpl.java:607)
        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$920/1245185678.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$920/1245185678.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$920/1245185678.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$920/1245185678.call(Unknown Source)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$920/1245185678.call(Unknown Source)
        at io.undertow.servlet.core.DeploymentManagerImpl.stop(DeploymentManagerImpl.java:621)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.stopContext(UndertowDeploymentService.java:135)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$2.run(UndertowDeploymentService.java:117)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
        at java.lang.Thread.run(Thread.java:748)
        at org.jboss.threads.JBossThread.run(JBossThread.java:485)

   Locked ownable synchronizers:
        - None
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/18 11:39 AM;rcd;wfly-11036-0.0.1-SNAPSHOT.war;https://issues.redhat.com/secure/attachment/12442505/wfly-11036-0.0.1-SNAPSHOT.war","29/Oct/18 12:06 PM;rcd;wfly-11036-src.zip;https://issues.redhat.com/secure/attachment/12442506/wfly-11036-src.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-22 12:32:08.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11813,,,,,,,,,,,,,,,,2.0,7.0,,,,,,,,,,"1|y006c4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Oct/18 12:32 PM;pferraro;[~rcd] Can you attach a reproducer?","22/Oct/18 6:14 PM;rcd;I'll see what I can do but you might be waiting a while. I have a lot of other tasks taking priority right now.","29/Oct/18 11:45 AM;rcd;Here's a reproducer. Grab [^wfly-11036-0.0.1-SNAPSHOT.war] and drop it into your deployments directory. Start WildFly using the standalone-ha configuration.
* If you do nothing and just stop the server, it will shut down fine.
* If you open http://localhost:8080/wfly-11036-0.0.1-SNAPSHOT/ in a browser and then attempt to shut down the server, shut down will hang.
* If you open that page and then refresh the page, the request will hang for 15 seconds and then spam the log with lock timeout exceptions.

I can provide the source code for the reproducer (Eclipse/Maven project) if you want it.","29/Oct/18 12:02 PM;pferraro;Thanks so much for the reproducer.  Can you also attach the source?","29/Oct/18 12:06 PM;rcd; [^wfly-11036-src.zip] There you go.","06/Nov/18 8:46 AM;pferraro;The fix for WFLY-7695 added a lifecycle lock to the distributed session manager that would block shutdown until all sessions are closed.  However, this has adverse effect on long running async contexts.
We should drop this overeager locking and defer to Infinispan's transaction table to perform the requisite graceful shutdown behavior.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add version 8 of the Undertow subsystem schema and model,WFLY-10966,12767728,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,01/Sep/18 9:41 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,24/Oct/18 11:16 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:28.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11631,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00fvj:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add resource address and attribute name to metric tags,WFLY-11351,12779382,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,14/Nov/18 9:54 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,14/Nov/18 8:26 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,"WildFly metrics are exposed as Microprofile Metrics with unique names composed of the resource address and the attribute name.

This can lead to very long unhelpful names. For example, the request-count metric on the /deployment=example.war/subsystem=undertow/servlet=org.example.MyServlet resource is named is registered as `deployment/example.war/subsystem/undertow/servlet/org.example.MyServlet/request-count`.

When the metric is exported to Prometheus format, it becomes `deployment_example_war_subsystem_undertow_servlet_org_example_my_servlet_request_count` which is a mouthful.

In order to simply query and aggregation of metrics, the resource address and the attribute name will be stored in the metric tags.
E.g. for the metric above, its tags will be:

* subsystem=""undertow""
* deployment=""example.war""
* servlet=""org.example.MyServlet""
* attribute=""request-count""

This makes it much simple for example to aggregate all metrics from a given deployment by looking at metrics with the tag deployment=""example.war"".

Note hower that the tags does not preserve the  order of the resource address' elements.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:28.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01a00:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JBossWS to 5.2.4.Final,WFLY-11152,12773604,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,09/Oct/18 5:35 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,15/Oct/18 10:13 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Web Services,,,,,,,,,,,0,,,,,"Upgrade JBossWS to 5.2.4.Final (including all sub-components), for better JDK11 compatibilty.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:28.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00dxc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make undertow extension module's dependency on org.jboss.as.security module optional,WFLY-11137,12773380,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,brian.stansberry,brian.stansberry,08/Oct/18 2:04 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,17/Oct/18 8:00 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Security,Web (Undertow),,,,,,,,,,0,,,,,"Don't require the legacy security subsystem module if it's not actually used.

Usage looks like this:

{code}
wildfly bstansberry$ cd undertow/
undertow bstansberry$ git grep org.jboss.as.security
src/main/java/org/wildfly/extension/undertow/deployment/UndertowDeploymentInfoService.java:import org.jboss.as.security.plugins.SecurityDomainContext;
src/main/java/org/wildfly/extension/undertow/deployment/UndertowDeploymentProcessor.java:import org.jboss.as.security.deployment.AbstractSecurityDeployer;
src/main/java/org/wildfly/extension/undertow/deployment/UndertowDeploymentProcessor.java:import org.jboss.as.security.deployment.SecurityAttachments;
src/main/java/org/wildfly/extension/undertow/deployment/UndertowDeploymentProcessor.java:import org.jboss.as.security.plugins.SecurityDomainContext;
src/main/java/org/wildfly/extension/undertow/deployment/UndertowDeploymentProcessor.java:import org.jboss.as.security.service.JaccService;
src/main/java/org/wildfly/extension/undertow/deployment/UndertowDeploymentProcessor.java:import org.jboss.as.security.service.SecurityDomainService;
src/main/java/org/wildfly/extension/undertow/security/DigestCredentialImpl.java:import org.jboss.as.security.DigestCredential;
src/main/java/org/wildfly/extension/undertow/security/JAASIdentityManagerImpl.java:import org.jboss.as.security.plugins.SecurityDomainContext;
src/main/java/org/wildfly/extension/undertow/security/SecurityContextThreadSetupAction.java:import org.jboss.as.security.plugins.SecurityDomainContext;
src/main/java/org/wildfly/extension/undertow/security/jacc/WarJACCDeployer.java:import org.jboss.as.security.deployment.AbstractSecurityDeployer;
src/main/java/org/wildfly/extension/undertow/security/jacc/WarJACCDeployer.java:import org.jboss.as.security.service.JaccService;
src/main/java/org/wildfly/extension/undertow/security/jacc/WarJACCService.java:import org.jboss.as.security.service.JaccService;
{code}

Dropping the use of SecurityAttachments from UndertowDeploymentProcessor and instead having it check for the presence of the org.wildfly.legacy-security capability will go a long way here.  After that, most if not all of the other uses only get called either as a result of that check being true, or some config attribute that directly or indirectly references a security domain. IOW the other uses are only needed if the security subsystem is known to be configured.

Per Intellij, DigestCredentialImpl is unused.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-12 04:44:38.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11757,,,,,,,,,,,,,,,,0.0,6.0,,,,,,,,,,"1|z00cmw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Oct/18 2:07 PM;brian.stansberry;Tangent: org.jboss.as.security.deployment.SecurityAttachments should be deprecated as it encourages using a technique that requires a classloading dependency in order to do what amounts to a capability check.","12/Oct/18 4:44 AM;jdenise;[~brian.stansberry], could direct deps from undertow to org.picketbox and org.jboss.security.negotiation be made optional too?","16/Oct/18 12:45 PM;yersan;org.jboss.as.security and org.picketbox are optional if we assume the legacy-security subsystem is disabled, the default security domain (other) is not mapped to an Elytron capability and the application we are deploying is not using a security domain or any authentication/authorization services.

Makes sense to me make both optional for such case, so I'm going to create a PR allowing both optional, [~brian.stansberry] let me know if you have a different opinion.

We could make org.jboss.security.negotiation optional if we were able to configure the SPNEGO authentication mechanism via servlet-container in undertow subsystem, but right now this mechanism is always added. I understand we will need a different issue to address it.

","17/Oct/18 2:48 PM;brian.stansberry;[~yersan] Does the SPNEGO mechanism undertow is setting up in ServletContainerAdd work if the legacy security subsystem is not present? (Darran would know if you haven't already discussed it with him.)","18/Oct/18 2:58 AM;yersan;[~brian.stansberry] Yes, the mechanism is always added independently wether the security subsystem is present, indeed the mechanism is added in the handler that adds all container configuration, it is executed always.

Initially I thought if we had those mechanisms configurable via the undertow servlet container, then we could have the negotation dependency optional, so if they are not configured, we would not need the negotiation dependency. However, does make sense add SPNEGO and DIGEST mechanisms in [ServletContainerAdd|https://github.com/yersan/wildfly/blob/master/undertow/src/main/java/org/wildfly/extension/undertow/ServletContainerAdd.java#L124] if we have the security subsystem disabled? Maybe [~dlofthouse] has an accurate information about that, I'm going to investigate it further.

If security subsystem is disabled and we are using Elytron for Authentication/Authorization I understand those mechanisms are added/managed by Elytron and then could not be necesary there","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
AJP can't redirect to management console because of unresolved address,WFLY-11100,12772324,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,aogburn,aogburn,01/Oct/18 5:18 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,02/Oct/18 11:23 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,"Over an AJP connection, the management console link's redirect from the EAP home page never works.  This is because AJP has an unresolved socket on the exchange so this causes comparisons in ConsoleRedirectService$ConsoleRedirectHandler.getRedirectHostname to always fail:
{code}
--------------------------->InetSocketAddress.createUnresolved localhost 80 localhost:80
java.net.InetSocketAddress.createUnresolved(InetSocketAddress.java:254)
io.undertow.server.protocol.ajp.AjpRequestParseState.createDestinationAddress(AjpRequestParseState.java:142)
io.undertow.server.protocol.ajp.AjpReadListener.handleEvent(AjpReadListener.java:222)

--------------------------->InetAddress.equals /127.0.0.1 null false
java.net.Inet4Address.equals(Inet4Address.java:357)
org.wildfly.extension.undertow.ConsoleRedirectService$ConsoleRedirectHandler.getRedirectHostname(ConsoleRedirectService.java:144)
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:27.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11707,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z006kw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ignore-dependency in jboss-web.xml does not work,WFLY-11282,12777567,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jondruse,jondruse,jondruse,05/Nov/18 4:40 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,13/Nov/18 3:27 PM,15.0.0.Beta1,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,deploy,deployment,resource-ref,,"1. Use of *ignore-dependency* in the *resource-ref* in *jboss-web.xml* doesn't work, the resource reference remains mandatory.
Have the following in *web.xml*
{code:xml}<resource-ref>
    <res-ref-name>wm/WM1</res-ref-name>
    <res-type>commonj.work.WorkManager</res-type>
    <res-auth>Container</res-auth>
    <res-sharing-scope>Shareable</res-sharing-scope>
</resource-ref>

<resource-ref>
    <res-ref-name>tm/TM1</res-ref-name>
    <res-type>commonj.timers.TimerManager</res-type>
    <res-auth>Container</res-auth>
    <res-sharing-scope>Unshareable</res-sharing-scope>
</resource-ref>{code}
In order to let the ear/war deploy at JBoss EAP (where the CommonJ API isn't available), add a *jboss-web.xml* setting these resource references to be ignored by adding *<ignore-dependency/>*
{code:xml}<?xml version=""1.0"" encoding=""UTF-8""?>
<jboss-web xmlns=""http://www.jboss.com/xml/ns/javaee""
           xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
           xsi:schemaLocation=""http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-web_7_2.xsd""
           version=""7.2"">

    <context-root>mod</context-root>

    <resource-ref>
        <res-ref-name>wm/WM1</res-ref-name>
        <jndi-name>DummyWorkManager</jndi-name>
        <ignore-dependency/>
    </resource-ref>

    <resource-ref>
        <res-ref-name>tm/TM1</res-ref-name>
        <jndi-name>DummyTimerManager</jndi-name>
        <ignore-dependency/>
    </resource-ref>

</jboss-web>{code}
However the deploy will fail (as if the jboss-web.xml wouldn't be there at all):
{noformat}ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.subunit.""APP.ear"".""mod.war"".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""APP.ear"".""mod.war"".POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of subdeployment ""mod.war"" of deployment ""APP.ear""
            at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:172)
            at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:2032)
            at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1955)
            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
            at java.lang.Thread.run(Thread.java:748)
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0027: Could not load commonj.work.WorkManager referenced in env-entry
            at org.jboss.as.ee.component.deployers.ResourceReferenceProcessor.getResourceRefEntries(ResourceReferenceProcessor.java:153)
            at org.jboss.as.ee.component.deployers.ResourceReferenceProcessor.processDescriptorEntries(ResourceReferenceProcessor.java:74)
            at org.jboss.as.ee.component.deployers.AbstractDeploymentDescriptorBindingsProcessor.deploy(AbstractDeploymentDescriptorBindingsProcessor.java:95)
            at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:165)
            ... 5 more
    Caused by: java.lang.ClassNotFoundException: commonj.work.WorkManager from [Module ""deployment.APP.ear.mod.war"" from Service Module Loader]
            at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)
            at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:412)
            at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:400)
            at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
            at org.jboss.as.ee.component.deployers.ResourceReferenceProcessor.getResourceRefEntries(ResourceReferenceProcessor.java:151)
            ... 8 more{noformat}
\\
2. Overriding *resource-ref* from *web.xml* in *jboss-web*.xml doesn't work properly.
I can partially work around the above ClassNotFoundException by adding a dummy res-type like
{code:xml}<res-type>javax.resource.Referenceable</res-type>{code}
to both resource references in jboss-web.xml, however this seems to override only the 1st entry as the ClassNotFoundException will change to
{noformat}java.lang.ClassNotFoundException: commonj.timers.TimerManager{noformat}
and I don't seem to be able to get rid of this one in any way, save for removing the 2nd resource reference (timer manager) from web.xml and jboss.xml completely.
Then the deploy will fail with
{noformat}ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([(""deployment"" => ""APP.ear"")]) - failure description: {
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.naming.context.java.module.app-name.mod-name.env.DummyWorkManager""],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.naming.context.java.module.app-name.mod-name.env.wm.WM1 is missing [jboss.naming.context.java.module.app-name.mod-name.env.DummyWorkManager]""]
}{noformat}
which only confirms that the ignore-dependency doesn't work.

Notes:
- The fact that the CommonJ API can't be used at JBoss EAP isn't a problem. The ear is built to be usable for multiple app servers. The CommonJ WorkManager and TimerManager resources are used only at those app servers where available. We just need the ear to successfully deploy at JBoss EAP. We can take care of the rest.
- It's likely that providing a modified web.xml via deployment overlay would make things work (not tested but I'm pretty confident about that), but we want to avoid that, we'd like to have the ear deploy straight away (and it should be possible with the use of ignore-dependency)
- ignore-dependency did work at JBoss AS 6.0, see https://developer.jboss.org/thread/160804
- Slightly more extensive description of both issues is available here: https://stackoverflow.com/questions/52967897/jboss-eap-7-1-how-to-ignore-irrelevant-resource-reference
- Since there are actually 2 issues being reported here (but they seem to be connected), this JIRA issue can be split into 2 if required",,,,,,,,,,,,,JBEAP-15758,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:27.0,,,,,,,,https://stackoverflow.com/questions/52967897/jboss-eap-7-1-how-to-ignore-irrelevant-resource-reference,https://developer.jboss.org/thread/160804,https://github.com/wildfly/wildfly/pull/11809,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00zpk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Optimize ServiceProviderRegistry cache operations,WFLY-11240,12776161,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,24/Oct/18 12:46 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,01/Nov/18 12:53 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"The ServiceProviderRegistry from the clustering API is implemented atop a Cache<ServiceName, Set<Address>>.  Currently, operations to add and remove members from the set of available provider are sub-optimal, as they replicate the entire Set<Address>.  As discussed at the last clustering F2F, we should optimize these operations such that only the address to be added/removed is sent to remote nodes.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:27.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11780,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00s6o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EE naming context not set when @Initialized(ApplicationScoped.class) event is fired in some cases,WFLY-11373,12779945,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,lthon,lthon,lthon,19/Nov/18 7:52 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,27/Nov/18 6:39 PM,14.0.1.Final,,,,,15.0.0.Final,,,CDI / Weld,,,,,,,,,,,0,,,,,"Since [this commit|https://github.com/wildfly/wildfly/commit/3659f4738aa3b08515b93ca3912e5027d40e30ae] (which fixed WFLY-9732), the EE naming context is not set up properly when {{WeldBootstrap.endInitialization()}} is called. This is because the naming context is set up by the {{SetupAction}} executed in {{WeldStartService}}. ({{WeldBootstrap.endInitialization()}} used to be invoked from {{WeldStartService}} as well, but the commit linked above moved the invocation to a separate {{WeldStartCompletionService}}.)

That is a problem because {{endInitialization()}} is where the {{@Initialized(ApplicationScoped.class)}} event is fired from (in some cases). If there's a bean that's being eagerly-initialized by listening for this event and the bean also requires the EE naming context (e.g. for injecting {{@Resource(lookup = ""java:comp/DefaultManagedThreadFactory"")}}), deployment now fails (because the resource injection fails).

I can see this problem in Thorntail, because the pattern described above is used in SmallRye Fault Tolerance (see [HystrixInitializer|https://github.com/smallrye/smallrye-fault-tolerance/blob/master/implementation/src/main/java/io/smallrye/faulttolerance/HystrixInitializer.java#L48] and [DefaultHystrixConcurrencyStrategy|https://github.com/smallrye/smallrye-fault-tolerance/blob/master/implementation/src/main/java/io/smallrye/faulttolerance/DefaultHystrixConcurrencyStrategy.java#L52]).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-19 10:11:04.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11860,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01d60:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Nov/18 8:19 AM;lthon;CC [~manovotn] [~mkouba]","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test MaximumTimeoutTestCase fails with security manager ,WFLY-11356,12779566,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,zhfeng,mchoma,mchoma,15/Nov/18 8:32 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,27/Nov/18 6:39 PM,15.0.0.Beta1,,,,,15.0.0.Final,,,Test Suite,Transactions,,,,,,,,,,0,security-manager,,,,"{noformat}
org.jboss.as.test.integration.transaction (3)
    MaximumTimeoutTestCase.testDefaultTimeout  	
    MaximumTimeoutTestCase.testLogFile  	
    MaximumTimeoutTestCase.testMaximumTimeout
{noformat}

{noformat}
java.lang.RuntimeException: java.io.IOException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.jboss.remoting3.security.RemotingPermission"" ""createEndpoint"")"" in code source ""(vfs:/content/becf34fa-0b6c-447e-b047-17d59027b753.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.becf34fa-0b6c-447e-b047-17d59027b753.jar"" from Service Module Loader"")
	at org.jboss.as.test.integration.transaction.MaximumTimeoutTestCase.executeForResult(MaximumTimeoutTestCase.java:124)
	at org.jboss.as.test.integration.transaction.MaximumTimeoutTestCase.setDefaultTimeout(MaximumTimeoutTestCase.java:107)
	at org.jboss.as.test.integration.transaction.MaximumTimeoutTestCase.testMaximumTimeout(MaximumTimeoutTestCase.java:137)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.IOException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.jboss.remoting3.security.RemotingPermission"" ""createEndpoint"")"" in code source ""(vfs:/content/becf34fa-0b6c-447e-b047-17d59027b753.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.becf34fa-0b6c-447e-b047-17d59027b753.jar"" from Service Module Loader"")
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:149)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:75)
	at org.jboss.as.test.integration.transaction.MaximumTimeoutTestCase.executeForResult(MaximumTimeoutTestCase.java:120)
	... 143 more
Caused by: org.jboss.arquillian.test.spi.ArquillianProxyException: java.security.AccessControlException : WFSM000001: Permission check failed (permission ""(""org.jboss.remoting3.security.RemotingPermission"" ""createEndpoint"")"" in code source ""(vfs:/content/becf34fa-0b6c-447e-b047-17d59027b753.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.becf34fa-0b6c-447e-b047-17d59027b753.jar"" from Service Module Loader"") [Proxied because : Original exception caused: class java.io.NotSerializableException: org.wildfly.security.util.StringEnumeration]
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at org.jboss.remoting3.EndpointBuilder.build(EndpointBuilder.java:125)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:128)
	at org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:60)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:135)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:110)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:263)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:168)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:147)
	... 145 more

{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",,,,,,,,,,,,,,,,,,,,,,,,JBEAP-971,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-15 08:40:53.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11854,,,,,,,,,,,,,,,,0.0,12.0,,,,,,,,,,"1|z01b4g:",9223372036854775807,,0.0,,,,,"{noformat}
cd wildfly/testsuite/integration/basic
mvn clean test -Dtest=MaximumTimeoutTestCase -Dsecurity.manager -DtestLogToFile=false
{noformat}
",,,,,,,,,,,"15/Nov/18 8:40 AM;tomjenkinson;[~mchoma] Do you need help from transactions team for this one - it's not an area I am familiar with but if there is something we can do to assist let me know","15/Nov/18 9:04 AM;mchoma;[~tomjenkinson], yes help will be appreciated. Basically issues like that could have two solutions:
* adding missing permission to deployment
* or there is missing doPriviledged() block somewhere in server code

Most difficult thing is to find out which case it is. So yes, someone with knowledge of tested use case could help to decide this. Given that this testcase is new, hopefully this is just matter of missing permission in deployment.

I am currently in mode just filling many of security manager issues in testsuite like this, so I do not have time to investigate specific issues.","15/Nov/18 9:58 AM;tomjenkinson;Do you have an example of where the test was at fault so we can have a guess what we are looking for?","15/Nov/18 10:15 AM;mchoma;For example WFLY-6189","15/Nov/18 11:47 AM;tomjenkinson;Thanks, Amos also spotted https://issues.jboss.org/browse/JBEAP-11994","16/Nov/18 8:06 AM;zhfeng;Thanks [~mchoma], I just add the permissions in the test case.","27/Jun/19 4:48 AM;kabirkhan;[~ochaloup] [~zhfeng] Bumping the priority to critical as it is now happening a lot on CI for loads of pull requests: https://ci.wildfly.org/project.html?projectId=WF_PullRequest&buildTypeId=&tab=testDetails&testNameId=-2411224099501756102&order=TEST_STATUS_DESC&branch_WF_PullRequest=__all_branches__&itemsCount=50

It also happens on master JDK 11 https://ci.wildfly.org/viewLog.html?buildId=156368&buildTypeId=WF_MasterWindowsJdk11","27/Jun/19 5:10 AM;tomjenkinson;[~kabirkhan] this issue looks to be resolved? So perhaps it is a different issue?","27/Jun/19 9:29 AM;kabirkhan;[~tomjenkinson] ok, I will open a new one - I didn't notice it was resolved

-> https://issues.jboss.org/browse/WFLY-12244","27/Jun/19 9:33 AM;tomjenkinson;Agreed - I have reverted the owner of this issue as I had not noticed it either. Looking at the stack traces it does seem different","27/Jun/19 10:04 AM;kabirkhan;Yeah, apart from the name it is unrelated :) This one is about security manager failures, the new issue is not-SM related","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 7.0.0.Alpha5,WFLY-11295,12778235,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,07/Nov/18 6:37 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,07/Nov/18 2:09 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:26.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z013fk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reports non_heap memory metrics,WFLY-11416,12777885,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,rsvoboda,rsvoboda,06/Nov/18 5:58 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,27/Nov/18 6:41 PM,,,,,,15.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,"Payara reports non_heap memory, WF doesn't

{code}
base:memory_committed_heap_bytes 5.0069504E8
base:memory_committed_non_heap_bytes 1.65412864E8
base:memory_max_heap_bytes 5.0069504E8
base:memory_max_non_heap_bytes -1.0
base:memory_used_heap_bytes 2.05958976E8
base:memory_used_non_heap_bytes 1.48845312E8
{code}

WF reports
{code}
base:memory_committed_heap_bytes 1.06954752E8
base:memory_max_heap_bytes 5.36870912E8
base:memory_used_heap_bytes 6.4805664E7
{code}

It's also true that Helidon and OpenLiberty do not report non-heap space.
Thorntail uses the same implementation as WF so it's irrelevant in this comparison.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:26.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z011hc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"29/Nov/18 8:05 AM;rsvoboda;Thanks for fixing, non heap memory is exposed now
{code}
base:memory_committed_heap_bytes 2.16530944E8
base:memory_committed_non_heap_bytes 8.912896E7
base:memory_max_heap_bytes 4.77626368E8
base:memory_max_non_heap_bytes 7.80140544E8
base:memory_used_heap_bytes 1.59900312E8
base:memory_used_non_heap_bytes 7.7691544E7
{code}","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Default ResourceBundle fails to load,WFLY-11202,12775068,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,gabboflabbo,gabboflabbo,17/Oct/18 11:44 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,19/Oct/18 1:58 PM,14.0.1.Final,,,,,15.0.0.Beta1,15.0.0.Final,,EE,,,,,,,,,,,0,,,,,"Wildfly 14 no longer loads the default message bundle when a locale is specified and the specific locale has no properties file.

For example, in the attached project,  I have a messages.properties file,   Wildfly 13 and previous releases would simply load the messages.properties  if there is no messages_en.properties.  But in wildfly 14 this is no longer the case (it appears it provides a different resourcebundle)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/18 11:43 AM;gabboflabbo;resourcebundle.zip;https://issues.redhat.com/secure/attachment/12441926/resourcebundle.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-17 21:33:09.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11761,,,,,,,,,,,,,,,,1.0,4.0,,,,,,,,,,"1|z00lvk:",9223372036854775807,,0.0,,,,,"See attached project.   Build the jar and depoy in wildfly.    <=13 deploys fine,  >=14 errors",,,,,,,,,,,"17/Oct/18 9:33 PM;brian.stansberry;Here's the failure details:

{code}
20:28:44,668 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 75) MSC000001: Failed to start service jboss.deployment.unit.""resourcebundle-0.0.1-SNAPSHOT.jar"".component.Test.START: org.jboss.msc.service.StartException in service jboss.deployment.unit.""resourcebundle-0.0.1-SNAPSHOT.jar"".component.Test.START: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
	at org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:57)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:163)
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:134)
	at org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:88)
	at org.jboss.as.ejb3.component.singleton.SingletonComponent.getComponentInstance(SingletonComponent.java:127)
	at org.jboss.as.ejb3.component.singleton.SingletonComponent.start(SingletonComponent.java:141)
	at org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:54)
	... 8 more
Caused by: javax.ejb.EJBException: java.util.MissingResourceException: Can't find resource for bundle java.util.PropertyResourceBundle, key Test
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:246)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.requiresNew(CMTTxInterceptor.java:388)
	at org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.processInvocation(LifecycleCMTTxInterceptor.java:68)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld.injection.WeldInjectionContextInterceptor.processInvocation(WeldInjectionContextInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.singleton.StartupCountDownInterceptor.processInvocation(StartupCountDownInterceptor.java:25)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:161)
	... 13 more
Caused by: java.util.MissingResourceException: Can't find resource for bundle java.util.PropertyResourceBundle, key Test
	at java.util.ResourceBundle.getObject(ResourceBundle.java:450)
	at java.util.ResourceBundle.getString(ResourceBundle.java:407)
	at resourcebundle.Test.testResource(Test.java:22)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ee.component.ManagedReferenceLifecycleMethodInterceptor.processInvocation(ManagedReferenceLifecycleMethodInterceptor.java:96)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doLifecycleInterception(Jsr299BindingsInterceptor.java:122)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:111)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld.injection.WeldInjectionInterceptor.processInvocation(WeldInjectionInterceptor.java:53)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:28)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld.injection.WeldInterceptorInjectionInterceptor.processInvocation(WeldInterceptorInjectionInterceptor.java:56)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld.interceptors.Jsr299BindingsCreateInterceptor.processInvocation(Jsr299BindingsCreateInterceptor.java:105)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:237)
	... 28 more
{code}","17/Oct/18 10:23 PM;brian.stansberry;This is https://github.com/eclipse-ee4j/yasson/issues/62. A bump from yasson 1.0.1 to 1.0.2 should fix it.","17/Oct/18 10:38 PM;brian.stansberry;Thanks for the report!  The component upgrade fixes it.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent Agroal warnings during startup,WFLY-11037,12770297,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,,rcd,rcd,18/Sep/18 12:19 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,23/Oct/18 10:18 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Agroal,,,,,,,,,,,0,,,,,"Sometimes during startup, Agroal spams the log with this:

{code}
2018-09-18 10:35:46,226 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state CHECKED_IN
2018-09-18 10:35:46,226 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,226 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,227 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,227 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,227 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,227 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,228 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,228 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,228 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,228 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,229 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,229 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,229 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,229 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,229 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,229 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,230 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,230 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,230 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,230 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,230 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,230 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,231 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,231 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,231 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,231 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,231 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,231 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,231 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,232 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,232 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,232 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,232 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,232 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,232 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,232 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,232 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
2018-09-18 10:35:46,233 WARN  [io.agroal.pool] (Agroal_6738675721) WFLYAG0601: SciQ_DS: Closing connection in incorrect state DESTROYED
{code}

I'm not sure why, and it doesn't always happen.

My pool configuration is:
{code}
<connection-pool max-size=""${database.maxPool:20}"" background-validation=""30000"" idle-removal=""30""/>
{code}

But this also occurs when background-validation and idle-removal are omitted.",,,,,,,,,AG-94,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-23 03:22:09.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|y006ec:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"23/Oct/18 3:22 AM;simkam;[~lbarreiro] [~kabirkhan] [~jamezp] I think this was fixed by WFLY-11203","23/Oct/18 10:18 AM;lbarreiro;[~simkam] yes, thanks for pointing that out!","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The io.jaegertracing.jaeger-thrift module should have a dependency on com.squareup.okhttp3,WFLY-10978,12768288,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,05/Sep/18 11:16 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,05/Sep/18 7:58 PM,,,,,,14.0.1.Final,15.0.0.Beta1,15.0.0.Final,MP OpenTracing,,,,,,,,,,,0,,,,,During a merge conflict the {{com.squareup.okhttp3}} was removed from the {{org.wildfly.microprofile.opentracing-smallrye}} module and was failed to be added to the {{io.jaegertracing.jaeger-thrift}} module. ,,,,,,,,,WFLY-10876,,,,,,,,,,,,,,,WFLY-10877,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11640,https://github.com/wildfly/wildfly/pull/11646,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|w0015k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JDK11  basic LdapLoginModuleTestCase: No subject alternative names present,WFLY-10950,12767419,12763928,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,honza889,honza889,honza889,30/Aug/18 6:35 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,20/Sep/18 10:19 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"{code}
cd testsuite/integration/basic
JAVA_HOME=/opt/jdk-11/ PATH=$JAVA_HOME/bin:$PATH mvn test -Dtest=LdapLoginModuleTestCase#testLdaps -Djavax.net.debug=all
{code}
{code}
javax.net.ssl|ERROR|1D|NioProcessor-5|2018-08-30 12:28:39.055 CEST|TransportContext.java:317|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (
""throwable"" : {
  javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
  	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:128)
  	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
  	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
  	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:270)
  	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:181)
  	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)
  	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:666)
  	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:621)
  	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:438)
  	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:417)
  	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:626)
  	at org.apache.mina.filter.ssl.SslHandler.unwrap(SslHandler.java:754)
{code}
Edit: the backing error is:
{code}
2018-08-31 15:23:47,788 ERROR [stderr] (default task-1) ""throwable"" : {
2018-08-31 15:23:47,788 ERROR [stderr] (default task-1)   java.security.cert.CertificateException: No subject alternative names present
2018-08-31 15:23:47,788 ERROR [stderr] (default task-1)   	at java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:137)
2018-08-31 15:23:47,788 ERROR [stderr] (default task-1)   	at java.base/sun.security.util.HostnameChecker.match(HostnameChecker.java:96)
2018-08-31 15:23:47,788 ERROR [stderr] (default task-1)   	at java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:463)
2018-08-31 15:23:47,788 ERROR [stderr] (default task-1)   	at java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:434)
2018-08-31 15:23:47,788 ERROR [stderr] (default task-1)   	at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:233)
2018-08-31 15:23:47,789 ERROR [stderr] (default task-1)   	at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)
2018-08-31 15:23:47,789 ERROR [stderr] (default task-1)   	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:626)
2018-08-31 15:23:47,789 ERROR [stderr] (default task-1)   	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:461)
2018-08-31 15:23:47,789 ERROR [stderr] (default task-1)   	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:361)
2018-08-31 15:23:47,789 ERROR [stderr] (default task-1)   	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11629,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|i00e1r:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"06/Sep/18 9:26 AM;honza889;Note: it looks this has alternative solution: setting com.sun.jndi.ldap.object.disableEndpointIdentification property - see WFLY-10914","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update the README template file to mention CD release instructions,WFLY-11312,12778548,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,sgilda,sgilda,sgilda,08/Nov/18 2:57 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,03/Dec/18 4:54 AM,14.0.0.Final,,,,,15.0.0.Final,,,Quickstarts,,,,,,,,,,,0,,,,,Add a note to README template file that it does not include CD / OpenShift instructions.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:25.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z015ds:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JDK11 - SSLException caused by SocketException: Broken pipe,WFLY-10951,12767434,12763928,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,honza889,honza889,honza889,30/Aug/18 7:37 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,20/Sep/18 10:21 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"Following exception occure instead of {{SSLHandshakeException | SocketException}}:
{code}
javax.net.ssl.SSLException: readHandshakeRecord
Caused by: java.net.SocketException: Broken pipe (Write failed)
{code}

To reproduce:
{code}
cd testsuite/integration/elytron
JAVA_HOME=/opt/jdk-11/ PATH=$JAVA_HOME/bin:$PATH mvn test -Dtest=UndertowTwoWaySslNeedClientAuthTestCase
{code}
{code}
cd testsuite/integration/manualmode
JAVA_HOME=/opt/jdk-11+28/ PATH=$JAVA_HOME/bin:$PATH mvn test -Dtest=HTTPSWebConnectorTestCase
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:24.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11620,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00e4v:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add documentation covering configuring SNI,WFLY-11003,12769075,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,10/Sep/18 1:24 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,30/Nov/18 4:58 PM,,,,,,15.0.0.Final,,,Documentation,Security,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:23.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11659,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|w0050g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update some quickstarts expected warnings in Readme,WFLY-11358,12779584,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,sgilda,szhantem,szhantem,15/Nov/18 8:58 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,15/Nov/18 9:18 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"For the following quickstarts:
{noformat}
spring-greeter, spring-kitchensink-basic, spring-kitchensink-springmvctest
{noformat}
I suggest adding/updating readme 'Server Log: Expected Warnings and Errors' section by adding the following warning

{noformat}
WARN  [org.jboss.as.ee] (MSC service thread 1-2) WFLYEE0007: Not installing optional component org.springframework.web.context.request.async.StandardServletAsyncWebRequest due to an exception (enable DEBUG log level to see the cause)
{noformat}

to have this warning described as expected to not confuse final users.

All information about mentioned warning can be found [here|https://issues.jboss.org/browse/JBEAP-15213?focusedCommentId=13618107&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13618107] and [here|https://issues.jboss.org/browse/WFLY-924?focusedCommentId=12785983&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12785983].",,,,,,,,,,,,,JBEAP-15237,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-15 09:18:01.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/291,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01b7c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"15/Nov/18 9:18 AM;sgilda;See https://issues.jboss.org/browse/JBEAP-15237","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-jaxrs-api_2.1_spec from 1.0.1.Final to 1.0.2.Final,WFLY-11025,12769998,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,17/Sep/18 4:47 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,19/Sep/18 6:26 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,REST,,,,,,,,,,,0,,,,,This brings a fix to the license file and JBEE-197 fix.,,,,,,,,,,,,,,,,,,,,,,,,RESTEASY-2021,,,,,,,,,,JBEE-197,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-18 01:23:51.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y004oc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Eliminate ServiceBuilder.addDependency(ServiceName,Injector) method usages",WFLY-11308,12778434,12776056,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,08/Nov/18 6:58 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,14/Nov/18 2:21 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:22.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11843,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z014pk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Messaging-activemq integration code alters the JMS client's enabled protocols via TransportConfiguration,WFLY-11200,12775006,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,pkremens,pkremens,17/Oct/18 7:37 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,19/Oct/18 2:02 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,Security,,,,,,,,,,0,,,,,"Integration code of messaging-activemq sets enabledProtocols=\[""TLSv1,TLSv1.1,TLSv1.2""\] property to NettyConnector lookedup by the client. This behaviour was introduced by WFLY-9096 (https://github.com/wildfly/wildfly/pull/11673/files).

https://github.com/wildfly/wildfly/pull/11673/files#diff-64b7f8a3e5eb2234f8bc8cbdebd01799R373
{code}
parameters.putIfAbsent(TransportConstants.ENABLED_PROTOCOLS_PROP_NAME, ""TLSv1,TLSv1.1,TLSv1.2"");
{code}
https://github.com/apache/activemq-artemis/blob/2.6.3/artemis-core-client/src/main/java/org/apache/activemq/artemis/core/remoting/impl/netty/NettyConnector.java#L355
{code}
enabledProtocols = ConfigurationHelper.getStringProperty(TransportConstants.ENABLED_PROTOCOLS_PROP_NAME, TransportConstants.DEFAULT_ENABLED_PROTOCOLS, configuration);
{code}

NettyConnector prefers the enabled protocols obtained from integration code to ones defined on client side - possibly forces client to use less secured protocol than client wants.
https://github.com/apache/activemq-artemis/blob/2.6.3/artemis-core-client/src/main/java/org/apache/activemq/artemis/core/remoting/impl/netty/NettyConnector.java#L550
{code}
...
String[] originalProtocols = engine.getEnabledProtocols();
...
if (enabledProtocols != null) { // true with WFLY-9096
   try {
      engine.setEnabledProtocols(SSLSupport.parseCommaSeparatedListIntoArray(enabledProtocols));
   } catch (IllegalArgumentException e) {
      ActiveMQClientLogger.LOGGER.invalidProtocol(SSLSupport.parseArrayIntoCommandSeparatedList(engine.getSupportedProtocols()));
      throw e;
   }
} else {
   engine.setEnabledProtocols(originalProtocols);
}
...
{code}

*Reproduce*
{code:bash}
WORKSPACE=`pwd`
WILDFLY=${WORKSPACE}/wildfly
TESTSUITE=${WORKSPACE}/eap-tests-hornetq
SERVERS=${WORKSPACE}/servers
export JBOSS_HOME_1=${SERVERS}/server1/jboss-eap
export JBOSS_HOME_2=${SERVERS}/server2/jboss-eap
export JBOSS_HOME_3=${SERVERS}/server3/jboss-eap
export JBOSS_HOME_4=${SERVERS}/server4/jboss-eap

# setup testing server
cd $WORKSPACE
git clone git@github.com:wildfly/wildfly.git
cd $WILDFLY
mvn clean install -DskipTests -pl dist -am
cd dist/target
zip -r /tmp/wildfly.zip wildfly-*-SNAPSHOT

# setup testsuite
cd $WORKSPACE
git clone git://git.app.eng.bos.redhat.com/jbossqe/eap-tests-hornetq.git 
mkdir $SERVERS
cd $SERVERS
groovy -DEAP_ZIP_URL=file:///tmp/wildfly.zip ${TESTSUITE}/scripts/PrepareServers7.groovy 

# run the reproducer
cd $TESTSUITE/jboss-hornetq-testsuite
mvn clean test -Dtest=ElytronSslAuthenticationTestCase#testOneWaySslOverSSLv3Jms -pl tests-eap7 -am
{code}

*Test details:*
*server* supports TLSv1.1
{code:xml}
<server-ssl-contexts>
    <server-ssl-context name=""server-ssl-context"" protocols=""TLSv1.1"" need-client-auth=""false"" key-manager=""key-manager-name_server-ssl-context""/>
</server-ssl-contexts>
{code}
*client* is forced (byteman rule) to use the SSLv3

*Actual:*
Connection is made.

*Expected:*
javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)
",,,,,,,,,WFLY-9096,,,,,,,,,,,,,,,,,,,,,,,,,JBEAP-11765,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:22.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00lio:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Oct/18 9:23 AM;pkremens;WFLY-9096 should be reverted as it forces client to use ""TLSv1,TLSv1.1,TLSv1.2"".
{noformat}
Oracle 1.8.0_181
engine.getEnabledProtocols()
result = {String[4]@5733} 
 0 = ""SSLv2Hello""
 1 = ""TLSv1""
 2 = ""TLSv1.1""
 3 = ""TLSv1.2""

IBM 1.8.0_181
engine.getEnabledProtocols()
result = {String[1]@2017} 
 0 = ""TLSv1""
{noformat}
client running on IBM has different set of protocols enabled. Test mentioned in WFLY-9096 should be fixed by either enabling TLSv1 on server, or adding -Dcom.ibm.jsse2.overrideDefaultTLS=true property to client (tested the other option now, and work as expected). This should be also documented.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update README.txt for WildFly 14,WFLY-11068,12771367,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,25/Sep/18 8:55 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,14/Nov/18 10:00 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Documentation,,,,,,,,,,,0,,,,,"Current README.txt hasn't been updated since the 10.0 release.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11687,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z000y8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.3.3.Final,WFLY-10956,12767517,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,30/Aug/18 3:13 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,10/Sep/18 12:46 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,Release notes: https://issues.jboss.org/projects/ISPN/versions/12339007,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ISPN-9465,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11655,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00emv:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 7.0.0.CR1,WFLY-11422,12781149,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,27/Nov/18 8:41 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,30/Nov/18 6:46 PM,,,,,,15.0.0.Final,,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:21.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01k9c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DependencyCollectingServiceBuilder must implement both requires() and addDependency() methods,WFLY-11291,12778198,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,ropalka,ropalka,07/Nov/18 4:30 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,07/Nov/18 9:44 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11816,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0137s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clean up the jacorb subsystem dependency tree,WFLY-11269,12777349,12774282,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,01/Nov/18 6:41 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,02/Nov/18 5:27 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,IIOP,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00yhs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EJB Timer is not properly set when the database is different than the defaults,WFLY-11248,12776351,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,filippe.spolti,filippe.spolti,filippe.spolti,25/Oct/18 12:09 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,08/Nov/18 7:51 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"When using EJB timers the tables will be created during startup based on the database type.
If we set the *database* different than the default names, i.e. mariadb, mysql, it will fail: 

timer-store example:

{code:xml}
            <timer-service thread-pool-name=""default"" default-data-store=""ejb_timer-EJB_TIMER_ds"">
		<data-stores>
		    <file-data-store name=""default-file-store"" path=""timer-service-data"" relative-to=""jboss.server.data.dir""/>
		    <database-data-store name=""ejb_timer-EJB_TIMER_ds"" datasource-jndi-name=""java:jboss/datasources/jbpmDS_EJBTimer"" database=""mysql57"" partition=""ejb_timer-EJB_TIMER_part"" refresh-interval=""30000""/>
		</data-stores>
	   </timer-service>
{code}


Issue:

{code:java}
2018-10-25 13:06:57,541 DEBUG [org.jboss.as.ejb3.timer] (MSC service thread 1-5) Database dialect 'mysql57' read from configuration
...

2018-10-25 13:06:58,056 INFO  [org.jboss.ws.common.management] (MSC service thread 1-4) JBWS022052: Starting JBossWS 5.2.3.Final (Apache CXF 3.2.5.jbossorg-1) 
2018-10-25 13:06:58,222 ERROR [org.jboss.as.ejb3.timer] (MSC service thread 1-5) WFLYEJB0163: Cannot create table for timer persistence: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'PRIMARY KEY NOT NULL, TIMED_OBJECT_ID VARCHAR NOT NULL, INITIAL_DATE TIMESTAMP, ' at line 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1354)
	at com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2127)
	at com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1264)
	at com.mysql.cj.jdbc.StatementWrapper.executeUpdate(StatementWrapper.java:628)
	at org.jboss.jca.adapters.jdbc.WrappedStatement.executeUpdate(WrappedStatement.java:430)
	at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.checkDatabase(DatabaseTimerPersistence.java:292)
	at org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.start(DatabaseTimerPersistence.java:166)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1736)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1698)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)

{code}


This issue was spotted on OpenShift environment, the behavior there is to use as the database type on the datastore the same value than the datasource driver name, in this specific case, we we're trying a custom mysql jdbc driver version and named it to mysql57.",,,,,,,,,,,,,,,,,,,,,,,,RHPAM-2002,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11782,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00ta0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove the javax.json modules which are included by WildFly Core,WFLY-11015,12769621,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,13/Sep/18 2:04 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,18/Sep/18 5:20 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,EE,,,,,,,,,,,0,,,,,WildFly Core includes the javax.json API and implementation modules. These were also included in WildFly as part of the Java EE 8 tech preview. Now that WildFly Core is using the Java EE 8 specification versions we can remove the modules from WildFly itself.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-17 11:12:36.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11666,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y002gc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Artemis warnings during startup,WFLY-10976,12768103,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,rcd,rcd,04/Sep/18 12:14 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,14/Sep/18 5:43 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"Artemis logs these warnings during startup when using the stock standalone-full.xml configuration:

{code}
12:11:31,997 WARN  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 62) AMQ222269: Please use a fixed value for ""journal-pool-files"". Default changed per https://issues.apache.org/jira/browse/ARTEMIS-1628
12:11:32,000 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 62) AMQ221075: Usage of wildcardRoutingEnabled configuration property is deprecated, please use wildCardConfiguration.enabled instead
{code}

It looks like there's a config option that could be used to silence the first one, but I have no idea what the second one is talking about.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-05 01:54:50.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11665,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|w0003k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Sep/18 1:54 AM;baranowb;Does not seem to be the case with latest master. Closing.","13/Sep/18 2:45 PM;brian.stansberry;Both standalone-full-ha.xml and standalone-full.xml on current master produce this in the server log:

{code}
13:43:15,457 WARN  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 62) AMQ222269: Please use a fixed value for ""journal-pool-files"". Default changed per https://issues.apache.org/jira/browse/ARTEMIS-1628
13:43:15,458 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 62) AMQ221075: Usage of wildcardRoutingEnabled configuration property is deprecated, please use wildCardConfiguration.enabled instead
{code}
","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jastow to 2.0.6.Final,WFLY-10970,12768011,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,iweiss,iweiss,04/Sep/18 8:22 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,04/Sep/18 4:02 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-10859,,,,,,,,,,,JBEAP-15251,,,,,,,,,,UNDERTOW-1319,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:20.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|u001eg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade RESTEasy to 3.6.2.Final,WFLY-11274,12777429,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,02/Nov/18 10:32 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,05/Nov/18 1:16 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,REST,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:20.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00yyg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create capability for XAResourceRecoveryRegistry,WFLY-11167,12774228,12722888,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,12/Oct/18 12:22 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,09/Nov/18 7:34 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Management,Transactions,,,,,,,,,,0,,,,,See https://issues.jboss.org/browse/WFLY-9587?focusedCommentId=13647549&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13647549 in the parent issue.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11745,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00h5c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JGroups to 4.0.15.Final,WFLY-11018,12769738,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,14/Sep/18 7:42 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,26/Sep/18 11:10 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,https://issues.jboss.org/projects/JGRP/versions/12339181,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JGRP-2294,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:19.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11694,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y00350:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update mixed domain tests to use EAP 7.2.0 once it is released,WFLY-10971,12768024,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,kabirkhan,kabirkhan,04/Sep/18 8:48 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,14/Nov/18 10:01 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-10902,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:19.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|u001gw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.2.Final,WFLY-11412,12780843,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,24/Nov/18 11:47 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,27/Nov/18 9:31 AM,15.0.0.Beta1,,,,,15.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,https://issues.jboss.org/projects/ISPN/versions/12339657,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-29 05:06:14.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01ig8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"29/Nov/18 5:06 AM;rhusar;Next, is: WFLY-11401.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Lock is not released when JTS is enabled and a timer is cancelled inside a transaction,WFLY-11343,12779306,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,ShaunA,ShaunA,14/Nov/18 5:37 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,23/Nov/18 3:54 AM,,,,,,15.0.0.Final,,,EJB,,,,,,,,,,,0,,,,,"Description of problem:

Lock is held by EJB timer (TimerServiceImpl)  and in case JTS transaction is cancelled the lock won't be released correctly . This code is the problem:
https://github.com/wildfly/wildfly/blob/78dee79dd0f49c6cbd2b8db5d8640980faa08892/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/TimerServiceImpl.java#L640

Basically it holds the timer lock until the transaction completes, and then attempts to release it in afterCompletion. The problem is that when JTS is enabled afterCompletion will be called by a seperate thread, which can't call unlock as it is not the owner.

A simple fix could be to just change the lock to a semaphore, so that the other thread can release it.




Version-Release number of selected component (if applicable):


How reproducible:
Always

Steps to Reproduce:
1. Start a JTA/JTS tx and call an EJB timer inside it
2. Make the transaction timeout
3. Capture a thread dump and see a thread like below  (0a0818b80 is locked object)
---------------------------------------------------------------------------------------------------------
""Incoming-2,RouterPoliciesClusterGroup,svc-3-comecimpolicy-59228 (, payload=52 bytes)"" #661 prio=5 os_prio=0 tid=0x00007f5214c2d000 nid=0x1e67 waiting on condition [0x00007f520ac97000]
   java.lang.Thread.State: WAITING (parking)
    at sun.misc.Unsafe.park(Native Method)
    - parking to wait for  <0x00000000a0818b80> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    at java.lang.Thread.run(Thread.java:748)

   Locked ownable synchronizers:
    - <0x00000000ea1f4c48> (a java.util.concurrent.locks.ReentrantLock$NonfairSync)
---------------------------------------------------------------------------------------------------------


Actual results:
Lock being held forever

Expected results:
Lock getting released",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://bugzilla.redhat.com/show_bug.cgi?id=1648762,Perform,,,,,,,,,2018-11-14 05:43:24.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|z019jk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Nov/18 5:43 AM;tomjenkinson;[~flavia.rainone] Is this one in your area (EJB timer?)","22/Nov/18 7:13 AM;kabirkhan;[~tomjenkinson] I am not familiar at all either. Would you be able to explain a bit why a semaphore would behave differently?","22/Nov/18 10:02 AM;tomjenkinson;[~kabirkhan] the reason it would be different would be because it would be a semphore and not a reentrant lock. As the comment suggests when either a reaper times out the transaction or the transaction is propagated over a transport medium that uses a thread pool then different threads can end up calling the cancel that don't own the lock.

I was just transferring the suggestion from Stuart, EJB timer code is not my specialism either.","10/Jan/19 10:29 AM;jira-bugzilla-migration;Radovan Netuka <rnetuka@redhat.com> changed the Status of [bug 1648762|https://bugzilla.redhat.com/show_bug.cgi?id=1648762] from ASSIGNED to POST","01/Apr/19 4:10 AM;jira-bugzilla-migration;Tomas Hofman <thofman@redhat.com> changed the Status of [bug 1648762|https://bugzilla.redhat.com/show_bug.cgi?id=1648762] from POST to MODIFIED","08/Apr/19 7:10 AM;jira-bugzilla-migration;Roberto Oliveira <rguimara@redhat.com> changed the Status of [bug 1648762|https://bugzilla.redhat.com/show_bug.cgi?id=1648762] from MODIFIED to ON_QA","08/May/19 4:27 PM;jira-bugzilla-migration;Peter Mackay <pmackay@redhat.com> changed the Status of [bug 1648762|https://bugzilla.redhat.com/show_bug.cgi?id=1648762] from ON_QA to VERIFIED","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add MP OpenTracing TCK testsuite directly into WildFly TS,WFLY-11247,12776316,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jstourac,jstourac,jstourac,25/Oct/18 9:58 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,29/Oct/18 12:26 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,MP OpenTracing,Test Suite,,,,,,,,,,0,,,,,"Bring [MicroProfile OpenTracing TCK testsuite|https://github.com/smallrye/smallrye-opentracing] directly into the WildFly testsuite.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:19.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11781,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00t34:",9223372036854775807,,0.0,,,,,,,,,,,,jstourac,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Infinispan IllegalStateException when session invalidated after redirect,WFLY-11008,12769451,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,jstourac,jstourac,12/Sep/18 12:01 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,10/Oct/18 4:49 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,Web (Undertow),,,,,,,,,,0,,,,,"When accessing jsp file which contains redirect followed by session invalidation:
{code}
<%
response.sendRedirect(""/foobar"");
request.getSession().invalidate();
%>
{code}
there is an IllegalStateException thrown in server.log:
{code}
17:59:19,878 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /undertow1374/index.jsp: java.lang.IllegalStateException: Transaction TransactionImpl{xid=Xid{formatId=1, globalTransactionId=ABAB36940C34C83ED47BB18DC57542C10000000000000006,branchQualifier=ABAB36940C34C83ED47BB18DC57542C10000000000000006}, status=COMMITTED} is not in a valid state to be invoking cache operations on.
	at org.infinispan.interceptors.impl.TxInterceptor.enlist(TxInterceptor.java:424)
	at org.infinispan.interceptors.impl.TxInterceptor.enlistIfNeeded(TxInterceptor.java:331)
	at org.infinispan.interceptors.impl.TxInterceptor.visitLockControlCommand(TxInterceptor.java:216)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248)
	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:1018)
	at org.infinispan.cache.impl.DecoratedCache.lock(DecoratedCache.java:188)
	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:285)
	at org.infinispan.cache.impl.EncoderCache.lock(EncoderCache.java:318)
	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:285)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:120)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:110)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.remove(InfinispanSessionFactory.java:87)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.remove(InfinispanSessionFactory.java:37)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSession.invalidate(InfinispanSession.java:61)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$SchedulableSession.invalidate(InfinispanSessionManager.java:388)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:208)
	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:198)
	at org.apache.jsp.index_jsp._jspService(index_jsp.java:120)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: org.infinispan.util.logging.TraceException
		at org.infinispan.interceptors.impl.SimpleAsyncInvocationStage.get(SimpleAsyncInvocationStage.java:41)
		at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:250)
		... 63 more
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10661,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/18 11:57 AM;jstourac;undertow1374.war;https://issues.redhat.com/secure/attachment/12440427/undertow1374.war",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-10 04:49:47.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,2.0,,,,,,,,,,"1|y001f0:",9223372036854775807,,0.0,,,,,"# start wildfly {{./bin/standalone.sh}}
# deploy attached [^undertow1374.war]
# {{curl http://localhost:8080/undertow1374}}
# see ISE in server.log",,,,,,,,,,,"10/Oct/18 4:49 AM;rhusar;PR has been merged -- resolving.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
taglib-location pointing to jar fails to deploy,WFLY-10939,12767030,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mstefank,mstefank,mstefank,28/Aug/18 4:38 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,18/Sep/18 5:30 AM,14.0.0.Beta2,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,"{code}
  <jsp-config>
    <taglib>
      <taglib-uri>http://examples/taglibs-1.0</taglib-uri>
      <taglib-location>/WEB-INF/lib/taglib-example.jar</taglib-location>
    </taglib>
  </jsp-config>
{code}

To reproduce, just deploy the war, expected that you can Deploy helloWorld.war and hit http://localhost:8080/helloWorld/ and see'Hello from HelloTag'

{code}
16:57:36,375 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.""helloWorld.war"".PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit.""helloWorld.war"".PARSE: WFLYSRV0153: Failed to process phase PARSE of deployment ""helloWorld.war""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:150)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1736)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1698)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1556)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYUT0027: Failed to parse XML descriptor ""/content/helloWorld.war/WEB-INF/lib/taglib-example.jar"" at [1,0]
	at org.wildfly.extension.undertow.deployment.TldParsingDeploymentProcessor.parseTLD(TldParsingDeploymentProcessor.java:229)
	at org.wildfly.extension.undertow.deployment.TldParsingDeploymentProcessor.deploy(TldParsingDeploymentProcessor.java:113)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:143)
	... 8 more
Caused by: com.ctc.wstx.exc.WstxEOFException: Unexpected EOF in prolog
 at [row,col {unknown-source}]: [1,0]
	at com.ctc.wstx.sr.StreamScanner.throwUnexpectedEOF(StreamScanner.java:688)
	at com.ctc.wstx.sr.BasicStreamReader.handleEOF(BasicStreamReader.java:2220)
	at com.ctc.wstx.sr.BasicStreamReader.nextFromProlog(BasicStreamReader.java:2126)
	at com.ctc.wstx.sr.BasicStreamReader.next(BasicStreamReader.java:1181)
	at org.jboss.metadata.parser.jsp.TldMetaDataParser.parse(TldMetaDataParser.java:52)
	at org.wildfly.extension.undertow.deployment.TldParsingDeploymentProcessor.parseTLD(TldParsingDeploymentProcessor.java:227)
	... 10 more
{code}

Workaround, just remove the taglib xml from the web.xml and it will be loaded as WEB-INF/lib jars will be scanned for META-INF/taglib.tld and automatically loaded.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Aug/18 4:38 AM;mstefank;helloWorld.war;https://issues.redhat.com/secure/attachment/12439808/helloWorld.war",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-13 07:55:41.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11601,,,,,,,,,,,,,,,,1.0,2.0,,,,,,,,,,"1|i00bsf:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Sep/18 7:55 AM;dcihak;Automated test added for upstream: https://github.com/wildfly/wildfly/pull/11663.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Metrics memory.committedHeap and memory.usedHeap do not have description,WFLY-11409,12780792,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,rsvoboda,rsvoboda,23/Nov/18 8:44 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,29/Nov/18 8:08 AM,,,,,,15.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,"Metrics memory.committedHeap and memory.usedHeap do not have description

{code}
curl -H ""Accept: application/json"" -X OPTIONS http://localhost:9990/metrics/base/memory.usedHeap

{
    ""memory.usedHeap"": {
        ""unit"": ""bytes"",
        ""type"": ""gauge"",
        ""displayName"": ""memory.usedHeap"",
        ""tags"": """"
    }
} 
{code}
{code}
curl -H ""Accept: application/json"" -X OPTIONS http://localhost:9990/metrics/base/memory.committedHeap

{
    ""memory.committedHeap"": {
        ""unit"": ""bytes"",
        ""type"": ""gauge"",
        ""displayName"": ""memory.committedHeap"",
        ""tags"": """"
    }
}
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:18.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01i5c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"29/Nov/18 8:08 AM;rsvoboda;PR was merged 2 days ago
{code}
$ curl -H ""Accept: application/json"" -X OPTIONS http://localhost:9990/metrics/base/memory.usedHeap
{
    ""memory.usedHeap"": {
        ""unit"": ""bytes"",
        ""type"": ""gauge"",
        ""description"": ""Displays the amount of used memory."",
        ""displayName"": ""Used Heap Memory"",
        ""tags"": """"
    }
} 

$ curl -H ""Accept: application/json"" -X OPTIONS http://localhost:9990/metrics/base/memory.comittedHeap
{
    ""memory.committedHeap"": {
        ""unit"": ""bytes"",
        ""type"": ""gauge"",
        ""description"": ""Displays the amount of memory that is committed for the Java virtual machine to use."",
        ""displayName"": ""Committed Heap Memory"",
        ""tags"": """"
    }
}
{code}","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Module dependency on org.jboss.as.xts from org.jboss.xts should be optional.,WFLY-11195,12774902,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,16/Oct/18 4:49 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,19/Oct/18 1:59 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,XTS,,,,,,,,,,,0,,,,,"The org.jboss.xts module depends on org.jboss.as.xts.  It does so to allow the WildflyTransactionClientTxBridgeIntegrationHandler class to be found after the XTS subsystem's XTSHandlerDeploymentProcessor wires its name into the deployment.

But if there is no xts subsystem, then there's no XTSHandlerDeploymentProcessor and thus there's no wiring of the class name nor any need to load the class.

So, this dependency is optional and should be marked as such.

The reason this is important is that we currently have this dependency chain:

org.jboss.as.transactions/org.jboss.narayana.compensations/org.jboss.xts/org.jboss.as.xts/org.jboss.as.webservices.server.integration 

And org.jboss.as.transactions is used from quite a lot of places. And that means this org.jboss.xts dependency brings the whole WS stack into a lot of places.  Making this link optional will allow Galleon to optimize that away.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11751,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00kxk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
short-running-threads requirement should be verified when distributed workmanager is required,WFLY-11108,12772766,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,claudio4j,claudio4j,03/Oct/18 12:13 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,17/Oct/18 8:10 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"A distributed-workmanager is allowed to remove its short-running-threads, but it is a required resource to a dwm and once the short-running-threads, Wildfly fails to start the dwm.

To add a distributed-workmanager:

{code}
batch
/subsystem=jca/distributed-workmanager=dwm1:add(name=dwm1)
/subsystem=jca/distributed-workmanager=dwm1/short-running-threads=dwm1:add(max-threads=11,queue-length=22)
run-batch
{code}

Remove the short-running-threads
{code}
 /subsystem=jca/distributed-workmanager=dwm1/short-running-threads=dwm1:remove()
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}
{code}

Then Wildfly fails to reload the dwm

{code}
12:31:34,497 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""jca""),
    (""distributed-workmanager"" => ""dwm1"")
]) - failure description: {
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.thread.executor.short-running-threads.dwm1""],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.connector.workmanager.dwm1 is missing [jboss.thread.executor.short-running-threads.dwm1]""]
}
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-04 05:11:57.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00900:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Oct/18 5:11 AM;maeste;I'm not enforcing the short running requirement, but just moving the requirement on dwm start moving dwm service to ON_DEMAND. This is how also (non distributed) wm works and I think it's better to don't change a behaviour we have since JBOss AS7 making also DWM workinng in the same way
","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on javax.management.j2ee.api,WFLY-11366,12779711,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,16/Nov/18 4:20 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,21/Nov/18 4:26 PM,,,,,,15.0.0.Final,,,Server,,,,,,,,,,,0,,,,,"Validate the need of these module dependencies in  javax.management.j2ee.api:

{code:xml}
 <module name=""javax.transaction.api""/>
 <module name=""javax.xml.rpc.api""/>
 <module name=""javax.rmi.api""/>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:17.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11853,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01bww:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quickstarts JBDS WSDLAnalyzer warning,WFLY-11229,12775885,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,sgilda,sgilda,23/Oct/18 8:58 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,23/Oct/18 4:22 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"The following quickstarts:

* jaxws-addressing
* jaxws-retail
* wsat-simple

have the following warning after an import to Red Hat Developer Studio:  

{noformat}

WS-I: A problem occured while running the WS-I WSDL conformance check: org.eclipse.wst.wsi.internal.analyzer.WSIAnalyzerException: The WS-I Test Assertion Document (TAD)document was either not found or could not be processed.The WSDLAnalyzer was unable to validate the given WSDL File.

AddressingService.wsdl        /jaxws-addressing-service/src/main/webapp/WEB-INF/wsdl        line 1        WSDL Problem

RestaurantServiceAT.wsdl    /wsat-simple/src/main/webapp/WEB-INF/classes/org/jboss/as/quickstarts/wsat/simple/jaxws    line 1    WSDL Problem

ProfileMgmtService.wsdl        /jaxws-retail-service/src/main/webapp/WEB-INF/wsdl        line 1        WSDL Problem
{noformat}


This warning is not at [Known Issues|https://github.com/jboss-developer/jboss-developer-shared-resources/blob/master/guides/USE_JBDS.adoc#use_red_hat_jboss_developer_studio_or_eclipse_to_run_the_quickstarts] section. 
",,,,,,,,,,,,,JBEAP-15192,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00qlk:",9223372036854775807,,0.0,,,,,See the first commentary. ,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Getting Unable to find unambiguous method when Calling an Enum function from JSF page,WFLY-11224,12775729,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,dcihak,dcihak,22/Oct/18 9:43 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,24/Oct/18 4:01 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,el,JSF,jsf22,,"On JBoss EAP 7.0.9, EAP 7.1.4 and EAP 7.2-beta the application is getting the error [i.] and the same code doesn't get the error running on JBoss EAP 6.4.21. In my research, I could identify that this error only happens on JBoss EAP 7.1.4 when:
The class called from the EL has a superclass;
The method called from the EL use an Enum as a parameter;

Note: If we remove the superclass or change the parameter to ""String"" for example, the error doesn't appear.

For more information see the JBEAP issue JBEAP-15571.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:17.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11769,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00pq8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quickstart batch-processing uses deprecated methods/types ,WFLY-11215,12775323,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,18/Oct/18 8:16 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,18/Oct/18 8:57 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"batch-processing quickstart Import results in following warnings: 
{noformat}
The method randomAlphabetic(int) from the type RandomStringUtils is deprecated	BatchController.java /batch-processing/src/main/java/org/jboss/as/quickstarts/batch/controller	line 73

The method randomNumeric(int) from the type RandomStringUtils is deprecated	BatchController.java	 /batch-processing/src/main/java/org/jboss/as/quickstarts/batch/controller  line 74

The type RandomStringUtils is deprecated	BatchController.java	 /batch-processing/src/main/java/org/jboss/as/quickstarts/batch/controller	line 44

The type RandomStringUtils is deprecated	BatchController.java	 /batch-processing/src/main/java/org/jboss/as/quickstarts/batch/controller	line 73

The type RandomStringUtils is deprecated	BatchController.java	 /batch-processing/src/main/java/org/jboss/as/quickstarts/batch/controller	line 74
{noformat}

",,,,,,,,,,,,,JBEAP-15197,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00ndc:",9223372036854775807,,0.0,,,,,See the first commentary.,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Galleon and WildFly Galleon Plugins 3.0.0.Final,WFLY-11396,12780501,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aloubyansky,aloubyansky,aloubyansky,21/Nov/18 5:33 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,22/Nov/18 6:52 AM,,,,,,15.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,Upgrade to the final releases of Galleon and WildFly Galleon plugins.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:16.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11871,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01geg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate unessential module dependencies on the org.jboss.as.transactions module,WFLY-11165,12774222,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,12/Oct/18 12:09 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,13/Nov/18 4:01 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Class Loading,Management,Transactions,,,,,,,,,0,,,,,"As part of our work on getting maximum benefit from Galleon, we want to eliminate unnecessary hard dependencies between Galleon packages, most of which are just provisioning wrappers around the FS content for our  JBoss Modules modules.  So that means cutting dependency links between modules.

The org.jboss.as.transactions module necessarily has a large dependency tree, so if other modules depend on it, they then also have a large dependency tree, perhaps much larger than whatever they really need.  So I want to eliminate such dependencies whereever possible.

There are quite a few modules that depend on org.jboss.as.transactions solely for ServiceName constants for services that provide value types not from org.jboss.as.transactions,  e.g. TransactionManager which is from the javax.transaction.api module. So the main (perhaps only) task here will be to eliminate those links.",,,,,,,,,,,,,,,WFLY-11167,WFLY-11166,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-15 03:29:15.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11745,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z00h48:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"15/Oct/18 3:29 AM;ochaloup;hi [~bstansberry], I currently investigate on splitting the transaction module dependencies. I was thinking to split the transaction dependency jar dependency (tracked at https://issues.jboss.org/browse/WFLY-9588). I just experiment with the approach and I haven't discussed it in the Narayana team yet. So maybe it will be a wrong way.
Anyway I can be of help with this issue in scope of the Galleon task (even I can assign this task to me). I have to admit I lack a bit the expertise in Galleon to cover the context so I would need some clues, possibly.","09/Nov/18 8:21 PM;brian.stansberry;Hi [~ochaloup] -- with the work on WFLY-11166 and WFLY-11167, plus just cleaning out some unneeded dependencies on org.jboss.as.transactions, the ""simple"" part of this is done. If you'd like I can resolve this and further work can be in other tasks or in WFLY-9588, or if you'd like to take this over I can assign to you.

Here's are the remaining cases where modules are depending on org.jboss.as.transactions:

{code}
$ git grep org.jboss.as.transactions | grep module.xml
feature-pack/src/main/resources/modules/system/layers/base/javax/orb/api/main/module.xml:        <module name=""org.jboss.as.transactions"" optional=""true""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/connector/main/module.xml:        <module name=""org.jboss.as.transactions""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/ejb3/main/module.xml:        <module name=""org.jboss.as.transactions""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/jpa/main/module.xml:        <module name=""org.jboss.as.transactions""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/transactions/main/module.xml:<module xmlns=""urn:jboss:module:1.5"" name=""org.jboss.as.transactions"">
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/xts/main/module.xml:        <module name=""org.jboss.as.transactions""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/jts/integration/main/module.xml:        <module name=""org.jboss.as.transactions"">
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/jts/main/module.xml:        <module name=""org.jboss.as.transactions"">
{code}

1) javax.orb.api is configured by the iiop subsystem to load classes from org.jboss.as.txn. Changing that would require refactoring the 'transactions' maven module to split those classes from the subsystem. Possible, if you think it's worth it; sounds like the kind of thing you are thinking about in WFLY-9588.

2) org.jboss.as.connector is importing a couple ServiceName constants; those should be capabilities a la WFLY-11167. There's also use of JBossContextXATerminator, but I suspect that could be converted to just JBossXATerminator.

3) org.jboss.as.ejb3 is using some service name constants that should be capabilities a la WFLY-11167, but it's also using UserTransactionAccessControlService and UserTransactionAccessControl.

4) org.jboss.as.jpa is using UserTransactionRegistryService.SERVICE_NAME. This should be a capability a la WFLY-11167.

5) org.jboss.as.xts uses org.jboss.as.txn.deployment.TransactionRollbackSetupAction

Of these, 2) and 4) sound like the kinds of things I talked about in the issue description. The others are cases where classes from the module really do need to be used, unless the module is refactored.","12/Nov/18 5:59 PM;ochaloup;Hi [~brian.stansberry],

great, thank you for the summary and the points that should be processed further. I think you can resolve this as the part you described is complete. I will track my further progress at WFLY-9588.
Even it's not mentioned here I think my next step should be the elaborating on the compensations module as we talked in the mailing thread. Then all the other points you mention here in the comment above.","13/Nov/18 4:01 PM;brian.stansberry;Sounds good [~ochaloup]. +1 re: compensations.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Create capabilities for TransactionManager, UserTransaction and TransactionSynchronizationRegistry",WFLY-11166,12774227,12722888,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,12/Oct/18 12:21 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,22/Nov/18 9:26 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Management,Transactions,,,,,,,,,,0,,,,,See https://issues.jboss.org/browse/WFLY-9587?focusedCommentId=13647549&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13647549 in the parent issue.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-12 14:02:16.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11745,,,,,,,,,,,,,,,,0.0,9.0,,,,,,,,,,"1|z00h54:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Oct/18 2:02 PM;dmlloyd;Even this one subtask might be a bit more complex than it appears.  The three types mentioned in the summary are _always_ available, thanks to the transaction client library.  The real capability from the perspective of the usage of these three types is the local transaction provider, which would normally come from the org.jboss.as.transaction extension.

And yet, if no subsystem provides the capability, the system may still be usable.  The transaction client library will still function, though certain transaction-related operations will obviously be disallowed.  Additionally, it's not impossible that at some point in the future we may support more than one local transaction provider at once, with an application- or component-specific manner of selecting the provider to use.","17/Oct/18 12:14 PM;brian.stansberry;[~dmlloyd] Is this more of a capability naming issue then? For example, not static capability ""org.wildfly.transactions.transaction-manager"" but rather a dynamic one  ""org.wildfly.transactions.local-provider.transaction-manager"" and then the dynamic part for now is always ""narayana""?

That's a mouthful of a capability name, but oh well. :)

Re: ""if no subsystem provides the capability, the system may still be usable"", that's an issue for the consumer of the capability. If it's not required they can check for the capability presence and proceed without.","17/Oct/18 12:18 PM;dmlloyd;I'd say just ""org.wildfly.transactions.local-provider"".  We don't need capabilities for the individual APIs at all; you can get the TM just by calling {{ContextTransactionManager.getInstance()}}, and likewise for the UT & TSR.","17/Oct/18 1:00 PM;brian.stansberry;[~dmlloyd] So all the existing Service injection should be ripped out?

That's getting to be a bit beyond what I'm up for doing.  But OTOH perhaps I should just ""Won't Fix"" this and instead add capability requirements for the existing org.wildfly.transactions.  There were really two things that sparked my interest in this:

1) Subsystems depending on having a local provider but the management model (and hence galleon too) not having a clue. So you could remove the tx subsystem in admin-only mode and it would be accepted, but then you start in normal mode and boom.  So just requiring org.wildfly.transactions or perhaps a more precisely named org.wildfly.transactions.local-provider fixes that.

2) Avoiding classloading dependencies on org.jboss.as.transactions, which itself has a lot transitive dependencies, so possible source of big ball of mud.  But investigation since then shows there's very little benefit from not depending on org.jboss.as.transactions (at least not if your feature really requires a local provider). The key thing is to avoid unnecessary hard dependency chains that propagate out from org.jboss.as.transactions, e.g. WFLY-11195.","17/Oct/18 1:17 PM;dmlloyd;bq. David Lloyd So all the existing Service injection should be ripped out?

Yes.  I didn't rip it all out initially because in addition to the (useless) injection of the relevant values, the service dependencies add an ordering facet which would entail a separate stage of testing.  That, combined with my unwillingness to move it all to cap/req in one giant refactor (and uncertainty as to how to handle having a global default with the option of a local override), led me to do a minimal refactor which included leaving the compatibility-only services intact and, in some cases, still in use.

+1 to your points though.","22/Oct/18 11:16 AM;brian.stansberry;[~dmlloyd] I think simply making providing a Service<Void> part of the capability contract of 'org.wildfly.transactions.local-provider' should suffice for ordering issues.  Any consumers of the capability that care about ordering can depend on that, but the API for accessing TM etc is the transaction-client API.

OT: I think some of the dependencies of the org.wildfly.transaction.client module should be made optional, as they exist to allow outside callers of JBossLocalTransactionProvider.builder() -- i.e. the transactions subsystem -- to do their thing. If there are no such allers, the dependencies are not needed. Those outsider callers can be responsible for ensuring the modules are present. I'll file a JIRA for that unless you disagree.  Dunno if that will have any practical benefit, but in theory its nice if the classloading requirement for the API is decoupled from a requirement for the local-provider capability.","22/Oct/18 11:39 AM;dmlloyd;I agree 100%, thanks Brian.","15/Nov/18 9:29 PM;brian.stansberry;Reopening as WFLY-11360 mean the org.wildfly.transactions.global-default-local-provider capability is insufficient for TransactionSynchronizationRegistry.  The TSR available via ContextTransactionSynchronizationRegistry does not support the custom Synchronization ordering used by WildFly.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-el-api_spec from 1.0.12.Final to 1.0.13.Final,WFLY-11160,12774052,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,soul2zimate,soul2zimate,soul2zimate,11/Oct/18 10:45 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,17/Oct/18 7:54 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:16.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11737,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00ggw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Temporary files not cleaned up after build,WFLY-11129,12773214,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,lafr,lafr,06/Oct/18 1:37 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,08/Oct/18 1:23 PM,14.0.1.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Build System,,,,,,,,,,,0,maven,,,,"After building WildFly 14 from sources I have a lot of files in /var/tmp folder under a unique folder.
{{sb2000.[neu2l]/mbi/mbi2e_all. ls -l /var/tmp
total 5356
drwxr-xr-x   3 jboss    informix     512 Oct  6 14:47 1397ea75-a91c-490a-9860-0041c101ef3a
drwxr-xr-x   3 jboss    informix     512 Oct  6 13:47 23d28bb9-0bdd-4991-aa9b-8805d613e720
drwxr-xr-x   3 jboss    informix     512 Oct  5 23:34 2c3bd18e-8b83-46d3-b06f-18378e1cb12d
drwxr-xr-x   3 jboss    informix     512 Oct  6 14:56 396f75f7-45b0-4b50-9607-9060cabf018b
drwxr-xr-x   3 jboss    informix     512 Oct  6 13:48 521e2a76-764c-4f5a-8a6e-282dd5978991
drwxr-xr-x   3 jboss    informix     512 Oct  5 23:35 5430e295-1afa-4257-a2e0-e08b980b7e35
drwxr-xr-x   3 jboss    informix     512 Oct  6 14:53 5a265551-8f04-48c9-8945-abf830e54852
drwxr-xr-x   3 jboss    informix     512 Oct  6 13:46 70a1f863-7e84-40df-9206-23690bcf3ef6
drwxr-xr-x   3 jboss    informix     512 Oct  5 22:02 7186627a-5a89-4334-bdc2-8bfb944e3841
drwxr-xr-x   3 jboss    informix     512 Oct  6 14:52 85663b19-7e4e-48e9-8988-bd24c11fe4d4
drwxr-xr-x   3 jboss    informix     512 Oct  5 23:39 8842f374-85b7-4018-a1fc-6274cb704785
drwxr-xr-x   3 jboss    informix     512 Oct  5 22:05 973d7e32-efe5-4ffa-8f02-079cb7f29e71
drwxr-x---   3 oracle   dba         2560 Aug 30 00:00 CVU_18.0.0.0.0_oracle
drwxr-xr-x   3 jboss    informix     512 Oct  5 22:06 b8975817-9381-41a3-a512-e8fc6596fa7a
drwxr-xr-x   3 jboss    informix     512 Oct  6 13:40 bd0c1dd7-e8c6-413d-b658-f3c5236bba34
drwxr-xr-x   3 jboss    informix     512 Oct  6 14:54 c3aa3f01-66df-4066-bb35-fed4bd0ad559
drwxr-xr-x   3 jboss    informix     512 Oct  5 23:32 c66c2972-ad28-49e9-a7ff-a7ceed5b7ea3
drwxr-xr-x   3 jboss    informix     512 Oct  5 23:24 ca8816d8-ad10-4860-a18b-0c09b37ed88b
drwxr-xr-x   3 jboss    informix     512 Oct  6 13:50 cc799f82-ed02-4dc4-b56e-ffe0d8eeab75
drwx------   2 langfr   staff        512 Nov 15  2006 orbit-lafr
-rw-rw-rw-   1 langfr   staff    2383862 Oct  5 03:17 patchdiag.xref
-rw-------   1 root     root      314461 Oct  6 15:32 wscon-:0-5saqic}}

{{sb2000.[neu2l]/var/tmp. ls -l 396f75f7-45b0-4b50-9607-9060cabf018b/maven/org.jboss.universe_community-universe/*/current
396f75f7-45b0-4b50-9607-9060cabf018b/maven/org.jboss.universe_community-universe/wildfly-core/current:
total 2
drwxr-xr-x   7 jboss    informix     512 Oct  6 14:55 6.0.2.Final

396f75f7-45b0-4b50-9607-9060cabf018b/maven/org.jboss.universe_community-universe/wildfly-servlet/current:
total 2
drwxr-xr-x   6 jboss    informix     512 Oct  6 14:55 14.0.1.Final

396f75f7-45b0-4b50-9607-9060cabf018b/maven/org.jboss.universe_community-universe/wildfly/current:
total 2
drwxr-xr-x   6 jboss    informix     512 Oct  6 14:55 14.0.1.Final}}

Created by galleon feature pack build (galleon-pack/wildfly-feature-pack-build.xml).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-08 11:51:59.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,7.0,,,,,,,,,,"1|z00bo0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Oct/18 11:51 AM;aloubyansky;Please check the version of galleon-plugins in pom.xml. If it's 2.0.0.Final it might already be fixed. The build has upgraded to 2.0.1.Final today.","08/Oct/18 11:55 AM;brian.stansberry;[~yersan] Could you handle this one? It may already be fixed in which case it's just a matter resolving it, otherwise please look into it.","08/Oct/18 11:57 AM;lafr;I'm building / testing WildFly-Core 6.0.2.Final and WildFly-14.0.1.Final as you can see in my original post.
Both versions have
<version.org.jboss.galleon>2.0.0.Final</version.org.jboss.galleon>
in their pom.xml.
","08/Oct/18 12:00 PM;aloubyansky;Could you please try with 2.0.1.Final and <version.org.wildfly.galleon-plugins>2.0.1.Final</version.org.wildfly.galleon-plugins>? It's galleon-plugins that should contain the fix.","08/Oct/18 1:23 PM;yersan;Thanks for pointing it out [~aloubyansky], yes, effectively 2.0.1.Final version fixes the issue. 

Hi [~lafr] thank you for reporting the issue, I don't think the environment it is related but if you still think it is reproducible in Solaris, please, feel free to reopen the ticket, thanks!","08/Oct/18 3:40 PM;lafr;Approved.
Upgrading Galleon and Galleon-plugins from 2.0.0.Final to 2.0.1.Final like done in https://github.com/wildfly/wildfly-core/pull/3545 and https://github.com/wildfly/wildfly/commit/f8d4f64e1a6da1c585329ac6384487848bac4f71 solved this problem.
","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
okhttp3 should depend on java.logging,WFLY-10977,12768173,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ppalaga,ppalaga,ppalaga,05/Sep/18 4:22 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,05/Sep/18 8:00 PM,14.0.0.Final,,,,,14.0.1.Final,15.0.0.Beta1,15.0.0.Final,Class Loading,,,,,,,,,,,0,,,,,"{{com.squareup.okhttp3}} module was added recently via WFLY-10877 [1]. Several classes of {{okhttp3}} use {{java.util.logging}}, but the dependecy on {{java.logging}} module is missing in [1].

As a consequence of this, I am getting the following exception in one of the WildFly Camel Integration tests:

{code}
2018-09-05 09:04:07,967 SEVERE [org.jboss.arquillian.protocol.jmx.JMXTestRunner] (pool-8-thread-1) Failed: org.wildfly.camel.test.pubnub.PubNubIntegrationTest.testPubNubPublish: java.lang.NoClassDefFoundError: java/util/logging/Logger
	at okhttp3.internal.platform.Platform.<clinit>(Platform.java:77)
	at okhttp3.internal.tls.CertificateChainCleaner.get(CertificateChainCleaner.java:41)
	at okhttp3.OkHttpClient.<init>(OkHttpClient.java:254)
	at okhttp3.OkHttpClient$Builder.build(OkHttpClient.java:919)
	at com.pubnub.api.managers.RetrofitManager.createOkHttpClient(RetrofitManager.java:125)
	at com.pubnub.api.managers.RetrofitManager.<init>(RetrofitManager.java:54)
	at com.pubnub.api.PubNub.<init>(PubNub.java:72)
	at org.wildfly.camel.test.pubnub.PubNubIntegrationTest$1MockedPubNub.<init>(PubNubIntegrationTest.java:147)
	at org.wildfly.camel.test.pubnub.PubNubIntegrationTest.createMockedPubNub(PubNubIntegrationTest.java:171)
	at org.wildfly.camel.test.pubnub.PubNubIntegrationTest.setUp(PubNubIntegrationTest.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.jboss.arquillian.junit.Arquillian$StatementLifecycleExecutor.invoke(Arquillian.java:459)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.before(EventTestRunnerAdaptor.java:108)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:241)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:315)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:311)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:246)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.ClassNotFoundException: java.util.logging.Logger from [Module ""com.squareup.okhttp3"" from local module loader @275710fc (finder: local module finder @525f1e4e (roots: /home/ppalaga/orgs/camel/wildfly-camel/itests/standalone/basic/target/wildfly-14.0.0.Final/modules,/home/ppalaga/orgs/camel/wildfly-camel/itests/standalone/basic/target/wildfly-14.0.0.Final/modules/system/layers/fuse,/home/ppalaga/orgs/camel/wildfly-camel/itests/standalone/basic/target/wildfly-14.0.0.Final/modules/system/layers/base))]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	... 145 more
{code}

The code that triggers the above is in https://github.com/pubnub/java/blob/v4.19.0/src/main/java/com/pubnub/api/managers/RetrofitManager.java#L79

[1] https://github.com/wildfly/wildfly/commit/b4d57d50cfe8b4c961aa02b67e8ab37c2964bed7#diff-87ec1ee2b502790d5e363815fabfc102R25",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:15.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11639,https://github.com/wildfly/wildfly/pull/11647,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|w000ig:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Sep/18 5:43 AM;ppalaga;We probably also need an inclusion or a dependency on {{com.squareup.okhttp3:logging-interceptor}}. I'll prepare a fix that would work for us.","05/Sep/18 11:24 AM;ppalaga;We do not need {{com.squareup.okhttp3:logging-interceptor}} in WF. We can manage it ourselves. {{java.logging}} is the only thing missing there.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[WFLY] Tests for enabling constraint drive authentication mode for elytron,WFLY-10894,12766043,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,spyrkob,spyrkob,spyrkob,21/Aug/18 11:47 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,08/Nov/18 7:52 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Security,Web (Undertow),,,,,,,,,,0,test_included,,,,"Integration code for JBEAP-15054

----

When elytron is enabled constraint driven authentication method (i.e. proactive-authentication=false) has no effect.  

If you try to request an unsecured page sending in an invalid user with basic authentication, you should get the page returned with constraint drive authentication and a 401 with proactive authentication.  This is what happens without Elytron enabled.  But if you enable Elytron it gives a 401 in both cases.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:15.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11564,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i0063j:",9223372036854775807,,0.0,,,,,"1) Enable Elytron in EAP with ""bin/jboss-cli.sh --file=docs/examples/enable-elytron.cli""
2) Setup constraint drive authentication: 
  bin/jboss-cli.sh --connect ""/subsystem=undertow/servlet-container=default:write-attribute(name=proactive-authentication, value=false)""
3) Deploy any test application without any authentication constraints.  I used ""helloworld"" quickstart, but any unsecured resource will work
4) Try to access the URL with basic auth:
  curl -u foo:bar http://localhost:8080/jboss-helloworld/ -v
Note the user here is invalid.

This will give a 401 HTTP response.  However, with constraint driven authentication this should give the page.

",,,,,,,,,,Don't use Elytron.,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.1.Final,WFLY-11320,12778703,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,09/Nov/18 8:39 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,14/Nov/18 10:04 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Release notes:
https://issues.jboss.org/projects/ISPN/versions/12339377",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:15.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11828,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z016bk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
test Hibernate51CompatibilityTransformer transformations for o.h.type.Type and o.h.type.AbstractStandardBasicType,WFLY-11069,12771401,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,simkam,simkam,simkam,25/Sep/18 10:47 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,26/Sep/18 7:33 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,JPA / Hibernate,Test Suite,,,,,,,,,,0,,,,,"There are missing tests for two Hibernate51CompatibilityTransformer transformations: 
* [org.hibernate.type.AbstractStandardBasicType|https://github.com/wildfly/wildfly/blob/master/jpa/hibernate-transformer/src/main/java/org/jboss/as/hibernate/Hibernate51CompatibilityTransformer.java#L264]
* [org.hibernate.type.Type|https://github.com/wildfly/wildfly/blob/master/jpa/hibernate-transformer/src/main/java/org/jboss/as/hibernate/Hibernate51CompatibilityTransformer.java#L195]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:14.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11689,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0015k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Jaeger remote sampler fails to deserialize response,WFLY-11045,12770614,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,juraci.costa,pavol_loffay,pavol_loffay,20/Sep/18 7:46 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,24/Sep/18 4:52 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,MP OpenTracing,,,,,,,,,,,0,,,,," JAEGER_REPORTER_LOG_SPANS=true JAEGER_SAMPLER_TYPE=remote  $WILDFLY_HOME/bin/standalone.sh                                                                                                      1:39 
=========================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: /home/ploffay/projects/javaee-traced-store/wildfly-14.0.1.Final

  JAVA: java

  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true 

=========================================================================

13:39:30,432 INFO  [org.jboss.modules] (main) JBoss Modules version 1.8.6.Final
13:39:30,861 INFO  [org.jboss.msc] (main) JBoss MSC version 1.4.3.Final
13:39:30,868 INFO  [org.jboss.threads] (main) JBoss Threads version 2.3.2.Final
13:39:30,992 INFO  [org.jboss.as] (MSC service thread 1-1) WFLYSRV0049: WildFly Full 14.0.1.Final (WildFly Core 6.0.2.Final) starting
13:39:31,697 INFO  [org.wildfly.security] (ServerService Thread Pool -- 24) ELY00001: WildFly Elytron version 1.6.0.Final
13:39:32,155 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
13:39:32,188 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 26) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
13:39:32,221 INFO  [org.jboss.as.repository] (ServerService Thread Pool -- 34) WFLYDR0001: Content added at location /home/ploffay/projects/javaee-traced-store/wildfly-14.0.1.Final/standalone/data/content/91/04caab3329ba82bafd92755e900187a74e536c/content
13:39:32,259 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
13:39:32,278 INFO  [org.xnio] (MSC service thread 1-4) XNIO version 3.6.5.Final
13:39:32,290 INFO  [org.xnio.nio] (MSC service thread 1-4) XNIO NIO Implementation Version 3.6.5.Final
13:39:32,371 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 41) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)
13:39:32,396 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 48) WFLYCLINF0001: Activating Infinispan subsystem.
13:39:32,400 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 49) WFLYIO001: Worker 'default' has auto-configured to 16 core threads with 128 task threads based on your 8 available processors
13:39:32,402 INFO  [org.jboss.remoting] (MSC service thread 1-1) JBoss Remoting version 5.0.8.Final
13:39:32,435 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
13:39:32,444 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 50) WFLYRS0016: RESTEasy version 3.6.1.Final
13:39:32,478 INFO  [org.jboss.as.connector] (MSC service thread 1-1) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.11.Final)
13:39:32,493 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 55) WFLYJSF0007: Activated the following JSF Implementations: [main]
13:39:32,494 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-3) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
13:39:32,495 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0018: Started Driver service with driver-name = h2
13:39:32,506 INFO  [org.wildfly.extension.microprofile.config.smallrye._private] (ServerService Thread Pool -- 57) WFLYCONF0001: Activating WildFly MicroProfile Config Subsystem
13:39:32,508 INFO  [org.wildfly.extension.microprofile.opentracing] (ServerService Thread Pool -- 59) WFLYTRACEXT0001: Activating MicroProfile OpenTracing Subsystem
13:39:32,531 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 60) WFLYNAM0001: Activating Naming Subsystem
13:39:32,545 INFO  [org.wildfly.extension.microprofile.health.smallrye] (ServerService Thread Pool -- 58) WFLYHEALTH0001: Activating Eclipse MicroProfile Health Subsystem
13:39:32,559 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 68) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.
13:39:32,575 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 66) WFLYSEC0002: Activating Security Subsystem
13:39:32,581 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 70) WFLYWS0002: Activating WebServices Extension
13:39:32,589 INFO  [org.jboss.as.naming] (MSC service thread 1-4) WFLYNAM0003: Starting Naming Service
13:39:32,592 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-3) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
13:39:32,617 INFO  [org.jboss.as.security] (MSC service thread 1-1) WFLYSEC0001: Current PicketBox version=5.0.3.Final
13:39:32,662 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0003: Undertow 2.0.13.Final starting
13:39:32,670 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 128 (per class), which is derived from thread worker pool sizing.
13:39:32,673 INFO  [org.jboss.as.ejb3] (MSC service thread 1-5) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 32 (per class), which is derived from the number of CPUs on this host.
13:39:32,901 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 69) WFLYUT0014: Creating file handler for path '/home/ploffay/projects/javaee-traced-store/wildfly-14.0.1.Final/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
13:39:32,915 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0012: Started server default-server.
13:39:32,918 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting
13:39:32,985 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080
13:39:33,103 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0493: EJB subsystem suspension complete
13:39:33,176 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
13:39:33,224 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: WildFly Full cumulative patch ID is: base, one-off patches include: none
13:39:33,252 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-3) WFLYDM0111: Keystore /home/ploffay/projects/javaee-traced-store/wildfly-14.0.1.Final/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
13:39:33,258 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-4) WFLYDS0013: Started FileSystemDeploymentService for directory /home/ploffay/projects/javaee-traced-store/wildfly-14.0.1.Final/standalone/deployments
13:39:33,274 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0027: Starting deployment of ""javaee-traced-store-1.0-SNAPSHOT.war"" (runtime-name: ""javaee-traced-store-1.0-SNAPSHOT.war"")
13:39:33,337 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0006: Undertow HTTPS listener https listening on 127.0.0.1:8443
13:39:33,417 INFO  [org.jboss.ws.common.management] (MSC service thread 1-4) JBWS022052: Starting JBossWS 5.2.3.Final (Apache CXF 3.2.5.jbossorg-1) 
13:39:33,807 INFO  [org.jboss.weld.deployer] (MSC service thread 1-8) WFLYWELD0003: Processing weld deployment javaee-traced-store-1.0-SNAPSHOT.war
13:39:33,921 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-8) HV000001: Hibernate Validator 6.0.13.Final
13:39:34,075 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-8) WFLYEJB0473: JNDI bindings for session bean named 'OrderEndpoint' in deployment unit 'deployment ""javaee-traced-store-1.0-SNAPSHOT.war""' are as follows:

	java:global/javaee-traced-store-1.0-SNAPSHOT/OrderEndpoint!io.jaegertracing.examples.wildfly.OrderEndpoint
	java:app/javaee-traced-store-1.0-SNAPSHOT/OrderEndpoint!io.jaegertracing.examples.wildfly.OrderEndpoint
	java:module/OrderEndpoint!io.jaegertracing.examples.wildfly.OrderEndpoint
	ejb:javaee-traced-store-1.0-SNAPSHOT/OrderEndpoint!io.jaegertracing.examples.wildfly.OrderEndpoint
	java:global/javaee-traced-store-1.0-SNAPSHOT/OrderEndpoint
	java:app/javaee-traced-store-1.0-SNAPSHOT/OrderEndpoint
	java:module/OrderEndpoint

13:39:34,248 INFO  [org.jboss.weld.Version] (MSC service thread 1-2) WELD-000900: 3.0.5 (Final)
13:39:34,439 INFO  [org.infinispan.factories.GlobalComponentRegistry] (MSC service thread 1-5) ISPN000128: Infinispan version: Infinispan 'Estrella Galicia' 9.3.1.Final
13:39:34,634 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 72) WFLYCLINF0002: Started client-mappings cache from ejb container
13:39:35,007 WARN  [io.jaegertracing.internal.senders.SenderResolver] (ServerService Thread Pool -- 72) No suitable sender found. Using NoopSender, meaning that data will not be sent anywhere!
13:39:35,061 ERROR [stderr] (Timer-2) Exception in thread ""Timer-2"" java.lang.RuntimeException: Unable to invoke no-args constructor for class io.jaegertracing.internal.samplers.http.SamplingStrategyResponse. Registering an InstanceCreator with Gson for this type may fix this problem.
13:39:35,062 ERROR [stderr] (Timer-2) 	at com.google.gson.internal.ConstructorConstructor$14.construct(ConstructorConstructor.java:226)
13:39:35,062 ERROR [stderr] (Timer-2) 	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:210)
13:39:35,062 ERROR [stderr] (Timer-2) 	at com.google.gson.Gson.fromJson(Gson.java:888)
13:39:35,062 ERROR [stderr] (Timer-2) 	at com.google.gson.Gson.fromJson(Gson.java:853)
13:39:35,062 ERROR [stderr] (Timer-2) 	at com.google.gson.Gson.fromJson(Gson.java:802)
13:39:35,062 ERROR [stderr] (Timer-2) 	at com.google.gson.Gson.fromJson(Gson.java:774)
13:39:35,062 ERROR [stderr] (Timer-2) 	at io.jaegertracing.internal.samplers.HttpSamplingManager.parseJson(HttpSamplingManager.java:49)
13:39:35,062 ERROR [stderr] (Timer-2) 	at io.jaegertracing.internal.samplers.HttpSamplingManager.getSamplingStrategy(HttpSamplingManager.java:68)
13:39:35,063 ERROR [stderr] (Timer-2) 	at io.jaegertracing.internal.samplers.RemoteControlledSampler.updateSampler(RemoteControlledSampler.java:88)
13:39:35,063 ERROR [stderr] (Timer-2) 	at io.jaegertracing.internal.samplers.RemoteControlledSampler$1.run(RemoteControlledSampler.java:70)
13:39:35,063 ERROR [stderr] (Timer-2) 	at java.util.TimerThread.mainLoop(Timer.java:555)
13:39:35,063 ERROR [stderr] (Timer-2) 	at java.util.TimerThread.run(Timer.java:505)
13:39:35,063 ERROR [stderr] (Timer-2) Caused by: java.lang.UnsupportedOperationException: Cannot allocate class io.jaegertracing.internal.samplers.http.SamplingStrategyResponse
13:39:35,063 ERROR [stderr] (Timer-2) 	at com.google.gson.internal.UnsafeAllocator$4.newInstance(UnsafeAllocator.java:104)
13:39:35,064 ERROR [stderr] (Timer-2) 	at com.google.gson.internal.ConstructorConstructor$14.construct(ConstructorConstructor.java:223)
13:39:35,064 ERROR [stderr] (Timer-2) 	... 11 more
13:39:35,210 INFO  [io.jaegertracing.Configuration] (ServerService Thread Pool -- 72) Initialized tracer=JaegerTracer(version=Java-0.30.6, serviceName=javaee-traced-store-1.0-SNAPSHOT.war, reporter=CompositeReporter(reporters=[RemoteReporter(sender=NoopSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=org.slf4j.impl.Slf4jLogger(io.jaegertracing.internal.reporters.LoggingReporter))]), sampler=RemoteControlledSampler(maxOperations=2000, manager=HttpSamplingManager(hostPort=localhost:5778), sampler=ProbabilisticSampler(tags={sampler.type=probabilistic, sampler.param=0.001})), tags={hostname=dhcp-144-223.gva.redhat.com, jaeger.version=Java-0.30.6, ip=10.33.144.223}, zipkinSharedRpcSpan=false, expandExceptionLogs=false)
13:39:35,557 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 72) RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.jaegertracing.examples.wildfly.TracedStoreApplication
13:39:35,589 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 72) WFLYUT0021: Registered web context: '/javaee-traced-store-1.0-SNAPSHOT' for server 'default-server'
13:39:35,605 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 42) WFLYSRV0010: Deployed ""javaee-traced-store-1.0-SNAPSHOT.war"" (runtime-name : ""javaee-traced-store-1.0-SNAPSHOT.war"")
13:39:35,683 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server
13:39:35,685 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management
13:39:35,686 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990
13:39:35,686 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 14.0.1.Final (WildFly Core 6.0.2.Final) started in 5525ms - Started 445 of 628 services (326 services are lazy, passive or on-demand)",,,,,,,,,,,,,,,,,,,,,,,,JBEAP-15493,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-20 14:02:34.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|y0088k:",9223372036854775807,,0.0,,,,,"Start jaeger server docker run --net=host jaegertracing/all-in-one
deploy app - e.g. https://medium.com/jaegertracing/automatic-tracing-of-java-ee-applications-with-wildfly-14-and-jaeger-176366927212
$WILDFLY_HOME/bin/standalone.sh

Remote sampler can be forced with JAEGER_SAMPLER_TYPE=remote",,,,,,,,,,,"20/Sep/18 7:51 AM;pavol_loffay;Liked jira links to TT jira. The solution in TT was to add a module to `sun.jdk`. ","20/Sep/18 2:02 PM;brian.stansberry;[~pavol_loffay] Can you send up a patch? Reading TRACING-245 it's not clear what dependency to add where, but I get the impression you or Juraci know.","21/Sep/18 5:25 AM;pavol_loffay;[~brian.stansberry] [~juraci.costa] is working on the patch as part of TRACING-248","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor webservices subsystem to don't use deprecated ServiceBuilder methods,WFLY-11354,12779505,12776056,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,15/Nov/18 4:57 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,21/Nov/18 4:49 PM,,,,,,15.0.0.Final,,,Web Services,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-20 12:51:24.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11850,https://github.com/wildfly/wildfly/pull/11866,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z01ar4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"20/Nov/18 12:51 PM;jbliznak;Unfortunatelly, we miss the window with evaluation of regression tests before merging this PR https://github.com/wildfly/wildfly/pull/11850

Now that all the regression tests finished, we are seeing one regression in test failing with NPE https://github.com/jbossws/jbossws-cxf/blob/master/modules/testsuite/shared-tests/src/test/java/org/jboss/test/ws/publish/EndpointPublishTestCase.java

{code:java}
java.lang.Exception: WFLYWS0040: Failed to create context
at org.jboss.as.webservices.publish.EndpointPublisherImpl.startWebApp(EndpointPublisherImpl.java:218)
at org.jboss.as.webservices.publish.EndpointPublisherImpl.doPublish(EndpointPublisherImpl.java:195)
at org.jboss.as.webservices.publish.EndpointPublisherImpl.publish(EndpointPublisherImpl.java:116)
at org.jboss.as.webservices.publish.EndpointPublisherImpl.publish(EndpointPublisherImpl.java:102)
at org.jboss.test.ws.publish.EndpointPublishServlet.doGet(EndpointPublishServlet.java:78)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
at org.jboss.as.webservices.publish.EndpointPublisherImpl.startWebApp(EndpointPublisherImpl.java:215)
... 47 more
{code}


","20/Nov/18 12:57 PM;jbliznak;To reproduce:

{code:java}
# build wildfly snapshot and install it in local repo
...

# checkout JBWS project
git clone https://github.com/jbossws/jbossws-cxf.git /tmp/jbws && cd /tmp/jbws

# run the JBWS project with the same local repo
mvn -B -Pwildfly1500 -Dwildfly1500.version=15.0.0.CR1-SNAPSHOT verify -Dserver.home=/tmp/wildfly/dist/target/wildfly-15.0.0.CR1-SNAPSHOT -Dtest=EndpointPublishTestCase -DnoLogRedirect -DenableServerLoggingToConsole -Dnodeploy
{code}
","21/Nov/18 4:30 AM;rsvoboda;[~kabirkhan] this is candidate for revert. Unless [~ropalka] comes with fix in few hours / days.","21/Nov/18 5:03 AM;ropalka;I'm having a look [~kabirkhan] [~rsvoboda]","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Set journal-pool-files default value to 10,WFLY-11052,12770650,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,20/Sep/18 11:25 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,26/Sep/18 11:11 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,Update the default value to 10 as -1 creates a warning with Artemis 2.6.x,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:13.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y008g4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MP-OpenTracing Jaeger's can't see a concrete sender,WFLY-10961,12767636,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,juraci.costa,juraci.costa,juraci.costa,31/Aug/18 8:38 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,03/Sep/18 11:43 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,MP OpenTracing,,,,,,,,,,,0,,,,,"One of the last changes made to WF 14 was to split the MP-OpenTracing dependencies into smaller modules. This introduced a bug where the Jaeger Core module can't see a Sender from Jaeger Thrift. This is loaded via the Service Loader, so, Jaeger Core has to be shipped with Jaeger Thrift on the same module, to avoid a circular dependency (as Jaeger Thrift depends on classes defined on Jaeger Core).",,,,,,,,,,,,,,,,,,,,,,,,JBEAP-15333,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:13.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11628,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00fbz:",9223372036854775807,,0.0,,,,,"Start the server
Deploy an application like the one from https://github.com/jpkrohling/java-wildfly-tester

Symptom: on the server logs, the following can be seen:

14:13:16,289 WARN  [io.jaegertracing.internal.senders.SenderResolver] (ServerService Thread Pool -- 77) No suitable sender found. Using NoopSender, meaning that data will not be sent anywhere!

",,,,,,,,,,"One workaround is to change the modules manually, placing the jaeger-thrift JAR within the same module as jaeger-core, and changing the module definition.

Copy the JAR:
{code}
cp modules/system/layers/base/io/jaegertracing/jaeger-thrift/main/jaeger-thrift-0.30.6.jar modules/system/layers/base/io/jaegertracing/jaeger-core/main/
{code}

Module definition at modules/system/layers/base/io/jaegertracing/jaeger-core/main/module.xml:
{code}
<module name=""io.jaegertracing.jaeger-core"" xmlns=""urn:jboss:module:1.8"">
    <properties>
        <property name=""jboss.api"" value=""private""/>
    </properties>

    <resources>
	<resource-root path=""jaeger-core-0.30.6.jar""/>
        <resource-root path=""jaeger-thrift-0.30.6.jar""/>
    </resources>

    <dependencies>
        <module name=""com.google.code.gson""/>

        <module name=""io.opentracing.opentracing-api""/>
        <module name=""io.opentracing.opentracing-util""/>

        <module name=""org.apache.thrift""/>
        <module name=""org.slf4j""/>
    </dependencies>
</module>
{code}

Additionally, the module org.wildfly.microprofile.opentracing-smallrye (modules/system/layers/base/org/wildfly/microprofile/opentracing-smallrye/main/module.xml) should have the references to both the Apache Thrift and Jaeger Thrift removed.

A second workaround is to have the deployed artifact to embed the Jaeger Client artifact, along with a Tracer Factory. A reference can be found on Jaeger Client Java repository:

https://github.com/jaegertracing/jaeger-client-java/blob/8e9492fcc57fcf308d52096018d82237173b8eb9/jaeger-tracerresolver/src/main/java/io/jaegertracing/tracerresolver/internal/JaegerTracerFactory.java#L21-L26","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failing OnOffOpenTracingTestCase on IBM java,WFLY-10954,12767494,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jstourac,jstourac,jstourac,30/Aug/18 12:39 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Sep/18 3:42 PM,14.0.0.Beta2,,,,,15.0.0.Beta1,15.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"The OnOffOpenTracingTestCase fails with IBM java due to the different stack trace output compared to the OpenJDK/OracleJDK. In the test there is checked
{code}
java.lang.NoClassDefFoundError: Lio/opentracing/Tracer
{code}
but IBM java provides slightly different variation
{code}
java.lang.NoClassDefFoundError: io.opentracing.Tracer
{code}
in the stacktrace.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:13.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11621,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00ei7:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create test for both WFLY-10531 and WFLY-9501 - closing JMS contexts,WFLY-11114,12772922,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jondruse,jondruse,jondruse,04/Oct/18 9:13 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,14/Nov/18 10:01 PM,13.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,,,,,"There are two issues https://issues.jboss.org/browse/WFLY-9501 and https://issues.jboss.org/browse/WFLY-10531. 

Both covers problem with automatic closing of injected JMS contexts.
It would be nice to have a test covering both issues.",,,,,,,,,,,,,WFLY-10531,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11715,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z009xk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Jboss Metadata to 12.0.0.Final ,WFLY-11085,12771749,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,27/Sep/18 4:57 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,01/Oct/18 5:51 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,EE,EJB,Web (Undertow),,,,,,,,,0,,,,,Upgrade Jboss Metadata to 12.0.0.Final (with the JavaEE 8 schemas and jboss descriptors using them),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11700,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00374:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused dependencies from org.jboss.as.xts,WFLY-11342,12779294,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,14/Nov/18 5:18 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,20/Nov/18 6:13 AM,,,,,,15.0.0.Final,,,Transactions,,,,,,,,,,,0,,,,,"These dependencies are not currently being used in this module so we can remove them:
* org.jboss.ws.common
* org.jboss.threads",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11845,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z019gw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to WildFly Galleon Plugins 2.0.2.Final and properly configure plugin dependencies,WFLY-11182,12774462,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aloubyansky,aloubyansky,aloubyansky,15/Oct/18 11:09 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,17/Oct/18 7:56 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Build System,,,,,,,,,,,0,,,,,This commit fixes the classpath of the maven plugin building Galleon feature-pack by moving feature-spec-gen artifact to its classpath.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11742,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00igo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MP tests are using custom getContent methods (2 versions) instead of EntityUtils,WFLY-11390,12780348,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rsvoboda,rsvoboda,rsvoboda,21/Nov/18 6:58 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,26/Nov/18 12:39 PM,15.0.0.Beta1,,,,,15.0.0.Final,,,MP Config,MP Health,MP Metrics,MP OpenTracing,Test Suite,,,,,,,0,,,,,"MP tests are using custom {{getContent}} methods (2 versions) instead of EntityUtils

Proper way is to get rid of those 2 helper methods and use EntityUtils.toString method",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11867,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01fgw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate ServiceBuilder.addDependency(ServiceName) method usages,WFLY-11298,12778369,12776056,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,07/Nov/18 4:00 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,13/Nov/18 3:27 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11820,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z014bk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Look up of RemoteConnectionFactory with discovery-group is null,WFLY-11290,12778180,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,mnovak,mnovak,07/Nov/18 3:33 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,08/Nov/18 7:52 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"If RemoteConnectionFactory is defined with discovery-group like (note that it's defined directly in messaging subsystem, not in <server>...</server>):
{code}
        <subsystem xmlns=""urn:jboss:domain:messaging-activemq:4.0"">
            <discovery-group name=""dg-group1"" jgroups-channel=""ee"" jgroups-cluster=""artemis-cluster"" initial-wait-timeout=""30000""/>
            <connection-factory name=""RemoteConnectionFactory"" discovery-group=""dg-group1"" entries=""java:jboss/exported/jms/RemoteConnectionFactory java:/jms/RemoteConnectionFactory""/>
        </subsystem>
{code}

then it registers to JNDI ""java:/jms/RemoteConnectionFactory"" but with {{null}}. See JNDI view:
{code}
[standalone@localhost:9990 subsystem=naming] /subsystem=naming/:jndi-view
...
 ""jms"" => {
                    ""class-name"" => ""javax.naming.Context"",
                    ""children"" => {
                        ""RemoteConnectionFactory"" => {
                            ""class-name"" => ""java.lang.Object"",
                            ""value"" => ""null""
                        },

{code}

Result:
If EE deployment looks up or injects such CF then it fails on NullPointerException. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:11.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z0133s:",9223372036854775807,,0.0,,,,,"Steps to reproduce:
{code}
git clone git://git.app.eng.bos.redhat.com/jbossqe/eap-tests-hornetq.git
cd eap-tests-hornetq/scripts/
git checkout master

groovy -DEAP_ZIP_URL=http://download.jboss.org/wildfly/14.0.1.Final/wildfly-14.0.1.Final.zip PrepareServers7.groovy
export WORKSPACE=$PWD
export JBOSS_HOME_1=$WORKSPACE/server1/jboss-eap
export JBOSS_HOME_2=$WORKSPACE/server2/jboss-eap
export JBOSS_HOME_3=$WORKSPACE/server3/jboss-eap
export JBOSS_HOME_4=$WORKSPACE/server4/jboss-eap

cd ../jboss-hornetq-testsuite/
mvn clean test -Dtest=RemoteBrokerTestCase#testConnectionFactoryWithDiscoveryGroup    -Deap7.org.jboss.qa.hornetq.apps.clients.version=7.2.0.CD14.CR2 | tee log
{code}",,,,,,,,,,,"07/Nov/18 3:33 AM;mnovak;[~ehugonnet] Could you take a look, please? ","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on org.wildfly.extension.rts,WFLY-11276,12777455,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,02/Nov/18 12:46 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,03/Nov/18 11:20 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Server,,,,,,,,,,,0,,,,,"Validate the need of these module dependencies in org.wildfly.extension.rts module:

{code:xml}
<module name=""javax.xml.rpc.api""/>
<module name=""javax.rmi.api""/>
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11804,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00z48:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
mod_cluster enable/disable/stop/enable-context/disable-context/stop-context operations do not describe operation result type,WFLY-11246,12776309,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,25/Oct/18 9:33 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,05/Nov/18 4:16 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,mod_cluster,,,,,,,,,,,0,,,,,"These previously ignored the result. Now, they do return the result, but do not describe the result types.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11805,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00t20:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JAX-WS quickstarts: log4j warning appears in client subprojects,WFLY-11209,12775140,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,szhantem,szhantem,18/Oct/18 4:33 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,26/Oct/18 2:42 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"In following subprojects: 

* jaxws-addressing-client 
* jaxws-ejb-client 
* jaxws-pojo-client
* jaxws-retail-client

after completing ""Right-click on the jaxws-*-client subproject and choose Run As –> Java Application"" step the following warnings are shown:
  
{noformat}
 log4j:WARN No appenders could be found for logger (org.apache.cxf.common.logging.LogUtils).

    log4j:WARN Please initialize the log4j system properly.

    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
{noformat}

A possible resolution could be [adding|https://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j] .properties file to subprojects folders.
",,,,,,,,,,,,,JBEAP-15215,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-26 10:37:20.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00mbc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"26/Oct/18 10:37 AM;emmartins;[~sgilda] reports there are still warnings when running the clients","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to JAXB 2.3.1,WFLY-11113,12772910,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,jbliznak,jbliznak,04/Oct/18 8:52 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,16/Oct/18 8:48 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,REST,Web Services,,,,,,,,,,0,Java11,,,,"The new release of JAXB should fix some issues with JDK11 (such as warnings WFLY-11044)
Full diff https://github.com/javaee/jaxb-v2/compare/2.3.0...2.3.1

Note: this release no longer contains jaxb-core artifact which was merged into jaxb-runtime https://github.com/javaee/jaxb-v2/commit/32fda2fbee71c2df04c52fc8eb3687699869ae0b

Note2: there is a change in dependencies, some of the org.glassfish.jaxb:* artifacts used to depend on relaxngDatatype:relaxngDatatype (which is excluded in WF \[1\],\[2\],\[3\]), now replaced with com.sun.xml.bind.external:relaxng-datatype. WF is using com.github.relaxng:relaxngDatatype instead, not sure, if it is compatible out of the box.

\[1\] https://github.com/wildfly/wildfly/blob/master/pom.xml#L1293-L1298
\[2\] https://github.com/wildfly/wildfly/blob/master/pom.xml#L3848-L3853
\[3\] https://github.com/wildfly/wildfly/blob/master/pom.xml#L6728",,,,,,,,,,,,,,,,,,,,,,,,WFLY-11152,WFLY-11153,,,JBWS-4139,RESTEASY-2036,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-05 04:43:47.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z009uw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Oct/18 11:22 AM;jamezp;[~asoldano] Do we want to split this upgrade for this off the PR it's associated with?","12/Oct/18 11:50 AM;asoldano;[~jamezp], no, I think we do not want to split this upgrade from the jbws and resteasy one, otherwise you would have quite a mess with imports and exclusions of different jaxb versions...","16/Oct/18 12:54 PM;asoldano;Reopening, see https://github.com/wildfly/wildfly/pull/11749","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ActiveMQ 2.6.3.jbossorg-001 requires QPid Proton-J 0.27.3 (ClassNotFoundExceptions in messaging subsystem),WFLY-11099,12772319,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jwgmeligmeyling,jwgmeligmeyling,01/Oct/18 3:55 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,02/Oct/18 11:22 AM,14.0.0.Final,14.0.1.Final,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"With the update from Artemis 1.5.x to 2.6.x in WFLY-9407, Proton-J wasn't updated from 0.16.x to 0.27.3, which leads to class not found exceptions for ""Sasl... "" classes when remote acceptors are created and connected to (I tested with AMQP protocol). When updating Proton-J to the newest version (0.29.0) my issues are gone.

I'm not sure which other modules are using the proton-j module, but my suggestion is that we bump the version of Proton-j to the required 0.27.3 minimally.",,,,,,,,,WFLY-9407,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Migration,,,Regression,,,,,,,,,,,,2018-10-01 17:50:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11708,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|z006js:",9223372036854775807,,0.0,,,,,"* Add remote connector with AMQP enabled
* Start wildfly in standalone-ha-full mode
* Connect an AMQP client
* Notice exceptions",,,,,,,,,,,"02/Oct/18 5:49 AM;kabirkhan;[~martyn-taylor] Does this align with what AMQ uses?","02/Oct/18 5:51 AM;jwgmeligmeyling;0.27.3 is the one referenced in the Pom :)","02/Oct/18 5:53 AM;jwgmeligmeyling;For example: https://mvnrepository.com/artifact/org.apache.activemq/artemis-amqp-protocol/2.6.3","02/Oct/18 8:59 AM;kabirkhan;[~martyn-taylor] says:
{code}
Looks like JIRA is down.

The version in the product should be: version=0.29.0.redhat-00001
{code}
However as [~psakar] pointed out, we don't actually use qpid in the product, so for upstream we can use whatever works. But as AMQ uses 0.29, is there any reason not to use that in wildfly right now?","02/Oct/18 9:02 AM;jwgmeligmeyling;I'd rather see 0.29 as well, as I have tested that one already.","02/Oct/18 9:33 AM;martyn-taylor;The release of Artemis that landed in Wildfly uses 0.27.3, Given that Artemis is the only consumer of this library it makes sense to me to keep these versions the same, bumping could introduce instability with that particular version of Artemis.","02/Oct/18 9:34 AM;jwgmeligmeyling;OK, thats the version I've used in the PR as well :)","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deprecation txframework module,WFLY-11271,12777373,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,ochaloup,ochaloup,02/Nov/18 4:30 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,02/Nov/18 12:02 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,XTS,,,,,,,,,,,0,,,,,"The txframework can be used really for some proof-of-concepts but hardly for production. From that I think as txframework is deprecated in Narayana, not fully integrated in WildFly - recovery does not work, functionality was completely replaced with compensations framework then the txframework is not needed to be maintained as dependency in WildFly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:10.0,,,,,,,,https://developer.jboss.org/thread/279022,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00ymw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document 2lc/JTA integration properties and add better detection of ehcache/JTA platform class use,WFLY-11010,12769490,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,smarlow,smarlow,12/Sep/18 9:13 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Dec/18 12:56 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"Document the ""wildfly.jpa.regionfactory"" and ""wildfly.jpa.jtaplatform"" properties for Hibernate ORM 5.3+ integration.

Also automatically treat ""wildfly.jpa.regionfactory"" as false if [ehcache is being used|http://www.ehcache.org/documentation/2.7/integrations/hibernate.html] (e.g. check if the hibernate.cache.region.factory_class value starts with ""net.sf.ehcache"").  This should help applications that have configured to use Ehcache.

Also automatically treat ""wildfly.jpa.jtaplatform"" as false if the application sets ""hibernate.transaction.jta.platform"".  This should help applications that have configured the transaction platform class.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Documentation (Ref Guide, User Guide, etc.)",,,,,,,,,,,,,,,2019-10-02 19:05:09.0,,,,,,,,https://developer.jboss.org/message/985111,,https://github.com/wildfly/wildfly/pull/11688,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|y001no:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Sep/18 4:07 PM;smarlow;Seems like we need an initiator per session factory, instead of per application classloader (service loader), as the WildFlyCustomRegionFactoryInitiator.resolveRegionFactory(Map configurationValues, ServiceRegistryImplementor registry) is only called once per application.  

Sometimes, the ServiceContributorImpl.contribute(StandardServiceRegistryBuilder) is called more than once while debugging (with a deployment that has two persistence units) but that appears to be pure luck, as sometimes it is only called once.

","25/Sep/18 9:57 AM;smarlow;Below is TRACE output for org.jipijapa enabled while deploying a few different apps:
{quote}
2018-09-25 09:42:31,467 TRACE [org.jipijapa] (ServerService Thread Pool -- 73) ServiceContributorImpl#contribute application will use WildFlyCustomJtaPlatform
2018-09-25 09:42:31,467 TRACE [org.jipijapa] (ServerService Thread Pool -- 72) ServiceContributorImpl#contribute application will use WildFlyCustomJtaPlatform
2018-09-25 09:42:31,655 TRACE [org.jipijapa] (ServerService Thread Pool -- 74) ServiceContributorImpl#contribute application will use WildFlyCustomJtaPlatform
2018-09-25 09:42:31,657 TRACE [org.jipijapa] (ServerService Thread Pool -- 75) ServiceContributorImpl#contribute application will use WildFlyCustomJtaPlatform
2018-09-25 09:42:41,576 TRACE [org.jipijapa] (ServerService Thread Pool -- 73) ServiceContributorImpl#contribute application is using Ehcache via regionFactory=net.sf.ehcache.hibernate.EhCacheRegionFactory
2018-09-25 09:43:15,122 TRACE [org.jipijapa] (ServerService Thread Pool -- 75) ServiceContributorImpl#contribute adding ORM initiator for 2lc region factory
2018-09-25 09:43:15,153 TRACE [org.jipijapa] (ServerService Thread Pool -- 75) WildFlyCustomRegionFactoryInitiator#resolveRegionFactory using org.infinispan.hibernate.cache.v53.InfinispanRegionFactory for 2lc, useSecondLevelCache=true, jpaSharedCodeModeValue=ENABLE_SELECTIVE, regionFactory=org.infinispan.hibernate.cache.v53.InfinispanRegionFactory
2018-09-25 09:43:19,842 TRACE [org.jipijapa] (ServerService Thread Pool -- 74) ServiceContributorImpl#contribute application is using Ehcache via regionFactory=net.sf.ehcache.hibernate.EhCacheRegionFactory
2018-09-25 09:43:32,690 TRACE [org.jipijapa] (MSC service thread 1-2) second level cache enabled for 2lc.jar#TEST_PU
2018-09-25 09:43:32,711 TRACE [org.jipijapa] (MSC service thread 1-2) second level cache disabled for 2lc.jar#second_PU, pu javax.persistence.sharedCache.mode property = null, pu.getSharedCacheMode = NONE
2018-09-25 09:43:46,167 TRACE [org.jipijapa] (ServerService Thread Pool -- 72) ServiceContributorImpl#contribute adding ORM initiator for 2lc region factory
2018-09-25 09:43:46,169 TRACE [org.jipijapa] (ServerService Thread Pool -- 72) WildFlyCustomRegionFactoryInitiator#resolveRegionFactory using org.infinispan.hibernate.cache.v53.InfinispanRegionFactory for 2lc, useSecondLevelCache=true, jpaSharedCodeModeValue=NONE, regionFactory=null
2018-09-25 09:45:03,479 TRACE [org.jipijapa] (MSC service thread 1-5) second level cache disabled for MultiplePuTestCase.jar#pu2, pu javax.persistence.sharedCache.mode property = null, pu.getSharedCacheMode = UNSPECIFIED
2018-09-25 09:45:03,480 TRACE [org.jipijapa] (MSC service thread 1-5) second level cache disabled for MultiplePuTestCase.jar#pu1, pu javax.persistence.sharedCache.mode property = null, pu.getSharedCacheMode = UNSPECIFIED
2018-09-25 09:45:03,487 TRACE [org.jipijapa] (ServerService Thread Pool -- 72) ServiceContributorImpl#contribute application will use WildFlyCustomJtaPlatform
2018-09-25 09:45:03,487 TRACE [org.jipijapa] (ServerService Thread Pool -- 72) ServiceContributorImpl#contribute adding ORM initiator for 2lc region factory
2018-09-25 09:45:03,525 TRACE [org.jipijapa] (ServerService Thread Pool -- 78) ServiceContributorImpl#contribute application will use WildFlyCustomJtaPlatform
2018-09-25 09:45:03,525 TRACE [org.jipijapa] (ServerService Thread Pool -- 78) ServiceContributorImpl#contribute adding ORM initiator for 2lc region factory
2018-09-25 09:45:04,022 TRACE [org.jipijapa] (MSC service thread 1-6) second level cache disabled for MultiplePuTestCase.jar#pu2, pu javax.persistence.sharedCache.mode property = null, pu.getSharedCacheMode = NONE
2018-09-25 09:45:04,024 TRACE [org.jipijapa] (MSC service thread 1-6) second level cache disabled for MultiplePuTestCase.jar#pu1, pu javax.persistence.sharedCache.mode property = null, pu.getSharedCacheMode = NONE
2018-09-25 09:45:14,514 TRACE [org.jipijapa] (ServerService Thread Pool -- 72) WildFlyCustomRegionFactoryInitiator#resolveRegionFactory not using a 2lc, useSecondLevelCache=null, jpaSharedCodeModeValue=NONE, regionFactory=null
2018-09-25 09:45:16,574 TRACE [org.jipijapa] (ServerService Thread Pool -- 78) WildFlyCustomRegionFactoryInitiator#resolveRegionFactory not using a 2lc, useSecondLevelCache=null, jpaSharedCodeModeValue=NONE, regionFactory=null
2018-09-25 09:47:40,713 TRACE [org.jipijapa] (MSC service thread 1-1) second level cache disabled for JpaStatisticsTestCase.jar#mypc_no_2lc, pu javax.persistence.sharedCache.mode property = null, pu.getSharedCacheMode = NONE
2018-09-25 09:47:40,714 TRACE [org.jipijapa] (MSC service thread 1-1) second level cache enabled for JpaStatisticsTestCase.jar#mypc2
2018-09-25 09:47:40,714 TRACE [org.jipijapa] (MSC service thread 1-1) second level cache enabled for JpaStatisticsTestCase.jar#mypc
2018-09-25 09:47:40,728 TRACE [org.jipijapa] (ServerService Thread Pool -- 80) ServiceContributorImpl#contribute application will use WildFlyCustomJtaPlatform
2018-09-25 09:47:40,729 TRACE [org.jipijapa] (ServerService Thread Pool -- 80) ServiceContributorImpl#contribute adding ORM initiator for 2lc region factory
2018-09-25 09:47:40,729 TRACE [org.jipijapa] (ServerService Thread Pool -- 80) WildFlyCustomRegionFactoryInitiator#resolveRegionFactory not using a 2lc, useSecondLevelCache=false, jpaSharedCodeModeValue=NONE, regionFactory=null
2018-09-25 09:47:40,735 TRACE [org.jipijapa] (ServerService Thread Pool -- 84) ServiceContributorImpl#contribute application will use WildFlyCustomJtaPlatform
2018-09-25 09:47:40,735 TRACE [org.jipijapa] (ServerService Thread Pool -- 83) ServiceContributorImpl#contribute application will use WildFlyCustomJtaPlatform
2018-09-25 09:47:40,736 TRACE [org.jipijapa] (ServerService Thread Pool -- 83) ServiceContributorImpl#contribute adding ORM initiator for 2lc region factory
2018-09-25 09:47:40,736 TRACE [org.jipijapa] (ServerService Thread Pool -- 84) ServiceContributorImpl#contribute adding ORM initiator for 2lc region factory
2018-09-25 09:47:40,736 TRACE [org.jipijapa] (ServerService Thread Pool -- 84) WildFlyCustomRegionFactoryInitiator#resolveRegionFactory using org.infinispan.hibernate.cache.v53.InfinispanRegionFactory for 2lc, useSecondLevelCache=true, jpaSharedCodeModeValue=ENABLE_SELECTIVE, regionFactory=org.infinispan.hibernate.cache.v53.InfinispanRegionFactory
2018-09-25 09:47:40,736 TRACE [org.jipijapa] (ServerService Thread Pool -- 83) WildFlyCustomRegionFactoryInitiator#resolveRegionFactory using org.infinispan.hibernate.cache.v53.InfinispanRegionFactory for 2lc, useSecondLevelCache=true, jpaSharedCodeModeValue=ENABLE_SELECTIVE, regionFactory=org.infinispan.hibernate.cache.v53.InfinispanRegionFactory
2018-09-25 09:47:40,785 TRACE [org.jipijapa] (MSC service thread 1-1) second level cache disabled for JpaStatisticsTestCase.jar#mypc_no_2lc, pu javax.persistence.sharedCache.mode property = null, pu.getSharedCacheMode = NONE
2018-09-25 09:47:40,786 TRACE [org.jipijapa] (MSC service thread 1-1) second level cache enabled for JpaStatisticsTestCase.jar#mypc2
2018-09-25 09:47:40,786 TRACE [org.jipijapa] (MSC service thread 1-1) second level cache enabled for JpaStatisticsTestCase.jar#mypc
2018-09-25 09:49:25,370 TRACE [org.jipijapa] (MSC service thread 1-1) second level cache disabled for jpa_emfactory.jar#mypc, pu javax.persistence.sharedCache.mode property = null, pu.getSharedCacheMode = UNSPECIFIED
2018-09-25 09:49:25,372 TRACE [org.jipijapa] (ServerService Thread Pool -- 83) ServiceContributorImpl#contribute application will use WildFlyCustomJtaPlatform
2018-09-25 09:49:25,372 TRACE [org.jipijapa] (ServerService Thread Pool -- 83) ServiceContributorImpl#contribute adding ORM initiator for 2lc region factory
2018-09-25 09:49:25,373 TRACE [org.jipijapa] (ServerService Thread Pool -- 83) WildFlyCustomRegionFactoryInitiator#resolveRegionFactory not using a 2lc, useSecondLevelCache=null, jpaSharedCodeModeValue=NONE, regionFactory=null
2018-09-25 09:49:25,391 TRACE [org.jipijapa] (MSC service thread 1-1) second level cache disabled for jpa_emfactory.jar#mypc, pu javax.persistence.sharedCache.mode property = null, pu.getSharedCacheMode = NONE
{quote}","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 7.0.0.Alpha1,WFLY-11039,12770378,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,19/Sep/18 5:01 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,16/Oct/18 10:43 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:08.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y006vo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure org.apache.geronimo.specs are excluded from tests,WFLY-11038,12770298,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,18/Sep/18 12:27 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,19/Sep/18 6:27 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,,,,,"When we are compiling the compatibility test suite, the geronimo-jta_1.1_spec library could come transitively from different dependencies. Some of those dependencies are using wildcards to exclude it.

Since there is a bug in maven enforcer plugin [MENFORCER-302|https://issues.apache.org/jira/browse/MENFORCER-302] for the Dependency Convergence rule, when we are creating the product branches; the enforcer plugin finds (due to its bug) a productized version of geronimo-jta_1.1_spec and the transitive dependencies coming from the compatibility test suite, failing in that case.

As a workaround to avoid this problem, we need to add explicitly the exclusions of geronimo-jta_1.1_spec in the compatibility test suite.


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:08.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11675,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y006ek:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on org.jberet.jberet-core,WFLY-11306,12778420,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,08/Nov/18 5:20 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,09/Nov/18 7:29 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Server,,,,,,,,,,,0,,,,,"Validate the need of these module dependencies in org.jberet.jberet-core module:

{code:xml}
<module name=""javax.xml.rpc.api""/>
<module name=""javax.rmi.api""/>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:08.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11823,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z014mo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Banned dependencies not excluded,WFLY-11301,12778396,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,07/Nov/18 10:50 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Nov/18 6:40 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"The following exclusions of banned dependencies should be added:

{code}

      <dependency>
            <groupId>org.jboss.ws.cxf</groupId>
            <artifactId>jbossws-cxf-client</artifactId>
            <exclusions>
                <exclusion>
                    <groupId>org.slf4j</groupId>
                    <artifactId>slf4j-log4j12</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <dependency>
            <groupId>org.apache.cxf</groupId>
            <artifactId>cxf-tools-java2ws</artifactId>
            <exclusions>
                <exclusion>
                    <groupId>com.sun.xml.bind</groupId>
                    <artifactId>jaxb-xjc</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.sun.xml.bind</groupId>
                    <artifactId>jaxb-core</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

      <dependency>
            <groupId>org.apache.cxf</groupId>
            <artifactId>cxf-tools-wsdlto-core</artifactId>
            <exclusions>
                <exclusion>
                    <groupId>com.sun.xml.bind</groupId>
                    <artifactId>jaxb-core</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <dependency>
            <groupId>org.apache.cxf</groupId>
            <artifactId>cxf-tools-wsdlto-databinding-jaxb</artifactId>
            <exclusions>
                <exclusion>
                    <groupId>com.sun.xml.bind</groupId>
                    <artifactId>jaxb-core</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

      <dependency>
            <groupId>org.apache.cxf</groupId>
            <artifactId>cxf-tools-validator</artifactId>
            <exclusions>
                <exclusion>
                    <groupId>com.sun.xml.bind</groupId>
                    <artifactId>jaxb-core</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:08.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11825,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z014hk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on org.jboss.as.xts,WFLY-11263,12777137,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,31/Oct/18 10:14 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,01/Nov/18 12:38 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Server,,,,,,,,,,,0,,,,,"Validate the need of these module dependencies in org.jboss.as.xts module:

{code:xml}
<module name=""javax.xml.rpc.api""/>
<module name=""javax.rmi.api""/>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:08.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11794,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00xag:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transaction subsystem should use optional module dependencies for remoting and undertow,WFLY-11185,12774553,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,15/Oct/18 6:54 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,19/Oct/18 1:59 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,"TransactionSubsystemAdd checks whether capabilities are installed before calling any code that requires remoting or undertow. This means the subsystem module's dependencies on remoting and undertow can be optional.

Making these optional will help Galleon to provision smaller servers.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11748,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00ixs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
multicastPrefix and anycastPrefix cannot be set,WFLY-11145,12773548,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,mnovak,mnovak,09/Oct/18 8:45 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,24/Oct/18 2:25 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"It's not possible to configure acceptor with {{multicastPrefix=jms.topic.}} and {{anycastPrefix=jms.queue.""}}. 

Problem is that those 2 parameters must be set to {{extraProps}} variable in TransportConfiguration:
https://github.com/apache/activemq-artemis/blob/a6b0b7e44291a76d6732c20b9efedf2a934fd189/artemis-core-client/src/main/java/org/apache/activemq/artemis/api/core/TransportConfiguration.java#L128

however in messaging integration we don't call TransportConfiguration constructor with extreProps map:
https://github.com/wildfly/wildfly/blob/47b1db08fadb745706df7ba411db4f7252d5dd04/messaging-activemq/src/main/java/org/wildfly/extension/messaging/activemq/TransportConfigOperationHandlers.java#L258

Ideally this CLI command should configure acceptor with anycast/multicast prefixes:
{code}
/subsystem=messaging-activemq/server=default/acceptor=acceptor:add(socket-binding=http,factory-class=org.apache.activemq.artemis.core.remoting.impl.netty.NettyAcceptorFactory,params={protocols=""CORE"",multicastPrefix=""jms.topic"",anycastPrefix=""jms.queue""})
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:08.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11731,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00dlk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Oct/18 8:46 AM;mnovak;[~ehugonnet] Could you take a look at it, please? thanks","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
If ServletInputStream.isReady returns false it is illegal to call the ServletInputStream.read method and EAP returns HTTP 200,WFLY-11103,12772478,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rpelisse,adamkrajcik,adamkrajcik,02/Oct/18 10:14 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,15/Oct/18 10:14 PM,14.0.1.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,"EAP returns HTTP 200 instead of 500 when IllegalStateException is thrown if ServletInputStream.isReady returns false.
This exists in 7.2.0.CD14, it works in 7.2.0.CD13.
{code}
Caused by: java.lang.IllegalStateException: UT010035: Stream in async mode was not ready for IO operation
	at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:164)
	at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:154)
	at org.resteasy.simple.deployment.er2.ResourceInfoInjectionResource$1.onDataAvailable(ResourceInfoInjectionResource.java:42)
	at io.undertow.servlet.spec.ServletContextImpl$3.call(ServletContextImpl.java:188)
	at io.undertow.servlet.spec.ServletContextImpl$3.call(ServletContextImpl.java:185)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.spec.ServletContextImpl.invokeOnDataAvailable(ServletContextImpl.java:1009)
	... 4 more

16:27:16,509 ERROR [org.jboss.resteasy.resteasy_jaxrs.i18n] (default I/O-5) RESTEASY002020: Unhandled asynchronous exception, sending back 500: org.jboss.resteasy.spi.UnhandledException: java.lang.RuntimeException: java.lang.IllegalStateException: UT010035: Stream in async mode was not ready for IO operation
	at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:257)
	at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:197)
	at org.jboss.resteasy.core.SynchronousDispatcher.asynchronousExceptionDelivery(SynchronousDispatcher.java:513)
	at org.jboss.resteasy.core.AbstractAsynchronousResponse.internalResume(AbstractAsynchronousResponse.java:228)
	at org.jboss.resteasy.plugins.server.servlet.Servlet3AsyncHttpRequest$Servlet3ExecutionContext$Servle3AsychronousResponse.resume(Servlet3AsyncHttpRequest.java:118)
	at org.resteasy.simple.deployment.er2.ResourceInfoInjectionResource$1.onError(ResourceInfoInjectionResource.java:61)
	at io.undertow.servlet.spec.ServletInputStreamImpl$ServletInputStreamChannelListener$1.run(ServletInputStreamImpl.java:317)
	at io.undertow.servlet.spec.ServletContextImpl$2.call(ServletContextImpl.java:181)
	at io.undertow.servlet.spec.ServletContextImpl$2.call(ServletContextImpl.java:178)
	at io.undertow.servlet.spec.ServletContextImpl.invokeRunnable(ServletContextImpl.java:1027)
	at io.undertow.servlet.spec.ServletInputStreamImpl$ServletInputStreamChannelListener.handleEvent(ServletInputStreamImpl.java:314)
	at io.undertow.servlet.spec.ServletInputStreamImpl$1$1.run(ServletInputStreamImpl.java:135)
	at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:479)
Caused by: java.lang.RuntimeException: java.lang.IllegalStateException: UT010035: Stream in async mode was not ready for IO operation
	at io.undertow.servlet.spec.ServletContextImpl.invokeOnDataAvailable(ServletContextImpl.java:1011)
	at io.undertow.servlet.spec.ServletInputStreamImpl$ServletInputStreamChannelListener.handleEvent(ServletInputStreamImpl.java:295)
	... 3 more
Caused by: java.lang.IllegalStateException: UT010035: Stream in async mode was not ready for IO operation
	at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:164)
	at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:154)
	at org.resteasy.simple.deployment.er2.ResourceInfoInjectionResource$1.onDataAvailable(ResourceInfoInjectionResource.java:42)
	at io.undertow.servlet.spec.ServletContextImpl$3.call(ServletContextImpl.java:188)
	at io.undertow.servlet.spec.ServletContextImpl$3.call(ServletContextImpl.java:185)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.spec.ServletContextImpl.invokeOnDataAvailable(ServletContextImpl.java:1009)
	... 4 more
{code}

The exception mentions that HTTP 500, should be returned.

[Comment|https://issues.jboss.org/browse/JBEAP-12223?focusedCommentId=13638954&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13638954] from [~rpelisse]  previous JIRA: 
{quote}Thanks for the step to reproduce, I've also managed to reproduce the behavior. Debugging through the problem, i've established that the code inserted to adress the isssue is still being used, the exception that lead to a 500 error to be returned is no longer being leading to 500 (but a 200).

If I'm not mistaken, CD13 used Undertow 2.0.9 while CD14 is now using 2.0.13. I'll keep looking tomorrow to which of the few commits introduced in between those versions can have caused the issue.
{quote}",,,,,,,,,,,,,JBEAP-15519,,,,,,,,,,,,,,,JBEAP-12223,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/18 10:14 AM;adamkrajcik;JBEAP-12223.zip;https://issues.redhat.com/secure/attachment/12441184/JBEAP-12223.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,1.0,,,,,,,,,,"1|z007co:",9223372036854775807,,0.0,,,,,"# ./standalone.sh 
# prepare deployment
#* download  [^JBEAP-12223.zip] 
#* mvn clean package
#* $JBOSS_HOME/bin/jboss-cli.sh -c
#* deploy target/jaxrs-wf.war -f
# curl -v --data ""aaa"" -X POST -H ""Content-Type: text/plain"" http://127.0.0.1:8080/jaxrs-wf/async",,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Hibernate51CompatibilityTransformer is missing some transformations for VersionType,WFLY-10981,12768297,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,simkam,simkam,05/Sep/18 11:37 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,07/Sep/18 12:26 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"There is probably missing transformation for synthetic ""bridge methods"" in {{org.hibernate.type.VersionType}}

{noformat}
Caused by: java.lang.NoSuchMethodError: org.jboss.as.test.compat.jpa.hibernate.transformer.IntegerType.seed(Lorg/hibernate/engine/spi/SessionImplementor;)Ljava/lang/Integer;
        at org.jboss.as.test.compat.jpa.hibernate.transformer.IntegerType.seed(IntegerType.java:26)
        at org.hibernate.engine.internal.Versioning.seed(Versioning.java:42)
        at org.hibernate.engine.internal.Versioning.seedVersion(Versioning.java:73)
        at org.hibernate.event.internal.AbstractSaveEventListener.substituteValuesIfNecessary(AbstractSaveEventListener.java:428)
        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:274)
        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:200)
        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:143)
        at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)
        at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)
        at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)
        at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)
        at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)
        at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:709)
        at org.hibernate.internal.SessionImpl.save(SessionImpl.java:701)
        at org.hibernate.internal.SessionImpl.save(SessionImpl.java:696)
        at org.jboss.as.test.compat.jpa.hibernate.transformer.SFSBHibernateSessionFactory.createQueueOwner(SFSBHibernateSessionFactory.java:231)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:90)
        at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:101)
        at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.jpa.interceptor.SFSBInvocationInterceptor.processInvocation(SFSBInvocationInterceptor.java:57)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3.tx.StatefulBMTInterceptor.handleInvocation(StatefulBMTInterceptor.java:94)
        ... 191 more
{noformat}

I don't expect users to implement directly {{VersionType}} but {{UserVersionType}}. ",,,,,,,,,,,,,JBEAP-15362,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-06 14:30:44.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11648,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|w0017c:",9223372036854775807,,0.0,,,,,clone https://github.com/simkam/wildfly/tree/hibernate_types and run {{mvn clean test -Dtest=VerifyHibernate51CompatibilityPropertyEnabledTransformerTestCase -DtestLogToFile=false}} in {{compat}} test suite module,,,,,,,,,,,"06/Sep/18 2:30 PM;smarlow;Below are some comments from private email discussion:

{quote}
From looking at the transformer debug output for the application class transformation, I see:

  // access flags 0x1
  public seed(Lorg/hibernate/engine/spi/SharedSessionContractImplementor;)Ljava/lang/Integer;
   L0
    LINENUMBER 69 L0
    GETSTATIC org/jboss/as/test/compat/jpa/hibernate/transformer/IntegerType.ZERO : Ljava/lang/Integer;
    ARETURN
   L1
    LOCALVARIABLE this Lorg/jboss/as/test/compat/jpa/hibernate/transformer/IntegerType; L0 L1 0
    LOCALVARIABLE session Lorg/hibernate/engine/spi/SessionImplementor; L0 L1 1
    MAXSTACK = 1
    MAXLOCALS = 2

// access flags 0x1041
  public synthetic bridge seed(Lorg/hibernate/engine/spi/SharedSessionContractImplementor;)Ljava/lang/Object;
   L0
    LINENUMBER 26 L0
    ALOAD 0
    ALOAD 1
    INVOKEVIRTUAL org/jboss/as/test/compat/jpa/hibernate/transformer/IntegerType.seed (Lorg/hibernate/engine/spi/SessionImplementor;)Ljava/lang/Integer;
    ARETURN
   L1
    LOCALVARIABLE this Lorg/jboss/as/test/compat/jpa/hibernate/transformer/IntegerType; L0 L1 0
    MAXSTACK = 2
    MAXLOCALS = 2

I think the compile error is on the bridge method, which still expects type SessionImplementor.
{quote}","06/Sep/18 2:31 PM;smarlow;{quote}
I tried removing the transformation of the VersionType#seed method and that leads to the following error (https://paste.fedoraproject.org/paste/v8XQrTed76dnwLKz-Xk0SQ), so it seems that we need the transformation:

""
java.lang.AbstractMethodError: Method org/jboss/as/test/compat/jpa/hibernate/transformer/IntegerType.seed(Lorg/hibernate/engine/spi/SharedSessionContractImplementor;)Ljava/lang/Object; is abstract
        ... 193 more
Caused by: java.lang.AbstractMethodError: Method org/jboss/as/test/compat/jpa/hibernate/transformer/IntegerType.seed(Lorg/hibernate/engine/spi/SharedSessionContractImplementor;)Ljava/lang/Object; is abstract
        at org.jboss.as.test.compat.jpa.hibernate.transformer.IntegerType.seed(IntegerType.java)
""

Apparently, the synthetic bridge ""seed"" method is generated by the Java compiler, when it compiles the application code.  This is explained by [1]:

The bug appears to be that the Hibernate transformer is not handling compiler generated ""synthetic bridge"" methods.

We will need a WFLY + JBEAP issue for this bug.  I'll see if I can transform the application byte code from:

""
INVOKEVIRTUAL org/jboss/as/test/compat/jpa/hibernate/transformer/IntegerType.seed (Lorg/hibernate/engine/spi/SessionImplementor;)Ljava/lang/Integer;
""

To instead do:

""
INVOKEVIRTUAL org/jboss/as/test/compat/jpa/hibernate/transformer/IntegerType.seed (Lorg/hibernate/engine/spi/SharedSessionContractImplementor;)Ljava/lang/Integer;
""

Scott

[1] https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html
{quote}","06/Sep/18 2:32 PM;smarlow;{quote}
I'm yet sure of the best fix, I got the tests to pass with the following transformer changes [1]:

1.  In application classes that implement/extend certain ORM classes, change method calls to SessionImplementor, to instead call SharedSessionContractImplementor methods.  Previously, we only did this for calls to org.hibernate.* class methods.
2.  Update constructors for application classes that implement org.hibernate.collection.spi.PersistentCollection to use SharedSessionContractImplementor instead of SessionImplementor.

I also tried checking specifically for ""synthetic bridge"" methods, instead of the liberal (1) change mentioned above but that wasn't enough (see attached alternative patch which didn't pass the tests).

To be clearer, with [1], all tests are passing, but we are changing more of the application code to use SharedSessionContractImplementor.  If some other part of the application that didn't get transformed is still using SessionImplementor, the application would not work.  I'm not sure how likely this would be to happen or to be a blocking issue for users. Feedback is welcome.
{quote}","06/Sep/18 2:33 PM;smarlow;{quote}
> I'm yet sure of the best fix, I got the tests to pass with the following transformer changes [1]:
>
> 1.  In application classes that implement/extend certain ORM classes, change method calls to SessionImplementor, to instead call SharedSessionContractImplementor methods.  Previously, we only did this for calls to org.hibernate.* class methods.

The certain ORM classes that we made this change for, to handle synthetic bridge methods (plus other methods), are currently the following classes:

org/hibernate/usertype/UserType
org/hibernate/usertype/CompositeUserType
org/hibernate/usertype/UserCollectionType
org/hibernate/usertype/UserVersionType
org/hibernate/type/Type
org/hibernate/type/SingleColumnType
org/hibernate/type/AbstractStandardBasicType
org/hibernate/type/ProcedureParameterExtractionAware
org/hibernate/type/ProcedureParameterNamedBinder
org/hibernate/type/VersionType
org/hibernate/collection/spi/PersistentCollection

> 2.  Update constructors for application classes that implement org.hibernate.collection.spi.PersistentCollection to use SharedSessionContractImplementor instead of SessionImplementor.

Note that we are only updating the constructors for PersistentCollection implementations, which means that synthetic bridge methods in the other (above) class implementations, will not be updated to use SharedSessionContractImplementor instead of SessionImplementor.

I'm thinking that we should update the constructors for the other above listed classes as well.  I'll try making this change and will push again.

Scott
{quote}","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WARN when a clustered EJB is bound to INADDR_ANY (0.0.0.0) as it can not reach back the cluster when not in the same local network,WFLY-11398,12780531,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gaol,gaol,gaol,21/Nov/18 11:46 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,22/Nov/18 6:51 AM,,,,,,15.0.0.Final,,,Clustering,EJB,,,,,,,,,,0,downstream_dependency,,,,"WARN when a clustered EJB is bound to INADDR_ANY (0.0.0.0) as it can not reach back the cluster when not in the same local network , as it will not work.

This is follow up to JBEAP-13813",28800,28800,,0%,28800,28800,,,,,,,JBEAP-15874,,,,,,,,,,,,,,,WFLY-11235,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:07.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11872,https://github.com/wildfly/wildfly/pull/12130,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01gl4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Obsolete 'Install the Quickstart Parent Artifact in Maven' section in Quickstarts ReadMe,WFLY-11375,12780002,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,sgilda,sgilda,sgilda,19/Nov/18 10:15 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,03/Dec/18 5:02 AM,,,,,,15.0.0.Final,,,Quickstarts,,,,,,,,,,,0,,,,,"Due to the fact that current (7.2.0.GA.CR1) version of quickstarts [does not|https://issues.jboss.org/browse/JBEAP-8991] require _quickstart-parent_ artifact manual installing - there is no need in 'Install the Quickstart Parent Artifact in Maven' ReadMe section. Quickstarts list containing this section is below:

* jaxws-pojo
* shopping-cart
* ejb-multi-server
* ejb-remote
* jaxws-ejb
* jaxws-addressing
* ejb-asynchronous
* jaxws-retail

Please consider removing this obsolete ReadMe section, thanks.",,,,,,,,,,,,,JBEAP-15873,,,,,,,,,,,,,,,JBEAP-8991,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01di8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make jpa dependency on ejb3 optional,WFLY-11184,12774526,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,15/Oct/18 3:33 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,17/Oct/18 7:59 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"It appears that a capability check would allow to make ejb3 dependency optional. This could have benefit in a context where the set of provisioned dependencies would be ruled by the actual feature set.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00isg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"15/Oct/18 3:34 PM;jdenise;A possible fix: https://github.com/jfdenise/wildfly/commit/436c1d2f0914611d75f24a41835b6510f1519701","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deployment failure if existing HA deployment contains a common EJB class,WFLY-11088,12771922,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,27/Sep/18 5:24 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,28/Sep/18 9:57 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Currently, the command dispatcher ID uses the bean name.  This needs to be qualified using the deployment name.

{noformat}Thrown in org.wildfly.clustering.server.dispatcher.MangedCommandDispatcherFactory.cre>ateCommandDispatcher(Object id, C context) line 98 ""jboss.deployment.subunit.\""app2.ear\"".\""app2.war\"".component.StatefullBean.START"" => ""java.lang.Ille galArgumentException: WFLYCLSV0017: A command dispatcher for StatefullBean already exists, but with a different command context slave1 | [Server:group1] Caused by: java.lang.IllegalArgumentException: WFLYCLSV0017: A command dispatcher for StatefullBean alrea dy exists, but with a different command context"",
slave1 | [Server:group1] ""jboss.deployment.subunit.\""app2.ear\"".\""app2.war\"".component.StatefulBean2.START"" => ""java.lang.IllegalA rgumentException: WFLYCLSV0017: A command dispatcher for StatefulBean2 already exists, but with a different command context slave1 | [Server:group1] Caused by: java.lang.IllegalArgumentException: WFLYCLSV0017: A command dispatcher for StatefulBean2 already e xists, but with a different command context""
slave1 | [Server:group1] },
slave1 | [Server:group1] ""WFLYCTL0288: One or more services were unable to start due to one or more indirect dependencies not being available."" => {
slave1 | [Server:group1] ""Services that were unable to start:"" => [ slave1 | [Server:group1] ""jboss.deployment.subunit.\""app2.ear\"".\""app2.war\"".moduleDeploymentRuntimeInformationStart"", slave1 | [Server:group1] ""jboss.deployment.unit.\""app2.ear\"".WeldEndInitService"", slave1 | [Server:group1] ""jboss.undertow.deployment.default-server.default-host./app2""
slave1 | [Server:group1] ], slave1 | [Server:group1] ""Services that may be the cause:"" => `
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:06.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11703,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00488:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize the client configuration properties in an artifact,WFLY-11424,12781199,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,27/Nov/18 11:50 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,27/Nov/18 3:13 PM,15.0.0.Beta1,,,,,15.0.0.Final,,,Application Client,,,,,,,,,,,0,,,,,Externalize the configuration properties in an artifact to be used in BOMs,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:06.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11888,https://github.com/wildfly/boms/pull/50,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01kio:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix Undertow Deployment Metrics,WFLY-11335,12779123,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,13/Nov/18 7:08 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,14/Nov/18 8:26 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,"Undertow deployment metrics are relevant only when /subsystem=undertow's statistics-enabled is true.

When that it not the case (and metrics can not be computed) the metrics' read handler should not return a meaningless value (e.g. 0) as it already specifies an undefined metric value in the metrics' attribute definition.

That change and WFCORE-4190 will prevent exposing Undertow metrics when they do not report actual metric from Undertow underlying runtime.",,,,,,,,,,,,,WFLY-11256,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:06.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z018io:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"The bean-validation subsystem should provide a capability; other subsystems should check for it before using classes",WFLY-11197,12774918,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,16/Oct/18 8:16 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,19/Oct/18 1:58 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Bean Validation,JPA / Hibernate,JSF,,,,,,,,,0,,,,,"JPA and JSF should not use BeanValidationAttachments.VALIDATOR_FACTORY without first checking for a capability.

This will allow JPA and JSF to make their dependencies on the org.wildfly.extension.bean-validation module be optional, which will allow Galleon to skip provisioning the module (and its dependencies) if the subsystem is not configured.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11752,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00l14:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JCA distributed work manager doesn't allow to add more than one,WFLY-11104,12772511,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,claudio4j,claudio4j,02/Oct/18 12:41 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,17/Oct/18 9:05 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"There is an error trying to add a 2nd JCA distributed work manager.

{code}
[standalone@localhost:9990 /] batch
[standalone@localhost:9990 / #] /subsystem=jca/distributed-workmanager=dwm2:add(name=dwm2)
[standalone@localhost:9990 / #] /subsystem=jca/distributed-workmanager=dwm2/short-running-threads=dwm2:add(max-threads=11,queue-length=22)
[standalone@localhost:9990 / #] run-batch
The batch failed with the following error (you are remaining in the batch editing mode to have a chance to correct the error):
WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:
Step: step-1
Operation: /subsystem=jca/distributed-workmanager=dwm2:add(name=dwm2)
Failure: WFLYCTL0436: Cannot register capability
'org.wildfly.connector.workmanager' at location '[
    (""subsystem"" => ""jca""),
    (""distributed-workmanager"" => ""dwm2"")
]' as it is already registered in context 'global' at location(s) '[[
    (""subsystem"" => ""jca""),
    (""distributed-workmanager"" => ""dwm1"")
]]'
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-04 06:32:31.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z007jk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.0.Final,WFLY-10999,12768969,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,10/Sep/18 8:07 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,17/Oct/18 10:27 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11721,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|w004dc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Infinispan IllegalStateException (Cannot create a transactional context without a valid Transaction instance) when session invalidated after redirect,WFLY-11208,12775119,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jondruse,jondruse,jondruse,18/Oct/18 3:44 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,30/Oct/18 1:48 PM,15.0.0.Beta1,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,Web (Undertow),,,,,,,,,,0,,,,,"When accessing jsp file which contains redirect followed by session invalidation:
{code}
<%
response.sendRedirect(""/foobar"");
request.getSession().invalidate();
%>
{code}
there is an IllegalStateException thrown in server.log:
{code}
09:43:41,501 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /undertow1374/: org.apache.jasper.JasperException: java.lang.IllegalArgumentException: Cannot create a transactional context without a valid Transaction instance.
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:473)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: Cannot create a transactional context without a valid Transaction instance.
	at org.infinispan.context.TransactionalInvocationContextFactory.createInvocationContext(TransactionalInvocationContextFactory.java:64)
	at org.infinispan.context.TransactionalInvocationContextFactory.createInvocationContext(TransactionalInvocationContextFactory.java:58)
	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:1013)
	at org.infinispan.cache.impl.DecoratedCache.lock(DecoratedCache.java:188)
	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:285)
	at org.infinispan.cache.impl.EncoderCache.lock(EncoderCache.java:318)
	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:285)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:120)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:110)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.remove(InfinispanSessionFactory.java:87)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.remove(InfinispanSessionFactory.java:37)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSession.invalidate(InfinispanSession.java:61)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$SchedulableSession.invalidate(InfinispanSessionManager.java:388)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:208)
	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:198)
	at org.apache.jsp.index_jsp._jspService(index_jsp.java:120)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11764,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00m6w:",9223372036854775807,,0.0,,,,,"# start wildfly {{./bin/standalone.sh}}
# deploy attached [^undertow1374.war]
# {{curl http://localhost:8080/undertow1374}}
# see ISE in server.log",,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE removing a pooled-connection-factory,WFLY-11194,12774892,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,claudio4j,claudio4j,16/Oct/18 3:50 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,24/Oct/18 2:26 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"There is a NullPointerException when try to remove a pooled-connection-factory 

{code}
/subsystem=messaging-activemq/in-vm-connector=invm1:add(server-id=123)

/subsystem=messaging-activemq/pooled-connection-factory=pool3:add(connectors=[invm1],entries=[foo])

/subsystem=messaging-activemq/pooled-connection-factory=pool3:remove()
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.lang.NullPointerException"",
    ""rolled-back"" => true
}
{code}

{code}
15:46:19,661 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""remove"") failed - address: ([
    (""subsystem"" => ""messaging-activemq""),
    (""pooled-connection-factory"" => ""pool3"")
]): java.lang.NullPointerException
        at org.wildfly.extension.messaging.activemq.jms.JMSServices.getPooledConnectionFactoryBaseServiceName(JMSServices.java:64)
        at org.wildfly.extension.messaging.activemq.jms.PooledConnectionFactoryRemove.performRuntime(PooledConnectionFactoryRemove.java:56)
        at org.jboss.as.controller.AbstractRemoveStepHandler$1.execute(AbstractRemoveStepHandler.java:84)
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1411)
        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)
        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:255)
        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:240)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:138)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:162)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:158)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:158)
        at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
        at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
        at java.lang.Thread.run(Thread.java:748)
        at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:05.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00kvc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add an initial private capability for the JPA subsystem,WFLY-11177,12774295,12660214,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,13/Oct/18 2:10 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,09/Nov/18 7:35 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"At some point we want a public capability for JPA, so it can expose a formal contract to other subsystem (e.g. weld.)  But sorting out what that capability exposes doesn't need to  block adding a private capability first. Having the private capability will allow the JPA subsystem to properly expose the requirements it has on capabilities exposed by other subsystems. And that will allow Galleon to properly understand those relationships when it generates configurations as part of server configuration.

So this subtask is to add such a private capability, with the remaining work of sorting out what public contract it will provide leftover as part of the parent issue.

It's not a problem to take a private capability and in the future make it public. And it's not a problem to change what a private capability exposes, i.e. in preparation for making it public.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11745,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00hjs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate ServiceBuilder's addDependencies() usages,WFLY-11268,12777342,12776056,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,01/Nov/18 5:32 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,02/Nov/18 5:30 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:04.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11798,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00yg8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-client from 4.0.11 to 4.0.12,WFLY-11232,12775928,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,23/Oct/18 1:08 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,23/Oct/18 4:29 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,EJB,,,,,,,,,,,0,,,,,There is a single fix in the upgrade https://github.com/wildfly/jboss-ejb-client/compare/4.0.11.Final...4.0.12.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JBEAP-15608,EJBCLIENT-310,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:04.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11775,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00quw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IdentifierSerializerTestCase.testHex fails in JDK11,WFLY-11155,12773787,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,10/Oct/18 11:54 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Oct/18 6:57 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"https://ci.wildfly.org/viewLog.html?buildId=124494&buildTypeId=WF_PullRequest_LinuxJdk10#testNameId8859243729253738053

The requisite java.xml.bind module was deprecated in Java 9 and removed from Java 11, as it was relocated to JEE.

Therefore the org.wildfly.clustering.web.spi module needs an additional provided dependency on the javax.xml.bind.api EE module.
However, it seems overkill to import a whole module just to perform hex encoding/decoding, as we can easily do this manually.",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-8451,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:04.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11732,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00eyo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Galleon and WildFly Galleon Plugins 3.0.0.CR1,WFLY-11330,12779015,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aloubyansky,aloubyansky,aloubyansky,12/Nov/18 11:43 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,14/Nov/18 10:06 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Build System,,,,,,,,,,,0,,,,,Upgrade to the latest Galleon 3.x release.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11839,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z017xs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BATCH mode should not use Infinispan's XA transaction table,WFLY-11324,12778810,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,10/Nov/18 9:08 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,10/Nov/18 3:15 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Currently, our logic for configuring BATCH mode is causing Infinispan to use the XA transaction table, instead of the the local transaction table.  This not only makes commits more costly, but should avoid some graceful shutdown bugs with the XA transaction table.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11834,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z016rs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Usage of static fields from java.lang classes as EL expressions in JSPs doesn't work for servlet 4.0,WFLY-11065,12771281,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jstourac,jstourac,jstourac,25/Sep/18 3:04 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,26/Sep/18 12:52 PM,14.0.0.Beta2,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,"This seems to be back but this time with Servlet 4.0 only as 3.1 seems to work just fine. Current test is already in [Wildfly testsuite|https://github.com/wildfly/wildfly/blob/master/testsuite/integration/basic/src/test/java/org/wildfly/test/integration/jsp/JspELTestCase.java] but it does not cover Servlet 4.0.

Java EE7 (which supports EL 3.0 spec) allows JSPs to use EL expressions like:

{code}
<html>
   <body>
      foo: --- ${Boolean.TRUE} ---<br>
      bar: --- ${Integer.MAX_VALUE} ---<br>
   </body>
</html>
{code}

However, the {code}${Boolean.TRUE}{code} and {code}${Integer.MAX_VALUE}{code} in the above example aren't evaluated correctly and instead a blank string is rendered for them. 

More details in the linked forum thread https://developer.jboss.org/thread/271825",,,,,,,,,,,,,JBEAP-15513,,,,,,,,,,,WFLY-11086,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:02.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11685,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z000gw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Sep/18 3:13 AM;jstourac;Note that there is prepared commit with tests to cover this issue in WildFly TS, [see here|https://github.com/jstourac/wildfly/commit/29e6fde75478a8245c7caa5bd4ecd27542c36cfc].","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Jaxws-retail quickstart readme file contains reference to EAP server,WFLY-11041,12770391,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,sgilda,szhantem,szhantem,19/Sep/18 6:27 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,23/Sep/18 12:34 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"In the latest quickstarts build from [https://github.com/wildfly/quickstart|https://github.com/wildfly/quickstart] the line in jaxws-retail Readme

{noformat}
Select the JBoss EAP server and click Finish.
{noformat}

references to EAP in situation when it can mention a WildFly server on the beginning of Readme. 
I suppose the server name in this line should be variable depending on EAP/WFLY distribution.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:02.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/299/,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y006y4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test DefaultElytronEjbSecurityDomainTestCase fails with security manager,WFLY-11350,12779370,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jucook,mchoma,mchoma,14/Nov/18 9:10 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,22/Nov/18 6:54 AM,14.0.0.Final,,,,,15.0.0.Final,,,Security,Test Suite,,,,,,,,,,0,security-manager,,,,"{noformat}
org.wildfly.test.integration.elytron.ejb (1)
    DefaultElytronEjbSecurityDomainTestCase.testSecurityOnTwoBeansInAbsenceOfExplicitSecurityDomain 
{noformat}

{noformat}
java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.wildfly.security.permission.ElytronPermission"" ""authenticate"")"" in code source ""(vfs:/content/ejb-security-domain-test.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ejb-security-domain-test.jar"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at org.wildfly.security.auth.server.SecurityDomain.authenticate(SecurityDomain.java:304)
	at org.wildfly.security.auth.server.SecurityDomain.authenticate(SecurityDomain.java:285)
	at org.jboss.as.test.shared.integration.ejb.security.Util.switchIdentity(Util.java:242)
	at org.jboss.as.test.shared.integration.ejb.security.Util.switchIdentity(Util.java:206)
	at org.jboss.as.test.shared.integration.ejb.security.Util.switchIdentitySCF(Util.java:302)
	at org.wildfly.test.integration.elytron.ejb.DefaultElytronEjbSecurityDomainTestCase.testSecurityOnTwoBeansInAbsenceOfExplicitSecurityDomain(DefaultElytronEjbSecurityDomainTestCase.java:104)
{noformat}

That helps

{noformat}
diff --git a/testsuite/integration/elytron/src/test/java/org/wildfly/test/integration/elytron/ejb/DefaultElytronEjbSecurityDomainTestCase.java b/testsuite/integration/elytron/src/test/java/org/wildfly/test/integration/elytron/ejb/DefaultElytronEjbSecurityDomainTestCase.java
index dee5422a40..48d077595d 100644
--- a/testsuite/integration/elytron/src/test/java/org/wildfly/test/integration/elytron/ejb/DefaultElytronEjbSecurityDomainTestCase.java
+++ b/testsuite/integration/elytron/src/test/java/org/wildfly/test/integration/elytron/ejb/DefaultElytronEjbSecurityDomainTestCase.java
@@ -79,7 +79,7 @@ public class DefaultElytronEjbSecurityDomainTestCase {
                 .addAsResource(currentPackage, ""users.properties"", ""users.properties"")
                 .addAsResource(currentPackage, ""roles.properties"", ""roles.properties"")
                 .addAsManifestResource(currentPackage, ""jboss-ejb3.xml"", ""jboss-ejb3.xml"")
-                .addAsManifestResource(createPermissionsXmlAsset(new ElytronPermission(""getSecurityDomain"")), ""permissions.xml"");
+                .addAsManifestResource(createPermissionsXmlAsset(new ElytronPermission(""getSecurityDomain""), new ElytronPermission(""authenticate"")), ""permissions.xml"");
     }
{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:02.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11869,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z019xk:",9223372036854775807,,0.0,,,,,"{noformat}
cd wildfly/testsuite/integration/elytron
mvn clean test -Dtest=DefaultElytronEjbSecurityDomainTestCase -Dsecurity.manager -DtestLogToFile=false
{noformat}",,,,,,,,,,,"19/Nov/18 6:13 AM;mchoma;[~fjuma] (cc [~dlofthouse]) Could you assign the issue to someone, please?","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Artemis to 2.6.3.jbossorg-0013,WFLY-11338,12779159,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,13/Nov/18 10:09 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,14/Nov/18 8:25 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"Upgrade Artemis to 2.6.3.jbossorg-0013
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:02.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11846,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z018q0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JAXWS Client BOM,WFLY-11266,12777269,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,01/Nov/18 7:59 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,07/Nov/18 10:41 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,BOM,Quickstarts,,,,,,,,,,0,,,,,"The dependency management defined on WildFly, for JAXWS/CXF client, is over 1000 SLoC due to exclusions applied, which is a nightmare to manage on client apps projects, such as the jaxws-* quickstarts.

To hide the dependency management complexity on apps a new client BOM should be added wrt JAXWS, which apps can just depend on it, and should includes all dependencies excluded on WildFly dependency management. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-15 04:10:24.0,,,,,,,,,,https://github.com/wildfly/boms/pull/47,https://github.com/wildfly/quickstart/pull/320,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z00y0w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"15/Nov/18 5:34 PM;kabirkhan;[~emmartins] A new BOM is an RFE. It both is something new for a user, and also something which needs more testing by QE (their testing of BOMs goes beyond testing that QS work)","21/Nov/18 5:56 AM;asoldano;Out of curiosity, why isn't org.jboss.ws.cxf:jbossws-cxf-client enough for client dependencies? ","21/Nov/18 7:42 AM;emmartins;[~asoldano] due to exclusions applied at wildfly dependency management","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade RESTEasy to 3.6.1.SP2,WFLY-11153,12773605,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,09/Oct/18 5:37 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,15/Oct/18 10:14 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,,,,,Upgrade RESTEasy to 3.6.2.Final for better JDK11 compatibility.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11103,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:02.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00dxk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JPA statistics do not show in the management console,WFLY-10964,12767678,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,smarlow,smarlow,31/Aug/18 11:24 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Dec/18 1:04 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"Currently, the following ""Unknown entity"" error shows up in the server console:

{code}
2018-09-04 12:01:32,740 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0010: Deployed ""JpaStatisticsTestCase.jar"" (runtime-name : ""JpaStatisticsTestCase.jar"")
2018-09-04 12:01:32,810 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""deployment"" => ""JpaStatisticsTestCase.jar""),
    (""subsystem"" => ""jpa""),
    (""hibernate-persistence-unit"" => ""JpaStatisticsTestCase.jar#mypc""),
    (""entity"" => ""org.jboss.as.test.integration.jpa.secondlevelcache.Company"")
]): org.hibernate.MappingException: Unknown entity: entity-update-count
	at org.hibernate.metamodel.internal.MetamodelImpl.entityPersister(MetamodelImpl.java:670)
	at org.hibernate.stat.internal.StatisticsImpl.lambda$getEntityStatistics$0(StatisticsImpl.java:215)
	at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660)
	at org.hibernate.stat.internal.StatisticsImpl.getEntityStatistics(StatisticsImpl.java:213)
	at org.hibernate.stat.internal.StatisticsImpl.getEntityStatistics(StatisticsImpl.java:32)
	at org.jboss.as.jpa.hibernate5.management.HibernateEntityStatistics.getStatistics(HibernateEntityStatistics.java:86)
	at org.jboss.as.jpa.hibernate5.management.HibernateEntityStatistics.access$000(HibernateEntityStatistics.java:37)
	at org.jboss.as.jpa.hibernate5.management.HibernateEntityStatistics$5.invoke(HibernateEntityStatistics.java:126)
	at org.jboss.as.jpa.hibernate5.management.HibernateAbstractStatistics.getValue(HibernateAbstractStatistics.java:99)
	at org.jboss.as.jpa.management.ManagementResourceDefinition$1.handle(ManagementResourceDefinition.java:130)
	at org.jboss.as.jpa.management.ManagementResourceDefinition$AbstractMetricsHandler.executeRuntimeStep(ManagementResourceDefinition.java:268)
	at org.jboss.as.controller.AbstractRuntimeOnlyHandler$1.execute(AbstractRuntimeOnlyHandler.java:59)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1411)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:265)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:231)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:240)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:138)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:162)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:158)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:246)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:158)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}

Fix this bug and add test to testsuite for this.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:01.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00fkv:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate ServiceBuilder's addInjection() & addInjectionValue() usages,WFLY-11238,12776057,12776056,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,24/Oct/18 7:20 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,01/Nov/18 1:11 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Agroal,CDI / Weld,EE,IIOP,JMS,JPA / Hibernate,Mail,Management,Naming,Security,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:01.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11778,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00rlc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
XAResourceRecoveryServiceConfigurator adds a TX service dependency for non-transactional caches,WFLY-11181,12774453,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,15/Oct/18 10:50 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,09/Nov/18 7:35 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"I _think_ this is wrong...

XAResourceRecoveryServiceConfigurator is installed for all caches, not just ones with the  ones with the component=transaction child resource.  That's basically ok because its accept and get methods only do things if this.cache.get().getCacheConfiguration().transaction().recovery().enabled(). But, the problem is the service dependency on the XAResourceRecoveryRegistry service the transaction subsystem provides is always added, so even if is wouldn't be used the dependency is added.

I think WFLY-11167 will make it possible to correct this by 1) doing capability checking before adding the service dependency and 2) adding a capability requirement in TransactionResourceDefinition.",,,,,,,,,,,,,,,WFLY-11167,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11745,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00ieo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
weld subsystem should not fail to start if transactions subsystem is missing,WFLY-11148,12773571,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,09/Oct/18 9:48 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Oct/18 7:27 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,CDI / Weld,,,,,,,,,,,0,,,,,Simple try/catch would solve this in checkJtsEnabled,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:01.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00dq8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 7.0.0.Alpha2,WFLY-11105,12772626,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,03/Oct/18 5:44 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,08/Oct/18 2:12 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:00.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0087c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Singleton MDB barrier service starts prematurely,WFLY-11056,12770691,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,20/Sep/18 4:02 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,21/Sep/18 4:25 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,EJB,,,,,,,,,,0,,,,,"Currently, this service starts actively.  However, it only needs to start when demanded by a deployed @Clustered @MessageDriven EJB.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:00.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11679,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|y008ok:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wrong description of jvm.uptime metric,WFLY-11393,12780399,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,rsvoboda,rsvoboda,21/Nov/18 10:03 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,22/Nov/18 6:49 AM,,,,,,15.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,"Wrong description of jvm.uptime metric

{code}
curl -H ""Accept: application/json"" -X OPTIONS http://localhost:9990/metrics/base/jvm.uptime

{
    ""jvm.uptime"": {
        ""unit"": ""milliseconds"",
        ""type"": ""gauge"",
        ""description"": ""Displays the start time of the Java virtual machine in milliseconds. This attribute displays the approximate time when the Java virtual machine started."",
        ""displayName"": ""JVM Uptime"",
        ""tags"": """"
    }
{code}

This metric doesn't display start time, but uptime of JVM. Description for the metric should be fixed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:00.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01fs0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 7.0.0.Beta1,WFLY-11341,12779290,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,14/Nov/18 5:12 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,14/Nov/18 2:20 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:00.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z019g0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix Undertow Metrics,WFLY-11256,12776968,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,30/Oct/18 11:07 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,31/Oct/18 5:05 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,"Undertow metrics are relevant only when /subsystem=undertow's statistics-enabled is true.

When that it not the case (and metrics can not be computer) the metrics' read handler should not return a meaningless value (e.g. 0) as it already specifies an undefined metric value in the metrics' attribute definition.

That change and WFCORE-4190 will prevent exposing Undertow metrics when they do not report actual metric from Undertow underlying runtime.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:00.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00wa0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for registering a single JVM / Server wide default SSLContext,WFLY-11250,12776355,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,25/Oct/18 12:28 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,09/Nov/18 6:41 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Documentation,Security,,,,,,,,,,0,,,,,By registering a global SSLContext libraries used within the application server can make use of a managed SSLContext instead of relying on one automatically being created through the standard system properties.,,,,,,,,,,,,,WFCORE-4144,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:00.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00taw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Default ASYM_ENCRYPT asym_keylength is considered breakable,WFLY-11169,12774237,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,12/Oct/18 1:41 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,17/Oct/18 7:55 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"JGroups default asym_keylength is 512, however RSA keys less than 1024 bits are considered breakable (e.g. https://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html )

We should baseline the default to a secure size universally supported in our supported JDKs. Also, since JDK8 the default is 2048. ",,,,,,,,,JGRP-2302,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:00.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11739,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00h7c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Executing legacy operations in mod_cluster subsystem is not possible with configuration with just one proxy,WFLY-11117,12772951,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,jkasik,jkasik,04/Oct/18 10:24 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,08/Nov/18 7:50 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,mod_cluster,,,,,,,,,,,0,,,,,"Running legacy operation ends up with an error:

{code}
[standalone@localhost:9990 /] /subsystem=modcluster/:disable
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYMODCLS0022: Legacy operations cannot be used with multiple proxy configurations. Use non-deprecated operations at the correct proxy address."",
    ""rolled-back"" => true
}
{code}

mod_cluster configuration:
{code}
[standalone@localhost:9990 /] /subsystem=modcluster/:read-resource
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""mod-cluster-config"" => {""configuration"" => undefined},
        ""proxy"" => {""default"" => undefined}
    }
}
{code}",,,,,,,,,,,,,,,,,,,,,,,,WFLY-11135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,User Experience,,,,,,,,,,,,,,,2018-10-08 17:40:57.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11726,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z00a3k:",9223372036854775807,,0.0,,,,,"# Start Wildfly with {{standalone-ha.xml}} profile 
# {code}
[standalone@localhost:9990 /] /subsystem=modcluster/:disable
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYMODCLS0022: Legacy operations cannot be used with multiple proxy configurations. Use non-deprecated operations at the correct proxy address."",
    ""rolled-back"" => true
}
{code}",,,,,,,jkasik,,Workaround Exists,"{code}
[standalone@localhost:9990 /] /subsystem=modcluster/proxy=default:disable
{
    ""outcome"" => ""success"",
    ""result"" => false
}
{code}","08/Oct/18 5:40 PM;rhusar;[~jkasik] btw if you want to show the entire subsystem configuration, specify recursive=true, e.g.:

{code}
[standalone@localhost:9990 /] /subsystem=modcluster/:read-resource(recursive=true
{
    ""outcome"" => ""success"",
    ""result"" => {""proxy"" => {""default"" => {
        ""advertise"" => true,
        ""advertise-security-key"" => undefined,
        ""advertise-socket"" => ""modcluster"",
        ""auto-enable-contexts"" => true,
        ""balancer"" => undefined,
        ""connector"" => ""ajp"",
        ""excluded-contexts"" => undefined,
        ""flush-packets"" => false,
        ""flush-wait"" => -1,
        ""listener"" => ""ajp"",
        ""load-balancing-group"" => undefined,
        ""max-attempts"" => 1,
        ""node-timeout"" => -1,
        ""ping"" => 10,
        ""proxies"" => undefined,
        ""proxy-list"" => undefined,
        ""proxy-url"" => ""/"",
        ""session-draining-strategy"" => ""DEFAULT"",
        ""simple-load-provider"" => undefined,
        ""smax"" => -1,
        ""socket-timeout"" => 20,
        ""ssl-context"" => undefined,
        ""status-interval"" => 10,
        ""sticky-session"" => true,
        ""sticky-session-force"" => false,
        ""sticky-session-remove"" => false,
        ""stop-context-timeout"" => 10,
        ""ttl"" => -1,
        ""worker-timeout"" => -1,
        ""load-provider"" => {""dynamic"" => {
            ""decay"" => 2.0,
            ""history"" => 9,
            ""custom-load-metric"" => undefined,
            ""load-metric"" => {""cpu"" => {
                ""capacity"" => 1.0,
                ""property"" => undefined,
                ""type"" => ""cpu"",
                ""weight"" => 1
            }}
        }},
        ""ssl"" => undefined
    }}}
}
{code}","08/Oct/18 6:33 PM;rhusar;Another part of the problem is the new MSC API, which fails with converted API while the legacy operations still used old MSC API.","16/Nov/18 7:21 AM;jkasik;It seems to me, that this is still not fixed...

{noformat}
[standalone@localhost:9990 /] /subsystem=modcluster/:disable

06:02:59,984 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""disable"") failed - address: ([(""subsystem"" => ""modcluster"")]): java.lang.IllegalStateException: WFLYCTL0181: Get service registry only supported in runtime operations

	at org.jboss.as.controller.OperationContextImpl.getServiceRegistry(OperationContextImpl.java:613)

	at org.jboss.as.controller.OperationContextImpl.getServiceRegistry(OperationContextImpl.java:590)

	at org.wildfly.extension.mod_cluster.LegacyProxyOperation.getService(LegacyProxyOperation.java:524)

	at org.wildfly.extension.mod_cluster.LegacyProxyOperation.access$100(LegacyProxyOperation.java:61)

	at org.wildfly.extension.mod_cluster.LegacyProxyOperation$2.execute(LegacyProxyOperation.java:116)

	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)

	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)

	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)

	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1411)

	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)

	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)

	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)

	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:255)

	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)

	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:240)

	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:138)

	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:162)

	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:158)

	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)

	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)

	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)

	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)

	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:158)

	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)

	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)

	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)

	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)

	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)

	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)

	at java.lang.Thread.run(Thread.java:748)

	at org.jboss.threads.JBossThread.run(JBossThread.java:485)

{

    ""outcome"" => ""failed"",

    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.lang.IllegalStateException: WFLYCTL0181: Get service registry only supported in runtime operations"",

    ""rolled-back"" => true
{noformat}","02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix tests that rely on internationalized loggers not being present,WFLY-10957,12767540,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,30/Aug/18 6:04 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,03/Sep/18 6:02 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Logging,,,,,,,,,,,0,,,,,Occasionally tests make it through the review process which rely on internationalized message bundles or loggers not be present. These should be fixed so if a build is run with a locale of a translated language the tests will pass.,,,,,,,,,,,,,WFCORE-4079,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:59.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11623,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00err:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Drop custom invocation batching logic,WFLY-11423,12781192,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,27/Nov/18 11:03 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,29/Nov/18 9:22 AM,15.0.0.Beta1,,,,,15.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"The custom invocation batching logic in the Infinispan subsystem is no longer used internally.  We can prevent the need to ""trick"" infinispan into using the correct transaction table by using Infinispan's native batching logic.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:59.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11887,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01kh4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unnecessary registration of a CDI portable extension in Smallrye micro profile config,WFLY-11303,12778405,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,08/Nov/18 3:46 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,09/Nov/18 7:29 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,MP Config,,,,,,,,,,,0,,,,,"Smallrye micro profile is registering a ConfigExtension when it is already registered by Weld. 

This portable extension is brought in by io.smallrye:smallrye-config dependency in its META-INF folder, and Weld automatically registers a CDI portable extension if it is found in the application classpath. That means it is unnecesary to register it again by wildfly config-smallrye.

It will allow also remove some unnecesary modules dependencies.  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:59.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11822,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z014jk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Messaging http-acceptor should expose a capability and use it to control dependencies,WFLY-11179,12774433,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,brian.stansberry,brian.stansberry,15/Oct/18 9:39 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,09/Nov/18 7:28 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"An HTTPAcceptor brings some config and classloading deps that can probably be better controlled if a capability were used.

1) Once WFCORE-4166 is done a capability requirement can be used for the required HttpListenerRegistryService, which will help ensure config consistency by making the config links clear.

2) If there are any module dependencies the messaging subsystem module has that are only needed to support an HTTPAcceptor, then those can be made optional, and then the RuntimeCapability.Builder.addAdditionalRequiredPackages method can be used to record the requirement for those optional packages if the new capability is present. (Actually, at a glance it looks like the relevant module deps are already optional, so this bit is about telling Galleon when they are required.)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00iao:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove javax.ejb.api module dependency on javax.rmi.api,WFLY-11144,12773545,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,09/Oct/18 8:40 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,09/Oct/18 6:48 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"The javax.ejb.api module depends on javax.rmi.api. But I can't see any reason why; the code in the spec jar does not import anything from any of the classes in the javax.rmi and org.jboss.javax.rmi packages that the javax.rmi.api module exports.

This is important because javax.rmi.api brings in a huge dependency tree.  That module is really just a wrapper around javax.orb.api, exporting a subset of its packages. And javax.orb.api is a misnomer -- it's not just API, it's the entire orb, with implementation dependencies that transitively bring in a large chunk of the entire appserver codebase.

So if javax.ejb.api does not need javax.rmi.api we need to remove that link.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-09 09:08:34.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11723,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z00dkw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Oct/18 9:08 AM;dmlloyd;Running {{jdeps}} seems to confirm that this is OK:

{noformat}
$ jdeps ~/.m2/repository/org/jboss/spec/javax/ejb/jboss-ejb-api_3.2_spec/1.0.1.Final/jboss-ejb-api_3.2_spec-1.0.1.Final.jar
jboss-ejb-api_3.2_spec-1.0.1.Final.jar -> java.base
jboss-ejb-api_3.2_spec-1.0.1.Final.jar -> java.naming
jboss-ejb-api_3.2_spec-1.0.1.Final.jar -> java.rmi
jboss-ejb-api_3.2_spec-1.0.1.Final.jar -> not found
   javax.ejb                                          -> java.io                                            java.base
   javax.ejb                                          -> java.lang                                          java.base
   javax.ejb                                          -> java.lang.annotation                               java.base
   javax.ejb                                          -> java.rmi                                           java.rmi
   javax.ejb                                          -> java.security                                      java.base
   javax.ejb                                          -> java.util                                          java.base
   javax.ejb                                          -> java.util.concurrent                               java.base
   javax.ejb                                          -> javax.transaction                                  not found
   javax.ejb                                          -> javax.xml.rpc.handler                              not found
   javax.ejb.embeddable                               -> java.io                                            java.base
   javax.ejb.embeddable                               -> java.lang                                          java.base
   javax.ejb.embeddable                               -> java.net                                           java.base
   javax.ejb.embeddable                               -> java.util                                          java.base
   javax.ejb.embeddable                               -> java.util.regex                                    java.base
   javax.ejb.embeddable                               -> javax.ejb                                          jboss-ejb-api_3.2_spec-1.0.1.Final.jar
   javax.ejb.embeddable                               -> javax.ejb.spi                                      jboss-ejb-api_3.2_spec-1.0.1.Final.jar
   javax.ejb.embeddable                               -> javax.naming                                       java.naming
   javax.ejb.spi                                      -> java.io                                            java.base
   javax.ejb.spi                                      -> java.lang                                          java.base
   javax.ejb.spi                                      -> java.util                                          java.base
   javax.ejb.spi                                      -> javax.ejb                                          jboss-ejb-api_3.2_spec-1.0.1.Final.jar
   javax.ejb.spi                                      -> javax.ejb.embeddable                               jboss-ejb-api_3.2_spec-1.0.1.Final.jar
{noformat}

I don't see any dependencies that would have to come from {{javax.rmi.api}}.","09/Oct/18 2:09 PM;brian.stansberry;Thanks, David.","02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Galleon and WildFly Galleon Plugins 2.0.1.Final,WFLY-11126,12773202,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aloubyansky,aloubyansky,aloubyansky,05/Oct/18 6:25 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,16/Oct/18 10:43 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Build System,,,,,,,,,,,0,,,,,These two releases include critical fixes such as WFGP-91 and GAL-175,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11121,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11719,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00bls:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade javax.mail from 1.6.1 to 1.6.2,WFLY-11331,12779042,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ctomc,lafr,lafr,12/Nov/18 5:54 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,13/Nov/18 3:25 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Mail,,,,,,,,,,,0,,,,,Upgrade javax.mail to latest version.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:58.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0182w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on org.jboss.as.jsr77,WFLY-11257,12776970,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,30/Oct/18 11:15 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,31/Oct/18 5:02 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Server,,,,,,,,,,,0,,,,,"Validate the need of these module dependencies in org.jboss.as.jsr77 module:

{code:xml}
<module name=""javax.transaction.api""/>
<module name=""javax.xml.rpc.api""/>
<module name=""javax.rmi.api""/>
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11787,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00wag:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Quickstart jaxrs-jwt should use the ""jboss.server.config.dir"" system property for the file path to jwt.keystore",WFLY-10884,12765370,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,mmiura,mmiura,17/Aug/18 5:08 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,14/Oct/18 3:37 AM,13.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"Quickstart jaxrs-jwt should use the ""jboss.server.config.dir"" system property for the file path to jwt.keystore.

We can not expect ../standalone/configuration/jwt.keystore is always a valid path for jwt.keystore because the process current directory can be changed to any other location than $JBOSS_HOME/bin when standalone.sh is invoked from other location. 

For example, when you start WildFly by executing ./bin/standalone.sh under $JBOSS_HOME directory, the request fails with the following FileNotFoundException:

{code}
19:15:57,579 ERROR [stderr] (default task-1) java.io.FileNotFoundException: ../standalone/configuration/jwt.keystore (No such file or directory)
19:15:57,581 ERROR [stderr] (default task-1) 	at java.io.FileInputStream.open0(Native Method)
19:15:57,581 ERROR [stderr] (default task-1) 	at java.io.FileInputStream.open(FileInputStream.java:195)
19:15:57,581 ERROR [stderr] (default task-1) 	at java.io.FileInputStream.<init>(FileInputStream.java:138)
19:15:57,582 ERROR [stderr] (default task-1) 	at java.io.FileInputStream.<init>(FileInputStream.java:93)
19:15:57,582 ERROR [stderr] (default task-1) 	at org.jboss.quickstarts.jaxrsjwt.auth.JwtManager.<clinit>(JwtManager.java:46)
19:15:57,583 ERROR [stderr] (default task-1) 	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
19:15:57,583 ERROR [stderr] (default task-1) 	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
19:15:57,583 ERROR [stderr] (default task-1) 	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
19:15:57,584 ERROR [stderr] (default task-1) 	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
19:15:57,584 ERROR [stderr] (default task-1) 	at java.lang.Class.newInstance(Class.java:442)
19:15:57,585 ERROR [stderr] (default task-1) 	at org.jboss.weld.bean.proxy.DefaultProxyInstantiator.newInstance(DefaultProxyInstantiator.java:43)
19:15:57,586 ERROR [stderr] (default task-1) 	at org.jboss.weld.bean.proxy.ProxyFactory.run(ProxyFactory.java:359)
19:15:57,586 ERROR [stderr] (default task-1) 	at org.jboss.weld.bean.proxy.ProxyFactory.create(ProxyFactory.java:343)
19:15:57,586 ERROR [stderr] (default task-1) 	at org.jboss.weld.bean.proxy.ClientProxyFactory.create(ClientProxyFactory.java:81)
19:15:57,587 ERROR [stderr] (default task-1) 	at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:206)
....
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-12 15:48:34.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/293,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|i002br:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Oct/18 3:48 PM;sgilda;[~emmartins]: 

I submitted a fix to the README file, but closed it because it appears a fix was submitted [1] to handle the path issue. 

If the existing PR does not look good, you can reopen my PR [2] that fixes it in the README instructions.


[1] https://github.com/wildfly/quickstart/pull/293
[2] https://github.com/wildfly/quickstart/pull/306

","02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on ejb3 related modules,WFLY-11417,12780909,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,26/Nov/18 7:40 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,26/Nov/18 12:31 PM,,,,,,15.0.0.Final,,,Server,,,,,,,,,,,0,,,,,"Validate the need of any of these module dependencies in {{org.jboss.as.ejb3}}, {{org.jboss.ejb3}} and {{org.jboss.ejb-client}}

{code:xml}
<module name=""javax.transaction.api""/> 
<module name=""javax.xml.rpc.api""/>
<module name=""javax.rmi.api""/>
<module name=""org.omg.api""/>
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:57.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11883,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01its:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade istack to 3.0.7,WFLY-11286,12777876,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,psakar,szhantem,kabirkhan,06/Nov/18 5:16 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,06/Nov/18 9:14 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,XML Frameworks,,,,,,,,,,,0,,,,,"istack-commons 3.0.7 is shaded in jaxb 2.3.1, while the server is only on 3.0.5",,,,,,,,,,,,,JBEAP-15774,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-06 09:14:11.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z011fc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"06/Nov/18 9:14 AM;kabirkhan;[~dosoudil] [~psakar] This has been merged for WF 15","02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rewrite SAR subsystem to don't use deprecated ServiceBuilder methods,WFLY-11239,12776094,12776056,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,24/Oct/18 9:27 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,01/Nov/18 12:51 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Server,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:57.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11792,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00rso:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade smallrye-config 1.3.4,WFLY-11080,12771605,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,26/Sep/18 10:00 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,11/Oct/18 6:50 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,MP Config,,,,,,,,,,,0,,,,,Smallrye-config 13.4 will incorporate the fix for WFLY-10920,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10920,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:56.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z002cg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create mixed domain tests for WF14,WFLY-10902,12766175,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,kabirkhan,kabirkhan,22/Aug/18 7:20 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,19/Oct/18 2:00 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,WFCORE-4109,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:56.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|i006tj:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Sep/18 12:29 PM;kabirkhan;Some (not working) WIP in my https://github.com/kabir/wildfly/commits/mixed-domain branch. [~luck3y] has uploaded wildfly-14.0.0.Final.zip to CI so it is ready for when this works","02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update root README with instructions to build the README html files,WFLY-11362,12779638,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,sgilda,sgilda,sgilda,15/Nov/18 12:01 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,19/Nov/18 3:03 PM,,,,,,15.0.0.Final,,,Quickstarts,,,,,,,,,,,0,,,,,"Now that the `README.adoc` files use includes and are not easily readable, we should provide instructions to generate the `README.html` files. We also need to remove some obsolete content, for example '.md' files that have been replaced with '.adoc' files.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:56.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01bj4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add EAP 7.2.0 transformers tests for mod_cluster subsystem,WFLY-11299,12778382,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,07/Nov/18 5:25 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,14/Nov/18 10:04 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,mod_cluster,,,,,,,,,,,0,,,,,"Since work in underway, we need to have these tests in place.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:56.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11821,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z014eg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Dependencies: Manifest Entries should be a heading,WFLY-11386,12780309,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ppalaga,ppalaga,ppalaga,21/Nov/18 3:50 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,21/Nov/18 9:11 AM,,,,,,15.0.0.Final,,,Documentation,,,,,,,,,,,0,,,,,"Dependencies: Manifest Entries is formatted (bold) as a heading, but it is not a heading, has no anchor, and hence cannot be linked directly e.g. from stackoverflow.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:55.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11865,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01f88:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Docs for MP Health and MP OpenTracing are not properly included,WFLY-11332,12779065,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rsvoboda,rsvoboda,rsvoboda,13/Nov/18 3:22 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,14/Nov/18 10:06 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Documentation,,,,,,,,,,,0,,,,,Docs for MP Health and MP OpenTracing are not properly included,,,,,,,,,,,,,,,,,,,,,,,,WFWIP-150,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:55.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11841,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0187k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
StandardConfigsXMLValidationUnitTestCase fails on legacy builds,WFLY-11284,12777657,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,05/Nov/18 7:24 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,05/Nov/18 1:14 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"StandardConfigsXMLValidationUnitTestCase fails on legacy builds. Error log:

{noformat}
[INFO] Running org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase
[ERROR] Tests run: 17, Failures: 17, Errors: 0, Skipped: 0, Time elapsed: 0.813 s <<< FAILURE! - in org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase
[ERROR] testStandaloneEC2FullHA(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.146 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandaloneEC2FullHA(StandardConfigsXMLValidationUnitTestCase.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testHostMaster(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.057 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testHostMaster(StandardConfigsXMLValidationUnitTestCase.java:88)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandalone(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.058 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandalone(StandardConfigsXMLValidationUnitTestCase.java:98)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testHost(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.041 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testHost(StandardConfigsXMLValidationUnitTestCase.java:78)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandaloneHA(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.047 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandaloneHA(StandardConfigsXMLValidationUnitTestCase.java:103)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandaloneJTS(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.033 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandaloneJTS(StandardConfigsXMLValidationUnitTestCase.java:139)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandaloneRTS(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.04 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandaloneRTS(StandardConfigsXMLValidationUnitTestCase.java:159)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandaloneXTS(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.031 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandaloneXTS(StandardConfigsXMLValidationUnitTestCase.java:154)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandaloneGossipHA(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.035 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandaloneGossipHA(StandardConfigsXMLValidationUnitTestCase.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testHostSlave(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.03 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testHostSlave(StandardConfigsXMLValidationUnitTestCase.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandalonePicketLink(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.027 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandalonePicketLink(StandardConfigsXMLValidationUnitTestCase.java:149)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandaloneMinimalistic(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.027 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandaloneMinimalistic(StandardConfigsXMLValidationUnitTestCase.java:144)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandaloneEC2HA(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.034 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandaloneEC2HA(StandardConfigsXMLValidationUnitTestCase.java:119)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandaloneGossipFullHA(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.037 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandaloneGossipFullHA(StandardConfigsXMLValidationUnitTestCase.java:134)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandaloneFull(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.034 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandaloneFull(StandardConfigsXMLValidationUnitTestCase.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testDomain(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.034 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testDomain(StandardConfigsXMLValidationUnitTestCase.java:93)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[ERROR] testStandaloneGenericJMS(org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase)  Time elapsed: 0.033 s  <<< FAILURE!
java.lang.AssertionError: web-app_3_1.xsd not found
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest.discoverXsd(AbstractValidationUnitTest.java:286)
	at org.wildfly.dist.subsystem.xml.AbstractValidationUnitTest$2.resolveResource(AbstractValidationUnitTest.java:207)
	at com.sun.org.apache.xerces.internal.util.DOMEntityResolverWrapper.resolveEntity(DOMEntityResolverWrapper.java:117)
	at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1081)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:654)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.resolveSchema(XSDHandler.java:2058)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.constructTrees(XSDHandler.java:1014)
	at com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:625)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:610)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:569)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.loadGrammar(XMLSchemaLoader.java:535)
	at com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory.newSchema(XMLSchemaFactory.java:254)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.parseXml(StandardConfigsXMLValidationUnitTestCase.java:171)
	at org.wildfly.dist.subsystem.xml.StandardConfigsXMLValidationUnitTestCase.testStandaloneGenericJMS(StandardConfigsXMLValidationUnitTestCase.java:164)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

[INFO] Running org.wildfly.dist.subsystem.xml.XSDValidationUnitTestCase
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.45 s - in org.wildfly.dist.subsystem.xml.XSDValidationUnitTestCase
[INFO]
[INFO] Results:
[INFO]
[ERROR] Failures:
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testDomain:93->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testHost:78->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testHostMaster:88->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testHostSlave:83->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandalone:98->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandaloneEC2FullHA:124->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandaloneEC2HA:119->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandaloneFull:108->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandaloneGenericJMS:164->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandaloneGossipFullHA:134->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandaloneGossipHA:129->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandaloneHA:103->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandaloneJTS:139->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandaloneMinimalistic:144->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandalonePicketLink:149->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandaloneRTS:159->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[ERROR]   StandardConfigsXMLValidationUnitTestCase.testStandaloneXTS:154->parseXml:171->AbstractValidationUnitTest.discoverXsd:286 web-app_3_1.xsd not found
[INFO]
[ERROR] Tests run: 18, Failures: 17, Errors: 0, Skipped: 0
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:55.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11811,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01080:",9223372036854775807,,0.0,,,,,"cd dist-legacy
mvn clean install -DallTests -DlegacyBuild -DlegacyRelease -Drelease",,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The javax.orb.api module's dependencies on the iiop-opendk and transaction subsystem modules should be optional,WFLY-11196,12774913,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,16/Oct/18 5:26 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,17/Oct/18 7:58 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,IIOP,,,,,,,,,,,0,,,,,"The javax.orb.api module depends on org.wildfly.iiop-openjdk and org.jboss.as.transactions in order to allow the ORB to initialize using classes that the iiop-openjdk subsystem will configure.

But if there is no iiop-openjdk subsystem in the config, then no such configuration will occur. Which means the dependencies are optional.

This is meaningful because javax.orb.api is relatively widely used as an API module, both directly and via the org.omg.api and javax.rmi.api modules that 'wrap' it.  When Galleon is trying to provision an optimized footprint server we don't want the mere fact that some required module has an API dependency on one of those to result in a big set of transitive dependencies. Marking the iiop-openjdk and transaction subsystem modules as optional dependencies as such will allow Galleon to decide not to provision them if the config doesn't specify them.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11750,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00l00:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
inter-app can't be deployed,WFLY-11210,12772958,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,jdenise,jdenise,04/Oct/18 10:47 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,23/Oct/18 1:21 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"When deploying we have un-resolved dependency.

I am using jboss EAP quickstarts and wildfly 15.0.0.Alpha1-SNAPSHOT

16:45:57,040 INFO  [org.jboss.weld.Version] (MSC service thread 1-5) WELD-000900: 3.0.5 (Final)
16:45:57,454 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""add"") failed - address: ([(""deployment"" => ""inter-app-appA.war"")]) - failure description: {
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.naming.context.java.global.inter-app-appB.\""BarImpl!org.jboss.as.quickstarts.interapp.shared.Bar\""""],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.naming.context.java.module.inter-app-appA.inter-app-appA.env.\""org.jboss.as.quickstarts.interapp.appA.Imports\"".bar is missing [jboss.naming.context.java.global.inter-app-appB.\""BarImpl!org.jboss.as.quickstarts.interapp.shared.Bar\""]""]
}
16:45:57,457 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment ""inter-app-appA.war"" was rolled back with the following failure message: 
{
    ""WFLYCTL0412: Required services that are not installed:"" => [""jboss.naming.context.java.global.inter-app-appB.\""BarImpl!org.jboss.as.quickstarts.interapp.shared.Bar\""""],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.naming.context.java.module.inter-app-appA.inter-app-appA.env.\""org.jboss.as.quickstarts.interapp.appA.Imports\"".bar is missing [jboss.naming.context.java.global.inter-app-appB.\""BarImpl!org.jboss.as.quickstarts.interapp.shared.Bar\""]""]
}
",,,,,,,,,,,,,,,,,,,,,,WFLY-11084,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,?,?,,?,?,?,,2018-10-12 15:52:31.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z00a54:",9223372036854775807,,0.0,,,,,,,,7.backlog.GA,,,,,,,,"12/Oct/18 3:52 PM;sgilda;I just tried this with the WildFly quickstart from Git against the wildfly-15.0.0.Alpha1-SNAPSHOT build and get the same failure. Something has changed in the deployment process so that this no longer works.","19/Oct/18 2:58 PM;brian.stansberry;This is a duplicate and is not a bug in WF.  I'll go find the duplicate.","19/Oct/18 3:08 PM;brian.stansberry;[~emmartins] See the discussion on WFLY-11084. This is not a valid app design, due to the circular dependencies, or at least it is not if you are not willing to do all management of the apps via composite managment ops (e.g. CLI batch.) And if you're always going to have to manage the apps as a unit, a technology like an ear seems like a better practice. Since I think part of the point of the QS is to not use an ear, and it seems like a bad idea to promote something that requires a CLI batch, I think the thing to do is to get rid of the circular dependencies.

Since this is a JIRA for the QS component I am going to reject the other one, as we are not going to change the server. Any QS change can be tracked by this.","02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MP Metrics subsystem should use org.jboss.as.server.deployment.Phase constants,WFLY-11382,12780207,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rsvoboda,rsvoboda,rsvoboda,20/Nov/18 9:06 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,21/Nov/18 9:13 AM,15.0.0.Beta1,,,,,15.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,"MP Metrics subsystem should use org.jboss.as.server.deployment.Phase constants

Constants introduced in https://issues.jboss.org/browse/WFCORE-4204",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:54.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11864,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01em8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The org.jdom module should be deprecated,WFLY-11325,12778822,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,11/Nov/18 9:12 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,13/Nov/18 3:26 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,,,,,"The org.jdom module is jboss.api=unsupported in EAP and is not actually used by WF or added as a dependency by it to deployments.  It looks like it probably should have been made private way back in 2012 when it was made 'unsupported' in EAP.  The 'unsupported' is inappropriate in WF so it got removed, resulting in it becoming 'public'. 

The only module that depends on org.jdom is org.jaxen. Jaxen's pom declares it as an optional dependency.  Here is the production code use of jdom by jaxen:

{code}
src/java/main/org/jaxen/jdom/DocumentNavigator.java:import org.jdom.Attribute;
src/java/main/org/jaxen/jdom/DocumentNavigator.java:import org.jdom.CDATA;
src/java/main/org/jaxen/jdom/DocumentNavigator.java:import org.jdom.Comment;
src/java/main/org/jaxen/jdom/DocumentNavigator.java:import org.jdom.Document;
src/java/main/org/jaxen/jdom/DocumentNavigator.java:import org.jdom.Element;
src/java/main/org/jaxen/jdom/DocumentNavigator.java:import org.jdom.Namespace;
src/java/main/org/jaxen/jdom/DocumentNavigator.java:import org.jdom.ProcessingInstruction;
src/java/main/org/jaxen/jdom/DocumentNavigator.java:import org.jdom.Text;
src/java/main/org/jaxen/jdom/DocumentNavigator.java:import org.jdom.input.SAXBuilder;
src/java/main/org/jaxen/jdom/XPathNamespace.java:import org.jdom.Element;
src/java/main/org/jaxen/jdom/XPathNamespace.java:import org.jdom.Namespace;
{code}

DocumentNavigator is nowhere used by WF or its libraries. XPathNamespace is only used by DocumentNavigator. So, our uses of jaxen don't require jdom.  That dependency should be optional so galleon can skip provisioning it in optimized installations.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z016ug:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jastow from 2.0.6.Final to 2.0.7.Final,WFLY-11280,12777515,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,soul2zimate,soul2zimate,soul2zimate,04/Nov/18 9:26 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,05/Nov/18 4:13 AM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,downstream_dependency,,,,https://github.com/undertow-io/jastow/compare/2.0.6.Final...2.0.7.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:54.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11808,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00zeg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Update references to Developer Studio to use correct name, version, and links",WFLY-11228,12775882,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,sgilda,sgilda,sgilda,23/Oct/18 8:46 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,23/Oct/18 12:55 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"JBoss EAP 7.2 is certified for use with Red Hat Developer Studio 12. 

Note the name and version changes.",,,,,,,,,,,,,JBEAP-15704,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:54.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00qkw:",9223372036854775807,,0.0,,,,,,,,,,,,pjelinek,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade parent pom to 29,WFLY-10988,12768715,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,kabirkhan,kabirkhan,kabirkhan,07/Sep/18 5:55 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,19/Sep/18 6:28 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFCORE-4094,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:53.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|w002w0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor weld subsystem to don't use deprecated ServiceBuilder methods,WFLY-11381,12780127,12776056,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,20/Nov/18 7:25 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,22/Nov/18 7:09 AM,,,,,,15.0.0.Final,,,CDI / Weld,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:53.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11862,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01e5s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLI unable to refer jberet resources after run PurgeBatchlet,WFLY-11261,12777076,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,norito.agetsuma,norito.agetsuma,31/Oct/18 5:09 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,01/Nov/18 12:46 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Batch,,,,,,,,,,,0,,,,,"It's not possible to refer jberet runtime resource after execute org.jberet.repository.PurgeBatchlet with batch property ""purgeJobsByNames"".

{code:title=jboss-cli output before execute PurgeBatchlet}
[standalone@localhost:9990 /] /deployment=jberet-sample.war/subsystem=batch-jberet/job=dummy-job:read-resource(include-runtime=true,recursive=true)
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""instance-count"" => 1,
        ""job-xml-names"" => [""dummy-job.xml""],
        ""running-executions"" => 0,
        ""execution"" => {""1"" => {
            ""batch-status"" => ""COMPLETED"",
            ""create-time"" => ""2018-10-31T14:54:27.297+0900"",
            ""end-time"" => ""2018-10-31T14:54:27.343+0900"",
            ""exit-status"" => ""COMPLETED"",
            ""instance-id"" => 1L,
            ""last-updated-time"" => ""2018-10-31T14:54:27.343+0900"",
            ""start-time"" => ""2018-10-31T14:54:27.306+0900""
        }}
    }
}
{code}

{code:title=jboss-cli output after PurgeBatchlet}
/deployment=jberet-sample.war/subsystem=batch-jberet/job=dummy-job:read-resource(include-runtime=true,recursive=true)
{
    ""outcome"" => ""failed"",
    ""rolled-back"" => true
}
{code}

Then output following server.log
{code}
14:55:23,104 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 3) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""deployment"" => ""jberet-sample.war""),
    (""subsystem"" => ""batch-jberet""),
    (""job"" => ""dummy-job""),
    (""execution"" => ""1"")
]): javax.batch.operations.NoSuchJobExecutionException: JBERET000604: No job execution with id 1
	at org.jberet.operations.AbstractJobOperator.getJobExecutionImpl(AbstractJobOperator.java:354)
	at org.jberet.operations.AbstractJobOperator.getJobInstance(AbstractJobOperator.java:310)
	at org.wildfly.extension.batch.jberet.deployment.JobOperatorService.getJobInstance(JobOperatorService.java:281)
	at org.wildfly.extension.batch.jberet.deployment.JobOperatorService.getJobExecution(JobOperatorService.java:308)
	at org.wildfly.extension.batch.jberet.deployment.BatchJobExecutionResourceDefinition$JobExecutionOperationStepHandler.updateModel(BatchJobExecutionResourceDefinition.java:200)
	at org.wildfly.extension.batch.jberet.deployment.JobOperationReadOnlyStepHandler.execute(JobOperationReadOnlyStepHandler.java:47)
	at org.wildfly.extension.batch.jberet.deployment.JobOperationStepHandler.executeRuntime(JobOperationStepHandler.java:74)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:982)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:726)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:450)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1402)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:418)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:263)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:229)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:217)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:137)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:161)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:157)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:287)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:244)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:157)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
	at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
{code}

Even though delete JobExecution in JobRepository, JobExecution id ""1"" still show by JBoss CLI.
{code:title=jboss-cli output}
[standalone@localhost:9990 /] /deployment=jberet-sample.war/subsystem=batch-jberet/job=dummy-job:read-resource
{
    ""outcome"" => ""success"",
    ""result"" => {""execution"" => {""1"" => undefined}}
}
{code}",,,,,,,,,,,,,JBEAP-15750,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/18 5:09 AM;norito.agetsuma;jberet-sample.zip;https://issues.redhat.com/secure/attachment/12442629/jberet-sample.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:53.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11793,,,,,,,,,,,,,,,,1.0,1.0,,,,,,,,,,"1|z00wxk:",9223372036854775807,,0.0,,,,,"1. Deploy attachment reproduce application.
2. Execute something jberet job. Access to http://localhost:8080/jberet-sample/batch.
3. Execute purge job. Access to http://localhost:8080/jberet-sample/purge.
4. Execute below command by JBoss CLI, then, ERROR message show on server.log.
{code}
/deployment=jberet-sample.war/subsystem=batch-jberet:read-resource(include-runtime=true,recursive=true)
{
    ""outcome"" => ""failed"",
    ""rolled-back"" => true
}
{code}",,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 7.0.0.Alpha4,WFLY-11199,12774979,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,17/Oct/18 4:38 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,18/Oct/18 2:36 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:53.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00lcw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NullPointerException when check operation is called on a server started in admin mode,WFLY-11448,12781609,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,claudio4j,claudio4j,29/Nov/18 3:02 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,30/Nov/18 4:59 PM,,,,,,15.0.0.Final,,,MP Health,,,,,,,,,,,0,,,,,"Start standalone with --admin-only

HAL calls the ""check"" operation when the user navigates to the runtime view, then there is this exception.

{code}
/subsystem=microprofile-health-smallrye:check
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.lang.NullPointerException"",
    ""rolled-back"" => true
}
{code}


{code}
WFLYCTL0013: Operation (""check"") failed - address: ([(""subsystem"" => ""microprofile-health-smallrye"")]): java.lang.NullPointerException
        at org.wildfly.extension.microprofile.health.CheckOperation.executeRuntimeStep(CheckOperation.java:59)
        at org.jboss.as.controller.AbstractRuntimeOnlyHandler$1.execute(AbstractRuntimeOnlyHandler.java:59)
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1411)
        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)
        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:255)
        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:240)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:138)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:162)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:158)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:158)
        at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)
        at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
        at java.lang.Thread.run(Thread.java:748)
        at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:52.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01mu8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update root README with getting started instructions for CD releases,WFLY-11302,12778397,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,sgilda,emmartins,emmartins,07/Nov/18 10:54 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,07/Nov/18 10:56 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,The root README file only contains instructions only for regular project and product releases. It was not updated to include the correct instructions for the CD releases. ,,,,,,,,,,,,,JBEAP-15768,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:52.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/319,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z014hs:",9223372036854775807,,0.0,,,,,,,,,,,,maschmid,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Do not record Galleon provisioned state and log provisioning time,WFLY-11730,12792588,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aloubyansky,aloubyansky,aloubyansky,15/Feb/19 5:07 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,20/Feb/19 5:53 AM,,,,,,16.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"Provisioned state stored in .galleon directory is not really useful in WildFly build and so it can be removed.
Also as previously discussed with [~brian.stansberry] it will be useful to log provisioning time just to keep track how it changes over time.
Both of these changes have already been merged into WildFly Core.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:34.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03a0s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 8.0.0.Final,WFLY-11785,12794443,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,27/Feb/19 3:09 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,04/Apr/19 9:18 PM,,,,,,16.0.0.Final,,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:34.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03jp0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent NPE from MP config SubsystemDeploymentProcessor,WFLY-11603,12787885,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,17/Jan/19 8:22 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,18/Jan/19 5:32 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,MP Config,,,,,,,,,,,0,,,,,"In our automation tests, we can see intermittent NPE with following stack trace:
{code}
20:01:38,985 ERROR [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0043: Deployment unit processor org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor@54fd99c3 unexpectedly threw an exception during undeploy phase POST_MODULE of deployment ""org.jboss.qa.management.ws.WebservicesWsdlHostIT.war"": java.lang.NullPointerException
	at org.wildfly.extension.microprofile.config-smallrye@7.2.0.GA-redhat-00004//org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor.undeploy(SubsystemDeploymentProcessor.java:102)
	at org.jboss.as.server@6.0.11.Final-redhat-00001//org.jboss.as.server.deployment.DeploymentUnitPhaseService.safeUndeploy(DeploymentUnitPhaseService.java:211)
	at org.jboss.as.server@6.0.11.Final-redhat-00001//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:149)
	at org.jboss.msc@1.4.5.Final-redhat-00001//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc@1.4.5.Final-redhat-00001//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	at org.jboss.msc@1.4.5.Final-redhat-00001//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1364)
	at java.base/java.lang.Thread.run(Thread.java:834)

20:01:38,986 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.deployment.unit.""org.jboss.qa.management.ws.WebservicesWsdlHostIT.war"".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.""org.jboss.qa.management.ws.WebservicesWsdlHostIT.war"".POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of deployment ""org.jboss.qa.management.ws.WebservicesWsdlHostIT.war""
	at org.jboss.as.server@6.0.11.Final-redhat-00001//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:151)
	at org.jboss.msc@1.4.5.Final-redhat-00001//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc@1.4.5.Final-redhat-00001//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	at org.jboss.msc@1.4.5.Final-redhat-00001//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1364)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.IllegalStateException: No ConfigProviderResolver implementation found!
	at org.eclipse.microprofile.config.api@1.3.0.redhat-00001//org.eclipse.microprofile.config.spi.ConfigProviderResolver.instance(ConfigProviderResolver.java:122)
	at org.wildfly.extension.microprofile.config-smallrye@7.2.0.GA-redhat-00004//org.wildfly.extension.microprofile.config.smallrye.deployment.SubsystemDeploymentProcessor.deploy(SubsystemDeploymentProcessor.java:67)
	at org.jboss.as.server@6.0.11.Final-redhat-00001//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:144)
	... 8 more
{code}
further on, there is also following error in the server.log (it has been dealt in WFWIP-64, although in different circumstances, I guess):
{code}
20:01:39,164 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([(""deployment"" => ""org.jboss.qa.management.ws.WebservicesWsdlHostIT.war"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""org.jboss.qa.management.ws.WebservicesWsdlHostIT.war\"".POST_MODULE"" => ""WFLYSRV0153: Failed to process phase POST_MODULE of deployment \""org.jboss.qa.management.ws.WebservicesWsdlHostIT.war\""
    Caused by: java.lang.IllegalStateException: No ConfigProviderResolver implementation found!""}}
20:01:39,169 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0010: Deployed ""org.jboss.qa.management.ws.WebservicesWsdlHostIT.war"" (runtime-name : ""org.jboss.qa.management.ws.WebservicesWsdlHostIT.war"")
20:01:39,171 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report
WFLYCTL0186:   Services which failed to start:      service jboss.deployment.unit.""org.jboss.qa.management.ws.WebservicesWsdlHostIT.war"".POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of deployment ""org.jboss.qa.management.ws.WebservicesWsdlHostIT.war""
{code}

The NPE itself goes from the 'undeploy' method in SubsystemDeploymentProcessor. Although, according to the surrounding log messages (longer test log is attached [^NPE-server.log]), the server is still in the boot process by that time.

This NPE happens quite rarely so it looks like some kind of a race-condition is in place. So far we have seen this only on Windows with JDK-11 combination but cannot say it does not affect other platforms for sure.

Also, we have not seen it with latest WildFly nightly builds too (WildFly revision 353b95ef201c18dbd465087f520392c8525a2213) (yet?).",,,,,,,,,,,,,JBEAP-16197,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-25 09:29:59.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z02kog:",9223372036854775807,,0.0,,,,,"As said in description, we don't have any reliable reproducer yet. The NPE is thrown during the server startup after the reload operation. It goes like this in our tests:
# EAP is started (standalone.sh, standalone-full.xml config)
# simple deployment war is deployed on server via CLI deploy command
# simple config change is done, like:
#* ./subsystem=webservices:write-attribute(name=wsdl-port,value=8084)
# reload
# and now, during the server startup the NPE is thrown in the server.log",,,,,,,,,,,"25/Jan/19 9:29 AM;jstourac;[~jmesnil], thanks for the fix. I've just realized that part of the fix is change where you switch to deprecated class instead of the non-deprecated, [here|https://github.com/wildfly/wildfly/pull/12012/files#diff-6de66bee9c455ef41784bbcbe049ce8dR28]. Is this intentional?","25/Jan/19 10:35 AM;jmesnil;[~jstourac] yes, the deprecated API is the only way to make sure the service is properly installed for the next phase.","05/Mar/19 9:24 AM;jstourac;Just for the reference - there is a followup issue WFCORE-4375 that should solve necessity to use deprecated API.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DistributableCacheFactoryServiceConfigurator should generate ServiceName for TSR via capability name,WFLY-11534,12785276,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,19/Dec/18 10:23 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Jan/19 7:52 PM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,EJB,,,,,,,,,,0,,,,,"This currently uses ServiceName.parse(capabilityName), since the OperationContext/CapabilityServiceSupport is not available in this context.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:34.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z025iw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.4.Final,WFLY-11490,12783197,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,10/Dec/18 8:54 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,10/Dec/18 11:47 AM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,https://issues.jboss.org/projects/ISPN/versions/12340019,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:33.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01vls:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate BasicComponentCreateService.deploymentUnit injector,WFLY-11441,12781483,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,29/Nov/18 6:20 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,07/Dec/18 5:51 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,EE,,,,,,,,,,,0,,,,,"Once this injector is eliminated we will decrease
number of edges being created in MSC graph
when EE applications are being deployed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11440,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:33.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11912,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01m34:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Overhaul infinispan subsystem transformer tests to improve coverage,WFLY-11872,12798110,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,19/Mar/19 1:54 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,29/Apr/19 7:15 PM,16.0.0.Final,,,,,16.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"The typical way subsystems test transformers is with a single transform xml file which contains all *transformable* attributes and resources to the oldest version (EAP 6.4 at the moment). However, as subsystems evolve certain attributes are not transformable *but* are missing from subsequent test coverage. For instance, attribute not present in EAP 6.4, but available since 7.0: the tests for EAP 7.1 could still test the transformation to EAP 7.0 but this is typically missed in the subsystems test coverage.

The solution is to use a specific file for *each* EAP controller version we are transforming to.",,,,,,,,,,,,,WFLY-11719,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:33.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12175,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z043n0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing runtime reference to external destinations,WFLY-11586,12787062,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,11/Jan/19 3:02 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,16/Jan/19 8:32 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,JMS,,,,,,,,,,,0,,,,,External destinations (queue/topic) that are related to a deployment are not visible in the deployment description.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:33.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02frc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JBeret from 1.3.1.Final to 1.3.2.Final,WFLY-11428,12781242,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,soul2zimate,soul2zimate,27/Nov/18 9:31 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 5:31 AM,15.0.0.Beta1,,,,,16.0.0.Beta1,16.0.0.Final,,Batch,,,,,,,,,,,0,,,,,"Upgrade JBeret from 1.3.1.Final to 1.3.2.Final.
https://github.com/jberet/jsr352/compare/1.3.1.Final...1.3.2.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10662,JBEAP-15937,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:32.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11892,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01krk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Apache CXF from 3.2.5-jbossorg-1 to 3.2.7,WFLY-11204,12775087,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,spyrkob,ivassile,ivassile,17/Oct/18 1:59 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:06 PM,,,,,,16.0.0.Final,,,Web Services,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11205,WFLY-11219,WFLY-11844,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-08 10:11:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12051,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00lzs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.8.Final,WFLY-11761,12793740,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,lafr,lafr,lafr,22/Feb/19 4:27 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,24/Feb/19 1:35 PM,16.0.0.Beta1,,,,,16.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"Changes https://github.com/infinispan/infinispan/compare/9.4.7.Final...9.4.8.Final

Compiled against JGroups 4.0.18 which is now used for WildFly master.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:32.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12105,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03g44:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IIOP: bug in SSL component creation,WFLY-11614,12788183,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,18/Jan/19 4:41 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Jan/19 8:10 PM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,IIOP,,,,,,,,,,,0,,,,,SSL component's target_requires and target_supports are switched over in the code which results in various errors in IIOP invocations between servers.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JBEAP-16246,JBEAP-16187,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:32.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02m2w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Wrongly named properties in ""Messaging - Discovery Configuration"" docs",WFLY-11773,12794050,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,thofman,thofman,thofman,25/Feb/19 9:53 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,26/Feb/19 8:44 PM,,,,,,16.0.0.Final,,,Documentation,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:31.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03hvw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Feb/19 10:09 AM;thofman;PR: https://github.com/wildfly/wildfly/pull/12112","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Weld to 3.1.0.Final,WFLY-11621,12788318,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,manovotn,manovotn,manovotn,21/Jan/19 8:45 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,11/Feb/19 9:59 PM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,CDI / Weld,,,,,,,,,,,0,,,,,"Weld 3.1.0.Final release is scheduled in early Feb, so this is a tracking issue for now. It is going to bump the minor version of Weld core and API as it contains several API/SPI changes and will need adjustments on WFLY side.

Namely it:
* Brings new API for class(WELD-2556) defining which will leverage jboss-modules ({{ClassDefiner}}
** This will need impl on WFLY side ([draft on my branch|https://github.com/manovotn/wildfly/tree/weld2556]) assuming jboss-modules 1.9 makes it to WFLY in time
** Required for any JDK 12 execution with Weld
* Removes deprecated code from API/SPI (WELD-2558)
** Requires few removals in WFLY code ([done on this branch|https://github.com/manovotn/wildfly/tree/weld2558])
* Brings new API for CDI context propagation (WELD-2497)
** This is no-op for WFLY as it doesn't use this API
* [plus some changes on Weld core side]
",,,,,,,,,,,,,,,,,,,,,,,,JBEAP-16633,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-21 13:21:40.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12042,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z02mu8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Jan/19 1:21 PM;brian.stansberry;Thanks, Matej, for the thorough info!","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
enable-elytron.cli fails with WF15,WFLY-11536,12785372,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mchoma,mchoma,mchoma,20/Dec/18 5:14 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Jan/19 1:05 PM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Security,,,,,,,,,,,0,,,,," ./jboss-cli.sh --file=../docs/examples/enable-elytron.cli
{code}
{
    ""outcome"" => ""failed"",
    ""result"" => {},
    ""failure-description"" => {""host-failure-descriptions"" => {""master"" => ""WFLYCTL0216: Management resource '[
    (\""host\"" => \""master\""),
    (\""core-service\"" => \""management\""),
    (\""management-interface\"" => \""native-interface\"")
]' not found""}},
    ""rolled-back"" => true,
    ""response-headers"" => {""process-state"" => ""reload-required""}
}
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11955,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02634:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
:read-resource operation of jax-rs subsystem doesn't handle all interfaces,WFLY-11414,12780859,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gaol,mkopecky,mkopecky,26/Nov/18 2:41 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 5:46 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,REST,,,,,,,,,,,0,downstream_dependency,,,,"_:read-resource_ operation of jax-rs subsystem doesn't handle interfaces, where end-point path is defined on interface

Steps to reproduce:
# {code:java}
@Path(""pure/proxy"")
public interface PureProxyApiService {
    @Path(""test/{a}/{b}"")
    @GET
    String test(@PathParam(""a"") String a, @PathParam(""b"") String b);
}
public class PureProxyEndPoint implements PureProxyApiService {
    @Override
    public String test(@PathParam(""a"") String a, @PathParam(""b"") String b) {
        return a + b;
    }
}
{code}
# _/deployment=DEPLOYMENT_NAME/subsystem=jaxrs:read-resource(recursive,include-runtime)_
# Output:
{noformat}
        ""org.resteasy.simple.deployment.PureProxyEndPoint"" => {
            ""resource-class"" => ""org.resteasy.simple.deployment.PureProxyEndPoint"",
            ""rest-resource-paths"" => undefined,
            ""sub-resource-locators"" => undefined
        }
{noformat}
# If class has \@Path annotation, _read-resource_ operation works correctly
# {code:java}public interface ProxyApiService {
    @Path(""test/{a}/{b}"")
    @GET
    String test(@PathParam(""a"") String a, @PathParam(""b"") String b);
}
@Path(""proxy"")
public class ProxyEndPoint implements ProxyApiService {
    @Override
    public String test(@PathParam(""a"") String a, @PathParam(""b"") String b) {
        return a + b;
    }
}
{code}
# {noformat}        ""org.resteasy.simple.deployment.ProxyEndPoint"" => {
            ""resource-class"" => ""org.resteasy.simple.deployment.ProxyEndPoint"",
            ""rest-resource-paths"" => [{
                ""resource-path"" => ""proxy/test/{a}/{b}"",
                ""consumes"" => undefined,
                ""produces"" => undefined,
                ""java-method"" => ""java.lang.String org.resteasy.simple.deployment.ProxyEndPoint.test(@PathParam java.lang.String a, @PathParam java.lang.String b)"",
                ""resource-methods"" => [""GET /jaxrs-wf/proxy/test/{a}/{b}""]
            }],
            ""sub-resource-locators"" => undefined
        }
{noformat}



cc [~gaol]",,,,,,,,,,,,,,,,,,,,,,,,EAP7-607,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:30.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11901,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01ijk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Regression in SOAP over JMS when WF13 and WF14 are communicating,WFLY-11142,12773506,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,jbliznak,jbliznak,09/Oct/18 5:50 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Jan/19 3:19 PM,14.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,JMS,Web Services,,,,,,,,,,0,,,,,"There is a regression visible in JBossWS testsuite in SOAP over JMS test when client side and server side are WF13 and WF14 or vice-versa, in other words it is affecting backward and forward compatibility. 

The cause was identified as Artemis upgrade from 1.5.5 to 2.6.3, there is ongoing investigation for gathering more details.

Exception in case of new client and old server:
{code:java}
Exception while processing jms message in cxf. Rolling back: javax.jms.JMSRuntimeException: Invalid address queue://jms.queue.testQueue
	at org.apache.activemq.artemis.jms.client.ActiveMQDestination.fromAddress(ActiveMQDestination.java:119) [artemis-jms-client-1.5.5.jbossorg-012.jar:1.5.5.jbossorg-012]
	at org.apache.activemq.artemis.jms.client.ActiveMQMessage.getJMSReplyTo(ActiveMQMessage.java:356) [artemis-jms-client-1.5.5.jbossorg-012.jar:1.5.5.jbossorg-012]
	at org.apache.cxf.transport.jms.JMSMessageHeadersType.getDestName(JMSMessageHeadersType.java:363) [cxf-rt-transports-jms-3.2.4-jbossorg-1.jar:3.2.4.jbossorg-1]
	at org.apache.cxf.transport.jms.JMSMessageHeadersType.read(JMSMessageHeadersType.java:358) [cxf-rt-transports-jms-3.2.4-jbossorg-1.jar:3.2.4.jbossorg-1]
	at org.apache.cxf.transport.jms.JMSMessageHeadersType.from(JMSMessageHeadersType.java:335) [cxf-rt-transports-jms-3.2.4-jbossorg-1.jar:3.2.4.jbossorg-1]
	at org.apache.cxf.transport.jms.JMSMessageUtils.asCXFMessage(JMSMessageUtils.java:64) [cxf-rt-transports-jms-3.2.4-jbossorg-1.jar:3.2.4.jbossorg-1]
	at org.apache.cxf.transport.jms.JMSDestination.onMessage(JMSDestination.java:237) [cxf-rt-transports-jms-3.2.4-jbossorg-1.jar:3.2.4.jbossorg-1]
	at org.apache.cxf.transport.jms.util.PollingMessageListenerContainer$Poller.run(PollingMessageListenerContainer.java:84) [cxf-rt-transports-jms-3.2.4-jbossorg-1.jar:3.2.4.jbossorg-1]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_181]
{code}
",,,,,,,,,WFLY-11143,ENTMQBR-2127,WFLY-11418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Regression,,,,,,,,,,,,2018-11-20 06:51:07.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12013,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z00dds:",9223372036854775807,,0.0,,,,,"#get JBWS TS
git clone https://github.com/jbossws/jbossws-cxf.git .
git checkout jbossws-cxf-5.2.3.Final

#client WF13(artemis 1.5.5) & server WF14(artemis 2.6.3)
{code:java}
mvn -Ptestsuite,wildfly1400 clean integration-test -Dnodeploy  -Dtest=JMSEndpointOnlyDeploymentTestCase#testMessagingClient -DnoLogRedirect -DenableServerLoggingToConsole -pl modules/dist,modules/test-utils,modules/testsuite,modules/testsuite/cxf-tests -Dserver.home=/tmp/wildfly-14.0.0.Final -Dwildfly1400.version=13.0.0.Final
{code}

#client WF14(artemis 2.6.3) & server WF13(artemis 1.5.5)
{code:java}
mvn -Ptestsuite,wildfly1400 clean integration-test -Dnodeploy  -Dtest=JMSEndpointOnlyDeploymentTestCase#testMessagingClient -DnoLogRedirect -DenableServerLoggingToConsole -pl modules/dist,modules/test-utils,modules/testsuite,modules/testsuite/cxf-tests -Dserver.home=/tmp/wildfly-13.0.0.Final -Dwildfly1400.version=14.0.0.Final
{code}",,,,,,,,,,,"20/Nov/18 6:51 AM;kabirkhan;[~jmesnil] [~jbliznak] as WFLY-11143 was fixed by the artemis 2.6.3-jbossorg-00013 upgrade, does it follow that this is fixed?","20/Nov/18 9:24 AM;jbliznak;[~kabirkhan] Only one direction si fixed with artemis upgrade:
WF13.0.0.Final client(artemis 1.5.5.jbossorg-012) against WF14.0.1.Final server (artemis 2.6.3.jbossorg-001) is broken, as reported in this jira
WF13.0.0.Final client(artemis 1.5.5.jbossorg-012) against WF15.0.0.CR1-SNAPSHOT server (artemis 2.6.3.jbossorg-013) is working now, fixed by WFLY-11143

WF14.0.1.Final client(artemis 2.6.3.jbossorg-001) against WF13.0.0.Final server(artemis 1.5.5.jbossorg-012) is broken, as reported in this jira
WF15.0.0.CR1-SNAPSHOT client (artemis 2.6.3.jbossorg-013) against WF13.0.0.Final server(artemis 1.5.5.jbossorg-012) *is still broken*
","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remote-cache-container resource is missing transaction configuration,WFLY-11703,12791928,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,12/Feb/19 12:39 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:09 PM,15.0.1.Final,,,,,16.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,Users need to be able to specify whether the hotrod client should be transactional.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:30.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z036h0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Default no-request-timeout value on HTTP(s) listeners seems to be causing unexpected timeouts,WFLY-11691,12791396,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,jaikiran,jaikiran,10/Feb/19 10:43 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,04/Mar/19 12:17 AM,14.0.1.Final,15.0.1.Final,,,,16.0.0.Final,,,Web (Undertow),,,,,,,,,,,0,,,,,"More than one users[1][2] have reported that they are seeing odd timeout issues with HTTP(S) calls in their applications. Based on the discussion in those threads, I believe there are 2 issues here, one in Undertow and one in WildFly.

In Undertow, I believe there's a bug which when using HTTP 1.1, in some cases, ends up marking an in-progress request as timed out (based on the value set for no-request-timeout). Thread[1] has more details on how to reproduce such a case, but like I note in that thread, I don't think the cipher suites is what's causing this. I haven't found the time to create a simpler reproducible application for that one yet and I haven't yet created a Undertow JIRA for it.

In WildFly, I think the default value of 60 seconds for no-request-timeout on the HTTP(s) listeners, is arbitrary and even too low. IMO, this probably should default to -1 (i.e. no specific timeout) and let the users decide what value makes sense in their setup.

[1] https://developer.jboss.org/thread/279379
[2] https://developer.jboss.org/thread/279261",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:30.0,,,,,,,,https://developer.jboss.org/thread/279379,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z033ys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Feb/19 4:50 AM;jaikiran;>In Undertow, I believe there's a bug which when using HTTP 1.1, in some cases, ends up marking an in-progress request as timed out (based on the value set for no-request-timeout). Thread 1 has more details on how to reproduce such a case, but like I note in that thread, I don't think the cipher suites is what's causing this. I haven't found the time to create a simpler reproducible application for that one yet and I haven't yet created a Undertow JIRA for it.

I highly suspect that the fix that [~swd847] did for https://issues.jboss.org/browse/UNDERTOW-1486 will solve this part of the problem. My minimal investigation into this issue had led me to suspect that the open listener was being triggered twice in this case. Stuart notes the same thing in that other JIRA:

> This was caused by a bug in the ALPN open listener that could be triggered if the server was configured with HTTP/2 enabled but did not have the correct SSL config for HTTP/2.

This fits the issue being seen the linked forum thread where the user had HTTP2 enabled but didn't have the correct SSL config (cipher suites that weren't valid).

With this underlying issue fixed, I think the only part that needs a decision is whether the WildFly Undertow subsystem should default to something other than 60 seconds for the no-request-timeout. I don't know if that question will even be relevant now that the underlying issue with active requests being considered inactive is (I think) now solved.

","04/Mar/19 12:16 AM;jaikiran;I have verified this against the recently released WildFly 16.0.0.Final and I can no longer reproduce this issue there. So it does appear to me that this got fixed as part of:

>>I highly suspect that the fix that Stuart Douglas did for https://issues.jboss.org/browse/UNDERTOW-1486 will solve this part of the problem. My minimal investigation into this issue had led me to suspect that the open listener was being triggered twice in this case. 

","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Maven Plugins to 2.0.0.Final,WFLY-11757,12793587,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,21/Feb/19 5:43 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Feb/19 5:34 PM,,,,,,16.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:30.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12101,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03f78:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.6.Final,WFLY-11539,12785454,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,rhusar,rhusar,20/Dec/18 10:27 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 4:53 AM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Unfortunately, the required changes did not get into 9.4.5.Final.

Changelog: https://issues.jboss.org/projects/ISPN/versions/12340282",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ISPN-9822,JDG-2453,WFLY-11500,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-04 19:03:36.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z026l4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Jan/19 7:03 PM;brian.stansberry;Rejecting the ""pr"" that the github integration identified as it is not for this jira.","12/Feb/19 4:54 AM;kabirkhan;[~pferraro] if WFLY-11500 is fixed by this, please merge","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deprecate org.jboss.as.server.Services.addServerExecutorDependency() method,WFLY-11488,12783077,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,08/Dec/18 4:17 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Jan/19 12:59 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Server,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:29.0,,,,,,,,,,https://github.com/wildfly/wildfly-core/pull/3622,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01v3s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove deprecated org.jboss.as.ejb3.component.EJBUtilities class,WFLY-11440,12781476,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,29/Nov/18 5:52 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 5:41 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"EJBUtilities class have been deprecated long time ago.
It is the only class that implements org.jboss.as.ejb3.inflow.EndpointDeployer interface
and the only class that uses BasicComponentCreateService.deploymentUnit injection.
Once this class is eliminated we can remove deploymentUnit injector
and decrease number of graph dependencies being created when deploying EE apps.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:29.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01m1s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tests in org.jboss.as.test.integration.microprofile.opentracing failing with security manager,WFLY-11340,12779286,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jstourac,mchoma,mchoma,14/Nov/18 5:00 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 5:48 AM,14.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,MP OpenTracing,Test Suite,,,,,,,,,,0,security-manager,,,,"These tests fail with security manager from package org.jboss.as.test.integration.microprofile.opentracing 
* ResourceNotTracedTestCase.notTracedEndpointYieldsNoSpans  	
* ResourceTracedTestCase.tracedEndpointYieldsSpan  	
* ResourceWithCDITestCase.tracedEndpointYieldsSpan  	
* ResourceWithCustomOperationNameBeanTestCase.customOperationName  	
* SimpleRestClientTestCase.clientRequestSpanJoinsServer

{noformat}
java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""modifyThread"")"" in code source ""(vfs:/content/3f3aff01-8e62-42e9-81c0-022f693ec7e0.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.3f3aff01-8e62-42e9-81c0-022f693ec7e0.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.util.concurrent.ThreadPoolExecutor.checkShutdownAccess(ThreadPoolExecutor.java:742)
	at java.util.concurrent.ThreadPoolExecutor.shutdownNow(ThreadPoolExecutor.java:1429)
	at java.util.concurrent.Executors$DelegatedExecutorService.shutdownNow(Executors.java:670)
	at org.jboss.as.test.integration.common.HttpRequest.execute(HttpRequest.java:63)
	at org.jboss.as.test.integration.common.HttpRequest.get(HttpRequest.java:82)
	at org.jboss.as.test.integration.microprofile.opentracing.ResourceNotTracedTestCase.performCall(ResourceNotTracedTestCase.java:63)
	at org.jboss.as.test.integration.microprofile.opentracing.ResourceNotTracedTestCase.notTracedEndpointYieldsNoSpans(ResourceNotTracedTestCase.java:57)
{noformat}

As stacktrace is from test side and tests are missing @RunAsClient, I believe tests are running in container. [~juraci.costa] is this really intent tests are missing @RunAsClient annotation?",,,,,,,,,,,,,,,,,,,,,,,,WFLY-10380,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-14 09:14:53.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11879,https://github.com/wildfly/wildfly/pull/11890,,,,,,,,,,,,,,,0.0,12.0,,,,,,,,,,"1|z019f4:",9223372036854775807,,0.0,,,,,"cd wildfly/testsuite/integration/basic
mvn clean test -Dtest=ResourceNotTracedTestCase -Dsecurity.manager",,,,,,,,,,,"14/Nov/18 9:14 AM;juraci.costa;At this point, I think [~jstourac] knows more about the tests than I do :-)","19/Nov/18 6:23 AM;mchoma;[~jmesnil] who is the owner of MP OpenTracing (MP Metrics) component. Asking you as you are owner of 2 other MP * components :)

[1] https://issues.jboss.orga/projects/WFLY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page","21/Nov/18 11:52 AM;jstourac;[~mchoma] regarding to the missing {{@RunAsClient}} annotation, yes this is intentional as those tests are meant to be executed in server container.

I have [prepared commit|https://github.com/jstourac/wildfly/commit/96eed2d286638a8264dfd627ea5921acfbf1d252] that fixes issues with security manager enabled. Although, I wasn't able to find out which exact permission is required for the last test - {{SimpleRestClientTestCase}}. Thus I have put there {{AllPermission}} as a workaround, [see|https://github.com/jstourac/wildfly/commit/96eed2d286638a8264dfd627ea5921acfbf1d252#diff-d1611b75478c0d3f9b2eb2db1dcf5b4dR67]. Not sure whether it is okay. The exception that is thrown before the permission is added is following:
{code}
[ERROR] clientRequestSpanJoinsServer(org.jboss.as.test.integration.microprofile.opentracing.SimpleRestClientTestCase)  Time elapsed: 0.75 s  <<< ERROR!
java.lang.RuntimeException: java.lang.ClassNotFoundException: org.glassfish.jersey.client.JerseyClientBuilder from [Module ""javax.ws.rs.api"" version 1.0.2.Final from local module loader @3a03464 (finder: local module finder @2d3fcdbd (roots: /home/jstourac/workspace/wildfly/testsuite/integration/basic/target/wildfly/modules,/home/jstourac/workspace/wildfly/build/target/wildfly-15.0.0.Alpha1-SNAPSHOT/modules,/home/jstourac/workspace/wildfly/build/target/wildfly-15.0.0.Alpha1-SNAPSHOT/modules/system/layers/base,/home/jstourac/workspace/wildfly/testsuite/integration/basic/target/modules))]
	at javax.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:132)
	at org.jboss.as.test.integration.microprofile.opentracing.SimpleRestClientTestCase.clientRequestSpanJoinsServer(SimpleRestClientTestCase.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.ClassNotFoundException: org.glassfish.jersey.client.JerseyClientBuilder from [Module ""javax.ws.rs.api"" version 1.0.2.Final from local module loader @3a03464 (finder: local module finder @2d3fcdbd (roots: /home/jstourac/workspace/wildfly/testsuite/integration/basic/target/wildfly/modules,/home/jstourac/workspace/wildfly/build/target/wildfly-15.0.0.Alpha1-SNAPSHOT/modules,/home/jstourac/workspace/wildfly/build/target/wildfly-15.0.0.Alpha1-SNAPSHOT/modules/system/layers/base,/home/jstourac/workspace/wildfly/testsuite/integration/basic/target/modules))]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:264)
	at javax.ws.rs.client.FactoryFinder.newInstance(FactoryFinder.java:119)
	at javax.ws.rs.client.FactoryFinder.find(FactoryFinder.java:226)
	at javax.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:96)
	... 146 more
{code}

[~jmesnil], [~juraci.costa], [~mchoma], please, let me know whether you have any ideas. Otherwise, I will prepare MR against WildFly tomorrow.","22/Nov/18 5:02 AM;mchoma;just idea, couldnt it be permission for reading files like [1]
[1] https://github.com/wildfly/wildfly/pull/11856/commits/6bf3bf7b44c170425ba79bd5be134219f53d4cda","22/Nov/18 8:18 AM;jstourac;[~mchoma], thank you for a hint. Although, I think it still does not work. I have applied following change to my commit with no success:

{code}
diff --git a/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/microprofile/opentracing/SimpleRestClientTestCase.java b/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/microprofile/opentracing/SimpleRestClientTestCase.java
index 38e72d93d26..9b6d5132699 100644
--- a/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/microprofile/opentracing/SimpleRestClientTestCase.java
+++ b/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/microprofile/opentracing/SimpleRestClientTestCase.java
@@ -64,8 +64,9 @@ public class SimpleRestClientTestCase {
     private static final String PERMISSIONS = ""<?xml version=\""1.0\"" encoding=\""UTF-8\""?>\n""
             + ""<permissions version=\""7\"">\n""
             + ""    <permission>\n""
-            + ""        <class-name>java.security.AllPermission</class-name>\n""
+            + ""        <class-name>java.io.FilePermission</class-name>\n""
             + ""        <name>*</name>\n""
+            + ""        <action>read</action>\n""
             + ""    </permission>\n""
             + ""</permissions>"";
{code}","26/Nov/18 6:06 PM;jamezp;I can take a deeper look at this, but I'm not sure adding the permissions here is the right thing. I need to look more at the details to figure out what is failing though. Looking at the stack trace we might just need to fix the {{org.jboss.as.test.integration.common.HttpRequest}} to allow for the permissions. Other tests should have that issue as well.","27/Nov/18 2:08 AM;jstourac;[~jamezp], thank you. I'll wait for your deeper check. If you think I shall amend PR anyhow, or need more info, let me know.

NOTE: I have commented on PR in a similar way already.","27/Nov/18 2:48 PM;jamezp;The permissions for all, minus the {{SimpleRestClientTestCase}}, tests in the original PR were correct. I created an updated PR to use the permissions utility and reduce the permissions in the {{SimpleRestClientTestCase}}.

One thing I will note is the {{javax.ws.rs.client.FactoryFinder.find()}} may need to be privileged. Otherwise any client using the {{javax.ws.rs.client.ClientBuilder.newBuilder()}} won't be able to load any service implementations. Same goes for the {{org.eclipse.microprofile.opentracing.ClientTracingRegistrar.configure()}} as well. These could be considered bugs in their respective projects.

Same goes for the {{new RuntimePermission(""accessDeclaredMembers"")}} for Jackson. It executes the following during initialization and should also likely use a privileged action.
{code:java}
private static NoContentExceptionSupplier _createNoContentExceptionSupplier() {
    try {
        Class cls = Class.forName(CLASS_NAME_NO_CONTENT_EXCEPTION);
        Constructor<?> ctor = cls.getDeclaredConstructor(String.class);
        if (ctor != null) {
            return new JaxRS2NoContentExceptionSupplier();
        } else {
            return new JaxRS1NoContentExceptionSupplier();
        }
    } catch (ClassNotFoundException ex) {
        return new JaxRS1NoContentExceptionSupplier();
    } catch (NoSuchMethodException e) {
        return new JaxRS1NoContentExceptionSupplier();
    }
}
{code}","28/Nov/18 10:16 AM;jstourac;Thank you, [~jamezp]. I have reviewed the MR and it looks good!

Regarding to the privileged parts of code. I am not sure I have enough context here. Will you create those component jiras by yourself, or do you want me to create them myself?","29/Nov/18 2:57 PM;jamezp;I've filed an issue for [JAX-RS|https://github.com/eclipse-ee4j/jaxrs-api/issues/708] and a PR with [FasterXML|https://github.com/FasterXML/jackson-jaxrs-providers/pull/109].","30/Nov/18 2:45 AM;mkopecky;[~jamezp] (cc [~asoldano], [~rsearls], [~jbliznak]):
{quote}an issue for JAX-RS{quote}
WF uses jboss jaxrs implementation: https://github.com/jboss/jboss-jaxrs-api_spec/blob/master/src/main/java/javax/ws/rs/client/FactoryFinder.java
{noformat}
[mkopecky@dhcp-10-40-5-71 wfly]$ find | grep jaxrs | grep jar$ | grep spec
./modules/system/layers/base/javax/ws/rs/api/main/jboss-jaxrs-api_2.1_spec-1.0.2.Final.jar
[mkopecky@dhcp-10-40-5-71 wfly]$ 
{noformat}
Wouldn't be better to fill the issue to https://github.com/jboss/jboss-jaxrs-api_spec/issues or to [JBEE jira project|https://issues.jboss.org/projects/JBEE]? 
{quote} PR with FasterXML.{quote}
FasterXML (Jackson2) is old (not ee8 compliant) json provider in resteasy. Wouldn't be better to use JSON-B (yasson, ee8 compliant) here?","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.7.Final,WFLY-11742,12792830,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,18/Feb/19 12:35 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 10:51 AM,16.0.0.Beta1,,,,,16.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"Jira changelog https://issues.jboss.org/projects/ISPN/versions/12340571

Github changelog https://github.com/infinispan/infinispan/commits/9.4.7.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:29.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12087,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03bek:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Servlet 3.1 dependency,WFLY-11573,12786598,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jbliznak,jbliznak,jbliznak,08/Jan/19 11:17 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Jan/19 6:25 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,EE,,,,,,,,,,,0,,,,,"There is JBoss Servlet API dependency declared in two different versions 3.1 and 4.0 which is probably a leftover from transition period during EE8 support development.

Since server built from sources contains only dist/target/wildfly-16.0.0.Beta1-SNAPSHOT/modules/system/layers/base/javax/servlet/api/main/jboss-servlet-api_4.0_spec-1.0.0.Final.jar file it should be safe to remove this from WF project.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:28.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11986,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z02cyw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Jan/19 12:13 PM;jbliznak;PR with proposed fix sent https://github.com/wildfly/wildfly/pull/11986","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Hibernate Validator 6.0.14.Final,WFLY-11560,12786123,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,guillaume.smet,guillaume.smet,guillaume.smet,04/Jan/19 10:27 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,04/Jan/19 4:03 PM,,,,,,15.0.1.Final,16.0.0.Beta1,16.0.0.Final,Bean Validation,,,,,,,,,,,0,,,,,"We just discovered a critical issue in Hibernate Validator (https://hibernate.atlassian.net/browse/HV-1684) that was fixed in 6.0.14.Final.

Let's upgrade.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:28.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z02a8g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Jan/19 10:35 AM;guillaume.smet; * PR for 15.0.x branch: https://github.com/wildfly/wildfly/pull/11975
 * PR for master branch: https://github.com/wildfly/wildfly/pull/11976","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test LookupTestCase fails with security manager,WFLY-11361,12779625,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,baranowb,mchoma,mchoma,15/Nov/18 11:03 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,02/Jan/19 11:38 AM,15.0.0.Beta1,,,,,16.0.0.Beta1,16.0.0.Final,,EE,Test Suite,,,,,,,,,,0,security-manager,,,,"{noformat}
org.jboss.as.test.integration.ee.remotelookup (1)
    LookupTestCase.testServerLocalLookup 
{noformat}

{noformat}
&amp#27;[0m&amp#27;[33m00:13:20,467 WARN  [org.apache.activemq.artemis.core.client] (pool-8-thread-1) AMQ212007: connector.create or connectorFactory.createConnector should never throw an exception, implementation is badly behaved, but we will deal with it anyway.: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.net.SocketPermission"" ""localhost"" ""resolve"")"" in code source ""(vfs:/content/deploy.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.deploy.jar"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkConnect(SecurityManager.java:1048)
	at org.wildfly.security.manager.WildFlySecurityManager.checkConnect(WildFlySecurityManager.java:389)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1268)
	at java.net.InetAddress.getAllByName(InetAddress.java:1192)
	at java.net.InetAddress.getAllByName(InetAddress.java:1126)
	at java.net.InetAddress.getByName(InetAddress.java:1076)
	at java.net.InetSocketAddress.<init>(InetSocketAddress.java:220)
	at org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector.createConnection(NettyConnector.java:711)
	at org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl.openTransportConnection(ClientSessionFactoryImpl.java:1046)
	at org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl.createTransportConnection(ClientSessionFactoryImpl.java:1086)
	at org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl.establishNewConnection(ClientSessionFactoryImpl.java:1297)
	at org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl.getConnection(ClientSessionFactoryImpl.java:901)
	at org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl.getConnectionWithRetry(ClientSessionFactoryImpl.java:797)
	at org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl.connect(ClientSessionFactoryImpl.java:240)
	at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:782)
	at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:835)
	at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:282)
	at org.jboss.as.test.integration.ee.remotelookup.LookupTestCase.lookupConnectionFactory(LookupTestCase.java:81)
	at org.jboss.as.test.integration.ee.remotelookup.LookupTestCase.testServerLocalLookup(LookupTestCase.java:66)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.GeneratedMethodAccessor28.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.GeneratedMethodAccessor17.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.GeneratedMethodAccessor13.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:28.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11968,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01bg8:",9223372036854775807,,0.0,,,,,"{noformat}
cd wildfly/testsuite/integration/basic
mvn clean test -Dtest=LookupTestCase -Dsecurity.manager -DtestLogToFile=false
{noformat}",,,,,,,,,,,"19/Nov/18 6:18 AM;mchoma;[~dmlloyd] as the lead of EE component [1]. Could you assignee this issue to someone, please?

[1] https://issues.jboss.org/projects/WFLY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EESecurityAuthMechanismTestCase fails with security manager,WFLY-11348,12779348,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,mchoma,mchoma,14/Nov/18 8:01 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,08/Jan/19 11:44 AM,14.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Security,Test Suite,,,,,,,,,,0,security-manager,,,,"{noformat}
org.jboss.as.test.integration.security.jaspi (2)
    EESecurityAuthMechanismTestCase.testAuthNotRequired  	
    EESecurityAuthMechanismTestCase.testSuccessfulAuthentication 
{noformat}

Seems to me doPrivileged block is missing in server code somewhere.
{noformat}
&amp#27;[0m&amp#27;[31m00:29:39,192 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /EESecurityAuthMechanismTestCase/unsecured/index.jsp: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""org.jboss.security.plugins.JBossSecurityContext.getSubjectInfo"")"" in code source ""(vfs:/content/EESecurityAuthMechanismTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.EESecurityAuthMechanismTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at org.jboss.security.plugins.JBossSecurityContext.getSubjectInfo(JBossSecurityContext.java:182)
	at org.jboss.security.auth.callback.JASPICallbackHandler.handleCallBack(JASPICallbackHandler.java:128)
	at org.jboss.security.auth.callback.JBossCallbackHandler.handle(JBossCallbackHandler.java:87)
	at org.glassfish.soteria.mechanisms.jaspic.Jaspic.handleCallbacks(Jaspic.java:196)
	at org.glassfish.soteria.mechanisms.jaspic.Jaspic.notifyContainerAboutLogin(Jaspic.java:182)
	at org.glassfish.soteria.mechanisms.HttpMessageContextImpl.doNothing(HttpMessageContextImpl.java:303)
	at org.jboss.as.test.integration.security.jaspi.SimpleHttpAuthenticationMechanism.validateRequest(SimpleHttpAuthenticationMechanism.java:43)
	at org.jboss.as.test.integration.security.jaspi.SimpleHttpAuthenticationMechanism$Proxy$_$$_WeldClientProxy.validateRequest(Unknown Source)
	at org.glassfish.soteria.mechanisms.jaspic.HttpBridgeServerAuthModule.validateRequest(HttpBridgeServerAuthModule.java:114)
	at org.glassfish.soteria.mechanisms.jaspic.DefaultServerAuthContext.validateRequest(DefaultServerAuthContext.java:76)
	at org.jboss.security.plugins.auth.JASPIServerAuthenticationManager.isValid(JASPIServerAuthenticationManager.java:115)
	at org.wildfly.extension.undertow.security.jaspi.JASPICAuthenticationMechanism.authenticate(JASPICAuthenticationMechanism.java:125)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:245)
	at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.access$100(SecurityContextImpl.java:231)
	at io.undertow.security.impl.SecurityContextImpl.attemptAuthentication(SecurityContextImpl.java:125)
	at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:99)
	at io.undertow.security.impl.SecurityContextImpl.authenticate(SecurityContextImpl.java:92)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:55){noformat}
{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-20 14:50:29.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z019so:",9223372036854775807,,0.0,,,,,"{noformat}
cd wildfly/testsuite/integration/basic
mvn clean test -Dtest=EESecurityAuthMechanismTestCase -Dsecurity.manager -DtestLogToFile=false
{noformat}
",,,,,,,,,,,"19/Nov/18 6:13 AM;mchoma;[~fjuma] (cc [~dlofthouse]) Could you assign the issue to someone, please?","20/Nov/18 2:50 PM;jucook;[~swd847] This issue seems to be related to WFLY-10172 and not Elytron. Do you have any pointers for it/if the fix isn't straightforward would you like to take it over?","18/Dec/18 7:33 AM;dlofthouse;Resolving as ""Won't Fix"" as this is within the legacy PicketBox integration.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Not possible to configure more than 1 passivation-store per deployment,WFLY-11612,12788124,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,18/Jan/19 10:48 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,18/Jan/19 9:54 PM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,EJB,,,,,,,,,,0,,,,,"In EAP 7.1 and 7.2 per subdeployment, in the EAR, only one passivation store can be used. 
If within one EAR-subdeployment caches ""infinispanCache"" and ""infinispanCache2""  per config below are used (referenced via @Cache annotation or <ec:cache-ref> deplyoment desriptor), it results in the error listed below:

            <caches>
                <cache name=""simple""/>
                <cache name=""infinispanCache"" passivation-store-ref=""infinispanStore"" aliases=""passivating""/>
                <cache name=""infinispanCache2"" passivation-store-ref=""infinispanStore2"" aliases=""longLife""/>
            </caches>
            <passivation-stores>
                <passivation-store name=""infinispanStore"" cache-container=""ejb"" bean-cache=""passivation"" max-size=""5""/>
                <passivation-store name=""infinispanStore2"" cache-container=""ejb"" bean-cache=""passivation"" max-size=""10""/>
            </passivation-stores>

using both caches from 1 EAR-subdeployment leads to:

2019-01-10 12:14:10,757 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.deployment.subunit.""frameworktest.ear"".""framework_ejb.jar"".cache-dependencies-installer: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""frameworktest.ear"".""framework_ejb.jar"".cache-dependencies-installer: Failed to start service
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1730)
[...]
Caused by: org.jboss.msc.service.DuplicateServiceException: Service org.wildfly.clustering.infinispan.cache-configuration.ejb.frameworktest.ear/framework_ejb.jar is already registered
        at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:111)

It should be possible to configure more than 1 passivation-store per subdeployment, in particular when different time-outs are configured this way.",,,,,,,,,,,,,JBEAP-16144,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-07 09:52:55.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12015,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z02lq8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Jan/19 10:49 AM;pferraro;Just to clarify, the issue only affect multiple passivation-stores that use the same cache-container and cache attributes.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Description of transaction timeout is misleading,WFLY-11579,12786766,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,mnovak,mnovak,09/Jan/19 9:35 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Jan/19 4:50 AM,14.0.0.Final,15.0.0.Beta1,,,,16.0.0.Beta1,16.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"In /subsystem=messaging-activemq/server=default is described attribute:
{code}
 ""transaction-timeout"" => {
                ""type"" => LONG,
                ""description"" => ""How long (in ms) before a transaction can be removed from the resource manager after create time."",
{code}

which is misleading. Based on code review if Artemis transaction is part of XA transaction or one-phase but still under coordination of Transaction Manager then this timeout is changed by Transaction Manager to timeout defined in transaction subsystem:
{code}
[standalone@localhost:9990 subsystem=transactions] :read-resource
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""default-timeout"" => 300,
{code}

We should provide this information to description of transaction-timeout attribute in messaging-activemq subsystem.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:28.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02dyw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create utility to ignore tests if the security manager is enabled,WFLY-11556,12785978,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,03/Jan/19 1:34 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Jan/19 10:58 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,Add a utility to the {{AssumeTestGroupUtil}} which skips tests if the security manager is enabled.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:27.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11974,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z029cg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove test workaround for CDI-727,WFLY-11512,12784562,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,13/Dec/18 5:13 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Dec/18 6:23 AM,14.0.0.Final,15.0.0.Final,,,,16.0.0.Beta1,16.0.0.Final,,CDI / Weld,,,,,,,,,,,0,security-manager,,,,"Test {{EntityListenerBeanManagerInjectionTestCase}} used to fail with security manager due to CDI-727. However, a workaround has been applied to the test with WFLY-10125 - which seems wrong - the test should rather have been @ Ignored when running with security manager. 

However, the original issue was already fixed with the component upgrade WFLY-10740 however the workaround has been kept in place which can mask further issues.

{{cd testsuite/integration/basic}}
{{mvn clean test -Dtest=EntityListenerBeanManagerInjectionTestCase -Dsecurity.manager}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:27.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11932,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z021eo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Multiple delivery group support for MDBs,WFLY-11622,12788322,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,21/Jan/19 9:02 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,13/Feb/19 10:00 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,EJB,JMS,,,,,,,,,,0,,,,,"Add support for multiple delivery groups in the same MDB.

For info on delivery groups, see https://docs.jboss.org/author/display/WFLY10/Message+Driven+Beans+Controlled+Delivery

",,,,,,,,,,,,,EAP7-720,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-12 09:24:55.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z02mv4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Feb/19 9:24 AM;kabirkhan;[~flavia.rainone] If the aim is that this should make the feature freeze, we'd need the jboss-ejb3-ext-api release today ideally. But of course that probably depends on how [~mnovak]'s pre-checking is going","12/Feb/19 10:41 AM;mnovak;[~flavia.rainone] [~kabirkhan] Pre-check is ok. Feature behaves as expected.  I don't see any regressions in my tests. However there are some failures hit by CI jobs in PR: https://github.com/wildfly/wildfly/pull/12045 - is it normal those fail?","12/Feb/19 12:05 PM;kabirkhan;[~mnovak] Yeah, we need the mentioned upgrade before they can pass","13/Feb/19 7:13 AM;mnovak;[~brian.stansberry] All the checks passed. I've started Wildfly test suite with master (after merge) and then Flavia's branch in the morning and did not see any issue related to this. I think this can be resolved.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade FasterXML Jackson from 2.9.5 to 2.9.8,WFLY-11571,12786452,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,spyrkob,spyrkob,spyrkob,08/Jan/19 4:41 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,09/Jan/19 3:01 PM,,,,,,15.x.x TBD,16.0.0.Beta1,16.0.0.Final,XML Frameworks,,,,,,,,,,,0,downstream_dependency,,,,"Tag:
https://github.com/FasterXML/jackson-core/releases/tag/jackson-core-2.9.8
https://github.com/FasterXML/jackson-annotations/releases/tag/jackson-annotations-2.9.8
https://github.com/FasterXML/jackson-databind/releases/tag/jackson-databind-2.9.8
https://github.com/FasterXML/jackson-modules-java8/releases/tag/jackson-modules-java8-2.9.8
https://github.com/FasterXML/jackson-jaxrs-providers/releases/tag/jackson-jaxrs-providers-2.9.8
https://github.com/FasterXML/jackson-modules-base/releases/tag/jackson-modules-base-2.9.8",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:26.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11984,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02c4g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add missing Singleton subsystem transformer tests for EAP 7.2,WFLY-11713,12792152,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,13/Feb/19 1:59 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:10 PM,15.0.1.Final,,,,,16.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:26.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12072,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z037p0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename microprofile layer to be observability,WFLY-11774,12794066,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,25/Feb/19 11:03 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,25/Feb/19 7:03 PM,,,,,,16.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:26.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03hz0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide ability to list modules which are on deployment's classpath,WFLY-11681,12790997,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,szhantem,szhantem,szhantem,07/Feb/19 4:30 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 12:11 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Server,,,,,,,,,,,0,,,,,"Add a test case that covers the feature of listing modules which are on an EAR deployment's classpath.

",,,,,,,,,,,,,WFCORE-4251,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:26.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12047,https://github.com/wildfly/wildfly-proposals/pull/159,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z031qk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MicroProfile tests failing with security manager,WFLY-11346,12779316,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,mchoma,mchoma,14/Nov/18 6:06 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Jan/19 11:00 PM,14.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,MP Config,Test Suite,,,,,,,,,,0,security-manager,,,,"{noformat}
org.wildfly.test.integration.microprofile.config.smallrye.app (9)
    MicroProfileConfigTestCase.testGetBooleanProperties  	
    MicroProfileConfigTestCase.testGetDoubleProperties  	
    MicroProfileConfigTestCase.testGetFloatProperties  	
    MicroProfileConfigTestCase.testGetIntegerProperties  	
    MicroProfileConfigTestCase.testGetLongProperties  	
    MicroProfileConfigTestCase.testGetWithArraySetListDefaultProperties  	
    MicroProfileConfigTestCase.testGetWithArraySetListOverriddenProperties  	
    MicroProfileConfigTestCase.testGetWithConfigProperties  	
    MicroProfileConfigTestCase.testPriorityOrderingProperties  	
org.wildfly.test.integration.microprofile.config.smallrye.converter (1)
    MicroProfileConfigConvertersTestCase.testConverterPriority  	
org.wildfly.test.integration.microprofile.config.smallrye.management.config_source (1)
    ConfigSourceFromClassTestCase.testGetWithConfigProperties  	
org.wildfly.test.integration.microprofile.config.smallrye.management.config_source_provider (1)
    ConfigSourceProviderFromClassTestCase.testGetWithConfigProperties 
{noformat}

With MicroProfileConfigTestCase there is error

{noformat}
12:01:38,872 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /MicroProfileConfigTestCase/microprofile/arraySetListDefaultTest: org.jboss.resteasy.spi.UnhandledException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getenv.myPets"")"" in code source ""(vfs:/content/MicroProfileConfigTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""null"")
	at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:78)
	at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:222)
	at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:197)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:459)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:233)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:139)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:142)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:219)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:227)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
{noformat}

So probably solution is to add such permissions to rs application TestApplication. 

For other tests (MicroProfileConfigConvertersTestCase, ConfigSourceFromClassTestCase, ConfigSourceProviderFromClassTestCase) this exception is not printed, but I think cause will be the same as the structure of these tests is the same

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-03 15:51:16.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11974,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z019lk:",9223372036854775807,,0.0,,,,,"cd wildfly/testsuite/integration/basic
mvn clean test -Dtest=MicroProfileConfigTestCase -Dsecurity.manager -DtestLogToFile=false",,,,,,,,,,,"19/Nov/18 6:08 AM;mchoma;[~jmesnil] as MP Config lead [1] could you assigne the issue to someone, please?

[1] https://issues.jboss.orga/projects/WFLY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page","03/Jan/19 3:51 PM;jamezp;I think in this case deployments should require the explicit permissions for the properties required. In other words I think the tests only need to be fixed.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Optimize FineSessionAttributes cache operations,WFLY-11254,12776614,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,27/Oct/18 11:25 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 1:15 PM,14.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"The FineSessionAttributes are implemented atop a Cache<Key<String>, Map<String, ID>>. Currently, operations to add and remove attributes from the map of attributes are sub-optimal, as they replicate the entire Map<String, ID>. As discussed at the last clustering F2F, we should optimize these operations such that only the attribute name to be added/removed is sent to remote nodes.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11891,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00urc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Mixed domain tests don't work when overriding the slave JVM when running with Java 11,WFLY-11526,12785058,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,17/Dec/18 6:16 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,20/Dec/18 11:27 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,Some of the older servers will not launch with Java 11. This requires the slaves to override the Java home path. However the modular JDK parameters are passed to the Java 8 VM arguments which causes the VM to fail to start. These parameters should not be passed.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11940,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0249k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
org.jboss.as.weld has optional dependency on org.jboss.as.security which causes regression,WFLY-11587,12787094,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,manovotn,manovotn,11/Jan/19 6:26 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Jan/19 7:53 PM,15.0.1.Final,,,,,15.x.x TBD,16.0.0.Beta1,16.0.0.Final,CDI / Weld,Security,,,,,,,,,,0,,,,,"This is originally reported on forums, see [this|https://developer.jboss.org/thread/279444] link.
The post contains a nice reproducer (which should be turned into automated test) along with steps to reproduce.

The original cause is WFLY-11125 where Weld's dependency on {{org.jboss.as.security}} changed from mandatory to optional. This causes failures when using {{@Inject Principal}}.",,,,,,,,,WFLY-11125,,,,,,,,,,,,,,,WFLY-11588,WFLY-11616,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-11 11:55:12.0,,,,,,,,https://developer.jboss.org/thread/279444,,https://github.com/wildfly/wildfly/pull/11996,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|z02fy0:",9223372036854775807,,0.0,,,,,See the forum post for attachments and steps to reproduce,,,,,,,,,,,"11/Jan/19 6:45 AM;manovotn;[~brian.stansberry] since you authored the original PR, when exactly is the {{org.wildfly.legacy-security}} capability present in WFLY?

I don't really know how to fix this (apart from obvious revert) as it seems like Weld needs a mandatory dependency on security in order to be able to inject Principal.","11/Jan/19 11:55 AM;brian.stansberry;[~manovotn] The org.wildfly.legacy-security capability is present in the runtime if subsystem=security is in the config.

Adding 'optional=""true""' to the module.xml files is not likely the issue. That only matters if the relevant modules are not present on the filesystem, and the forum post gives no reason to think they aren't. (The driver behind WFLY-11125 was to help make it possible to provision a server without unneeded modules on the FS, but there's nothing in WF 15 that actually took advantage of that.)

So if WFLY-11125 is the cause it's probably the java code change not the module.xml change.","11/Jan/19 12:45 PM;brian.stansberry;I think I know what it is.","11/Jan/19 1:23 PM;brian.stansberry;[~manovotn] https://github.com/wildfly/wildfly/pull/11996 is a likely fix, although I haven't tried. If there was a reproducer test that would be lovely as it seems there isn't coverage of this integration.","14/Jan/19 4:09 AM;manovotn;bq. Adding 'optional=""true""' to the module.xml files is not likely the issue. 

Yea, sorry I wasn't thorough in issue description, this alone wasn't the cause indeed.

bq. Matej Novotny https://github.com/wildfly/wildfly/pull/11996 is a likely fix, ...

Yes, I can confirm this fixes the issue. ","19/Jan/19 3:45 PM;brian.stansberry;[~manovotn] [~dlofthouse] I added a simple test of injecting the Principal built-in bean to my PR for this at https://github.com/wildfly/wildfly/pull/11996. Unfortunately it's showing what looks like a pre-existing issue when the test is run with a security manager enabled:

{code}
Caused by: java.lang.RuntimeException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""org.jboss.security.identity.plugins.IdentityFactory.loadClass"")"" in code source ""(vfs:/content/cdibuiltin.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.cdibuiltin.war"" from Service Module Loader"")
 at org.jboss.security.identity.plugins.SimpleIdentity.asPrincipal(SimpleIdentity.java:84)
 at org.jboss.as.security.service.SimpleSecurityManager.getCallerPrincipal(SimpleSecurityManager.java:136)
 at org.jboss.as.weld.services.bootstrap.WeldSecurityServices.getPrincipal(WeldSecurityServices.java:84)
 at org.jboss.weld.bean.builtin.ee.PrincipalBean$PrincipalCallable.call(PrincipalBean.java:41)
 at org.jboss.weld.bean.builtin.ee.PrincipalBean$PrincipalCallable.call(PrincipalBean.java:30)
 at org.jboss.weld.bean.builtin.CallableMethodHandler.invoke(CallableMethodHandler.java:38)
 at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
 at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
 at org.jboss.weld.security.Principal$$Proxy$_$$_Weld$Proxy$.getName(Unknown Source)
 at org.jboss.as.test.integration.weld.builtin.CDIResource.getMessage(CDIResource.java:40)
 at org.jboss.as.test.integration.weld.builtin.CDIResource$Proxy$_$$_WeldClientProxy.getMessage(Unknown Source)
 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 at java.lang.reflect.Method.invoke(Method.java:498)
 at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:139)
 at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:509)
 at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:399)
 at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:363)
 at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:355)
 at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:365)
 at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:337)
 at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:310)
 at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:439)
 ... 57 more
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""org.jboss.security.identity.plugins.IdentityFactory.loadClass"")"" in code source ""(vfs:/content/cdibuiltin.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.cdibuiltin.war"" from Service Module Loader"")
 at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
 at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
 at org.jboss.security.identity.plugins.IdentityFactory.loadClass(IdentityFactory.java:91)
 at org.jboss.security.identity.plugins.IdentityFactory.createPrincipal(IdentityFactory.java:49)
 at org.jboss.security.identity.plugins.SimpleIdentity.asPrincipal(SimpleIdentity.java:80)
 ... 80 more
{code}

I don't know whether the spec has anything to say regarding any permissions that should be required in order to inject a Principal. If it says they shouldn't be required or is silent on the topic and we think they should not be necessary, then we are missing a privileged block.  Otherwise I doubt what's being thrown here is what we'd want. If some permission is needed, checking for something more related to the use case (probably something new) would be better, and if that permission check passes then make the call in a privileged block.","19/Jan/19 3:52 PM;brian.stansberry;I filed WFLY-11616 for this.  I'll ignore the test if an s-m is present as we want the fix and the test in.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DefaultCacheContainer getCache(...) createIfAbsent variants throw NPE when called with false and cache does not exist,WFLY-11575,12786655,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,08/Jan/19 4:54 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Jan/19 4:53 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-09 03:23:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11988,,,,,,,,,,,,,,,,0.0,6.0,,,,,,,,,,"1|z02dao:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Jan/19 3:23 AM;narlong;??Affects Version/s?? - 13.0.0.Final as well

Stacktrace:
{code:java}
Caused by: java.lang.NullPointerException
	at org.jboss.as.clustering.infinispan.DefaultCacheContainer.wrap(DefaultCacheContainer.java:107)
	at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:97)
{code}
","09/Jan/19 9:53 AM;pferraro;[~narlong] True - but unfortunately, there is no 13.x branch for which to backport the fix.","09/Jan/19 10:38 AM;narlong;So there will be no fix delivered for version 13?
Is it that much of a complicated matter to open a branch, or is support for it cancelled?

... I would like to avoid migrating to the EE8 enabled versions for now, hence this situation...","09/Jan/19 12:18 PM;pferraro;{quote}So there will be no fix delivered for version 13?{quote}
No. We've done 2 major releases since, i.e. 14 and 15.
{quote}Is it that much of a complicated matter to open a branch, or is support for it cancelled?{quote}
It's not complicated.  However, now that WildFly has moved to a 3 month release cadence (to align with the 6-month release cadence of the JDK), it would be cumbersome to backport fixes to so many branches, and still maintain a reasonable level of stability.  Users can always checkout the 13.0.0.Final branch and cherry-pick any fixes from master that you'd like and perform a custom build.  This is trivial to do.
{quote}I would like to avoid migrating to the EE8 enabled versions for now{quote}
Why?  EE8 is fully backwards compatible with EE7 - so your EE7 application should be unaffected.","09/Jan/19 1:18 PM;narlong;EE8 is indeed backwards compatible, but it's also just a spec. To ensure the implementation is not bug-ridden is an effort, so I will not do it via Wildfly, but via JBoos EAP first, which has support. This will be a ways in the future though, so meanwhile I was simply trying not to be stuck on my current 10 wildfly version.
You mentioned JDK, which is a good example of why these migrations should be done with care.

Anyway, nothing for it then, I will either be stuck with a vanilla 10.1.0.Final or a custom 13.0.0.Final...

Thanks anyway, though.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EAR deployment fails with a CNFE when @Transactional is used in a CDI bean,WFLY-11506,12784389,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,12/Dec/18 9:50 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Dec/18 6:22 AM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,"The deployment of an EAR which contains a WAR with a CDI bean annotated with @Transactional fails with a CNF exception on com.arjuna.ats.jta.cdi.TransactionExtension. An example of the error trace is:

{code}
13:44:31,895 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 89) MSC000001: Failed to start service jboss.deployment.subunit.""ear-tx-web-listener-ear-1.0.ear"".""org.wildfly-ear-tx-web-listener-web-1.0.war"".undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.subunit.""ear-tx-web-listener-ear-1.0.ear"".""org.wildfly-ear-tx-web-listener-web-1.0.war"".undertow-deployment: java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:252)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)
	... 8 more
Caused by: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
	at io.undertow.servlet.core.ManagedListener.start(ManagedListener.java:50)
	at io.undertow.servlet.core.ApplicationListeners.start(ApplicationListeners.java:159)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:189)
	at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:185)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:250)
	... 10 more
Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:163)
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:134)
	at org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:88)
	at org.jboss.as.ee.component.ComponentRegistry$ComponentManagedReferenceFactory.getReference(ComponentRegistry.java:149)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$6.createInstance(UndertowDeploymentInfoService.java:1215)
	at io.undertow.servlet.core.ManagedListener.start(ManagedListener.java:48)
	... 21 more
Caused by: org.jboss.weld.exceptions.WeldException: WELD-001524: Unable to load proxy class for bean Extension [class com.arjuna.ats.jta.cdi.TransactionExtension] with qualifiers [@Default]; org.wildfly-ear-tx-web-listener-web-1.0.war with class class com.arjuna.ats.jta.cdi.TransactionExtension using classloader ModuleClassLoader for Module ""deployment.ear-tx-web-listener-ear-1.0.ear"" from Service Module Loader
	at org.jboss.weld.bean.proxy.ProxyFactory.getProxyClass(ProxyFactory.java:370)
	at org.jboss.weld.bean.proxy.ProxyFactory.run(ProxyFactory.java:324)
	at org.jboss.weld.bean.proxy.ProxyFactory.create(ProxyFactory.java:316)
	at org.jboss.weld.bean.proxy.ClientProxyFactory.create(ClientProxyFactory.java:83)
	at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:205)
	at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:195)
	at org.jboss.weld.bean.proxy.ClientProxyProvider.access$100(ClientProxyProvider.java:44)
	at org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.apply(ClientProxyProvider.java:52)
	at org.jboss.weld.bean.proxy.ClientProxyProvider$CreateClientProxy.apply(ClientProxyProvider.java:48)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.lambda$null$0(ReentrantMapBackedComputingCache.java:55)
	at org.jboss.weld.util.LazyValueHolder$1.computeValue(LazyValueHolder.java:32)
	at org.jboss.weld.util.LazyValueHolder.get(LazyValueHolder.java:46)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getValue(ReentrantMapBackedComputingCache.java:72)
	at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getCastValue(ReentrantMapBackedComputingCache.java:78)
	at org.jboss.weld.bean.proxy.ClientProxyProvider.getClientProxy(ClientProxyProvider.java:229)
	at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:694)
	at org.jboss.weld.manager.BeanManagerImpl.getInjectableReference(BeanManagerImpl.java:800)
	at org.jboss.weld.injection.FieldInjectionPoint.inject(FieldInjectionPoint.java:92)
	at org.jboss.weld.util.Beans.injectBoundFields(Beans.java:336)
	at org.jboss.weld.util.Beans.injectFieldsAndInitializers(Beans.java:347)
	at org.jboss.weld.injection.producer.ResourceInjector$1.proceed(ResourceInjector.java:69)
	at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48)
	at org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:71)
	at org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:117)
	at org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:159)
	at org.jboss.weld.contexts.unbound.DependentContextImpl.get(DependentContextImpl.java:70)
	at org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)
	at org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)
	at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:700)
	at org.jboss.weld.bean.interceptor.CdiInterceptorFactory.create(CdiInterceptorFactory.java:46)
	at org.jboss.weld.interceptor.proxy.InterceptionContext.initInterceptorInstanceMap(InterceptionContext.java:102)
	at org.jboss.weld.interceptor.proxy.InterceptionContext.of(InterceptionContext.java:77)
	at org.jboss.weld.interceptor.proxy.InterceptionContext.forNonConstructorInterception(InterceptionContext.java:73)
	at org.jboss.weld.injection.producer.InterceptorApplyingInstantiator.newInstance(InterceptorApplyingInstantiator.java:60)
	at org.jboss.weld.injection.producer.BasicInjectionTarget.produce(BasicInjectionTarget.java:112)
	at org.jboss.weld.injection.producer.BeanInjectionTarget.produce(BeanInjectionTarget.java:186)
	at org.jboss.as.weld.injection.WeldInjectionContext.produce(WeldInjectionContext.java:46)
	at org.jboss.as.weld.injection.WeldManagedReferenceFactory.create(WeldManagedReferenceFactory.java:55)
	at org.jboss.as.ee.component.ComponentInstantiatorInterceptor.processInvocation(ComponentInstantiatorInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:26)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld.injection.WeldInterceptorInjectionInterceptor.processInvocation(WeldInterceptorInjectionInterceptor.java:56)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.weld.injection.WeldInjectionContextInterceptor.processInvocation(WeldInjectionContextInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:161)
	... 26 more
Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
	at org.jboss.weld.util.bytecode.ClassFileUtils.toClass(ClassFileUtils.java:113)
	at org.jboss.weld.bean.proxy.ProxyFactory.createProxyClass(ProxyFactory.java:469)
	at org.jboss.weld.bean.proxy.ProxyFactory.getProxyClass(ProxyFactory.java:362)
	... 78 more
Caused by: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:763)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.weld.util.bytecode.ClassFileUtils.toClass2(ClassFileUtils.java:120)
	at org.jboss.weld.util.bytecode.ClassFileUtils.toClass(ClassFileUtils.java:109)
	... 80 more
Caused by: java.lang.ClassNotFoundException: com.arjuna.ats.jta.cdi.TransactionExtension from [Module ""deployment.ear-tx-web-listener-ear-1.0.ear"" from Service Module Loader]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:255)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	... 88 more

13:44:31,902 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""deploy"") failed - address: ({""deployment"" => ""ear-tx-web-listener-ear-1.0.ear""}) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.subunit.\""ear-tx-web-listener-ear-1.0.ear\"".\""org.wildfly-ear-tx-web-listener-web-1.0.war\"".undertow-deployment"" => ""java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
    Caused by: org.jboss.weld.exceptions.WeldException: WELD-001524: Unable to load proxy class for bean Extension [class com.arjuna.ats.jta.cdi.TransactionExtension] with qualifiers [@Default]; org.wildfly-ear-tx-web-listener-web-1.0.war with class class com.arjuna.ats.jta.cdi.TransactionExtension using classloader ModuleClassLoader for Module \""deployment.ear-tx-web-listener-ear-1.0.ear\"" from Service Module Loader
    Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
    Caused by: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
    Caused by: java.lang.ClassNotFoundException: com.arjuna.ats.jta.cdi.TransactionExtension from [Module \""deployment.ear-tx-web-listener-ear-1.0.ear\"" from Service Module Loader]""}}
13:44:31,903 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment ""ear-tx-web-listener-ear-1.0.ear"" was rolled back with the following failure message:
{""WFLYCTL0080: Failed services"" => {""jboss.deployment.subunit.\""ear-tx-web-listener-ear-1.0.ear\"".\""org.wildfly-ear-tx-web-listener-web-1.0.war\"".undertow-deployment"" => ""java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: java.lang.RuntimeException: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: javax.servlet.ServletException: UT010013: Could not instantiate org.wildfly.TxWebListener
    Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
    Caused by: org.jboss.weld.exceptions.WeldException: WELD-001524: Unable to load proxy class for bean Extension [class com.arjuna.ats.jta.cdi.TransactionExtension] with qualifiers [@Default]; org.wildfly-ear-tx-web-listener-web-1.0.war with class class com.arjuna.ats.jta.cdi.TransactionExtension using classloader ModuleClassLoader for Module \""deployment.ear-tx-web-listener-ear-1.0.ear\"" from Service Module Loader
    Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
    Caused by: java.lang.NoClassDefFoundError: com/arjuna/ats/jta/cdi/TransactionExtension
    Caused by: java.lang.ClassNotFoundException: com.arjuna.ats.jta.cdi.TransactionExtension from [Module \""deployment.ear-tx-web-listener-ear-1.0.ear\"" from Service Module Loader]""}}
{code}

In WF15 some modules were cleaned up removing the apparently uneeded weld dependencies. Specifically, this issue is a consequence of WFLY-11165, where the {{""org.jboss.weld.core""}} module was removed from {{""org.jboss.jts""}} module.

Since {{org.jboss.jts}} does not have dependencies on Weld, the proxies loading is delegated to the EAR classloader. The @Transactional annotation is in the WAR subdeployment, so {{TransactionDependenciesProcessor}} adds the {{org.jboss.jts}} module only to the WAR, failing the load of the {{TransactionExtension}} when the EAR class loader is used.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Dec/18 9:58 AM;yersan;ear-tx-web-listener.zip;https://issues.redhat.com/secure/attachment/12444680/ear-tx-web-listener.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:24.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11935,,,,,,,,,,,,,,,,1.0,1.0,,,,,,,,,,"1|z020f4:",9223372036854775807,,0.0,,,,,"* Unzip ear-tx-web-listener.zip
* deploy the .ear",,,,,,,,,Workaround Exists,"Manually include the missing classpath entry adding the module in the deployment-structure.xml or manifest file, e.g.:

{code:xml}
<jboss-deployment-structure>  
<deployment>  
    <dependencies>  
        <module name=""org.jboss.jts"" />  
    </dependencies>  
</deployment>  
</jboss-deployment-structure>
{code}
","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade commons-digester from 1.8 to 1.8.1,WFLY-11576,12786656,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,spyrkob,spyrkob,spyrkob,08/Jan/19 5:19 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Jan/19 6:06 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:23.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11989,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02daw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JGroups to 4.0.16.Final,WFLY-11449,12781617,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,pferraro,pferraro,29/Nov/18 3:50 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Jan/19 3:18 PM,15.0.0.Beta1,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,Changelog: https://issues.jboss.org/projects/JGRP/versions/12339241,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JGRP-2279,JGRP-2315,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:23.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12021,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01mw0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CDIBuiltinInjectionTestCase fails with a security manager installed,WFLY-11616,12788193,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,manovotn,brian.stansberry,brian.stansberry,19/Jan/19 3:50 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Feb/19 10:24 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,CDI / Weld,,,,,,,,,,,0,,,,,"New test case in https://github.com/wildfly/wildfly/pull/11996/files fails when a security manager is present.  This is a pre-existing problem not introduced by the PR. The PR is just the first test coverage we have of using @Inject Principal.

I'll configure the test to be ignored if an s-m is present; this JIRA is to track a proper resolution.

Details:

{code}
Caused by: java.lang.RuntimeException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""org.jboss.security.identity.plugins.IdentityFactory.loadClass"")"" in code source ""(vfs:/content/cdibuiltin.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.cdibuiltin.war"" from Service Module Loader"")
 at org.jboss.security.identity.plugins.SimpleIdentity.asPrincipal(SimpleIdentity.java:84)
 at org.jboss.as.security.service.SimpleSecurityManager.getCallerPrincipal(SimpleSecurityManager.java:136)
 at org.jboss.as.weld.services.bootstrap.WeldSecurityServices.getPrincipal(WeldSecurityServices.java:84)
 at org.jboss.weld.bean.builtin.ee.PrincipalBean$PrincipalCallable.call(PrincipalBean.java:41)
 at org.jboss.weld.bean.builtin.ee.PrincipalBean$PrincipalCallable.call(PrincipalBean.java:30)
 at org.jboss.weld.bean.builtin.CallableMethodHandler.invoke(CallableMethodHandler.java:38)
 at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)
 at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)
 at org.jboss.weld.security.Principal$$Proxy$_$$_Weld$Proxy$.getName(Unknown Source)
 at org.jboss.as.test.integration.weld.builtin.CDIResource.getMessage(CDIResource.java:40)
 at org.jboss.as.test.integration.weld.builtin.CDIResource$Proxy$_$$_WeldClientProxy.getMessage(Unknown Source)
 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 at java.lang.reflect.Method.invoke(Method.java:498)
 at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:139)
 at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:509)
 at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:399)
 at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:363)
 at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:355)
 at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:365)
 at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:337)
 at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:310)
 at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:439)
 ... 57 more
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""org.jboss.security.identity.plugins.IdentityFactory.loadClass"")"" in code source ""(vfs:/content/cdibuiltin.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.cdibuiltin.war"" from Service Module Loader"")
 at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
 at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
 at org.jboss.security.identity.plugins.IdentityFactory.loadClass(IdentityFactory.java:91)
 at org.jboss.security.identity.plugins.IdentityFactory.createPrincipal(IdentityFactory.java:49)
 at org.jboss.security.identity.plugins.SimpleIdentity.asPrincipal(SimpleIdentity.java:80)
 ... 80 more
{code}

I don't know whether the spec has anything to say regarding any permissions that should be required in order to inject a Principal. If it says they shouldn't be required or is silent on the topic and we think they should not be necessary, then we are missing a privileged block.  Otherwise I doubt what's being thrown here is what we'd want. If some permission is needed, checking for something more related to the use case (probably something new) would be better, and if that permission check passes then make the call in a privileged block.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-21 01:26:53.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12019,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z02m4w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Jan/19 1:26 AM;manovotn;Spec doesn't say anything about permissions, in fact [the only thing it says around {{Principal}}|http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#additional_builtin_beans] is that there is a built-in bean with {{@Default}} qualifier provided. The rest is up to integrator (which, in Weld, is done via {{WeldSecurityServices}}).

I'll send a PR adding the privileged block.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade license plugin to 2.0.0.Beta2,WFLY-11532,12785224,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jason.greene,kabirkhan,kabirkhan,19/Dec/18 4:44 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,20/Dec/18 6:06 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Build System,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:23.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02580:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JSF ViewMap Regression,WFLY-11275,12777451,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,treblereel,clerum,clerum,02/Nov/18 12:29 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,13/Feb/19 9:23 AM,14.0.1.Final,15.0.0.Final,15.0.1.Final,,,16.0.0.Beta1,16.0.0.Final,,JSF,,,,,,,,,,,0,,,,,"I'm been running into an occasional NPE in production with JSF after migrating from Wildfly 11 to Wildfly 14.0.1 ( Mojarra 2.2.13.SP4 -> 2.3.5.SP2 ) and I believe I've tracked down a small demo project that duplicates the issue. I've set the project to JSF 2.2 so it will deploy on both WF 11 and WF 14.

The basic problem is that when two pages with the same view id are loaded in separate tabs. From there is one of the tabs is posted and the result navigates to a different view id all references to that view id are removed from the view map. If the post does not navigate to a different view id then all works normally.

My assumption is that when the post navigates away to a new view id any reference to any page with the same view id is removed from the view map. This did not occur in Wildfly 11.

Additional clue is that even though the viewmap reference is removed the view scoped beans referencing it are not destroyed.











Demo project at https://github.com/codylerum/demos/tree/ee7/jsf-npe",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:22.0,,,,,,,,,,https://github.com/jboss/mojarra/pull/26,https://github.com/wildfly/wildfly/pull/12062,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z00z3c:",9223372036854775807,,0.0,,,,,"1. Deploy to Wildfly 14.0.1.Final
2. Browse to http://localhost:8080/demo
3. Click on the order 1 and order 2 links to open in seperate tabs.
4. Click on the check order status from either tab. Works Fine.
5. Click on the other check order status from the other tab. This will result in an NPE.

If the same steps are repeated on Wildfly 11 there will be no issues.",,,,,,,,,,,"02/Nov/18 1:33 PM;clerum;Also filed https://github.com/eclipse-ee4j/mojarra/issues/4509","04/Jan/19 12:46 PM;clerum;With some help from Arjan Tijms via https://github.com/eclipse-ee4j/mojarra/issues/4509 we tracked this down to similar issue tracked with Payara. I tested my demo in Payara 5.184 and it behaves correctly.

The history of the bug is outlined in https://github.com/payara/Payara/issues/2506

Any chance we can get this targeted for WF 16?","10/Jan/19 6:17 PM;clerum;I've linked https://github.com/jboss/mojarra/pull/26 to patch the 2.3.5 SP branch of mojarra that Wildfly uses","14/Feb/19 3:44 PM;clerum;I can confirm this is fixed in WF 16.0.0.Beta1","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Apply CXF Fix managing closing of temp queues (CXF-7768),WFLY-11219,12775456,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,thofman,thofman,thofman,19/Oct/18 9:47 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:06 PM,,,,,,16.0.0.Final,,,Web Services,,,,,,,,,,,0,,,,,"CXF has a problem with closing of temporary JMS queues when using SOAP/JMS.
Please apply the necessary fix [1] (CXF-7768) to EAP 7.1 and newer.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:22.0,,,,,,,,,,https://github.com/apache/cxf/commit/540bb76f6f3d3d23944c566905f9f395c6f86b79,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00o1c:",9223372036854775807,,0.0,,,,,"Use Fuse/EAP, write a SOAP/JMS application.   Note problems as temporary queues are not closed properly.",,,,,,,,,,N/A,"19/Oct/18 9:48 AM;thofman;Merged in CXF 3.2.6.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CXF-7832 - WrappedMessageContext containsKey not consistent with get/put,WFLY-11205,12775090,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ivassile,ivassile,ivassile,17/Oct/18 2:10 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:06 PM,14.0.0.Final,,,,,16.0.0.Final,,,Web Services,,,,,,,,,,,0,downstream_dependency,,,,https://issues.apache.org/jira/browse/CXF-7832 - WrappedMessageContext containsKey not consistent with get/put,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:22.0,,,,,,,,,,https://github.com/apache/cxf/commit/02f5a5bfbd60740b15824c824d10285f440c281d,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00m0g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Oct/18 2:14 PM;ivassile;The issue is resolved in Apache CXF 3.2.7 with commit https://github.com/apache/cxf/commit/02f5a5bfbd60740b15824c824d10285f440c281d","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test execution of layers,WFLY-11712,12792137,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,13/Feb/19 12:34 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,13/Feb/19 3:59 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"Now that core dependency has been upgraded to 8.0.Beta5, we can use API exposed in core testsuite/shared to test layers execution.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:22.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z037lo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adding JTA reference under docs: documentation about transactions is missing,WFLY-11674,12790646,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,ochaloup,ochaloup,05/Feb/19 7:58 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 10:58 AM,,,,,,16.0.0.Final,,,Documentation,Transactions,,,,,,,,,,0,,,,,"Currently there is unfortunately no documentation page referring to transactions and JTA. A documentation page for the transaction should be created.

At least I need some place where to document set-up for the WFLY-11629",,,,,,,,,,,,,,,,,,,,,,,,WFLY-11629,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:22.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z02zpo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Feb/19 7:58 AM;ochaloup;I'm going to create some draft page.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cluster fails to merge if instances started simultaneously,WFLY-11535,12785288,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,ianrodgers,ianrodgers,19/Dec/18 11:58 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,11/Feb/19 4:36 PM,14.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Our Keycloak docker cluster has four instances, clustered using Jgroups/Infinispan as per the standalone-ha.xml. If you start them all simultaneously the ""Receive new cluster"" logs indicate four separate clusters, each with a single member. They never get merged into the proper single cluster of four members. It seems to be the merging that has changed. The application then fails (we are not using sticky sessions, and each member is ignorant of the sessions on the other members).

We can only start the cluster by first starting one instance, then when it is running, starting the other three. The logs then indicate the creation of a single cluster which subsequent instances join.

This is consistent behaviour, and when we revert back to v.4.5.0, the issue goes away, Unfortunately we need 4.6.0 for an important fix.

On 4.5.0 we get the message ""Received new, MERGED cluster view for channel ejb: MergeView::"" when it detects a number of subgroups to merge. This never appears in 4.6.0.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Feb/19 4:39 AM;ianrodgers;Dockerfile;https://issues.redhat.com/secure/attachment/12446667/Dockerfile","11/Feb/19 4:39 AM;ianrodgers;docker-entrypoint.sh;https://issues.redhat.com/secure/attachment/12446666/docker-entrypoint.sh","11/Feb/19 4:39 AM;ianrodgers;entrypoint.sh;https://issues.redhat.com/secure/attachment/12446668/entrypoint.sh","08/Feb/19 7:23 AM;ianrodgers;standalone-ha.xml;https://issues.redhat.com/secure/attachment/12446590/standalone-ha.xml","17/Jan/19 5:27 AM;ianrodgers;standalone-ha.xml;https://issues.redhat.com/secure/attachment/12445644/standalone-ha.xml",,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-21 13:39:15.0,,,,,,,,,,,,,,,,,,,,,,,,,,5.0,9.0,,,,,,,,,,"1|z025lc:",9223372036854775807,,0.0,,,,,"Configure cluster of 4 Keycloak Docker containers, using standalone-ha.xml. Start all four simultaneously. Watch the logs. The Received cluster messages remain at four separate nodes, rather than merging into one cluster of four nodes. 
Also sometimes happens if you have an existing working cluster, and restart the nodes two at a time waiting for each node to finish startup logging before starting the next two. 
The workaround is to stop all instances. Start one instance and wait for it to finish, then start the remaining three.",,,,,,,,,,,"21/Jan/19 1:39 PM;pferraro;This is likely due to https://issues.jboss.org/browse/JGRP-2281 and should have been fixed in WF14.
[~ianrodgers] Was this actually reproduced against WF 14.0.0.Final?","22/Jan/19 3:54 AM;ianrodgers;[~pferraro] - Yes, we're using Keycloak 4.6.0 which uses Wildfly 14 under the covers - https://www.keycloak.org/docs/latest/release_notes/index.html#keycloak-4-6-0-final
According to the logs it includes JGroups 4.0.13 which supposedly fixes JGRP-2281.


=========================================================================
JBoss Bootstrap Environment
JBOSS_HOME: /opt/jboss/keycloak
JAVA: /usr/lib/jvm/java/bin/java
JAVA_OPTS: -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true
=========================================================================
INFO [org.jboss.modules] (main) JBoss Modules version 1.8.6.Final
INFO [org.jboss.msc] (main) JBoss MSC version 1.4.3.Final
INFO [org.jboss.threads] (main) JBoss Threads version 2.3.2.Final
INFO [org.jboss.as] (MSC service thread 1-1) WFLYSRV0049: Keycloak 4.6.0.Final (WildFly Core 6.0.2.Final) starting
INFO [org.wildfly.security] (ServerService Thread Pool -- 20) ELY00001: WildFly Elytron version 1.6.0.Final
INFO [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the depr
INFO [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 4) WFLYCTL0028: Attribute 'default-stack' in the resource at address '/subsystem=jgroups' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
INFO [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 9) WFLYCTL0028: Attribute 'permissions' in the resource at address '/subsystem=elytron/constant-permission-mapper=constant-permission-mapper' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn mo
INFO [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 25) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more abo
INFO [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
INFO [org.xnio] (MSC service thread 1-1) XNIO version 3.6.5.Final
INFO [org.xnio.nio] (MSC service thread 1-1) XNIO NIO Implementation Version 3.6.5.Final
INFO [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 34) WFLYCLINF0001: Activating Infinispan subsystem.
INFO [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 38) WFLYCLJG0001: Activating JGroups subsystem. JGroups version 4.0.13
INFO [org.jboss.as.naming] (ServerService Thread Pool -- 43) WFLYNAM0001: Activating Naming Subsystem
INFO [org.wildfly.extension.io] (ServerService Thread Pool -- 35) WFLYIO001: Worker 'default' has auto-configured to 2 core threads with 16 task threads based on your 1 available processors
WARN [org.jboss.as.txn] (ServerService Thread Pool -- 48) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.
INFO [org.jboss.as.jaxrs] (ServerService Thread Pool -- 36) WFLYRS0016: RESTEasy version 3.6.1.Final
INFO [org.jboss.as.security] (ServerService Thread Pool -- 46) WFLYSEC0002: Activating Security Subsystem
INFO [org.jboss.as.mail.extension] (MSC service thread 1-2) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
INFO [org.jboss.as.connector] (MSC service thread 1-2) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.11.Final)
INFO [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 29) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)
INFO [org.jboss.as.security] (MSC service thread 1-2) WFLYSEC0001: Current PicketBox version=5.0.3.Final
INFO [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 29) WFLYJCA0005: Deploying non-JDBC-compliant driver class org.postgresql.Driver (version 42.2)
INFO [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0003: Undertow 2.0.13.Final starting
","22/Jan/19 6:25 AM;ianrodgers;Other issues on the JBoss boards which may or may not be related:
https://issues.jboss.org/browse/JGRP-2288
https://issues.jboss.org/browse/ISPN-9483
They apply to different Ping implementations (we're using JDBC_PING) but one refers to a fix coming in 4.0.16.
","22/Jan/19 8:26 AM;pferraro;[~ianrodgers] Thanks for the clarifications/updates.","08/Feb/19 7:50 AM;ianrodgers;Have successfully recreated this issue, with Keycloak taken out of the equation.

We are now using the Wildfly 14 official docker image.

Attached is the latest standalone-ha file, the only change being a tweak to use JDBC_PING within JGroups as per our original config. It is the standalone file dated 8/Feb/2019.

If the 4 instances are started in a staggered fashion then they correctly form one cluster of 4.
If they are started simultaneously then they form 4 individual clusters.

This was not an issue when we had Keycloak 4.5 running on Wildfly 13.

Incidentally we noticed there was a modcluster definition in the Wildfly distribution standalone file, but not our original Keycloak standalone. We don't think it is necessary because we are using tcp rather than multicast. In any case we get the same outcome with and without modcluster present. ","11/Feb/19 4:41 AM;ianrodgers;For completeness have attached the Dockerfile and entrypoint scripts. ","11/Feb/19 9:31 AM;ianrodgers;We have managed to solve the problem by downloading the JGroups jar file, which incorporates the fix to JGRP-2288 (jgroups-4.0.16.Final.jar), and incorporating it into our Docker build.  ","11/Feb/19 4:36 PM;rhusar;Resolving for 16.0.0.Beta1 since JGroups 4.0.16.Final which resolves the issue is already merged via WFLY-11449.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-transaction-client from 1.1.2.Final to 1.1.3.Final,WFLY-11570,12786426,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,soul2zimate,soul2zimate,07/Jan/19 9:38 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,11/Feb/19 10:01 PM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"This is a placeholder as upstream dependency of 7.2.1 issue https://issues.jboss.org/browse/JBEAP-16091 

https://github.com/wildfly/wildfly-transaction-client/compare/1.1.2.Final...1.1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFTC-55,WFTC-52,WFTC-54,WFTC-58,WFTC-60,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12050,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02byo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.5.Final,WFLY-11511,12784558,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,rhusar,rhusar,13/Dec/18 5:05 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,20/Dec/18 5:45 AM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,Changelog https://issues.jboss.org/projects/ISPN/versions/12340168,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-20 05:46:16.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11950,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z021ds:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"20/Dec/18 5:46 AM;kabirkhan;[~pferraro] [~rhusar] if the blocked WFLY issues should be resolved as part of this, please do so?","20/Dec/18 6:35 AM;rhusar;[~kabirkhan] Unfortunately no, because Infinispan team has released 9.4.5.Final without the necessary fix being merged.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade hibernate components core / commons.annotations / search,WFLY-11748,12793200,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,lafr,lafr,lafr,19/Feb/19 2:50 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Feb/19 6:00 PM,11.0.0.CR1,,,,,16.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-21 18:00:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12090,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z03cws:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Feb/19 2:57 PM;lafr;Upgrade Hibernate components
* Core 5.3.7 --> 5.3.8
* Commons Annotations 5.0.4 --> 5.0.5
* Search 5.10.3 --> 5.10.5","21/Feb/19 6:00 PM;brian.stansberry;The Hibernate Core upgrade was handled via WFLY-11749.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate ORM from 5.3.8 to 5.3.9,WFLY-11777,12794151,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gbadner,gbadner,gbadner,25/Feb/19 9:54 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,27/Feb/19 5:54 PM,,,,,,16.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,JBEAP-16418,,,,,,,,,,,,,,,WFLY-11749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12116,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03iek:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JSF based on Mojarra 2.3.9.SP01,WFLY-11683,12791161,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,07/Feb/19 5:04 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 9:44 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,JSF,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11275,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12062,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z032nw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Core queue creation is missing a routing type attribute,WFLY-11668,12790470,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,04/Feb/19 9:46 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Feb/19 6:31 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,JMS,,,,,,,,,,,0,,,,," deploying a queue and jms queue that map to the same address like bellow:
<queue name=""jms.queue.SSOQueue"" address=""jms.queue.SSOQueue"" durable=""true""/>
        <jms-queue name=""SSOQueue"" entries=""/queue/SSOQueue java:jboss/exported/jms/queue/SSOQueue""/>

Throws the following error:

AMQ222275: Failed to deploy queue jms.queue.SSOQueue:  Can't update queue jms.queue.SSOQueue with routing type: MULTICAST, Supported routing types for address: jms.queue.SSOQueue are [ANYCAST]

This is due to Artemis 2.6.x upgrade",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:21.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02yp8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EarOpenTracingWithWeldProbeTestCase fails with node0/1 set,WFLY-11510,12784557,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,nziakova,okotek,okotek,13/Dec/18 5:04 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Jan/19 1:01 PM,16.0.0.Beta1,,,,,16.0.0.Beta1,16.0.0.Final,,MP OpenTracing,Test Suite,,,,,,,,,,0,downstream_dependency,,,,"{{org.jboss.as.test.integration.microprofile.opentracing.EarOpenTracingWithWeldProbeTestCase}} fails with {{node0}} and {{node1}} set:

{noformat}
WARN  [org.jboss.weld.probe.Probe] (default task-1) PROBE-000017: Access to /ServiceOne/service-endpoint/app denied for <my IP>
WARN  [org.jboss.weld.probe.Probe] (default task-1) PROBE-000017: Access to /ServiceOne/service-endpoint/app denied for <my IP>
...

java.lang.AssertionError: expected:<200> but was:<403>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.jboss.as.test.integration.microprofile.opentracing.AbstractEarOpenTracingTestCase.testHttpInvokation(AbstractEarOpenTracingTestCase.java:67)
	at org.jboss.as.test.integration.microprofile.opentracing.AbstractEarOpenTracingTestCase.testEarServicesUseDifferentTracersAfterReload(AbstractEarOpenTracingTestCase.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
...
{noformat}

Maybe access from remote IP addresses is blocked in development mode.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-13 05:36:19.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11945,,,,,,,,,,,,,,,,0.0,9.0,,,,,,,,,,"1|z021dk:",9223372036854775807,,0.0,,,,,"{{cd testsuite/integration/basic}}
{{mvn clean test -Dtest=EarOpenTracingWithWeldProbeTestCase -Dnode0=<my IP> -Dnode1=<my IP>}}",,,,,,,okotek,,,,"13/Dec/18 5:36 AM;manovotn;[~okotek] you are probably right, Probe will be blocking this. There is a [config option|https://github.com/weld/core/blob/master/impl/src/main/java/org/jboss/weld/config/ConfigurationKey.java#L197-L211] which can be leveraged to fix this.
And [here|http://docs.jboss.org/weld/reference/latest/en-US/html_single/#_weld_configuration] is how to pass these configs to Weld.","18/Dec/18 7:01 AM;nziakova;[~manovotn], [~okotek], you are right, setting {{-Dorg.jboss.weld.probe.allowRemoteAddress=${node0}}} solves the issue. node0 is set to 127.0.0.1 by default, which is also the default value of {{org.jboss.weld.probe.allowRemoteAddress}}, so the test was working in CI where node0 is not overridden.

I suggest setting the Weld config option in [testsuite/pom.xml|https://github.com/wildfly/wildfly/blob/master/testsuite/pom.xml#L158].
","18/Dec/18 7:17 AM;manovotn;Changing the config for whole TS might be overkill.
Simply altering the Arq. deployment of this given test by adding {{weld.properties}} file should do the trick as well.","19/Dec/18 2:57 AM;nziakova;[~manovotn] thanks, hopefully correct now.
[~okotek], since the tests likely do not run with nodeX set in CI, feel free to verify with your jobs.","19/Dec/18 3:40 AM;okotek;[~nziakova], a local verification should be enough. The fix works for me, thank you.","19/Dec/18 3:52 AM;nziakova;The tests now fail with: 
{quote}
Access to /ServiceOne/service-endpoint/app denied for 0:0:0:0:0:0:0:1
{quote}

I can leave the default values of {{org.jboss.weld.probe.allowRemoteAddress}} and only add {{|node0}} to resolve this, but I'd like to understand why {{0:0:0:0:0:0:0:1}} is used instead of {{node0}} in CI.","08/Jan/19 4:16 AM;okotek;[~nziakova] Thank you for the fix, I don't see the failure in our WF nightly testing any more.","08/Jan/19 4:35 AM;nziakova;[~okotek], great, thanks!","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test HttpInvocationInContainerTestCase fails with security manager,WFLY-11363,12779694,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,honza889,mchoma,mchoma,16/Nov/18 3:08 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Jan/19 2:25 PM,15.0.0.Beta1,,,,,16.0.0.Beta1,16.0.0.Final,,EJB,Test Suite,,,,,,,,,,0,security-manager,,,,"{noformat}
org.jboss.as.test.integration.ejb.remote.http (1)
    HttpInvocationInContainerTestCase.invokeEjb
{noformat}

{noformat}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/store/repository/org/wildfly/wildfly-http-client/wildfly-http-ejb-client/1.0.12.Final/wildfly-http-ejb-client-1.0.12.Final.jar"" ""read"")"" in code source ""(vfs:/content/http-test.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.http-test.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
	at org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:359)
	at java.util.zip.ZipFile.<init>(ZipFile.java:216)
	at java.util.zip.ZipFile.<init>(ZipFile.java:155)
	at java.util.jar.JarFile.<init>(JarFile.java:166)
	at java.util.jar.JarFile.<init>(JarFile.java:103)
	at sun.net.www.protocol.jar.URLJarFile.<init>(URLJarFile.java:93)
	at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:69)
	at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)
	at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)
	at sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:152)
	at java.net.URL.openStream(URL.java:1045)
	at java.util.ServiceLoader.parse(ServiceLoader.java:304)
	at java.util.ServiceLoader.access$200(ServiceLoader.java:185)
	at java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:357)
	at java.util.ServiceLoader$LazyIterator.access$600(ServiceLoader.java:323)
	at java.util.ServiceLoader$LazyIterator$1.run(ServiceLoader.java:396)
	at java.util.ServiceLoader$LazyIterator$1.run(ServiceLoader.java:395)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:398)
	at java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)
	at org.wildfly.httpclient.naming.HttpRootContext.<clinit>(HttpRootContext.java:98)
	... 140 more
{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",,,,,,,,,WEJBHTTP-19,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-03 13:53:46.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11954,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z01bt4:",9223372036854775807,,0.0,,,,,"{noformat}
cd wildfly/testsuite/integration/basic
mvn clean test -Dtest=HttpInvocationInContainerTestCase -Dsecurity.manager -DtestLogToFile=false
{noformat}",,,,,,,,,,,"16/Nov/18 3:39 AM;mchoma;Looks to me similar to JBEAP-15368","19/Nov/18 6:17 AM;mchoma;[~flavia.rainone] as the lead of EJB component [1]. Could you assignee this issue to someone, please?

[1] https://issues.jboss.org/projects/WFLY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page","03/Jan/19 1:53 PM;jamezp;This seemed to pass for me when running locally with the security manager enabled.","03/Jan/19 2:25 PM;brian.stansberry;The WFLY-11528 component upgrade fixed this.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to galleon 3.0.1.RC1 and galleon plugins 3.0.1.RC2,WFLY-11642,12788916,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,24/Jan/19 4:17 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 9:39 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Build System,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:20.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12014,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02pwo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WFTC-54 - Integration with Narayana fails when timeout propagation over remote call declares it as '0' causing UserTransaction timeout to not work,WFLY-11607,12787985,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,istudens,istudens,17/Jan/19 4:09 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,11/Feb/19 10:02 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Transactions,,,,,,,,,,,0,downstream_dependency,,,,"If the remote call passes transaction context where timeout is set as `0` then Narayana consider that value as transaction which should never be timetouted. But the wfly txn client consider the `0` as correct timeout value which means kind of `immediate timeout`.
The Narayana AtomicAction class consider it as -1[2] (which is used for subordinate transaction[3]) while the transaction reaper consider the value of no timeout to be 0[4].

The client decreases[1] the timeout based on how much time elapsed from the transaction was started till time the remote call is to be accomplished. That means the timeout `0` can be passes even the transaction is not meant as `to never timeout`.

[1] https://github.com/wildfly/wildfly-transaction-client/blob/1.1.2.Final/src/main/java/org/wildfly/transaction/client/AbstractTransaction.java#L141
[2] https://github.com/jbosstm/narayana/blob/5.9.2.Final/ArjunaCore/arjuna/classes/com/arjuna/ats/arjuna/AtomicAction.java#L61
[3] https://github.com/jbosstm/narayana/blob/5.9.2.Final/ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/transaction/arjunacore/subordinate/SubordinateAtomicAction.java#L68
[4] https://github.com/jbosstm/narayana/blob/5.9.2.Final/ArjunaCore/arjuna/classes/com/arjuna/ats/arjuna/coordinator/TransactionReaper.java#L531",,,,,,,,,,,,,,,,,,,,,,,,WFLY-11687,WFLY-11698,,,WFLY-11684,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:20.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02l9c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jberet-core from 1.3.2.Final to 1.3.3.Final,WFLY-11580,12786782,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,09/Jan/19 10:33 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Jan/19 6:02 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Batch,,,,,,,,,,,0,,,,,"Need to upgrade jberet-core from the current version 1.3.2.Final to 1.3.3.Final, when it is available.  This will ensure WildFly include recent bug fixes in the [upstream jberet project|https://github.com/jberet/jsr352/commits/1.3.x].",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:20.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z02e2g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Jan/19 5:08 PM;cfang;jberet-core 1.3.3.Final was released on 2019-01-13.  

in maven central:
https://search.maven.org/artifact/org.jberet/jberet-core/1.3.3.Final/jar

JIRA issues resolved in this version (1.3.3.Final): only 2 issues (JBERET-461 & JBERET-466) are relevant to jberet-core 
https://issues.jboss.org/projects/JBERET/versions/12339874

Github Repo Diff between 1.3.2.Final and 1.3.3.Final:
https://github.com/jberet/jsr352/compare/1.3.2.Final...1.3.3.Final","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Distributed @Stateful EJB implementation should not hold references to CapabilityServiceSupport,WFLY-11530,12785147,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,18/Dec/18 11:34 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Jan/19 7:52 PM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"The Distributed @Stateful EJB implementation currently holds references to the CapabilityServiceSupport obtained via the OperationContext, in order to resolve capability names.  We should migrate this code to fully leverage CapabilityServiceConfigurator when configuring service dependencies.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:20.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z024rc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Core queues loaded at boot are not removable,WFLY-11493,12783348,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,11/Dec/18 3:46 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,13/Dec/18 7:18 AM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"A core queue created via the ServerAdd operation is not removable.
Reproducer :
/subsystem=messaging-activemq/server=default/queue=queue.standalone:add(queue-address=queue.standalone, durable)
:reload
/subsystem=messaging-activemq/server=default/queue=queue.standalone:remove
:reload
/subsystem=messaging-activemq/server=default/queue=queue.standalone:add(queue-address=queue.standalone, durable)

The 2nd add will fail as the queue still exists.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:19.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01wgg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on org.jboss.narayana.txframework,WFLY-11455,12781895,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,03/Dec/18 4:16 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 7:16 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Server,,,,,,,,,,,0,,,,,"Validate the need of these module dependencies in org.jboss.narayana.txframework

{code:xml}
 <module name=""javax.api""/>
 <module name=""javax.xml.rpc.api""/>
 <module name=""javax.rmi.api""/>
 <module name=""org.omg.api""/>
{code}

Notice the following: This module is deprecated",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:19.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11909,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01ogo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"HA also needs fix for ""Transactional caches are not supported."" log warning from ORM 5.3.* deployments",WFLY-11436,12781371,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,smarlow,smarlow,28/Nov/18 10:07 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,27/Feb/19 6:04 PM,13.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,JPA / Hibernate,,,,,,,,,,0,,,,,"Currently, during deployment of ORM 5.3.* applications, the following warning is logged in the server console, four times per persistence unit.  It should not appear at all.

{quote}
HHH025030: Transactional caches are not supported. The configuration option will be ignored; please unset.
{quote}

The warning comes from ORM 5.3 integration code org.infinispan.hibernate.cache.v53.InfinispanRegionFactory#unsetTransactions.",,,,,,,,,,,,,WFLY-10638,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:19.0,,,,,,,,https://developer.jboss.org/message/985397,,https://github.com/wildfly/wildfly/pull/11895,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01lgg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare HostExcludesTestCase for following product host exclusions,WFLY-11711,12792075,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,13/Feb/19 8:54 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 4:40 AM,,,,,,16.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,HostExcludesTestCase needs to be prepared to test the next product host exclusions.,,,,,,,,,,,,,JBEAP-16379,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:19.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12067,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0379w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deployment Fails with @Transactional in Passivating Scope Bean,WFLY-11716,12792201,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,manovotn,clerum,clerum,13/Feb/19 11:00 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Feb/19 6:28 PM,16.0.0.Beta1,,,,,16.0.0.Final,,,CDI / Weld,Transactions,,,,,,,,,,0,downstream_dependency,,,,"On Wildfly 16.0.0.Beta1 deployment fails

{code}
org.jboss.weld.exceptions.UnserializableDependencyException: WELD-001477: The bean Managed Bean [class co.cfly.oss.lerg.rateCenter.inventoryRequest.InventoryRequestView] with qualifiers [@Default @Any @Named] declares a passivating scope but has a(n) Interceptor [class com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired intercepts @Transactional] with a non-passivation-capable dependency com.arjuna.ats.jta.cdi.JNDIBean@12e2cb9f
	at org.jboss.weld.bootstrap.Validator.validateInterceptorDecoratorInjectionPointPassivationCapable(Validator.java:480)
	at org.jboss.weld.bootstrap.Validator.validateInterceptors(Validator.java:225)
	at org.jboss.weld.bootstrap.Validator.validateRIBean(Validator.java:175)
	at org.jboss.weld.bootstrap.Validator.validateBean(Validator.java:526)
	at org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:64)
	at org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:62)
	at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:62)
	at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:55)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}",,,,,,,,,JBTM-3110,JBTM-3044,,,,,WFLY-11735,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Feb/19 4:14 PM;clerum;jsf-npe.zip;https://issues.redhat.com/secure/attachment/12447003/jsf-npe.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-15 05:52:20.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12102,,,,,,,,,,,,,,,,1.0,7.0,,,,,,,,,,"1|z037vo:",9223372036854775807,,0.0,,,,,"Deploy a war with a bean like

{code}
import java.io.Serializable;

import javax.faces.view.ViewScoped;
import javax.inject.Inject;
import javax.inject.Named;
import javax.transaction.Transactional;

@ViewScoped
@Named
public class InventoryRequestView implements Serializable {

    @Transactional
    public void onPageLoad() {    
    }
{code}",,,,,,,,,,,"13/Feb/19 11:24 PM;clerum;To clarify this is an application that deploys fine on 14.0.1.Final.","14/Feb/19 4:15 PM;clerum;The attached project will fail to deploy as a war on 16.0.0.Beta1","15/Feb/19 5:52 AM;manovotn;This seems like a Narayana bug.
Related issue is JBTM-3044 where {{JNDIBean}} was introduced and is programatically added as a bean representation of {{TransactionManager}}.

{{TransactionManager}} is then injected into [interceptor base class|https://github.com/jbosstm/narayana/blob/master/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/transactional/TransactionalInterceptorBase.java#L74] which makes up for the exception you are seeing. CDI spec covers that bit [here|http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#passivation_validation].

{{JNDIBean}} can be made passivation capable by implementing [{{PassivationCapable}} interface|https://github.com/cdi-spec/cdi/blob/master/api/src/main/java/javax/enterprise/inject/spi/PassivationCapable.java] ([as per specification|http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#passivation_capable])","15/Feb/19 8:53 AM;manovotn;Fix can look something like [this|https://github.com/manovotn/narayana/tree/wfly11716] (not turning it into PR since I didn't have time to test it yet).","15/Feb/19 10:06 AM;clerum;[~manovotn] Thanks for diving in and taking a look. I'll follow up with a Narayana issue.","15/Feb/19 10:12 AM;clerum;JBTM-3110 created for Narayana ","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
revert ironjacamar to 1.4.12,WFLY-11788,12794547,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,maeste,maeste,27/Feb/19 10:33 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,27/Feb/19 1:58 PM,,,,,,16.0.0.Final,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,JBEAP-16467,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,?,,?,,2019-10-02 19:01:19.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03kbg:",9223372036854775807,,0.0,,,,,,,,7.backlog.GA,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot wire or start components while the registry is not running ,WFLY-11469,12782127,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,03/Dec/18 1:13 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,06/Dec/18 9:55 AM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Looks like yet another clean shutdown issue surfaced after we changed WFLY-11324 to avoid some graceful shutdown bugs with the XA transaction table.

{noformat}
16:28:38,874 ERROR [org.infinispan.commons.tx.TransactionImpl] (default task-2) ISPN000926: afterCompletion() failed for SynchronizationAdapter{localTransaction=LocalTransaction{remoteLockedNodes=[node-1, node-2], isMarkedForRollback=false, lockedKeys=[], backupKeyLocks=[SessionAccessMetaDataKey(2sYbjnFh2n-m_gkaOP2iz53e0ms4cbuARoeIdYJ5), SessionCreationMetaDataKey(2sYbjnFh2n-m_gkaOP2iz53e0ms4cbuARoeIdYJ5), SessionAttributesKey(2sYbjnFh2n-m_gkaOP2iz53e0ms4cbuARoeIdYJ5)], topologyId=5, stateTransferFlag=null} org.infinispan.transaction.synchronization.SyncLocalTransaction@72} org.infinispan.transaction.synchronization.SynchronizationAdapter@91: org.infinispan.IllegalLifecycleStateException: Cannot wire or start components while the registry is not running
	at org.infinispan.factories.impl.BasicComponentRegistryImpl.prepareWrapperChange(BasicComponentRegistryImpl.java:610)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl.wireWrapper(BasicComponentRegistryImpl.java:158)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.wire(BasicComponentRegistryImpl.java:736)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl$ComponentWrapper.running(BasicComponentRegistryImpl.java:712)
	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:148)
	at org.infinispan.transaction.impl.TransactionTable.afterCompletion(TransactionTable.java:861)
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:33)
	at org.infinispan.commons.tx.TransactionImpl.notifyAfterCompletion(TransactionImpl.java:506)
	at org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:338)
	at org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
	at org.wildfly.clustering.ee.infinispan.InfinispanBatch.close(InfinispanBatch.java:97)
	at org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:87)
	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:945)
	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:579)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:346)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
{noformat}",,,,,,,,,,,,,ISPN-9761,,,,,,,,,,,,,,,,,,,,,WFLY-11384,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-06 09:55:42.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11915,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01pnk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"06/Dec/18 9:55 AM;rhusar;Workaround is merged - closing. While this could still happen, this must be addressed in Infinispan itself.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Management model does not show mod_cluster bound ports,WFLY-11447,12781542,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,29/Nov/18 10:18 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,11/Feb/19 10:08 PM,15.0.0.Beta1,,,,,16.0.0.Beta1,16.0.0.Final,,mod_cluster,,,,,,,,,,,0,,,,,"See [this comment|https://issues.jboss.org/browse/JBEAP-15739?focusedCommentId=13654586&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13654586].",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:18.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11927,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01mg0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Checkpoints must be set after skipped item,WFLY-11583,12786797,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,09/Jan/19 10:58 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Jan/19 10:32 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Batch,,,,,,,,,,,0,new_and_noteworthy,,,,"See upstream jberet issue JBERET-461, which has been fixed in upstream jberet-core master branch.  I think the fix should also be made available to WildFly.",,,,,,,,,,,,,JBEAP-16109,,WFLY-11580,,,,,,,,,JBERET-461,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:18.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z02e5k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Jan/19 10:32 AM;cfang;The resolution to this issue is included when upgrading jberet-core from 1.3.2.Final to 1.3.3.Final (WFLY-11580).","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate unnecessary remote command invocation when EJB has no @StatefulTimeout,WFLY-11595,12787528,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,15/Jan/19 9:37 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Jan/19 5:52 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,EJB,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:18.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12007,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02ijs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DynamicJaspiTestCase fails with security manager,WFLY-11501,12783608,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,baranowb,okotek,okotek,12/Dec/18 7:53 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,02/Jan/19 11:30 AM,16.0.0.Beta1,,,,,16.0.0.Beta1,16.0.0.Final,,Security,Test Suite,,,,,,,,,,0,,,,,"{{org.wildfly.test.integration.elytron.jaspi.DynamicJaspiTestCase#testCalls}} fails with security manager due to missing permissions:

{noformat}
ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /ConfiguredJaspiTestCase/: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.security.SecurityPermission"" ""getFactory"")"" in code source ""(vfs:/content/ConfiguredJaspiTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ConfiguredJaspiTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at javax.security.auth.message.api@1.0.2.Final//javax.security.auth.message.config.AuthConfigFactory.getFactory(AuthConfigFactory.java:210)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.auth.jaspi.JaspiConfigurationBuilder.register(JaspiConfigurationBuilder.java:106)
	at deployment.ConfiguredJaspiTestCase.war//org.wildfly.test.integration.elytron.jaspi.JaspiTestServlet.doGet(JaspiTestServlet.java:62)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.security.elytron-web.undertow-server@1.3.0.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)
	at org.wildfly.security.elytron-web.undertow-server@1.3.0.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at org.wildfly.security.elytron-web.undertow-server-servlet@1.3.0.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.core@2.0.15.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.core@2.0.15.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.base/java.lang.Thread.run(Thread.java:834)
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:17.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11953,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01xx4:",9223372036854775807,,0.0,,,,,"{{cd testsuite/integration/elytron}}
{{mvn clean test -Dtest=DynamicJaspiTestCase -Dsecurity.manager}}",,,,,,,okotek,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Possible to remove referenced activemq http-connector,WFLY-11480,12782625,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,sebek64,sebek64,05/Dec/18 12:35 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,14/Jan/19 7:44 AM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"It is possible to remove activemq http-connector that is referenced by broadcast-group, leading to crash on server next boot:

18:30:52,360 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 81) MSC000001: Failed to start service jboss.messaging-activemq.default.jms.connection-factory.RemoteConnectionFactory: org.jboss.msc.service.StartException in service jboss.messaging-activemq.default.jms.connection-factory.RemoteConnectionFactory: WFLYMSGAMQ0028: Failed to create connection-factory
        at org.wildfly.extension.messaging.activemq.jms.ConnectionFactoryService$1.run(ConnectionFactoryService.java:67)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
        at java.lang.Thread.run(Thread.java:748)
        at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: ActiveMQIllegalStateException[errorType=ILLEGAL_STATE message=AMQ129005: Connector 'http-connector' not found on the main configuration file]
        at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.internalCreateCFPOJO(JMSServerManagerImpl.java:1176)
        at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.internalCreateCF(JMSServerManagerImpl.java:1138)
        at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.access$1400(JMSServerManagerImpl.java:103)
        at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl$5.runException(JMSServerManagerImpl.java:1007)
        at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.runAfterActive(JMSServerManagerImpl.java:1494)
        at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.createConnectionFactory(JMSServerManagerImpl.java:996)
        at org.wildfly.extension.messaging.activemq.jms.ConnectionFactoryService$1.run(ConnectionFactoryService.java:64)
        ... 6 more
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01sk0:",9223372036854775807,,0.0,,,,,"Run standalone-full.xml configuration. Connect to cli. Run

/subsystem=messaging-activemq/server=default/http-acceptor=http-acceptor:remove()
/subsystem=messaging-activemq/server=default/http-connector=http-connector:remove()

Restart the server.",,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add expressions to enable statistics,WFLY-11471,12782192,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,04/Dec/18 4:25 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,11/Dec/18 5:35 AM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,JCA,JMS,MP Metrics,Transactions,Web (Undertow),,,,,,,0,,,,,"With the microprofile-metrics-smallrye extension, we can expose WildFly metrics to monitoring tools such as Promotheus.

However, some of these metrics can have performance/memory impact and are not computed by default. They are control by attributes named `statistics-enabled` on the WildFly resources those runtime provides these metrics.

If an user wants to collect such metrics, he has to set these `statistics-enabled` attributes to `true` for all resources.

In order to improve user experience, our shipped standalone configuration could use expressions so that the user would have to set a single system property to enable these metrics.

The format would be:

{code}
statistics-enabled=${wildfly.statistics-enabled:${wildfly.<xxx>.statistics-enabled:false}}
{code}

where <xxx> are names of the resources that exposes the metrics: undertow, transactions, datasources, messaging-activemq

The nested expressions allows to have a global system property to enable *all* statistics: (wildfly.statistics-enabled) and specific system properties to enable/disable only some metrics (e.g. wildfly.transactions.statistics-enabled).

Use case:
* start the standalone profile as usual
  * ./bin/standalone.sh
  * => all statistics-enabled attributes are resolved to false
* start the standalone profile with all statistics:
  * ./bin/standalone.sh -Dwildfly.statistics-enabled=true
  * => all statistics-enabled attributes are resolved to true
* start the standalone profile with only undertow statistics:
  * ./bin/standalone.sh -Dwildfly.undertow.statistics-enabled=true
  * => all statistics-enabled attributes are resolved to true
* start the standalone profile with only undertow statistics:
  * ./bin/standalone.sh -Dwildfly.undertow.statistics-enabled=true
  * => only undertow statistics are enabled
* start the standalone profile with all but undertow statistics:
  * ./bin/standalone.sh -Dwildfly.undertow.statistics-enabled=false -Dwildfly.statistics-enabled=true
  * => All but undertow statistics are enabled

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-17 16:30:14.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01q1c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Dec/18 4:30 PM;lafr;At least according to the schemas ejb3, infinispan and the webservices module have statistics:

*+ejb3+*
            <statistics enabled=""${wildfly.ejb3.statistics-enabled:${wildfly.statistics-enabled:false}}""/>

*+infinispan+*
<             <cache-container name=""server"" default-cache=""default"" module=""org.wildfly.clustering.server"" statistics-enabled=""${wildfly.infinispan.statistics-enabled:${wildfly.statistics-enabled:false}}"">
<                 <local-cache name=""default"" statistics-enabled=""${wildfly.infinispan.statistics-enabled:${wildfly.statistics-enabled:false}}"">
---
>             <cache-container name=""server"" default-cache=""default"" module=""org.wildfly.clustering.server"">
>                 <local-cache name=""default"">

<             <cache-container name=""web"" default-cache=""passivation"" module=""org.wildfly.clustering.web.infinispan"" statistics-enabled=""${wildfly.infinispan.statistics-enabled:${wildfly.statistics-enabled:false}}"">
<                 <local-cache name=""passivation"" statistics-enabled=""${wildfly.infinispan.statistics-enabled:${wildfly.statistics-enabled:false}}"">
---
>             <cache-container name=""web"" default-cache=""passivation"" module=""org.wildfly.clustering.web.infinispan"">
>                 <local-cache name=""passivation"">

<             <cache-container name=""ejb"" aliases=""sfsb"" default-cache=""passivation"" module=""org.wildfly.clustering.ejb.infinispan"" statistics-enabled=""${wildfly.infinispan.statistics-enabled:${wildfly.statistics-enabled:false}}"">
<                 <local-cache name=""passivation"" statistics-enabled=""${wildfly.infinispan.statistics-enabled:${wildfly.statistics-enabled:false}}"">
---
>             <cache-container name=""ejb"" aliases=""sfsb"" default-cache=""passivation"" module=""org.wildfly.clustering.ejb.infinispan"">
>                 <local-cache name=""passivation"">

<             <cache-container name=""hibernate"" module=""org.infinispan.hibernate-cache"" statistics-enabled=""${wildfly.infinispan.statistics-enabled:${wildfly.statistics-enabled:false}}"">
<                 <local-cache name=""entity"" statistics-enabled=""${wildfly.infinispan.statistics-enabled:${wildfly.statistics-enabled:false}}"">
---
>             <cache-container name=""hibernate"" module=""org.infinispan.hibernate-cache"">
>                 <local-cache name=""entity"">

<                 <local-cache name=""local-query"" statistics-enabled=""${wildfly.infinispan.statistics-enabled:${wildfly.statistics-enabled:false}}"">
---
>                 <local-cache name=""local-query"">

<                 <local-cache name=""timestamps"" statistics-enabled=""${wildfly.infinispan.statistics-enabled:${wildfly.statistics-enabled:false}}""/>
---
>                 <local-cache name=""timestamps""/>

*+webservices+*
<         <subsystem xmlns=""urn:jboss:domain:webservices:2.0"" statistics-enabled=""${wildfly.webservices.statistics-enabled:${wildfly.statistics-enabled:false}}"">
---
>         <subsystem xmlns=""urn:jboss:domain:webservices:2.0"">
","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tests from org.jboss.as.test.integration.messaging fails with security manager,WFLY-11347,12779343,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,mchoma,mchoma,14/Nov/18 7:31 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Jan/19 1:03 PM,14.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,JMS,Test Suite,,,,,,,,,,0,security-manager,,,,"{noformat}
org.jboss.as.test.integration.messaging.jms.external (8)
    DiscoveryGroupExternalMessagingDeploymentTestCase.testSendMessageInClientQueue  	
    DiscoveryGroupExternalMessagingDeploymentTestCase.testSendMessageInClientTopic  	
    ExternalMessagingDeploymentRemoteTestCase.testSendMessageInClientQueue  	
    ExternalMessagingDeploymentRemoteTestCase.testSendMessageInClientTopic  	
    ExternalMessagingDeploymentTestCase.testSendMessageInClientQueue  	
    ExternalMessagingDeploymentTestCase.testSendMessageInClientTopic  	
    SendToExternalJMSQueueTestCase.sendMessage  	
    SendToExternalJMSTopicTestCase.sendMessage 
org.jboss.as.test.integration.messaging.jms.context.notClosingInjectedContext (1)
    NotClosingInjectedContextTestCase.testLeakingConnection
org.jboss.as.test.integration.messaging.jms.definitions (3)
    JMSResourceDefinitionsTestCase.testAnnotationBasedDefinitionsWithVaultedAttributes  	
    JMSResourceDefinitionsTestCase.testDeploymendDescriptorBasedDefinitionsWithVaultedAttributes  	
    JMSResourceDefinitionsTestCase.testInjectedDefinitions 
org.jboss.as.test.integration.messaging.mgmt (1)
    ExternalPooledConnectionFactoryStatisticsTestCase.testStatistics 
{noformat}

Check if it is enough to add permission to deployment or doPrivileged block is necessary somewhere. There are erros like this
{noformat}
&amp#27;[33m00:17:58,191 WARN  [org.apache.activemq.artemis.core.client] (default task-1) AMQ212007: connector.create or connectorFactory.createConnector should never throw an exception, implementation is badly behaved, but we will deal with it anyway.: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.net.SocketPermission"" ""localhost"" ""resolve"")"" in code source ""(vfs:/content/ClientMessagingDeploymentTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ClientMessagingDeploymentTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkConnect(SecurityManager.java:1048)
	at org.wildfly.security.manager.WildFlySecurityManager.checkConnect(WildFlySecurityManager.java:389)
	at java.net.InetAddress.getAllByName0(InetAddress.java:1268)
	at java.net.InetAddress.getAllByName(InetAddress.java:1192)
	at java.net.InetAddress.getAllByName(InetAddress.java:1126)
	at java.net.InetAddress.getByName(InetAddress.java:1076)
	at java.net.InetSocketAddress.<init>(InetSocketAddress.java:220)
	at org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector.createConnection(NettyConnector.java:711)


Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.net.SocketPermission"" ""localhost:45700"" ""listen,resolve"")"" in code source ""(vfs:/content/ClientMessagingDeploymentTestCase.war/WEB-INF/classes &lt;no signer certificates&gt;)"" of ""ModuleClassLoader for Module ""deployment.ClientMessagingDeploymentTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkListen(SecurityManager.java:1131)
	at org.wildfly.security.manager.WildFlySecurityManager.checkListen(WildFlySecurityManager.java:401)
	at java.net.DatagramSocket.bind(DatagramSocket.java:389)
	at java.net.MulticastSocket.&lt;init&gt;(MulticastSocket.java:172)
	at org.apache.activemq.artemis.api.core.UDPBroadcastEndpointFactory$UDPBroadcastEndpoint.openClient(UDPBroadcastEndpointFactory.java:203)
	at org.apache.activemq.artemis.core.cluster.DiscoveryGroup.start(DiscoveryGroup.java:105)
	at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.initialize(ServerLocatorImpl.java:309)
{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10191,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-03 04:56:47.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z019rk:",9223372036854775807,,0.0,,,,,"cd wildfly/testsuite/integration/basic
mvn clean test -Dtest=DiscoveryGroupExternalMessagingDeploymentTestCase -Dsecurity.manager -DtestLogToFile=false
",,,,,,,,,,,"19/Nov/18 6:11 AM;mchoma;[~jmesnil] as lead of JMS [1] could you assignee this issue to someone, please? 

[1] https://issues.jboss.org/projects/WFLY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page
","03/Jan/19 4:56 AM;baranowb;For some reason I cant link AMQ properly: https://jira.apache.org/jira/browse/AMQ-7127","03/Jan/19 5:08 AM;mnovak;[~baranowb] I think that those things should be tracked on ARTEMIS project and not AMQ in Apache jira.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 8.0.0.Beta5,WFLY-11692,12791514,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,11/Feb/19 7:24 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 4:12 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z034os:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TransactionTimeoutQueueSetupTask fails to set up  max-delivery-attempts properly,WFLY-11698,12791686,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,istudens,istudens,istudens,12/Feb/19 5:48 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:07 PM,16.0.0.Beta1,,,,,16.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"{{org.jboss.as.test.integration.ejb.transaction.mdb.timeout.TransactionTimeoutQueueSetupTask}} fails to set up {{max-delivery-attempts}} properly. 

It uses a shared ModelNode without cloning it and also does not set up enough properties in order to take effect.  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z035oc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JGroups to 4.0.17.Final,WFLY-11708,12792030,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,13/Feb/19 6:11 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,13/Feb/19 4:49 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Changelog 
https://issues.jboss.org/projects/JGRP/versions/12339751",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:17.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12064,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03730:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make activemq dependency on cli module optional,WFLY-11474,12782230,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,jdenise,jdenise,04/Dec/18 7:14 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,07/Dec/18 5:49 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"Dependency on org.jboss.as.cli from org.wildfly.extension.messaging-activemq should be made optional.

At runtime, the commands are not loaded on the server side. They are loaded thanks to ServiceLoader from CLI, so if CLI is present, the commands are in use, otherwise they are un-used. 

We would observe a gain of 2.3+MB in filesystem footprint when a server without CLI is provisioned.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:16.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11919,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01q9c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on org.jboss.iiop-client,WFLY-11467,12782012,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,03/Dec/18 7:13 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,18/Jan/19 4:30 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Server,,,,,,,,,,,0,,,,,"Validate the need of these module dependencies in org.jboss.iiop-client:
{code:xml}
<module name=""javax.transaction.api""/> 
<module name=""javax.xml.rpc.api""/>
<module name=""javax.rmi.api""/>
<module name=""org.omg.api""/>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:16.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11913,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01ozc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use registered priorities for MP Health DUP,WFLY-11310,12778474,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,08/Nov/18 9:52 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:11 PM,,,,,,16.0.0.Final,,,MP Health,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-11309,,WFCORE-4204,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:16.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z014y8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Access ordered LinkedHashMap not externalized correctly,WFLY-11585,12787039,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,10/Jan/19 2:36 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,11/Jan/19 4:42 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,Upon deserialization an access ordered LinkedHashMap becomes an insertion ordered map.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:16.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02fm8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Legacy Web migrate op fails if a connector has scheme https and no SSL config,WFLY-11584,12786943,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,tmiyar,tmiyar,10/Jan/19 5:44 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Feb/19 10:23 PM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Migration,,,,,,,,,,,0,downstream_dependency,,,,"If we set an attribute 'scheme' of 'http' connector as 'https' [ scheme=""https"" ] and no SSL config, in 'web' subsystem, then migrate op fails: 

{code}
[standalone@localhost:9990 /] /subsystem=web:migrate
{
    ""outcome"" => ""failed"",
    ""result"" => {""[(\""extension\"" => \""org.wildfly.extension.undertow\"")]"" => {
        ""outcome"" => ""failed"",
        ""result"" => [(""undertow"" => ""4.0.0"")],
        ""rolled-back"" => true
    }},
    ""failure-description"" => ""WFLYWEB0004: Could not migrate SSL connector as no SSL config is defined"",
    ""rolled-back"" => true
}
{code}

Steps to Reproduce:

1. Replace EAP 7.1 default standalone.xml configuration with the one attached
2. Start JBoss EAP 7.1 in mode admin-only
3. Start CLI and invoke web subsystem migrate op [^standalone.xml] ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 5:44 AM;tmiyar;standalone.xml;https://issues.redhat.com/secure/attachment/12445367/standalone.xml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:16.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11993,,,,,,,,,,,,,,,,1.0,1.0,,,,,,,,,,"1|z02f14:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Jboss Metadata to 13.0.0.Final,WFLY-11741,12792822,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,18/Feb/19 11:43 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 10:52 AM,16.0.0.Beta1,,,,,16.0.0.Final,,,EE,,,,,,,,,,,0,,,,,Small change to deprecate ReplicationConfig,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:15.0,,,,,,,,,,https://issues.jboss.org/browse/WFLY-11741,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03bd8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Weld subsystem throws NPE deploying an application if transactions subsystem is missing,WFLY-11734,12792649,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,18/Feb/19 4:32 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 10:53 AM,16.0.0.Beta1,,,,,16.0.0.Final,,,CDI / Weld,,,,,,,,,,,0,,,,,"The reproduction is pretty simple using Galleon. If we generate a server provisioned only with CDI and try to deploy a simple CDI application, we will get the following exception:


{noformat}
09:29:27,420 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.""cdi-test-1.0.war"".WeldBootstrapService: org.jboss.msc.service.StartException in service jboss.deployment.unit.""cdi-test-1.0.war"".WeldBootstrapService: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1730)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.jboss.as.weld.WeldBootstrapService.start(WeldBootstrapService.java:127)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	... 6 more

09:29:27,424 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""add"") failed - address: ([(""deployment"" => ""cdi-test-1.0.war"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""cdi-test-1.0.war\"".WeldBootstrapService"" => ""Failed to start service
    Caused by: java.lang.NullPointerException""}}
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:15.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12082,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03acs:",9223372036854775807,,0.0,,,,,"- Provision a server with CDI without transactions
- Deploy a CDI application",,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
mod_cluster and HTTP2 enabled (the default) not working,WFLY-11639,12788854,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,aspan,aspan,23/Jan/19 12:22 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,27/Feb/19 3:38 PM,15.0.1.Final,,,,,16.0.0.Final,,,mod_cluster,,,,,,,,,,,0,,,,,"mod cluster and HTTP2 enabled (the default) when using listener default in the modcluster subsystem. When turning off HTTP2 the clustering starts working again. Nothing is printed in the logs by default so DEBUG logging has to be turned on for undertow.

Steps to reproduce:

{code}
unzip wildfly-dist-15.0.1.Final.zip

# Terminal 1
cd wildfly-15.0.1.Final/bin/
./standalone.sh -c standalone-load-balancer.xml -Djava.net.preferIPv4Stack=true -b 127.0.0.1 -Djboss.modcluster.multicast.address=230.0.0.4

# Terminal 2
cd wildfly-15.0.1.Final/bin/
./standalone.sh -c standalone-ha.xml -Djboss.node.name=node1 -Djboss.socket.binding.port-offset=100 -Djboss.modcluster.multicast.address=230.0.0.4

# Terminal 3
cd wildfly-15.0.1.Final/bin/
./standalone.sh -c standalone-ha.xml -Djboss.node.name=node2 -Djboss.socket.binding.port-offset=200 -Djboss.modcluster.multicast.address=230.0.0.4

# Terminal 4
cd wildfly-15.0.1.Final/bin/
./jboss-cli.sh -c
/subsystem=logging/logger=io.undertow:add(level=ALL)
/subsystem=logging/console-handler=CONSOLE:write-attribute(name=level, value=ALL)
connect localhost:10090
/subsystem=logging/logger=io.undertow:add(level=ALL)
/subsystem=logging/console-handler=CONSOLE:write-attribute(name=level, value=ALL)
/subsystem=modcluster/proxy=default:write-attribute(name=listener,value=default)
reload
connect localhost:10190
/subsystem=logging/logger=io.undertow:add(level=ALL)
/subsystem=logging/console-handler=CONSOLE:write-attribute(name=level, value=ALL)
/subsystem=modcluster/proxy=default:write-attribute(name=listener,value=default)
reload
{code}

The following can be seen in the logs on the proxied servers:

{code}
16:30:23,409 TRACE [io.undertow.request] (default I/O-7) Opened connection with /127.0.0.1:50002
16:30:23,410 DEBUG [io.undertow.request.error-response] (default I/O-7) Setting error code 500 for exchange HttpServerExchange{ OPTIONS * request {HTTP2-Settings=[AAEAABAAAAIAAAABAAQAAP//AAUAAEAA], Connection=[Upgrade, HTTP2-Settings], Upgrade=[h2c], User-Agent=[mod_cluster ping], Host=[127.0.0.1]} response {}}: java.lang.RuntimeException
	at io.undertow.server.HttpServerExchange.setStatusCode(HttpServerExchange.java:1410)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:393)
	at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)
	at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)
	at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)

16:30:23,410 DEBUG [io.undertow.request.io] (default I/O-7) UT005013: An IOException occurred: java.io.IOException: Invalid base64 character encountered: 47
	at io.undertow.util.FlexBase64$Decoder.nextByte(FlexBase64.java:1048)
	at io.undertow.util.FlexBase64$Decoder.nextByte(FlexBase64.java:1015)
	at io.undertow.util.FlexBase64$Decoder.decode(FlexBase64.java:1277)
	at io.undertow.util.FlexBase64$Decoder.decode(FlexBase64.java:1347)
	at io.undertow.util.FlexBase64$Decoder.decode(FlexBase64.java:1413)
	at io.undertow.util.FlexBase64$Decoder.access$500(FlexBase64.java:983)
	at io.undertow.util.FlexBase64.decodeURL(FlexBase64.java:320)
	at io.undertow.server.protocol.http2.Http2UpgradeHandler.handleHttp2Upgrade(Http2UpgradeHandler.java:158)
	at io.undertow.server.protocol.http2.Http2UpgradeHandler.handleUpgradeBody(Http2UpgradeHandler.java:107)
	at io.undertow.server.protocol.http2.Http2UpgradeHandler.handleRequest(Http2UpgradeHandler.java:97)
	at io.undertow.server.handlers.DisallowedMethodsHandler.handleRequest(DisallowedMethodsHandler.java:61)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)
	at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)
	at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)

16:30:23,411 TRACE [io.undertow.server.HttpServerExchange] (default I/O-7) Starting to write response for HttpServerExchange{ OPTIONS * request {HTTP2-Settings=[AAEAABAAAAIAAAABAAQAAP//AAUAAEAA], Connection=[Upgrade, HTTP2-Settings], Upgrade=[h2c], User-Agent=[mod_cluster ping], Host=[127.0.0.1]} response {Connection=[keep-alive], Content-Length=[0], Date=[Wed, 23 Jan 2019 15:30:23 GMT]}}
{code}",,,,,,,,,UNDERTOW-1490,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-13 06:30:46.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z02pk8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Feb/19 2:52 AM;aspan;HTTP2-Settings=[AAEAABAAAAIAAAABAAQAAP//AAUAAEAA] is incorrectly encoded. It is currently encoded with the standard Base64 encoding table but according to the HTTP2 spec it should be encoded with the Base64url table. See [https://http2.github.io/http2-spec/#discover-http|https://http2.github.io/http2-spec/#discover-http].","08/Feb/19 4:44 AM;aspan;Tracked the error down to the undertow client. Filed a bug report there [UNDERTOW-1490|https://issues.jboss.org/browse/UNDERTOW-1490]","13/Feb/19 6:30 AM;rhusar;Great find [~aspan]. Requires Undertow upgrade 2.0.18.Final.","27/Feb/19 3:38 PM;rhusar;Should be fixed with undertow ugrade.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 8.0.0.Beta4,WFLY-11677,12790872,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,06/Feb/19 11:02 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,06/Feb/19 6:31 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:15.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03104:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Batch thread tx context not cleaned up after chunk-type step,WFLY-11582,12786793,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,09/Jan/19 10:54 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Jan/19 10:31 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Batch,,,,,,,,,,,0,new_and_noteworthy,,,,"See upstream issue JBERET-466, which has been resolved in upstream jberet-core master branch, and I think it should also be fixed in jberet-core maintenance branch 1.3.x and to integrate into future WildFly releases.",,,,,,,,,,,,,JBEAP-16104,,WFLY-11580,,,,,,,,,JBERET-466,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:15.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z02e4o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Jan/19 10:31 AM;cfang;The resolution to this issue is included when upgrading jberet-core from 1.3.2.Final to 1.3.3.Final (WFLY-11580).","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Race condition in PersistenceUnitServiceImpl when the service is being stopped,WFLY-11563,12786162,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,jamezp,jamezp,04/Jan/19 7:44 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,27/Feb/19 6:04 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"There's a race in the {{PersistenceUnitServiceImpl.stop()}} as the service is stopped in a thread. The {{entityManagerFactory}} is a volatile variable not read into a local variable and may be set to {{null}} if stop is invoked twice. The {{proxyBeanManager}} should be looked as well. 

{code}
16:38:59,190 ERROR [org.jboss.as.jpa] (ServerService Thread Pool -- 26) WFLYJPA0007: Failed to stop persistence unit service jpa_classTransformerTestWithMockProvider.ear/ejbjar.jar#mypc: java.lang.NullPointerException
	at com.sun.proxy.$Proxy101.isOpen(Unknown Source)
	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$2$1.run(PersistenceUnitServiceImpl.java:255)
	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$2$1.run(PersistenceUnitServiceImpl.java:236)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:649)
	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$2.run(PersistenceUnitServiceImpl.java:281)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-05 10:08:49.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11983,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z02ag8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Jan/19 10:08 AM;smarlow;Thanks James!","07/Jan/19 1:11 PM;smarlow;Will create a PR with the suggested fix, note that the following still occurs when running with a security manager which means [WFLY-11359] is still not solved:

{quote}
2019-01-07 13:04:52,622 INFO  [org.jboss.weld.Version] (MSC service thread 1-4) WELD-000900: 3.0.5 (Final)
2019-01-07 13:04:52,642 INFO  [org.jboss.as.arquillian] (MSC service thread 1-4) Arquillian deployment detected: ArquillianConfig[service=jboss.arquillian.config.""jpa_classTransformerTestWithMockProvider.ear"",unit=jpa_classTransformerTestWithMockProvider.ear,tests=[org.jboss.as.test.integration.jpa.mockprovider.classtransformer.ClassFileTransformerTestCase]]
2019-01-07 13:04:52,719 INFO  [org.jboss.as.arquillian] (MSC service thread 1-5) Arquillian deployment detected: ArquillianConfig[service=jboss.arquillian.config.""jpa_classTransformerTestWithMockProvider.ear.ejbjar.jar"",unit=jpa_classTransformerTestWithMockProvider.ear.ejbjar.jar,tests=[org.jboss.as.test.integration.jpa.mockprovider.classtransformer.ClassFileTransformerTestCase]]
2019-01-07 13:04:52,882 INFO  [io.smallrye.metrics] (MSC service thread 1-6) MicroProfile: Metrics activated
2019-01-07 13:04:53,227 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0010: Deployed ""jpa_classTransformerTestWithMockProvider.ear"" (runtime-name : ""jpa_classTransformerTestWithMockProvider.ear"")
2019-01-07 13:04:53,374 ERROR [org.jboss.as.weld] (pool-8-thread-1) WFLYWELD0001: Failed to setup Weld contexts: javax.naming.NameNotFoundException: java:comp/BeanManager
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.findContext(InitialContext.java:191)
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:235)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.as.weld.arquillian.WeldContextSetup.setup(WeldContextSetup.java:70)
	at org.jboss.as.arquillian.service.ContextManager.setup(ContextManager.java:69)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.setupContextManager(ArquillianService.java:211)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:164)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-01-07 13:04:53,454 INFO  [org.jboss.arquillian.testenricher.cdi.container.BeanManagerProducer] (pool-8-thread-1) BeanManager not found.
2019-01-07 13:04:53,478 ERROR [org.jboss.as.weld] (pool-8-thread-1) WFLYWELD0002: Failed to tear down Weld contexts: javax.naming.NameNotFoundException: java:comp/BeanManager
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.findContext(InitialContext.java:191)
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:235)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.as.weld.arquillian.WeldContextSetup.teardown(WeldContextSetup.java:108)
	at org.jboss.as.arquillian.service.ContextManager.teardown(ContextManager.java:106)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:182)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-01-07 13:04:53,515 ERROR [org.jboss.as.weld] (pool-8-thread-1) WFLYWELD0001: Failed to setup Weld contexts: javax.naming.NameNotFoundException: java:comp/BeanManager
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.findContext(InitialContext.java:191)
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:235)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.as.weld.arquillian.WeldContextSetup.setup(WeldContextSetup.java:70)
	at org.jboss.as.arquillian.service.ContextManager.setup(ContextManager.java:69)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.setupContextManager(ArquillianService.java:211)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:164)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-01-07 13:04:53,521 INFO  [org.jboss.arquillian.testenricher.cdi.container.BeanManagerProducer] (pool-8-thread-1) BeanManager not found.
2019-01-07 13:04:53,527 ERROR [org.jboss.as.weld] (pool-8-thread-1) WFLYWELD0002: Failed to tear down Weld contexts: javax.naming.NameNotFoundException: java:comp/BeanManager
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.findContext(InitialContext.java:191)
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:235)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.as.weld.arquillian.WeldContextSetup.teardown(WeldContextSetup.java:108)
	at org.jboss.as.arquillian.service.ContextManager.teardown(ContextManager.java:106)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:182)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-01-07 13:04:53,538 ERROR [org.jboss.as.weld] (pool-8-thread-1) WFLYWELD0001: Failed to setup Weld contexts: javax.naming.NameNotFoundException: java:comp/BeanManager
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.findContext(InitialContext.java:191)
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:235)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.as.weld.arquillian.WeldContextSetup.setup(WeldContextSetup.java:70)
	at org.jboss.as.arquillian.service.ContextManager.setup(ContextManager.java:69)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.setupContextManager(ArquillianService.java:211)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:164)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-01-07 13:04:53,542 INFO  [org.jboss.arquillian.testenricher.cdi.container.BeanManagerProducer] (pool-8-thread-1) BeanManager not found.
2019-01-07 13:04:53,549 SEVERE [org.jboss.arquillian.protocol.jmx.JMXTestRunner] (pool-8-thread-1) Failed: org.jboss.as.test.integration.jpa.mockprovider.classtransformer.ClassFileTransformerTestCase.test_persistenceUnitInfoURLS: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""org.jboss.vfs.VirtualFilePermission"" ""/content/jpa_classTransformerTestWithMockProvider.ear/ejbjar.jar"" ""read"")"" in code source ""(vfs:/content/jpa_classTransformerTestWithMockProvider.ear/lib/lib.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.jpa_classTransformerTestWithMockProvider.ear"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at org.jboss.vfs.VirtualFile.openStream(VirtualFile.java:303)
	at org.jboss.vfs.protocol.VirtualFileURLConnection.getInputStream(VirtualFileURLConnection.java:65)
	at java.net.URL.openStream(URL.java:1045)
	at org.jboss.as.test.integration.jpa.mockprovider.classtransformer.ClassFileTransformerTestCase.test_persistenceUnitInfoURLS(ClassFileTransformerTestCase.java:117)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-01-07 13:04:53,557 ERROR [org.jboss.as.weld] (pool-8-thread-1) WFLYWELD0002: Failed to tear down Weld contexts: javax.naming.NameNotFoundException: java:comp/BeanManager
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.findContext(InitialContext.java:191)
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:235)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at javax.naming.InitialContext.lookup(InitialContext.java:417)
	at org.jboss.as.weld.arquillian.WeldContextSetup.teardown(WeldContextSetup.java:108)
	at org.jboss.as.arquillian.service.ContextManager.teardown(ContextManager.java:106)
	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:182)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)

2019-01-07 13:04:53,639 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 77) WFLYJPA0004: Stopping Persistence Unit Service 'jpa_classTransformerTestWithMockProvider.ear/ejbjar.jar#mypc'
2019-01-07 13:04:53,647 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0208: Stopped subdeployment (runtime-name: ejbjar.jar) in 52ms
2019-01-07 13:04:53,650 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0028: Stopped deployment jpa_classTransformerTestWithMockProvider.ear (runtime-name: jpa_classTransformerTestWithMockProvider.ear) in 56ms
2019-01-07 13:04:53,670 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0002: Content removed from location /home/smarlow/work/wildfly/dist/target/wildfly-16.0.0.Beta1-SNAPSHOT/standalone/data/content/a9/a808cbaf988becf3085139d241de570d6d6bc0/content
2019-01-07 13:04:53,670 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0009: Undeployed ""jpa_classTransformerTestWithMockProvider.ear"" (runtime-name: ""jpa_classTransformerTestWithMockProvider.ear"")
2019-01-07 13:04:53,687 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0028: Stopped deployment arquillian-service (runtime-name: arquillian-service) in 7ms
2019-01-07 13:04:53,709 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0002: Content removed from location /home/smarlow/work/wildfly/dist/target/wildfly-16.0.0.Beta1-SNAPSHOT/standalone/data/content/eb/07f4c0cb6c8a693626242bbf1ba5a02a2ec950/content
2019-01-07 13:04:53,709 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0009: Undeployed ""arquillian-service"" (runtime-name: ""arquillian-service"")
2019-01-07 13:05:07,964 INFO  [org.jboss.as.server] (Thread-2) WFLYSRV0272: Suspending server
2019-01-07 13:05:07,968 INFO  [org.jboss.as.ejb3] (Thread-2) WFLYEJB0493: EJB subsystem suspension complete
2019-01-07 13:05:07,970 INFO  [org.jboss.as.server] (Thread-2) WFLYSRV0220: Server shutdown has been requested via an OS signal
2019-01-07 13:05:07,988 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0008: Undertow HTTPS listener https suspending
2019-01-07 13:05:07,989 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
2019-01-07 13:05:07,990 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to 127.0.0.1:8443
2019-01-07 13:05:07,990 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0019: Host default-host stopping
2019-01-07 13:05:07,991 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
2019-01-07 13:05:07,996 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0019: Stopped Driver service with driver-name = h2
2019-01-07 13:05:08,004 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0008: Undertow HTTP listener default suspending
2019-01-07 13:05:08,007 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 127.0.0.1:8080
2019-01-07 13:05:08,009 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 77) WFLYCLINF0003: Stopped client-mappings cache from ejb container
2019-01-07 13:05:08,012 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0004: Undertow 2.0.15.Final stopping
2019-01-07 13:05:08,022 INFO  [org.jboss.as] (MSC service thread 1-8) WFLYSRV0050: WildFly Full 16.0.0.Beta1-SNAPSHOT (WildFly Core 8.0.0.Beta1) stopped in 44ms
{code}

","07/Jan/19 2:45 PM;jamezp;Correct yes. This was just something I noticed while looking at the security manager failure. It's an easy way to see if the issue is gone FWIW as I consistently saw it when the test failed.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Time-based metrics do not specify measurement unit,WFLY-11519,12784788,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,14/Dec/18 9:02 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Dec/18 5:09 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Transactions,Web (Undertow),,,,,,,,,,0,,,,,"Identifed metrics:

* Undertow:
** session-avg-alive-time
** session-max-alive-time
** max_processing_time
** processing_time

* Transactions
** transactions_average_commit_time",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:14.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z022og:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add missing JGroups subsystem transformer tests for EAP 7.2,WFLY-11694,12791563,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,pferraro,pferraro,11/Feb/19 11:17 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:08 PM,15.0.1.Final,,,,,16.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-13 12:45:49.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12069,https://github.com/wildfly/wildfly/pull/12055,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z034zg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Feb/19 12:45 PM;rhusar;Reopening - the test methods are actually missing in the original PR.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow eager SFSB passivation when enabled via system property,WFLY-11597,12787543,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,15/Jan/19 10:14 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,08/Feb/19 5:53 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,EJB,,,,,,,,,,0,,,,,,,,,,,,,,,,,,EAP7-1168,,,,,,,,,,,,,,,,,,,,,WFLY-11088,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:14.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12008,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02imo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Legacy security subsystem setting Policy to null on reload,WFLY-11555,12785976,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,03/Jan/19 1:14 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Jan/19 10:55 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Security,,,,,,,,,,,0,,,,,"The legacy security subsytem is inadvertantly setting the global Policy to 'null' on reload where it is not handling JACC itself.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:13.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11973,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z029c0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Narayana to 5.9.1.Final,WFLY-11473,12782209,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,04/Dec/18 5:57 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,07/Dec/18 5:50 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10841,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:13.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01q4w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate ORM from 5.3.7 to 5.3.8,WFLY-11749,12793214,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gbadner,gbadner,gbadner,19/Feb/19 4:34 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Feb/19 5:32 PM,,,,,,16.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,,,,,"In addition to upgrading Hibernate ORM, this also upgrades ByteBuddy from 1.8.17 to 1.9.4.",,,,,,,,,,,,,JBEAP-15805,JBEAP-16321,,,,,,,,,,,,,,WFLY-11193,,,,,,JBEAP-16191,JBEAP-16190,JBEAP-16074,JBEAP-16065,JBEAP-16098,JBEAP-16320,JBEAP-16099,JBEAP-16330,JBEAP-15882,JBEAP-15782,JBEAP-14762,JBEAP-15336,JBEAP-15841,JBEAP-16325,JBEAP-15899,JBEAP-15803,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:13.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12091,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03czo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transaction JDBC object store does not start on PostgreSQL Plus 10.1,WFLY-11739,12792802,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,istraka,istraka,istraka,18/Feb/19 10:47 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Feb/19 6:28 PM,14.0.0.Final,15.0.1.Final,16.0.0.Beta1,,,16.0.0.Final,,,Transactions,,,,,,,,,,,0,,,,,"The JBossTM has not got driver class for PostgreSQL Plus 10.1. This results in a _ClassNotFoundException_ exception when transaction subsystem is configured to use a JDBC transaction object store on PostgreSQL Plus 10.1.

The problem is that there is no driver class in [this package|https://github.com/jbosstm/narayana/tree/5.9.1.Final/ArjunaCore/arjuna/classes/com/arjuna/ats/internal/arjuna/objectstore/jdbc/drivers] for [edb-jdbc18.jar|http://www.qa.jboss.com/jdbc-drivers-products/EAP/7.3.0/postgresplus101/jdbc4/edb-jdbc18.jar] which is supposed to be used for PostgreSQL Plus 10.1.  Narayana expects _edb_driver_ class. This has changed since edb-jdbc17.jar where _postgresql_driver_ is expected.

PostgreSQL Plus 10.1 is supported in 7.2.0 and 7.3.0, Customers can not used the DB as JDBC object store due to this issue.

{code:java}
16:33:17,027 FATAL [com.arjuna.ats.arjuna] (MSC service thread 1-2) ARJUNA012260: Received exception for com.arjuna.ats.internal.arjuna.objectstore.jdbc.accessors.DataSourceJDBCAccess:JASDTJBossTSTxTable: java.lang.ClassNotFoundException: com.arjuna.ats.internal.arjuna.objectstore.jdbc.drivers.edb_driver from [Module ""org.jboss.jts"" from local module loader @2b80d80f (finder: local module finder @3ab39c39 (roots: /home/istraka/repositories/gitlab/tests-management/jboss-eap-7.1/modules,/home/istraka/repositories/gitlab/tests-management/jboss-eap-7.1/modules/system/layers/base))]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:412)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:400)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:264)
	at com.arjuna.ats.internal.arjuna.objectstore.jdbc.JDBCStore.<init>(JDBCStore.java:251)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.arjuna.common.internal.util.ClassloadingUtility.loadAndInstantiateClass(ClassloadingUtility.java:129)
	at com.arjuna.ats.arjuna.objectstore.StoreManager.initStore(StoreManager.java:152)
	at com.arjuna.ats.arjuna.objectstore.StoreManager.getActionStore(StoreManager.java:111)
	at com.arjuna.ats.arjuna.objectstore.StoreManager.getRecoveryStore(StoreManager.java:68)
	at com.arjuna.ats.internal.jta.recovery.arjunacore.CommitMarkableResourceRecordRecoveryModule.<init>(CommitMarkableResourceRecordRecoveryModule.java:156)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at java.lang.Class.newInstance(Class.java:442)
	at com.arjuna.common.internal.util.ClassloadingUtility.loadAndInstantiateClass(ClassloadingUtility.java:135)
	at com.arjuna.common.internal.util.ClassloadingUtility.loadAndInstantiateClassesWithInit(ClassloadingUtility.java:192)
	at com.arjuna.ats.arjuna.common.RecoveryEnvironmentBean.getRecoveryModules(RecoveryEnvironmentBean.java:465)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.loadModules(PeriodicRecovery.java:883)
	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.<init>(PeriodicRecovery.java:121)
	at com.arjuna.ats.internal.arjuna.recovery.RecoveryManagerImple.<init>(RecoveryManagerImple.java:107)
	at com.arjuna.ats.arjuna.recovery.RecoveryManager.<init>(RecoveryManager.java:477)
	at com.arjuna.ats.arjuna.recovery.RecoveryManager.manager(RecoveryManager.java:132)
	at com.arjuna.ats.arjuna.recovery.RecoveryManager.manager(RecoveryManager.java:112)
	at com.arjuna.ats.jbossatx.jta.RecoveryManagerService.create(RecoveryManagerService.java:54)
	at org.jboss.as.txn.service.ArjunaRecoveryManagerService.start(ArjunaRecoveryManagerService.java:126)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:2032)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1955)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)

{code}
",,,,,,,,,,,,,JBEAP-16408,,WFLY-11735,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:13.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12102,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03b9w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-client from 4.0.12 to 4.0.13,WFLY-11599,12787575,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,spyrkob,spyrkob,spyrkob,15/Jan/19 1:47 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Jan/19 6:03 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Build System,,,,,,,,,,,0,downstream_dependency,,,,https://github.com/wildfly/jboss-ejb-client/compare/4.0.12.Final...4.0.13.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11232,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:13.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02itk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JspTagTestCase fails with security manager with jboss.dist set,WFLY-11503,12783617,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,soul2zimate,okotek,okotek,12/Dec/18 8:13 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Dec/18 6:18 AM,16.0.0.Beta1,,,,,16.0.0.Beta1,16.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"{{org.jboss.as.test.integration.jsp.JspTagTestCase#test}} fails with security manager with jboss.dist set due to missing permissions:

{noformat}
ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /6b2ba122-d8bf-4324-90df-a6b04b15375e/index2.jsp: org.apache.jasper.JasperException: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/6b2ba122-d8bf-4324-90df-a6b04b15375e.war/ <no signer certificates>)"" of ""org.apache.jasper.servlet.JasperLoader@1c6efa65"")
	at io.undertow.jsp@2.0.7.Final//org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:473)
	at io.undertow.jsp@2.0.7.Final//org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:403)
	at io.undertow.jsp@2.0.7.Final//org.apache.jasper.servlet.JspServlet.service(JspServlet.java:347)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.jsp@2.0.7.Final//io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.core@2.0.15.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.core@2.0.15.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/6b2ba122-d8bf-4324-90df-a6b04b15375e.war/ <no signer certificates>)"" of ""org.apache.jasper.servlet.JasperLoader@1c6efa65"")
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.base/java.lang.ClassLoader.checkClassLoaderPermission(ClassLoader.java:2048)
	at java.base/java.lang.Class.getClassLoader(Class.java:831)
	at org.jboss.as.weld@16.0.0.Beta1-SNAPSHOT//org.jboss.as.weld.injection.InjectionTargets.createInjectionTarget(InjectionTargets.java:68)
	at org.jboss.as.weld@16.0.0.Beta1-SNAPSHOT//org.jboss.as.weld.deployment.WeldClassIntrospector.getInjectionTarget(WeldClassIntrospector.java:102)
	at org.jboss.as.weld@16.0.0.Beta1-SNAPSHOT//org.jboss.as.weld.deployment.WeldClassIntrospector.createInstance(WeldClassIntrospector.java:114)
	at org.jboss.as.ee@16.0.0.Beta1-SNAPSHOT//org.jboss.as.ee.component.ComponentRegistry.createInstance(ComponentRegistry.java:85)
	at org.jboss.as.web-common@16.0.0.Beta1-SNAPSHOT//org.jboss.as.web.common.WebInjectionContainer.newInstance(WebInjectionContainer.java:77)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowJSPInstanceManager.newInstance(UndertowJSPInstanceManager.java:75)
	at org.apache.jsp.index2_jsp._jspx_meth_my_005ftag_005f0(index2_jsp.java:128)
	at org.apache.jsp.index2_jsp._jspService(index2_jsp.java:99)
	at io.undertow.jsp@2.0.7.Final//org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.jsp@2.0.7.Final//org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433)
	... 52 more
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11930,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01xyw:",9223372036854775807,,0.0,,,,,"{{cd integration/web}}
{{mvn clean test -Dtest=JspTagTestCase -Dsecurity.manager -Djboss.dist=/home/user/test/wildfly-16.0.0.Beta1-SNAPSHOT}}",,,,,,,okotek,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use registered priorities for MP Config DUP,WFLY-11309,12778473,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,08/Nov/18 9:51 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:11 PM,,,,,,16.0.0.Final,,,MP Config,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,WFCORE-4204,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:12.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z014y0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reduce unnecessary per-request array allocation/copies when parsing jsessionid,WFLY-11626,12788430,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,21/Jan/19 9:39 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Feb/19 10:25 PM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,Web (Undertow),,,,,,,,,,0,,,,,"Every web request currently parses an encoded session ID into 2 strings, one for the decoded session ID, and another for the route. Another set of strings is generated when determining whether the route for the current session has changed. This results in the allocation and copying of several sets of char arrays, most of which can be avoided.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12024,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02ngw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SimpleMarshallingContext#createMarshaller should run in a privileged block,WFLY-11531,12785164,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,18/Dec/18 1:00 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Dec/18 5:06 AM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"{noformat}
[0m[31m21:58:14,062 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (default task-1) ISPN000136: Error executing command PrepareCommand, writing keys [InfinispanBeanGroupKey(UUIDSessionID [f1e2dd2e-c03c-458e-bc46-84c82edd2133]), InfinispanBeanKey(UUIDSessionID [f1e2dd2e-c03c-458e-bc46-84c82edd2133])]: java.lang.ExceptionInInitializerError
	at org.jboss.marshalling.river.RiverMarshaller.<clinit>(RiverMarshaller.java:1274)
	at org.jboss.marshalling.river.RiverMarshallerFactory.createMarshaller(RiverMarshallerFactory.java:54)
	at org.wildfly.clustering.marshalling.jboss.SimpleMarshallingContext.createMarshaller(SimpleMarshallingContext.java:68)
	at org.wildfly.clustering.marshalling.jboss.SimpleMarshalledValue.getBytes(SimpleMarshalledValue.java:76)
	at org.wildfly.clustering.marshalling.jboss.SimpleMarshalledValueExternalizer.writeObject(SimpleMarshalledValueExternalizer.java:51)
	at org.wildfly.clustering.marshalling.jboss.SimpleMarshalledValueExternalizer.writeObject(SimpleMarshalledValueExternalizer.java:36)
	at org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupEntryExternalizer.writeObject(InfinispanBeanGroupEntryExternalizer.java:45)
	at org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupEntryExternalizer.writeObject(InfinispanBeanGroupEntryExternalizer.java:37)
	at org.wildfly.clustering.marshalling.infinispan.AdvancedExternalizerAdapter.writeObject(AdvancedExternalizerAdapter.java:51)
	at org.infinispan.marshall.core.ExternalExternalizers$ForeignAdvancedExternalizer.writeObject(ExternalExternalizers.java:78)
	at org.infinispan.marshall.core.GlobalMarshaller.writeExternal(GlobalMarshaller.java:652)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:406)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
	at org.infinispan.commands.write.PutKeyValueCommand.writeTo(PutKeyValueCommand.java:111)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeCommandParameters(ReplicableCommandExternalizer.java:71)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeObject(ReplicableCommandExternalizer.java:67)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeObject(ReplicableCommandExternalizer.java:55)
	at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
	at org.infinispan.commons.marshall.MarshallUtil.marshallArray(MarshallUtil.java:182)
	at org.infinispan.commands.tx.PrepareCommand.writeTo(PrepareCommand.java:206)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeCommandParameters(ReplicableCommandExternalizer.java:71)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.marshallParameters(CacheRpcCommandExternalizer.java:120)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:116)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:66)
	at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:183)
	at org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:176)
	at org.infinispan.marshall.core.GlobalMarshaller.objectToBuffer(GlobalMarshaller.java:305)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.marshallRequest(JGroupsTransport.java:1009)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.sendCommand(JGroupsTransport.java:1209)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeCommand(JGroupsTransport.java:855)
	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeCommand(RpcManagerImpl.java:175)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.prepareOnAffectedNodes(TxDistributionInterceptor.java:311)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.lambda$visitPrepareCommand$6(TxDistributionInterceptor.java:299)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:81)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitPrepareCommand(TxDistributionInterceptor.java:287)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.prepareHandler(EntryWrappingInterceptor.java:178)
	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.wrapEntriesForPrepareAndApply(EntryWrappingInterceptor.java:848)
	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:173)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan.interceptors.impl.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:41)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:120)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.impl.TxInterceptor.handlePrepareCommand(TxInterceptor.java:158)
	at org.infinispan.interceptors.impl.TxInterceptor.visitPrepareCommand(TxInterceptor.java:127)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitCommand(TransactionSynchronizerInterceptor.java:41)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:185)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:203)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:69)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan.interceptors.impl.BatchingInterceptor.handleDefault(BatchingInterceptor.java:69)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPrepareCommand(DDAsyncInterceptor.java:132)
	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:185)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248)
	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:156)
	at org.infinispan.transaction.impl.TransactionTable.afterCompletion(TransactionTable.java:861)
	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:33)
	at org.infinispan.commons.tx.TransactionImpl.notifyAfterCompletion(TransactionImpl.java:506)
	at org.infinispan.commons.tx.TransactionImpl.runCommit(TransactionImpl.java:338)
	at org.infinispan.commons.tx.TransactionImpl.commit(TransactionImpl.java:110)
	at org.wildfly.clustering.ee.infinispan.InfinispanBatch.close(InfinispanBatch.java:97)
	at org.jboss.as.ejb3.cache.distributable.DistributableCache.create(DistributableCache.java:101)
	at org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.createSession(StatefulSessionComponent.java:240)
	at org.jboss.as.weld.ejb.StatefulSessionObjectReferenceImpl.<init>(StatefulSessionObjectReferenceImpl.java:73)
	at org.jboss.as.weld.services.bootstrap.WeldEjbServices.resolveEjb(WeldEjbServices.java:53)
	at org.jboss.weld.module.ejb.SessionBeanImpl.createReference(SessionBeanImpl.java:248)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.<init>(EnterpriseBeanProxyMethodHandler.java:87)
	at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.<init>(EnterpriseBeanProxyMethodHandler.java:67)
	at org.jboss.weld.module.ejb.SessionBeanProxyInstantiator.createEnterpriseTargetBeanInstance(SessionBeanProxyInstantiator.java:77)
	at org.jboss.weld.module.ejb.SessionBeanProxyInstantiator.newInstance(SessionBeanProxyInstantiator.java:58)
	at org.jboss.weld.module.ejb.SessionBeanImpl.create(SessionBeanImpl.java:154)
	at org.jboss.weld.util.bean.IsolatedForwardingBean.create(IsolatedForwardingBean.java:45)
	at org.jboss.weld.contexts.AbstractContext.get(AbstractContext.java:96)
	at org.jboss.weld.contexts.PassivatingContextWrapper$AbstractPassivatingContextWrapper.get(PassivatingContextWrapper.java:76)
	at org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)
	at org.jboss.weld.bean.ContextualInstanceStrategy$CachingContextualInstanceStrategy.get(ContextualInstanceStrategy.java:177)
	at org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)
	at org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:102)
	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105)
	at org.jboss.as.test.clustering.cluster.ejb.stateful.bean.Incrementor$64999020$Proxy$_$$_WeldClientProxy.increment(Unknown Source)
	at org.jboss.as.test.clustering.cluster.cdi.CdiServlet.doGet(CdiServlet.java:52)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.sun.reflect"")"" in code source ""(vfs:/content/CdiFailoverTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.CdiFailoverTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPackageAccess(WildFlySecurityManager.java:490)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:329)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at org.jboss.modules.JDKSpecific.getSystemClass(JDKSpecific.java:180)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:395)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at org.jboss.marshalling.river.Protocol.<clinit>(Protocol.java:310)
	... 165 more
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11943,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z024v4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Inconsistency in JCA Subsystem xsd, boundedqueque is used for worker threads",WFLY-11547,12785675,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,tmiyar,tmiyar,27/Dec/18 5:21 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Jan/19 10:55 PM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"The issue is that the xsd says it is using a blocking queue but it is using an incomplete bounded one since there are properties that cannot be set.

jboss-cli returns:

{code:java}
/subsystem=jca/workmanager=default/long-running-threads=default:read-resource-description
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""description"" => ""A thread pool executor with a bounded queue where threads submittings tasks will not block. Such a thread pool has a core and maximum size and a specified queue length.  When a task is submitted, if the number of running threads is less than the core size, a new thread is created.  Otherwise, if there is room in the queue, the task is enqueued. Otherwise, if the number of running threads is less than the maximum size, a new thread is created. Otherwise, the task is handed off to the designated handoff executor, if one is specified.  Otherwise, the task is discarded."",
......
            ""handoff-executor"" => {
                ""type"" => STRING,
                ""description"" => ""An executor to delegate tasks to in the event that a task cannot be accepted. If not specified, tasks that cannot be accepted will be silently discarded."",
                ""expressions-allowed"" => false,
                ""nillable"" => true,
                ""min-length"" => 1L,
                ""max-length"" => 2147483647L,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""all-services""
            },
....
{code}
But the xsd does not allow to set a hand-off executor for the short/long running threads 

The xsd:

<xs:annotation>
            <xs:documentation>
            <![CDATA[
                See threads:blocking-bounded-queue-thread-pool.
            ]]>
            </xs:documentation>
        </xs:annotation>",,,,,,,,,,,,,JBEAP-15843,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11967,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z027ko:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bump messaging schema version to 6.0,WFLY-11487,12782979,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,thofman,thofman,thofman,07/Dec/18 9:19 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Dec/18 3:00 PM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,JMS,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11924,https://github.com/wildfly/wildfly/pull/11939,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01ujk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Narayana to 5.9.3.Final,WFLY-11735,12792668,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomjenkinson,tomjenkinson,tomjenkinson,18/Feb/19 6:15 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Feb/19 5:35 PM,,,,,,16.0.0.Final,,,Transactions,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-18 06:29:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12102,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z03ah0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Feb/19 6:29 AM;ochaloup;I think there should be included fix for the https://issues.jboss.org/browse/WFLY-11706 too.","18/Feb/19 7:26 AM;tomjenkinson;Thanks Ondra!","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add expressions to enable statistics - EJB and WS,WFLY-11644,12789102,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rsvoboda,rsvoboda,rsvoboda,24/Jan/19 9:33 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 9:38 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,EJB,MP Metrics,Web Services,,,,,,,,,0,,,,,"Add expressions to enable statistics - EJB and WS

Follow-up work for WFLY-11471",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11471,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12032,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02r0o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HTTP Basic Authentication - Silent Operation,WFLY-11479,12782572,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dvilkola,dlofthouse,dlofthouse,05/Dec/18 10:22 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,08/Feb/19 3:18 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Security,,,,,,,,,,,0,,,,,Using HTTP Basic authentication with Undertow it was possible to switch into a silent mode where an incoming header could be processed but clients would not be challenged - this RFE is to support the same behaviour with WildFly Elytron.,,,,,,,,,,,,,EAP7-1154,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:10.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11990,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01s8g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use registered priorities for MP OpenTracing DUP,WFLY-11311,12778476,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,08/Nov/18 9:53 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:11 PM,,,,,,16.0.0.Final,,,MP OpenTracing,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-11310,,WFCORE-4204,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:10.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z014yo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JBoss EJB Client to 4.0.14.Final,WFLY-11687,12791229,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,ochaloup,ochaloup,08/Feb/19 5:53 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,11/Feb/19 10:00 PM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,EJB,,,,,,,,,,,0,,,,,Component upgrade of jboss ejb client which brings fixes of transaction timeout remoting ejb propagation.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:10.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z032zo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SessionIdentifierSerializer should use privileged block for service loader,WFLY-11509,12784543,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,13/Dec/18 4:16 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Dec/18 6:24 AM,No Release,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Currently only affects master, caused by {{4b1464020489b02bf4516f941b6c662719fe7f18}}.

{code}
[0m[31m10:14:35,476 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (default task-1) ISPN000136: Error executing command PutKeyValueCommand, writing keys [SessionCreationMetaDataKey(C1RUXT3dUmdkgzWpzBgEVRTA5dNgQc0sIJ8Ensqx)]: java.lang.ExceptionInInitializerError
	at org.wildfly.clustering.web.infinispan.SessionKeyExternalizer.writeObject(SessionKeyExternalizer.java:49)
	at org.wildfly.clustering.web.infinispan.SessionKeyExternalizer.writeObject(SessionKeyExternalizer.java:37)
	at org.wildfly.clustering.marshalling.infinispan.AdvancedExternalizerAdapter.writeObject(AdvancedExternalizerAdapter.java:51)
	at org.infinispan.marshall.core.ExternalExternalizers$ForeignAdvancedExternalizer.writeObject(ExternalExternalizers.java:78)
	at org.infinispan.marshall.core.GlobalMarshaller.writeExternal(GlobalMarshaller.java:652)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:406)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
	at org.infinispan.commands.write.PutKeyValueCommand.writeTo(PutKeyValueCommand.java:110)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeCommandParameters(ReplicableCommandExternalizer.java:71)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeObject(ReplicableCommandExternalizer.java:67)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeObject(ReplicableCommandExternalizer.java:55)
	at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.BytesObjectOutput.writeObject(BytesObjectOutput.java:26)
	at org.infinispan.commands.remote.SingleRpcCommand.writeTo(SingleRpcCommand.java:42)
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.writeCommandParameters(ReplicableCommandExternalizer.java:71)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.marshallParameters(CacheRpcCommandExternalizer.java:120)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:116)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.writeObject(CacheRpcCommandExternalizer.java:66)
	at org.infinispan.marshall.core.GlobalMarshaller.writeInternal(GlobalMarshaller.java:638)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNonNullableObject(GlobalMarshaller.java:402)
	at org.infinispan.marshall.core.GlobalMarshaller.writeNullableObject(GlobalMarshaller.java:355)
	at org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:183)
	at org.infinispan.marshall.core.GlobalMarshaller.writeObjectOutput(GlobalMarshaller.java:176)
	at org.infinispan.marshall.core.GlobalMarshaller.objectToBuffer(GlobalMarshaller.java:305)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.marshallRequest(JGroupsTransport.java:1009)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.sendCommand(JGroupsTransport.java:1209)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeCommand(JGroupsTransport.java:855)
	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeCommand(RpcManagerImpl.java:175)
	at org.infinispan.interceptors.distribution.BaseDistributionInterceptor.primaryReturnHandler(BaseDistributionInterceptor.java:344)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:81)
	at org.infinispan.interceptors.distribution.BaseDistributionInterceptor.handleNonTxWriteCommand(BaseDistributionInterceptor.java:268)
	at org.infinispan.interceptors.distribution.NonTxDistributionInterceptor.visitPutKeyValueCommand(NonTxDistributionInterceptor.java:110)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:60)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:197)
	at org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitPutKeyValueCommand(CacheLoaderInterceptor.java:124)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenAccept(BaseAsyncInterceptor.java:98)
	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:672)
	at org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPutKeyValueCommand(EntryWrappingInterceptor.java:302)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:60)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:150)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.lambda$nonTxLockAndInvokeNext$1(AbstractLockingInterceptor.java:299)
	at org.infinispan.interceptors.SyncInvocationStage.addCallback(SyncInvocationStage.java:42)
	at org.infinispan.interceptors.InvocationStage.andHandle(InvocationStage.java:65)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.nonTxLockAndInvokeNext(AbstractLockingInterceptor.java:294)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitNonTxDataWriteCommand(AbstractLockingInterceptor.java:126)
	at org.infinispan.interceptors.locking.NonTransactionalLockingInterceptor.visitDataWriteCommand(NonTransactionalLockingInterceptor.java:40)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitPutKeyValueCommand(AbstractLockingInterceptor.java:82)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:183)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleNonTxWriteCommand(StateTransferInterceptor.java:309)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:252)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitPutKeyValueCommand(StateTransferInterceptor.java:96)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:60)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:60)
	at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:68)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1918)
	at org.infinispan.cache.impl.CacheImpl.putIfAbsent(CacheImpl.java:1474)
	at org.infinispan.cache.impl.DecoratedCache.putIfAbsent(DecoratedCache.java:695)
	at org.infinispan.cache.impl.DecoratedCache.putIfAbsent(DecoratedCache.java:610)
	at org.infinispan.cache.impl.AbstractDelegatingCache.putIfAbsent(AbstractDelegatingCache.java:353)
	at org.infinispan.cache.impl.EncoderCache.putIfAbsent(EncoderCache.java:493)
	at org.infinispan.cache.impl.AbstractDelegatingCache.putIfAbsent(AbstractDelegatingCache.java:353)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.createValue(InfinispanSessionMetaDataFactory.java:61)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.createValue(InfinispanSessionMetaDataFactory.java:42)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:51)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:37)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.createSession(InfinispanSessionManager.java:238)
	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.createSession(DistributableSessionManager.java:167)
	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:918)
	at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:411)
	at org.jboss.as.test.clustering.single.web.SimpleServlet.doGet(SimpleServlet.java:68)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""getClassLoader"")"" in code source ""(vfs:/content/ConcurrentFineWebFailoverTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ConcurrentFineWebFailoverTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.ClassLoader.checkClassLoaderPermission(ClassLoader.java:1528)
	at java.lang.Class.getClassLoader(Class.java:683)
	at org.wildfly.clustering.web.infinispan.SessionIdentifierSerializer.<init>(SessionIdentifierSerializer.java:39)
	at org.wildfly.clustering.web.infinispan.SessionIdentifierSerializer.<clinit>(SessionIdentifierSerializer.java:37)
	... 144 more
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:09.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11931,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z021aw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on org.jboss.metadata.appclient,WFLY-11454,12781892,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,03/Dec/18 4:02 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 7:16 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Server,,,,,,,,,,,0,,,,,"Validate the need of these module dependencies in org.jboss.metadata.appclient

{code:xml}
 <module name=""javax.transaction.api""/>
 <module name=""javax.xml.rpc.api""/>
 <module name=""javax.rmi.api""/>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:09.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11908,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01og0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove unused dependencies from Weld beanvalidation, transaction and webservices",WFLY-11452,12781772,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,30/Nov/18 10:55 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 5:47 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,CDI / Weld,,,,,,,,,,,0,,,,,"The initial intention of this issue is to remove the hard dependency on as.security from Weld  beanvalidation, transaction and webservices in order to help Galleon to provision a slimmer server. However, analisys shows there are additional unused dependencies that can be removed. This issue will be used to clean up them. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:09.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11904,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01nrk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 8.0.0.Beta3,WFLY-11637,12788763,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,23/Jan/19 5:41 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,23/Jan/19 6:17 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:09.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02p0g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cancelled timer not removed from internal cache when using persistent timers,WFLY-11590,12787319,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jbaesner,jbaesner,jbaesner,14/Jan/19 9:22 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Jan/19 3:23 PM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"When using database persistence for timers, the timers that are _synced_ via the {{RefreshTask}} and lateron _removed_ by the {{RefreshTask}} will not be deleted from the internal {{[timers|https://github.com/wildfly/wildfly/blob/master/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/TimerServiceImpl.java#L120]}} _cache_ in {{[TimerServiceImpl.java|https://github.com/wildfly/wildfly/blob/master/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/TimerServiceImpl.java#L1326]}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/19 9:50 AM;jbaesner;playground-jar.jar;https://issues.redhat.com/secure/attachment/12445488/playground-jar.jar","14/Jan/19 9:49 AM;jbaesner;playground.zip;https://issues.redhat.com/secure/attachment/12445487/playground.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:09.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11999,,,,,,,,,,,,,,,,2.0,1.0,,,,,,,,,,"1|z02haw:",9223372036854775807,,0.0,,,,,"1.) 2 WildFly server with the same configuration using an EJB timer with DB persistence.
2.) the attached application ({{playground-jar.jar}}) that starts 2 timer (1 _scanner_ timer and 1 _future_ timer)
  - the _scanner_ timer runs every couple of seconds (e. g. 4 sec)
  - the _future_ timer will never execute, it is always only _cancelled_ and newly _created_ by the _scanner_ timer (always adding 1 hour) 
3.) running both servers with simple {{standalone.xml}} with persistent database timer with a _refresh-interval_ of 2000 (2 seconds) configuration and a port offset

It can be observed that the output for {{getTimers()}} on one node will increase in it's number.",,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide ability to suspend and resume the set of servers managed by a specific host controller,WFLY-11550,12785809,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,02/Jan/19 6:06 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 4:21 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Documentation,,,,,,,,,,,0,,,,,"In WildFly 10 we introduced the server suspend/resume and graceful shutdown feature. This feature allows the server to complete the active requests normally, without accepting any new requests. A timeout value specifies how long the suspend or shutdown operation waits for active request to complete.

However, there are no specific operations to suspend/resume and shutdown gracefully all servers managed by a specific host controller. These operations can be applied only at server-group or whole domain level. The goal of this issue is to facilitate these tasks to the administrators.

Additionally, the timeout attribute for all of those lifecycle operations will be renamed to suspend-timeout to avoid the confusion of this value with timeout applied to the entire operation. The suspend-timeout attribute has a meaning only for the timeout applied to suspend the servers.",,,,,,,,,,,,,WFCORE-1427,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:08.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11970,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z028dc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Some web clustering tests fail with security manager,WFLY-11500,12783605,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,okotek,okotek,12/Dec/18 7:39 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 6:51 AM,No Release,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,Test Suite,,,,,,,,,,0,security-manager,,,,"Five web clustering tests fail with security manager due to missing permissions:

{noformat}
ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /ConcurrentFineWebFailoverTestCase/simple: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessDeclaredMembers"")"" in code source ""(vfs:/content/ConcurrentFineWebFailoverTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ConcurrentFineWebFailoverTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.elytron-private@1.7.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.base/java.lang.Class.checkMemberAccess(Class.java:2848)
	at java.base/java.lang.Class.getDeclaredMethod(Class.java:2472)
	at org.infinispan.commons@9.4.4.Final//org.infinispan.commons.util.ReflectionUtil.findMethod(ReflectionUtil.java:102)
	at org.infinispan@9.4.4.Final//org.infinispan.factories.components.ComponentMetadataRepo.initInjectionMethods(ComponentMetadataRepo.java:219)
	at org.infinispan@9.4.4.Final//org.infinispan.factories.components.ComponentMetadataRepo.initMetadata(ComponentMetadataRepo.java:129)
	at org.infinispan@9.4.4.Final//org.infinispan.factories.components.ComponentMetadataRepo.getComponentMetadata(ComponentMetadataRepo.java:119)
	at org.infinispan@9.4.4.Final//org.infinispan.factories.impl.BasicComponentRegistryImpl.wireDependencies(BasicComponentRegistryImpl.java:189)
	at org.infinispan@9.4.4.Final//org.infinispan.factories.AbstractComponentRegistry.wireDependencies(AbstractComponentRegistry.java:102)
	at org.infinispan@9.4.4.Final//org.infinispan.commands.write.ComputeCommand.<init>(ComputeCommand.java:51)
	at org.infinispan@9.4.4.Final//org.infinispan.commands.CommandsFactoryImpl.buildComputeCommand(CommandsFactoryImpl.java:283)
	at org.infinispan@9.4.4.Final//org.infinispan.cache.impl.CacheImpl.computeInternal(CacheImpl.java:337)
	at org.infinispan@9.4.4.Final//org.infinispan.cache.impl.DecoratedCache.compute(DecoratedCache.java:710)
	at org.infinispan@9.4.4.Final//org.infinispan.cache.impl.DecoratedCache.compute(DecoratedCache.java:630)
	at org.infinispan@9.4.4.Final//org.infinispan.cache.impl.AbstractDelegatingCache.compute(AbstractDelegatingCache.java:393)
	at org.infinispan@9.4.4.Final//org.infinispan.cache.impl.EncoderCache.compute(EncoderCache.java:642)
	at org.infinispan@9.4.4.Final//org.infinispan.cache.impl.AbstractDelegatingCache.compute(AbstractDelegatingCache.java:393)
	at org.wildfly.clustering.web.infinispan@16.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributes.setAttribute(FineSessionAttributes.java:94)
	at org.wildfly.clustering.web.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.clustering.web.undertow.session.DistributableSession.setAttribute(DistributableSession.java:173)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.spec.HttpSessionImpl.setAttribute(HttpSessionImpl.java:169)
	at deployment.ConcurrentFineWebFailoverTestCase.war//org.jboss.as.test.clustering.single.web.SimpleServlet.doGet(SimpleServlet.java:73)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:686)
	at javax.servlet.api@1.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:791)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:55)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.core@2.0.15.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.core@2.0.15.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow@16.0.0.Beta1-SNAPSHOT//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$1$1.run(ServletInitialHandler.java:110)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at io.undertow.servlet@2.0.15.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:107)
	at io.undertow.core@2.0.15.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.core@2.0.15.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.base/java.lang.Thread.run(Thread.java:834)
{noformat}

Affected test cases:
* {{org.jboss.as.test.clustering.cluster.web.ConcurrentFineWebFailoverTestCase#test}}
* {{org.jboss.as.test.clustering.cluster.web.FineWebFailoverTestCase#test}}
* {{org.jboss.as.test.clustering.cluster.web.async.AsyncServletTestCase#test}}
* {{org.jboss.as.test.clustering.cluster.web.expiration.FineSessionExpirationTestCase#test}}
* {{org.jboss.as.test.clustering.cluster.web.passivation.FineSessionPassivationTestCase#test}}
",,,,,,,,,WFLY-11509,ISPN-9822,WFLY-11531,JDG-2453,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-12 12:39:00.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12057,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|z01xwg:",9223372036854775807,,0.0,,,,,"{{cd testsuite/integration/clustering/}}
{{mvn clean test -Dtest=ConcurrentFineWebFailoverTestCase -Dsecurity.manager}}
{{mvn clean test -Dtest=FineWebFailoverTestCase -Dsecurity.manager}}
{{mvn clean test -Dtest=AsyncServletTestCase -Dsecurity.manager}}
{{mvn clean test -Dtest=FineSessionExpirationTestCase -Dsecurity.manager}}
{{mvn clean test -Dtest=FineSessionPassivationTestCase -Dsecurity.manager}}
",,,,,,,okotek,,,,"12/Dec/18 12:39 PM;rhusar;Currently only affects master, caused by 4b1464020489b02bf4516f941b6c662719fe7f18.","13/Dec/18 4:27 AM;rhusar;Opened WFLY-11509 with the fix. However, this still fails due to an Infinispan issue after it has been rewritten in 9.4.x with {{BasicComponentRegistryImpl}}:

{code}
[0m[31m10:22:26,258 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /ConcurrentFineWebFailoverTestCase/simple: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessDeclaredMembers"")"" in code source ""(vfs:/content/ConcurrentFineWebFailoverTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ConcurrentFineWebFailoverTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.Class.checkMemberAccess(Class.java:2348)
	at java.lang.Class.getDeclaredMethod(Class.java:2127)
	at org.infinispan.commons.util.ReflectionUtil.findMethod(ReflectionUtil.java:102)
	at org.infinispan.factories.components.ComponentMetadataRepo.initInjectionMethods(ComponentMetadataRepo.java:219)
	at org.infinispan.factories.components.ComponentMetadataRepo.initMetadata(ComponentMetadataRepo.java:129)
	at org.infinispan.factories.components.ComponentMetadataRepo.getComponentMetadata(ComponentMetadataRepo.java:119)
	at org.infinispan.factories.impl.BasicComponentRegistryImpl.wireDependencies(BasicComponentRegistryImpl.java:189)
	at org.infinispan.factories.AbstractComponentRegistry.wireDependencies(AbstractComponentRegistry.java:102)
{code}","13/Dec/18 4:31 AM;rhusar;Opened upstream Infinispan issue ISPN-9822.","13/Dec/18 5:06 AM;rhusar;Will need Infinispan 9.4.5.Final upgrade, opened WFLY-11511.","13/Dec/18 9:31 AM;rhusar;Converting issue to 'Task' since the actual bugs are filed now.","03/Jan/19 2:17 PM;jamezp;This doesn't seem to be fixed in 9.4.5.Final.","12/Feb/19 10:06 AM;rhusar;[~jamezp] Yeah, see https://issues.jboss.org/browse/WFLY-11511?focusedCommentId=13676659&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13676659. Resolved with 9.4.6.Final.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Dependency for log4j.log4j two times in testsuite/integration/smoke/pom.xml,WFLY-11733,12792609,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,,lafr,lafr,17/Feb/19 1:58 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 10:54 AM,16.0.0.Beta1,,,,,16.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"The dependency log4j.log4j with scope test exists two time in testsuite/integration/smoke/pom.xml. lines 65-69 and 86-90.

This leads to this waning messages when running the smoke tests:
{noformat}
WARNING Some problems were encountered while building the effective model for org.wildfly:wildfly-ts-integ-smoke:jar:16.0.0.Beta1-SNAPSHOT
WARNING 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: log4j:log4j:jar -> duplicate declaration of version (?) @ org.wildfly:wildfly-ts-integ-smoke:[unknown-version], /home/jboss/WildFly-master/wildfly/testsuite/integration/smoke/pom.xml, line 86, column 21
WARNING
WARNING It is highly recommended to fix these problems because they threaten the stability of your build.
WARNING
WARNING For this reason, future Maven versions might no longer support building such malformed projects.
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:08.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12081,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03a5g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade target XML namespace for Galleon packages from 1.0 to 2.0,WFLY-11690,12791388,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aloubyansky,aloubyansky,aloubyansky,10/Feb/19 5:26 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 10:27 PM,,,,,,16.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"This is not very critical but I'd like to upgrade WildFly Core and WildFly Galleon packages to the latest schema to make sure the upcoming releases are supported longer by future Galleon releases, in case I decide to remove the package schema 1.0 from Galleon.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:08.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12053,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z033x0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Audit and if possible eliminate overrides of SimpleResourceDefinition.registerCapabilities,WFLY-11588,12787167,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,brian.stansberry,brian.stansberry,11/Jan/19 1:16 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,18/Jan/19 5:40 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Management,,,,,,,,,,,0,,,,,"Overriding SimpleResourceDefinition.registerCapabilities is risky because if the superclass impl is not called, any caps registered in any Parameters object passed to the constructor will not be registered. Since we are tending to move using Parameters, leaving custom overrides around is a potential bug source. This is what happened with WFLY-11587.

In many cases the registerCapabilities override is just doing what using Parameters would have done, so this task is basically to upgrade this code.  If there's some specific reason why an override is still needed in some class, that's ok, but then consideration should be given to also calling the superclass impl, if it's not already being done.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02gd4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 8.0.0.Beta1,WFLY-11502,12783615,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,12/Dec/18 8:12 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Dec/18 5:10 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10997,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01xyg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused dependencies from org.jboss.ejb3,WFLY-11444,12781512,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,29/Nov/18 8:16 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 5:41 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Server,,,,,,,,,,,0,,,,,"{{org.jboss.ejb3}} module is exposing {{org.jboss.ejb3:jboss-ejb3-ext-api}} artifact which is only a bunch of interfaces that only depends on java.se.

That means all the module dependencies are unused and can be removed",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:07.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11900,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01m9k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JGroups to 4.0.18.Final,WFLY-11738,12792755,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,18/Feb/19 9:23 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Feb/19 5:31 PM,16.0.0.Beta1,,,,,16.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"No changelog on the Jira (https://issues.jboss.org/projects/JGRP/versions/12340553).

Github changelog https://github.com/belaban/JGroups/commits/JGroups-4.0.18.Final
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:07.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12088,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03azw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to deploy jts quickstart,WFLY-11618,12788277,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,21/Jan/19 6:29 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,21/Jan/19 6:32 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"Due to the line in _application-component-2/src/main/resources/META-INF/jboss-ejb3.xml_ file:

{noformat}
<iiop:ejb-name>InvoiceManagerEJBImpl</iiop:ejb-name>
{noformat}

instead of 

{noformat}
<ejb-name>InvoiceManagerEJBImpl</ejb-name>
{noformat}

*jts* quickstart fails with the following error:

{noformat}
[ERROR] Failed to execute goal org.wildfly.plugins:wildfly-maven-plugin:2.0.0.Final:deploy (default-cli) on project jts-application-component-2: Failed to execute goal deploy: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""jts-application-component-2.jar\"".PARSE"" => ""WFLYSRV0153: Failed to process phase PARSE of deployment \""jts-application-component-2.jar\""
[ERROR] Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEJB0085: Exception while parsing jboss-ejb3.xml: /content/jts-application-component-2.jar/META-INF/jboss-ejb3.xml
[ERROR] Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[31,9]
[ERROR] Message: Missing required element(s): EJB_NAME""}}}}
{noformat}

I suppose this commit (https://github.com/jbossas/eap-quickstarts/commit/1cb5b5e74c19076d2a5c6fb3fd22251ebe3dd6d1) should be cherrypicked to the current quickstarts branch.
",,,,,,,,,,,,,JBEAP-16131,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02mlk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
servlet-feature-pack-licenses.xml - remove org.glassfish:javax.json and javax.json:javax.json-api licences,WFLY-11591,12787428,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,15/Jan/19 4:02 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Jan/19 6:05 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"These dependencies are not audited in the servlet-feature-pack-licenses.xml files, instead they can be found in core-feature-pack-licenses.xml which is generated by wildfly-core. That means we can remove them from servlet-feature-pack-licenses.xml.

This issue will facilitate the creation of product branches from the community ones.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:07.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12001,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02hy8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Elytron does not do RunAs identity remote propagation,WFLY-11094,12772096,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,tmiyar,tmiyar,01/Oct/18 1:20 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Jan/19 7:52 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Security,,,,,,,,,,,0,downstream_dependency,,,,"Elytron does not do RunAs identity remote propagation
-> EJB with @RunAs(""ejbuser"") -> remote EJB , where Elytron security forwarding is configured, @RunAs is not working. And caused authentication error when trying to call the 2nd server when @RunAs is added.",,,,,,,,,,,,,JBEAP-15026,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-18 07:38:15.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11704,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z0057c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"16/Nov/18 11:19 AM;tmiyar;RunAsPrincipal annotation is needed for this feature to work see the EJB3 reference guide:

As mentioned in the [EJB3 Reference Guide|https://docs.jboss.org/author/display/WFLY/EJB+3+Reference+Guide]:

""Whenever a run-as role is specified for a given method invocation the default anonymous principal is used as the caller principal. This principal can be overridden by specifying a run-as principal.""

","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JBoss Negotiation to 3.0.5.Final,WFLY-11431,12781346,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,28/Nov/18 8:36 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 5:32 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Security,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-8398,WFLY-11385,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:06.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11894,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01lbk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Galleon and WFGP 3.0.1.Final,WFLY-11732,12792597,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aloubyansky,aloubyansky,aloubyansky,16/Feb/19 9:31 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 10:56 AM,,,,,,16.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,Upgrade to the latest final Galleon and WFGP releases.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:06.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12080,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03a2s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 8.0.0.Beta2,WFLY-11577,12786744,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,09/Jan/19 8:09 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,09/Jan/19 3:01 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:06.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02du8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RunAsWithElytronEJBContextPropagationTestCase fails with node0 set,WFLY-11634,12788757,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,okotek,okotek,23/Jan/19 5:14 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Feb/19 10:27 PM,16.0.0.Beta1,,,,,16.0.0.Beta1,16.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"The {{RunAsWithElytronEJBContextPropagationTestCase}} fails with {{node0}} set:

{noformat}
ERROR [org.jboss.as.ejb3.invocation] (default task-1) WFLYEJB0034: EJB Invocation failed on component IntermediateCallerInRole for method public abstract java.lang.Boolean org.jboss.as.test.integration.ejb.security.runas.propagation.IntermediateCallerInRoleRemote.isServerCallerInRole(java.lang.String): javax.ejb.NoSuchEJBException: EJBCLIENT000079: Unable to discover destination for request for EJB StatelessEJBLocator for ""/ejb-security-context-propagation/ServerCallerInRole"", view is interface org.jboss.as.test.integration.ejb.security.runas.propagation.CallerInRole, affinity is None
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:592)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleInvocationResult(RemotingEJBClientInterceptor.java:56)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleInvocationResult(TransactionPostDiscoveryInterceptor.java:133)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleInvocationResult(DiscoveryEJBClientInterceptor.java:115)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.client.NamingEJBClientInterceptor.handleInvocationResult(NamingEJBClientInterceptor.java:79)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:172)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:594)
	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:528)
	at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:938)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:177)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:112)
	at com.sun.proxy.$Proxy79.isCallerInRole(Unknown Source)
	at org.jboss.as.test.integration.ejb.security.runas.propagation.IntermediateCallerInRole.isServerCallerInRole(IntermediateCallerInRole.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)
	at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:237)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:362)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:144)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.IdentityOutflowInterceptor.processInvocation(IdentityOutflowInterceptor.java:73)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.ejb3.security.RoleAddingInterceptor.processInvocation(RoleAddingInterceptor.java:53)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.ejb3.security.RunAsPrincipalInterceptor.processInvocation(RunAsPrincipalInterceptor.java:84)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.SecurityDomainInterceptor.processInvocation(SecurityDomainInterceptor.java:44)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:406)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeWithIdentity(AssociationImpl.java:565)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeMethod(AssociationImpl.java:546)
	at org.jboss.as.ejb3.remote.AssociationImpl.lambda$receiveInvocationRequest$0(AssociationImpl.java:197)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.net.ConnectException: Connection refused
		at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
		at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
		at org.xnio.nio.WorkerThread$ConnectHandle.handleReady(WorkerThread.java:327)
		at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)
		at ...asynchronous invocation...(Unknown Source)
		at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:571)
		at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:537)
		at org.jboss.remoting3.ConnectionInfo$None.getConnection(ConnectionInfo.java:82)
		at org.jboss.remoting3.ConnectionInfo.getConnection(ConnectionInfo.java:55)
		at org.jboss.remoting3.EndpointImpl.doGetConnection(EndpointImpl.java:488)
		at org.jboss.remoting3.EndpointImpl.getConnectedIdentity(EndpointImpl.java:434)
		at org.jboss.remoting3.UncloseableEndpoint.getConnectedIdentity(UncloseableEndpoint.java:52)
		at org.jboss.ejb.protocol.remote.RemotingEJBDiscoveryProvider.getConnectedIdentityUsingClusterEffective(RemotingEJBDiscoveryProvider.java:311)
		at org.jboss.ejb.protocol.remote.RemotingEJBDiscoveryProvider$DiscoveryAttempt.lambda$connectAndDiscover$0(RemotingEJBDiscoveryProvider.java:384)
		at java.security.AccessController.doPrivileged(Native Method)
		at org.jboss.ejb.protocol.remote.RemotingEJBDiscoveryProvider$DiscoveryAttempt.connectAndDiscover(RemotingEJBDiscoveryProvider.java:384)
		at org.jboss.ejb.protocol.remote.RemotingEJBDiscoveryProvider.discover(RemotingEJBDiscoveryProvider.java:209)
		at org.jboss.ejb.protocol.remote.RemoteEJBDiscoveryConfigurator.lambda$configure$0(RemoteEJBDiscoveryConfigurator.java:42)
		at org.wildfly.discovery.impl.AggregateDiscoveryProvider.discover(AggregateDiscoveryProvider.java:58)
		at org.wildfly.discovery.Discovery.discover(Discovery.java:100)
		at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.discover(DiscoveryEJBClientInterceptor.java:242)
		at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.doAnyDiscovery(DiscoveryEJBClientInterceptor.java:371)
		at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.executeDiscovery(DiscoveryEJBClientInterceptor.java:305)
		at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleInvocation(DiscoveryEJBClientInterceptor.java:98)
		at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:491)
		at org.jboss.ejb.client.NamingEJBClientInterceptor.handleInvocation(NamingEJBClientInterceptor.java:64)
		at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:491)
		at org.jboss.ejb.client.TransactionInterceptor.handleInvocation(TransactionInterceptor.java:165)
		at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:491)
		at org.wildfly.common.context.Contextual.runExConsumer(Contextual.java:203)
		at org.jboss.ejb.client.EJBClientInvocationContext.sendRequestInitial(EJBClientInvocationContext.java:327)
		at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:173)
		... 83 more
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11094,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:06.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12040,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02oz4:",9223372036854775807,,0.0,,,,,"{{cd testsuite/integration/basic}}
{{mvn clean test -Dtest=RunAsWithElytronEJBContextPropagationTestCase -Dnode0=10.11.12.13}}",,,,,,,okotek,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
org.jboss.as.test.integration.messaging.jms.context.notClosingInjectedContext.NotClosingInjectedContextTestCase,WFLY-11561,12786135,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,04/Jan/19 11:46 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Jan/19 1:04 PM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,Test is failing with a security manager.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:05.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02aa8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Correct the compensations framework dependency to be for the XTS subsystem,WFLY-11421,12781048,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,ochaloup,ochaloup,27/Nov/18 2:24 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 5:49 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Transactions,XTS,,,,,,,,,,0,,,,,"Compensation framework was designed to enrich the XTS (http://narayana.io//docs/project/index.html#d0e14177) with annotations. That provides easier way to work with the XTS transactions. As the compensations were added as direct dependency to transactions subsystem it makes a discrepancy in its use. For full usage of the compensations the transactions would need to link the whole XTS which is opposed to the fact the XTS is separate subsystem the user should consider to use independently to JTA/JTS transactions.

The goal here is move the compensations - initialization of the functionality - to XTS rather than leaving it wrongly placed at the transactions subsystem.",,,,,,,,,,,,,,,,,,,,,,,,JBTM-1107,WFLY-7304,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11885,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01jo0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tests in org.jboss.as.test.clustering.cluster fails with security manager,WFLY-11349,12779360,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,mchoma,mchoma,14/Nov/18 8:37 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 4:53 AM,14.0.0.Final,15.0.0.Final,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,Test Suite,,,,,,,,,,0,security-manager,,,,"{noformat}
org.jboss.as.test.clustering.cluster.cdi (1)
    CdiFailoverTestCase.test  	
org.jboss.as.test.clustering.cluster.jsf (2)
    JSFFailoverTestCase.testGracefulSimpleFailover  	
    JSFFailoverTestCase.testGracefulUndeployFailover  	
org.jboss.as.test.clustering.cluster.provider (1)
    ServiceProviderRegistrationTestCase.test  	
org.jboss.as.test.clustering.cluster.singleton (4)
    SingletonBackupServiceTestCase.testSingletonService  	
    SingletonDeploymentDescriptorTestCase.test  	
    SingletonDeploymentJBossAllTestCase.test  	
    SingletonPartitionTestCase.testSingletonService  	
org.jboss.as.test.clustering.cluster.xsite (1)
    XSiteSimpleTestCase.test  
{noformat}

Seems to me doPrivileged block is missing in server code somewhere. There are errors like
{noformat}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.sun.reflect"")"" in code source ""(vfs:/content/CdiFailoverTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.CdiFailoverTestCase.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPackageAccess(WildFlySecurityManager.java:490)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:318)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at org.jboss.modules.JDKSpecific.getSystemClass(JDKSpecific.java:180)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:395)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at org.jboss.marshalling.river.Protocol.<clinit>(Protocol.java:310)

Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission \""(\""java.lang.RuntimePermission\"" \""accessDeclaredMembers\"")\"" in code source \""(vfs:/content/XSiteSimpleTestCase.war/WEB-INF/classes <no signer certificates>)\"" of \""ModuleClassLoader for Module \""deployment.XSiteSimpleTestCase.war\"" from Service Module Loader\"")""}}}}


Caused by: java.lang.ExceptionInInitializerError
	at org.jboss.marshalling.river.RiverMarshaller.<clinit>(RiverMarshaller.java:1274)
{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager
",,,,,,,,,WFLY-11531,,,,,,WFLY-11539,,,,,,,,,WFLY-11500,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-13 12:11:01.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z019vc:",9223372036854775807,,0.0,,,,,"{noformat}
cd wildfly/testsuite/integration/clustering
mvn clean test -Dtest=CdiFailoverTestCase -Dsecurity.manager -DtestLogToFile=false
{noformat}
",,,,,,,,,,,"13/Dec/18 12:11 PM;rhusar;An Infinispan upgrade will be needed to address some of these, see WFLY-11511.","18/Dec/18 2:31 PM;rhusar;This is caused by WFLY-11531 – opened PR. Converting to task.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate Validator to 6.0.15.Final,WFLY-11736,12792670,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,guillaume.smet,guillaume.smet,guillaume.smet,18/Feb/19 6:19 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 10:52 AM,,,,,,16.0.0.Final,,,Bean Validation,,,,,,,,,,,0,,,,,"We just fixed an issue that could be annoying when migrating applications from HV 5.x to 6.x: https://hibernate.atlassian.net/browse/HV-1692 .

It's fixed in the just released 6.0.15.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12084,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03ahg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide ability to list modules which are on deployment's classpath,WFLY-11676,12790807,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,06/Feb/19 6:08 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 5:48 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Documentation,,,,,,,,,,,0,,,,,"Provide ability to list modules which are on deployment's classpath.
Expose that via mgmt run-time model, so it gets available in CLI.

Current possibilities:
Currently only debugging of application server can reveal this information and user must have good knowledge about management internals.

Use cases:
When optimizing footprint of an application user can use this list to identify unneeded implicit dependencies and exclude them.

This feature can be used to identify duplicated dependencies delivered via deployed application.",,,,,,,,,,,,,WFCORE-4251,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12041,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z030lw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wildfly HTTP Client 1.0.13.Final,WFLY-11528,12785080,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,swd847,swd847,swd847,18/Dec/18 4:12 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Dec/18 5:06 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11363,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:05.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z024eg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Race condition in InfinispanRouteLocator logic can cause missing route,WFLY-11521,12784800,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,14/Dec/18 10:00 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Dec/18 6:21 AM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"If the determination of the primary owner of a given session immediately precedes a topology change, the returned address might no longer exist in the registry and thus the call to locate(...) can return null.
This causes the route to be omitted from the response.

In this situation, we should return the registry entry of the local node.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:04.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z022qw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ServiceRef*TestCases fail with security manager,WFLY-11339,12779167,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rsearls,mchoma,mchoma,13/Nov/18 10:32 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Jan/19 1:07 PM,14.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Test Suite,Web Services,,,,,,,,,,0,security-manager,,,,"Summary: ServiceRef*TestCases fail with security manager

* ServiceRefEarTestCase
* ServiceRefSevletTestCase
* ServiceRefTestCase

Having in common root exception like this
{noformat}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/store/repository/org/jboss/ws/cxf/jbossws-cxf-factories/5.2.4.Final/jbossws-cxf-factories-5.2.4.Final.jar"" ""read"")"" in code source ""(vfs:/content/ws-serviceref-example.ear/ws-serviceref-example-servlet-client.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.ws-serviceref-example.ear.ws-serviceref-example-servlet-client.war"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkRead(SecurityManager.java:888)
	at org.wildfly.security.manager.WildFlySecurityManager.checkRead(WildFlySecurityManager.java:359)
	at java.util.zip.ZipFile.<init>(ZipFile.java:216)
	at java.util.zip.ZipFile.<init>(ZipFile.java:155)
	at java.util.jar.JarFile.<init>(JarFile.java:166)
	at java.util.jar.JarFile.<init>(JarFile.java:103)
	at sun.net.www.protocol.jar.URLJarFile.<init>(URLJarFile.java:93)
	at sun.net.www.protocol.jar.URLJarFile.getJarFile(URLJarFile.java:69)
	at sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:99)
	at sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:122)
	at sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:152)
	at java.net.URL.openStream(URL.java:1045)
	at java.util.ServiceLoader.parse(ServiceLoader.java:304)
	at java.util.ServiceLoader.access$200(ServiceLoader.java:185)
	at java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:357)
	at java.util.ServiceLoader$LazyIterator.access$600(ServiceLoader.java:323)
	at java.util.ServiceLoader$LazyIterator$1.run(ServiceLoader.java:396)
	at java.util.ServiceLoader$LazyIterator$1.run(ServiceLoader.java:395)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:398)
	at java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)
	at javax.xml.ws.spi.ServiceLoaderUtil.firstByServiceLoader(ServiceLoaderUtil.java:67)
	... 78 more{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-16 06:22:56.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z018rk:",9223372036854775807,,0.0,,,,,"cd wildfly/testsuite/integration/ws
mvn clean test -Dtest=ServiceRefEarTestCase -Dsecurity.manager -DtestLogToFile=false",,,,,,,,,,,"15/Nov/18 7:01 AM;mchoma;Seems to me similar to JBEAP-15368","16/Nov/18 7:58 AM;asoldano;[~mchoma], [~jbliznak] is this a regression? or it's the first time we have these tests run with security manager on?","16/Nov/18 8:57 AM;mchoma;Actually, it seems it is regression. 

Same issue was resolved in past by [3].
It start to show up again since build from 23th of July [1] after changes [2]. In previous build from 16th of July it is ok [4]. 

[1] https://ci.wildfly.org/viewLog.html?buildId=113239&buildTypeId=WF_MasterSecurityManager
[2] https://ci.wildfly.org/viewLog.html?buildId=113239&buildTypeId=WF_MasterSecurityManager&tab=buildChangesDiv
[3] https://issues.jboss.org/browse/WFLY-5877
[4] https://ci.wildfly.org/viewLog.html?buildId=112569&buildTypeId=WF_MasterSecurityManager&tab=testsInfo","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Redo how we test mod_cluster transformers to improve test coverage,WFLY-11719,12792311,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,14/Feb/19 9:45 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 1:47 PM,16.0.0.Beta1,,,,,16.0.0.Final,,,mod_cluster,,,,,,,,,,,0,,,,,"The typical way subsystems test transformers is with a single transform xml file which contains all *transformable* attributes and resources to the oldest version (EAP 6.4 at the moment). However, as subsystems evolve certain attributes are not transformable *but* are missing from subsequent test coverage. For instance, attribute not present in EAP 6.4, but available since 7.0: the tests for EAP 7.1 could still test the transformation to EAP 7.0 but this is typically missed in the subsystems test coverage.

The solution is to use a specific file for *each* EAP controller version we are transforming to.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:04.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12083,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z038hw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent failures in EJBClientXidTransactionTestCase.testServerSuspension,WFLY-11670,12790562,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,brian.stansberry,brian.stansberry,04/Feb/19 4:55 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 9:40 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"Test started failing fairly frequently on Jan 11:

https://ci.wildfly.org/project.html?projectId=WildFlyCore_PullRequest&buildTypeId=&tab=testDetails&testNameId=671487653311897791&order=TEST_STATUS_DESC&branch_WildFlyCore_PullRequest=__all_branches__&itemsCount=50

https://ci.wildfly.org/project.html?projectId=WF&buildTypeId=&tab=testDetails&testNameId=671487653311897791&order=TEST_STATUS_DESC&branch_WF=__all_branches__&itemsCount=50

Perhaps that was related to https://github.com/wildfly/wildfly/pull/11913 which at a glance was the PR being tested in the first failure and may have been merged that day. So, [~yersan] I'm assigning to you to have a quick look.

I'll @Ignore the test.

For the record, this is the relevant error trace logged by the failed tests:

{noformat}
multinode.transaction.ClientEjb.testSameTransactionEachCall() throws java.rmi.RemoteException,javax.transaction.SystemException,javax.transaction.NotSupportedException,javax.naming.NamingException: javax.ejb.EJBException: EJBCLIENT000082: Cannot outflow the remote transaction ""Local transaction (delegate=TransactionImple < ac, BasicAction: 0:ffff7f000101:-39b44114:5c59a6ad:10 status: ActionStatus.RUNNING >, owner=Local transaction context for provider JBoss JTA transaction provider)"" as its timeout elapsed
	at org.jboss.ejb.protocol.remote.EJBClientChannel.processInvocation(EJBClientChannel.java:471)
	at org.jboss.ejb.protocol.remote.RemoteEJBReceiver$1.lambda$handleDone$0(RemoteEJBReceiver.java:91)
	at org.xnio.FinishedIoFuture.addNotifier(FinishedIoFuture.java:79)
	at org.jboss.ejb.protocol.remote.RemoteEJBReceiver$1.handleDone(RemoteEJBReceiver.java:76)
	at org.jboss.ejb.protocol.remote.RemoteEJBReceiver$1.handleDone(RemoteEJBReceiver.java:74)
	at org.xnio.IoFuture$HandlingNotifier.notify(IoFuture.java:208)
	at org.xnio.AbstractIoFuture$NotifierRunnable.run(AbstractIoFuture.java:720)
	at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:949)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.transaction.SystemException: EJBCLIENT000082: Cannot outflow the remote transaction ""Local transaction (delegate=TransactionImple < ac, BasicAction: 0:ffff7f000101:-39b44114:5c59a6ad:10 status: ActionStatus.RUNNING >, owner=Local transaction context for provider JBoss JTA transaction provider)"" as its timeout elapsed
	at org.jboss.ejb.protocol.remote.EJBClientChannel.writeTransaction(EJBClientChannel.java:581)
	at org.jboss.ejb.protocol.remote.EJBClientChannel.processInvocation(EJBClientChannel.java:367)
	... 12 more
{noformat}
",,,,,,,,,WFTC-60,,,,,,WFLY-11570,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-05 11:55:53.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12039,https://github.com/wildfly/wildfly/pull/12058,,,,,,,,,,,,,,,0.0,7.0,,,,,,,,,,"1|z02z7g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Feb/19 4:59 PM;brian.stansberry;I've moved this to Critical in case there's a regression here, but if analysis shows it's just an unstable test it should be reset to Major.","05/Feb/19 11:55 AM;yersan;It seems the error is produced by WFTC-60, and show up in the wildfly test suite due to WFTC-54.

So, looks like it is not a regression, so, I downgrade the level to major","05/Feb/19 12:40 PM;brian.stansberry;To get this issue back in the correct state, I'm ""rejecting"" the PR the github integration associated with it as all it was doing was @Ignoring the test, not fixing the problem.","05/Feb/19 12:43 PM;brian.stansberry;Thanks [~yersan]. Sounds like we need to be sure to get transaction-client released and upgrade before the final release.","05/Feb/19 10:22 PM;brian.stansberry;Perhaps this has the same cause:

https://ci.wildfly.org/project.html?projectId=WF_PullRequest&buildTypeId=&tab=testDetails&testNameId=-8944543740582380537&order=TEST_STATUS_DESC&branch_WF_PullRequest=__all_branches__&itemsCount=50

I only say that because the test is about transactions and started failing intermittently at about the same time.","06/Feb/19 4:14 AM;yersan;[~brian.stansberry] Yes, your suspicions are correct. Error trace is the same. Checking that one I realized today that [~flavia.rainone] had already created a fix for this sort of errors. I forgot to review the PR queue on qildfly-transaction-client before creating mine. I fixed as I could the jira issues and PRs since they were duplicated.

What we need now to get it fixed in wildfly is a merging of WTC-60 in 1.1 branch and a component upgrade of wildly-transaction-client to 1.1.3.Final","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose WildFly metrics in /metrics endpoints,WFLY-11529,12785113,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,18/Dec/18 8:50 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,25/Jan/19 6:37 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,"MicroProfile Metrics mandates that metrics names are unique and does not able to have multiple suppliers for the same metric with different labels.
Due to this restriction, the names of WildFly metrics are long and convoluted; e.g. `deployment/example.war/subsystem/undertow/servlet/org.example.MyServlet/request-count`

This type of names prevents any aggregation in Prometheus and is very different from the names configured in the imx-exporter for older WildFly versions (https://github.com/jboss-openshift/cct_module/pull/314)
Instead, the name of the metric should be ""simple"" (e.g. wildfly_undertow_request_count) and the different supplies should provide labels:

{code}
wildfly_undertow_request_count_total{deployment=""foo.war"", servlet=""MyServletA""} 5.0
wildfly_undertow_request_count_total{deployment=""foo.war"", servlet=""MyServletB""} 10.0
{code}

The goal of this issue is to provide metrics for WildFly subsystem and deployments that follows the Prometheus convention.
As these conventions is not compatible with MicroProfile Metrics 1.x, these metrics will only be exposed by the HTTP endpoint on /metrics in the Prometheus format (in addition to the base and vendor metrics provided through the microprofile-metrics API).
",,,,,,,,,,,,,WFLY-11399,,,,,,,,,,,EAP7-1169,CLOUD-3074,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:04.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z024kg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Jan/19 8:14 AM;jmesnil;This issue reenabled the metrics from WildFly deployment and subsystem that were disabled in WFLY-11399.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PassivationStoreWriteHandler should require reload if CacheFactoryBuilder service is not started,WFLY-11545,12785586,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,21/Dec/18 10:04 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Jan/19 7:53 PM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Clustering,EJB,,,,,,,,,,0,,,,,"Additionally, when service is started, the max-size cannot be dynamically applied, as this is part of the infinispan cache configuration.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:03.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0271c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add test to cover a messaging subsystem without any internal broker,WFLY-11478,12782562,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,05/Dec/18 9:53 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,07/Dec/18 4:58 PM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,JMS,Test Suite,,,,,,,,,,0,,,,,Currently we don't test the configuration of a simple messaging subsystem without any broker nor connection factory.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11922,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01s68:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate requirement for modules previously exported by javax.ejb.api on org.jboss.as.webservices,WFLY-11460,12781916,12598770,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,03/Dec/18 5:47 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,07/Dec/18 5:53 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Server,,,,,,,,,,,0,,,,,"Validate the need of these module dependencies in org.jboss.as.webservices

{code:xml}
 <module name=""javax.transaction.api""/>
 <module name=""javax.xml.rpc.api""/>
 <module name=""javax.rmi.api""/>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11910,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01ok8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use maven project.groupId for galleon pack dependencies in the Galleon layers Wildfly test suite,WFLY-11709,12792060,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,13/Feb/19 8:14 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:08 PM,16.0.0.Beta1,,,,,16.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,The use of maven property ${project.groupid} instead of the hardcoded org.wildfly group id facilitates the transition to the product branches.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12065,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0377o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update ParseAndMarshalModelsTestCase for EAP 7.2.0 configs,WFLY-11699,12791710,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,kabirkhan,kabirkhan,kabirkhan,12/Feb/19 6:21 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 10:15 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12049,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z035r0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Layers for servlet and full galleon feature-packs,WFLY-11641,12788915,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,24/Jan/19 4:16 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,12/Feb/19 9:39 PM,,,,,,16.0.0.Beta1,16.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"In order to take benefit from galleon layers feature, the servlet and full galleon feature-packs should define layers that could then be used to build custom installation. The layers are not intended to be exposed as a public contract, they are an implementation detail allowing for internal custom provisioning.

Only standalone configurations are impacted by layers.

We are proposing:

1) Define a set of servlet layers:
ee
legacy-security
naming
undertow
undertow-load-balancer
vault
web-server (complete servlet container)

2) Express the servlet default standalone configurations by a set of layers. The default configuration based on layers would be identical to the current one (based on feature-groups). feature-groups are the place where feature configuration occurs, layers are referencing feature-groups. The default configuration extends layers with legacy security aspects and undertow welcome content.

3) Define a first set of full layers that target standalone kind of configurations.
List of layers, layers defined in this feature-pack depend at least on web-server servlet layer.
cdi
h2-database
jaxrs
jms-activemq
jpa
microprofile
resource-adapters

4) Some servlet layers are extended to include packages present in full feature-pack:
ee
undertow
vault

5) Cloud profile layer
cloud-profile (aggregation layer of cdi, jaxrs, jms-activemq,jpa,microprofile,resource-adapters)

6) Resource management API is used to advertise modules injected in deployment units. Impacted subsystems: ee, security, connector, microprofile, jpa, jaxrs, weld, bean-validation.",,,,,,,,,,,,,,,,,,,,,,,,WFLY-11642,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12014,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02pwg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate unused ServiceInjectionSource and ManagementEjbComponent classes,WFLY-11740,12792820,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,18/Feb/19 11:28 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,19/Feb/19 10:57 AM,,,,,,16.0.0.Final,,,EE,EJB,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:02.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12052,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03bcs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add missing Infinispan subsystem transformer tests for EAP 7.2,WFLY-11693,12791562,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,11/Feb/19 11:16 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:09 PM,15.0.1.Final,,,,,16.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:02.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12055,https://github.com/wildfly/wildfly/pull/12070,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z034z8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Weld subsystem should declare a capability,WFLY-11186,12774574,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,brian.stansberry,brian.stansberry,15/Oct/18 10:29 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,26/Apr/19 9:12 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,CDI / Weld,,,,,,,,,,,0,,,,,"Allow other capabilities that require weld to declare that, and thus help Galleon to ensure it's in the config.

Also lets other capabilities that have optional functionality to check whether the weld capability is present and thus not enable that functionality if it's not. That allows classloading dependencies to be optional.",,,,,,,,,,,,,,,,,,,,,,,,WFCORE-4228,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11802,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00j1s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CoarseDatabasePersistenceWebFailoverTestCase fails intermittently,WFLY-11948,12801064,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,04/Apr/19 5:52 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,08/Jun/19 9:21 AM,No Release,,,,,17.0.0.Final,,,Clustering,Test Suite,,,,,,,,,,0,,,,,,,,,,,,,,ISPN-10029,,,,WFLY-11939,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12326,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04km4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error in JBoss Management Console when clicking on the deployed subsystem jaxrs/rest-resource,WFLY-11751,12793290,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gaol,pbarate,pbarate,20/Feb/19 4:36 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,30/Apr/19 9:17 PM,16.0.0.Beta1,,,,,17.0.0.Final,,,EJB,REST,,,,,,,,,,0,downstream_dependency,,,,"Error in JBoss Management Console when clicking on the deployed subsystem jaxrs/rest-resource.

Getting below error
{noformat}
15:02:52,134 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 8) WFLYCTL0013: Operation (""read-resource"") failed - address: ([
    (""deployment"" => ""laborEAR.ear""),
    (""subdeployment"" => ""labor3.jar""),
    (""subsystem"" => ""jaxrs""),
    (""rest-resource"" => ""com.epicdata.lmac.transactions.labor.common.ejbs.BadgeActivation"")
]) - failure description: ""WFLYCTL0216: Management resource '[
    (\""deployment\"" => \""laborEAR.ear\""),
    (\""subdeployment\"" => \""labor3.jar\""),
    (\""subsystem\"" => \""jaxrs\""),
    (\""rest-resource\"" => \""com.epicdata.lmac.transactions.labor.common.ejbs.BadgeActivation\"")
]' not found""
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Feb/19 4:35 AM;pbarate;Screenshot from 2019-02-20 15-03-27.png;https://issues.redhat.com/secure/attachment/12447312/Screenshot+from+2019-02-20+15-03-27.png","20/Feb/19 4:35 AM;pbarate;laborEAR.ear;https://issues.redhat.com/secure/attachment/12447313/laborEAR.ear",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-20 08:00:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12138,,,,,,,,,,,,,,,,2.0,3.0,,,,,,,,,,"1|z03dgk:",9223372036854775807,,0.0,,,,,"1. Deploy laborEAR.ear(attached to the bug) file to the EAP 7.1.5.
2. Login to the management console.
3. Click on  Deployments -> laborEAR.ear -> View -> subdeployment -> laborservlet.war -> subsystem -> jaxrs -> rest-resources -> click on any resource.",,,,,,,,,,,"20/Feb/19 8:00 AM;claudio4j;I could reproduce the problem with kitchensink-ear from EAP 7.1.5 quickstarts. I copied {{JaxRsActivator.java}} and {{MemberResourceRESTService.java}} classes from
{{web/src/main/java/org/jboss/as/quickstarts/kitchensink_ear/rest/}} to {{ejb/src/main/java/org/jboss/as/quickstarts/kitchensink_ear/service/}} and added the number 2 to make a difference and added the suffix  to the {{@Path(""/members2"")}} of {{MemberResourceRESTService}}.

I could access the http endpoint deployed from a ejb submodule:
{{http://localhost:8080/kitchensink-ear-web/rest2/members2}}

However to read the resource from CLI fails.
{code}
/deployment=kitchensink-ear.ear/subdeployment=kitchensink-ear-ejb.jar/subsystem=jaxrs/rest-resource=org.jboss.as.quickstarts.kitchensink_ear.service.MemberResourceRESTService:read-resource(include-runtime)
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0216: Management resource '[
    (\""deployment\"" => \""kitchensink-ear.ear\""),
    (\""subdeployment\"" => \""kitchensink-ear-ejb.jar\""),
    (\""subsystem\"" => \""jaxrs\""),
    (\""rest-resource\"" =>
\""org.jboss.as.quickstarts.kitchensink_ear.service.MemberResourceRESTService\"")
]' not found"",
    ""rolled-back"" => true
}
{code}

If you drop the {{include-runtime}} from the parameters, it doesn't fail but doesn't return the rest resource, that is a fail too.

Looks like if the rest resource is in an EJB module instead of a WAR module, the read-resource(include-runtime) fails.

HAL, read the resource with include-runtime parameter as show above. That said, this leads me to think this is a bug in jaxrs subsysem.
","20/Feb/19 5:58 PM;cfang;[~asoldano] Per Claudio's analysis above, can you evaluate it from REST side, and if you think it's ejb bug, feel free to reassign it back. ","02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Distributable session manager cannot detect immutable external classes,WFLY-11854,12797670,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,15/Mar/19 11:42 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,28/Apr/19 11:33 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Currently, WildFly's distributed web session manager detects classes annotated with @Immutable placed into the web session, optimizes calls so HttpSession.getAttribute(...) are not treated as cache writes.

However, users don't always have access to the classes to be able to annotate them, e.g. they come from a shared library, web framework, etc.

Now that we have a distributed session management deployment descriptor, we have a convenient location to define external session attribute classes that should be treated as immutable.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12241,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0411g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The org.jdom module should be removed,WFLY-11326,12778824,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,11/Nov/18 9:22 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,19/Mar/19 5:43 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,,,,,,,,,,,,0,,,,,"Follow up on WFLY-11325 by removing the module.

I've assigned this to myself instead of just Unassigned to help increase the chances I remember to do it, but once WF 16 starts, if WFLY-11325 was resolved in 15, anyone should feel free to take this and do it.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-20 04:36:54.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12142,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z016uw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Galleon universe and producers to 1.0.2.Final,WFLY-12145,12810180,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,30/May/19 12:39 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,31/May/19 7:37 PM,,,,,,17.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"https://github.com/jboss/galleon-community-universe/compare/1.0.0.Final...1.0.2.Final
https://github.com/wildfly/wildfly-producers/compare/1.0.0.Final...1.0.2.Final

Using 1.0.2 instead of 1.0.1 was a minor screwup on my part. The pom didn't say 1.0.1.Final-SNAPSHOT so I thought 1.0.1 had been released and moved to 1.0.2. No harm.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05zp0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-common to 1.5.1.Final,WFLY-12059,12806244,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,09/May/19 9:38 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,16/May/19 5:51 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFCORE-4426,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:04.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05dl8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 9.0.0.Beta3,WFLY-12004,12803243,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,17/Apr/19 11:19 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,17/Apr/19 6:10 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:04.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04wlo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Managed Executor Task Fails with CDI if created from Batchlet,WFLY-11906,12799055,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,clerum,clerum,25/Mar/19 1:14 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,24/Apr/19 6:48 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Batch,CDI / Weld,Concurrency Utilities,,,,,,,,,0,,,,,"This previously was working (verified in reproducer) on Wildfly 14.0.1

Inside of a batchlet if a Managed Executor Task is executed and that Task uses CDI.current() an exception is thrown


{code:java}
11:00:02,343 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) java.lang.IllegalStateException: WFLYWELD0039: Singleton not set for ModuleClassLoader for Module ""org.jboss.as.ee"" version 16.0.0.Final from local module loader @78e94dcf (finder: local module finder @233fe9b6 (roots: V:\opt\wildfly-16.0.0.Final\modules,V:\opt\wildfly-16.0.0.Final\modules\system\layers\base)). This means that you are trying to access a weld deployment with a Thread Context ClassLoader that is not associated with the deployment.
11:00:02,344 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at org.jboss.as.weld.services.ModuleGroupSingletonProvider$TCCLSingleton.get(ModuleGroupSingletonProvider.java:77)
11:00:02,344 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at org.jboss.as.weld.services.ModuleGroupSingletonProvider$TCCLSingleton.get(ModuleGroupSingletonProvider.java:134)
11:00:02,344 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at org.jboss.weld.Container.instance(Container.java:57)
11:00:02,344 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at org.jboss.as.weld.WeldProvider.getCDI(WeldProvider.java:69)
11:00:02,344 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at javax.enterprise.inject.spi.CDI.lambda$getCDIProvider$0(CDI.java:87)
11:00:02,345 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174)
11:00:02,345 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.TreeMap$KeySpliterator.tryAdvance(TreeMap.java:2770)
11:00:02,345 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)
11:00:02,345 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498)
11:00:02,345 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)
11:00:02,345 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
11:00:02,346 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)
11:00:02,346 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
11:00:02,346 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464)
11:00:02,346 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at javax.enterprise.inject.spi.CDI.getCDIProvider(CDI.java:88)
11:00:02,346 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at javax.enterprise.inject.spi.CDI.current(CDI.java:64)
11:00:02,346 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at com.outjected.demo.DemoTask.run(DemoTask.java:27)
11:00:02,347 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at org.jboss.as.ee.concurrent.ControlPointUtils$ControlledRunnable.run(ControlPointUtils.java:105)
11:00:02,347 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
11:00:02,347 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)
11:00:02,347 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.concurrent.FutureTask.run(FutureTask.java)
11:00:02,348 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at org.glassfish.enterprise.concurrent.internal.ManagedFutureTask.run(ManagedFutureTask.java:141)
11:00:02,348 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
11:00:02,348 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
11:00:02,348 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at java.lang.Thread.run(Thread.java:748)
11:00:02,349 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at org.glassfish.enterprise.concurrent.ManagedThreadFactoryImpl$ManagedThread.run(ManagedThreadFactoryImpl.java:250)
11:00:02,349 ERROR [stderr] (EE-ManagedExecutorService-default-Thread-1) 	at org.jboss.as.ee.concurrent.service.ElytronManagedThreadFactory$ElytronManagedThread.run(ElytronManagedThreadFactory.java:85)
{code}
",,,,,,,,,,,,,,,,,,,,,,,,WELD-2573,WFLY-11678,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-25 22:23:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12220,,,,,,,,,,,,,,,,0.0,12.0,,,,,,,,,,"1|z04924:",9223372036854775807,,0.0,,,,,"Deploy reproducer war from https://github.com/codylerum/batch-mes-failure

Browse to http://localhost:8080/demo

Click on the two options which either fire a Managed Executor Task or a CDI Async Event

Deploy on Wildfly 14.0.1 to see it function correctly.

Deploy on Wildfly 16.0.0 to see exception.",,,,,,,,,,,"25/Mar/19 10:23 PM;cfang;I was able to reproduce the error on latest WildFly 17 snapshot build.  Clicking the first 2 links in your demo app results in the error described above.

The 3rd link works fine:
22:20:13,002 INFO  [class com.outjected.demo.ResteasyClientEventObserver] (default task-1) Received a 200 response from https://help.github.com/en

the 4th link (last one) results in  NPE:

22:20:16,088 ERROR [stderr] (Weld Thread Pool -- 3) Caused by: java.lang.NullPointerException
22:20:16,088 ERROR [stderr] (Weld Thread Pool -- 3) 	at org.jboss.resteasy.resteasy-jaxrs@3.6.3.Final//org.jboss.resteasy.plugins.providers.RegisterBuiltin.registerProviders(RegisterBuiltin.java:60)
22:20:16,092 ERROR [stderr] (Weld Thread Pool -- 3) 	at org.jboss.resteasy.resteasy-jaxrs@3.6.3.Final//org.jboss.resteasy.plugins.providers.RegisterBuiltin.regist","25/Mar/19 10:27 PM;cfang;However, running the demo app on WildFly 16.0.0.Beta1 (built around Feb 21, 2019), the first 3 links all work fine, and the 4th link had the same NPE (which is not the focus of this jira issue).  Just to narrow down the possible causes.  I don't recall any changes to jberet or batch subsystem during this time period.","25/Mar/19 10:38 PM;clerum;Cheng,

The two bottom links are for http://issues.jboss.org/browse/WFLY-11907 which may or may not be related.","26/Mar/19 11:41 AM;manovotn;The {{Start Batch with Send using Async CDI Event}} is actually coming from Arjuna since the {{CDI.current()}} is invoked there (within {{JNDIBean.create()}}.
This will be changed in https://issues.jboss.org/browse/WFLY-11858 as a part of another issue.

So both, WFLY-11906 and WFLY-11907 are actually about the ability to invoke {{CDI.current()}} from within a different thread pool. Once it's the once Weld provides with async observer notificaiton and once it's the pool linked to how batchlets are done on MES, do I get it right?","27/Mar/19 5:12 AM;manovotn;[~clerum] FYI, with the Arjuna fix from WFLY-11858, I can get {{Start Batch with Send using Async CDI Event}} working with following output:

{code}
09:29:17,738 INFO  [class com.outjected.demo.MyTestBatchlet] (Batch Thread - 8) Running inside a batchlet and will send to: test@test.local with type: ASYNC
09:29:17,739 INFO  [class com.outjected.demo.DemoAsyncEventObserver] (Weld Thread Pool -- 5) Starting DemoAsyncEventObserver with sendTo of test@test.local
09:29:17,740 INFO  [class com.outjected.demo.DemoTask] (Weld Thread Pool -- 5) Sent to test@test.local
{code}

The {{Start Batch with Send using Managed Exectuor}} is still giving the same error (WFLYWELD0039: Singleton not set...).
Since you are using {{CDI.current()}} there and that is caller sensitive, WildFly does its best to identify which archive does the call belong to based on {{ClassLoader}}. 
There is a class named [{{ModuleGroupSingletonProvider}}|https://github.com/wildfly/wildfly/blob/master/weld/subsystem/src/main/java/org/jboss/as/weld/services/ModuleGroupSingletonProvider.java] that holds known references to CLs which have some Weld container running and can, based on CL, return the container instance. With this test, there is only the following (expected) entry in the map:
{code}
ModuleClassLoader for Module ""deployment.demo.war"" from Service Module Loader
{code}

And while queried from within the Batch task, following CL is used:
{code}
ModuleClassLoader for Module ""org.jboss.as.ee"" version 16.0.0.Final from local module loader @534df152 (finder: local module finder @52e677af (roots: /home/manovotn/GitRepo/wildfly/dist/target/wildfly-16.0.0.Final/modules,/home/manovotn/GitRepo/wildfly/dist/target/wildfly-16.0.0.Final/modules/system/layers/base))
{code}

Note that the first sample with Async events only works because there is no {{CDI.current()}} used in there. Adding it will blow it all the same with the only difference being that TCCL is {{null}} as [Weld deliberately provides an executor with erased TCCL to prevent leaks|https://github.com/wildfly/wildfly/blob/master/weld/subsystem/src/main/java/org/jboss/as/weld/services/bootstrap/WeldExecutorServices.java#L73-L88].","27/Mar/19 5:49 AM;manovotn;Ccing [~mkouba] as I would be curious to hear his take on this.","28/Mar/19 4:32 AM;manovotn;[~cfang] FYI *something must have changed around thread pool that batch uses* as in WFLY 14 calling {{Thread.currentThread().getContextClassLoader()}} returns {{ModuleClassLoader for Module ""deployment.demo.war"" from Service Module Loader}} while in 16 this is different (see my comment above).
That explains why the first option(_Start Batch with Send using Managed Exectuor_) worked in 14 but doesn't in 16.

Nonetheless, this doesn't solve the trouble we have with async events and with the fact that users can even use custom executors.","28/Mar/19 6:03 AM;manovotn;After some lengthy discussion with Martin, we came up with an idea of wrapping the observer notification with TCCL setting (and unsetting).
That will preserve the TCCL hence making it possible for WFLY to detect the right Weld container for {{CDI.current()}} invocation regardless of executor used.
As a side effect, this will also fix WFLY-11907.
I have created WELD-2573 to track this for Weld.

*Note that this will NOT fix  regression with batch executor TCCL that this issue manifests*. That one should be investigated further (since I don't know who is behind Batch in WFLY, I am going to suppose [~cfang] will take this? :)).","29/Mar/19 6:40 PM;cfang;Yes, I will look into any problems in batch subsystem.","07/Apr/19 11:17 PM;cfang;This could be a side effect caused by the fix to WFLY-11678 (ManagedExecutorService persists contextClassLoader reference to cause app classloader leaks).

[~emmartins] I understand the need to not use application component class loader when creating the execution thread but how does MES attach the desired application component class loader to the thread when assigning it run the submitted task?  The sample app in this issue previously worked probably because the thread already has the application component class loader attached upon creation.  Now this part is gone as part of the fix to WFLY-11678, hence the failure.","10/Apr/19 1:44 PM;cfang;I propsed a fix (see linked PR) that propagates EE concurrency context to batch execution, and with that the demo app passed (first 3 cases).","02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 9.0.0.Beta2,WFLY-11938,12800705,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,03/Apr/19 9:13 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,03/Apr/19 5:53 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:04.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04it8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix PatterFormatter documentation for host name pattern,WFLY-11109,12772799,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,03/Oct/18 5:03 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,04/Jun/19 6:15 AM,,,,,,17.0.0.Final,,,Documentation,,,,,,,,,,,0,,,,,"Currently the short host name pattern, {{%h}}, is documented as allowing the a precision argument to be added. This should not be allowed and the short host should only be the first segment of the host.

The qualified host name pattern, {{%H}}, indicates the precision is done left to right just like a log category or class name. However in general a host name is the opposite direction and thus should be segmented from right to left instead. For example given the host name {{developer.jboss.org}} and a pattern of {{%H\{1\}}}:
{code:title=Current Output}
org
{code}

{code:title=Expected Output}
developer
{code}",,,,,,,,,,,,,,,WFCORE-4151,JBEAP-15600,,,,,,,,LOGMGR-206,LOGMGR-204,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12333,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0096w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade websocket-api_1.1_spec to 1.1.4.Final,WFLY-12120,12808828,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,23/May/19 10:52 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,31/May/19 7:34 PM,,,,,,17.0.0.Final,,,,,,,,,,,,,,0,,,,,Upgrade the version of websocket-api-spec 1.1 at the server to 1.1.4.Final,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12313,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05s5o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Distributed session manager should not assume unmodifiable sets are immutable,WFLY-12014,12804312,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,24/Apr/19 8:06 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,28/Apr/19 11:34 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"From java.util.Set javadoc:
""Great care must be exercised if mutable objects are used as set elements. The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set.""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:03.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z052lo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade IronJacamar from 1.4.15.Final to 1.4.16.Final,WFLY-11973,12801882,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,maeste,gaol,gaol,10/Apr/19 11:25 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,16/Apr/19 7:51 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,JCA,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,,,WFLY-11974,,,,,,,,,,,,,,,,,,,WFLY-11980,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12227,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04p8k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Mutable getAttribute(...) and setAttribute(...) combination triggers redundant cache operation when using ATTRIBUTE granularity distributed web sessions with a transactional cache,WFLY-11882,12798353,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,20/Mar/19 5:54 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,21/Mar/19 9:15 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,downstream_dependency,,,,"When using a transactional cache with ATTRIBUTE granularity, the following code will trigger a redundant cache operation upon request completion:

[1]
AtomicInteger value = (AtomicInteger) session.getAttribute(""a"");
value.incrementAndGet();
session.setAttribute(""a"", value);

[2]
session.setAttribute(""a"", new AtomicInteger());
AtomicInteger value = (AtomicInteger) session.getAttribute(""a"");
value.incrementAndGet();

In case [1], the initial mutable getAttribute(...) triggers an eager mutate, which becomes redundant by the subsequent setAttribute(...).
In case [2], the subsequent mutable getAttribute(...) does not need to trigger a mutation, as the previous setAttribute(...) already has.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:03.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12177,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0451g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Capability requirements declared twice in JCA root resource definition,WFLY-11966,12801762,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,10/Apr/19 6:57 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,14/Apr/19 2:45 PM,17.0.0.Alpha1,,,,,17.0.0.Alpha1,17.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"This is a consequence of a bug introduced in WFLY-11747

JCA root definition is using the setCapabilities method twice:

{code:java}
private JcaSubsystemRootDefinition(final boolean registerRuntimeOnly) {
        super(new Parameters(PATH_SUBSYSTEM, JcaExtension.getResourceDescriptionResolver())
                .setAddHandler(JcaSubsystemAdd.INSTANCE)
                .setRemoveHandler(JcaSubSystemRemove.INSTANCE)
                .setCapabilities(JCA_NAMING_CAPABILITY)
                .setCapabilities(TRANSACTION_INTEGRATION_CAPABILITY)
        );
        this.registerRuntimeOnly = registerRuntimeOnly;
    }
{code}

That means JCA_NAMING_CAPABILITY is being overwritten by TRANSACTION_INTEGRATION_CAPABILITY , so this requirement is lost.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:02.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12219,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04oj0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect product name used in readmes for ha-singleton-* QS,WFLY-11883,12798354,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,20/Mar/19 6:04 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,22/Mar/19 5:00 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Documentation,Quickstarts,,,,,,,,,,0,,,,,"The readmes say {{red_hat_jboss_enterprise_application_platform}} instead of {{Red Hat JBoss Enterprise Application Platform}} or simply {{JBoss EAP}}:
* ha-singleton-service:
** For more information about clustered singleton services, see HA Singleton Service in the Development Guide for red_hat_jboss_enterprise_application_platform located on the Red Hat Customer Portal.
* ha-singleton-deployment:
** For more information about singleton deployments, see HA Singleton Deployments in the Development Guide for red_hat_jboss_enterprise_application_platform located on the Red Hat Customer Portal.

It's caused by incorrectly defined doc attribute {{DocInfoProductName}} in {{attributes.adoc}}:
{code}
:DocInfoProductName: red_hat_jboss_enterprise_application_platform
:DocInfoProductNameURL: red_hat_jboss_enterprise_application_platform
{code}

",,,,,,,,,,,,,JBEAP-16481,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-22 02:53:38.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0451o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The layers testsuite should use thin servers,WFLY-11715,12792176,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,brian.stansberry,brian.stansberry,13/Feb/19 4:06 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,01/Apr/19 1:10 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"The layers testsuite is provisioning a bunch of different servers. It should use thin servers (i.e. jars in the maven repo, not in the modules dirs) as it's not validating anything that differs between a thin and fat server. This will reduce the disk io and peak FS space requirements on the CI servers.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z037rw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jgroups-azure to 1.2.1.Final,WFLY-12066,12806520,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,11/May/19 6:45 AM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,11/May/19 11:37 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,Only resolves the non-secure repositories issue.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:00.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12274,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05f84:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the org.wildfly.event.logger module to the NOT_USED array for the LayersTestCase,WFLY-11941,12800841,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,03/Apr/19 5:13 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,14/Apr/19 2:41 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,WFCORE-4355 introduces a new module for event logging. The {{LayersTestCase}} will fail if this new module is merged into core because it's not currently used. The module should be added to the {{NOT_USED}} array in that test case.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:00.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12205,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04jmk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expand ha-singleton-deployment and -service quickstarts to demonstrate using CLI to determine primary provider,WFLY-11835,12796825,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,11/Mar/19 10:31 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,30/May/19 12:06 PM,16.0.0.Final,,,,,17.0.0.Final,,,Clustering,Quickstarts,,,,,,,,,,0,,,,,Demonstrate feature implemented in EAP7-1088.,,,,,,,,,,,,,,,EAP7-1088,WFLY-11821,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:00.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/343,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03w6s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JBoss Parent to version 35,WFLY-12028,12804832,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,29/Apr/19 9:19 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,15/May/19 11:00 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:59.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12253,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z055ok:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EJB3 IIOP attributes enable-by-default and use-qualified-name should be required,WFLY-12006,12803449,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,soul2zimate,soul2zimate,soul2zimate,18/Apr/19 1:22 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,24/Apr/19 6:49 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,IIOP,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:59.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12237,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04xuc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Some clustering test cases do not close JNDI InitialContext between tests,WFLY-11944,12801041,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rachmato,rachmato,rachmato,04/Apr/19 1:29 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Apr/19 11:08 PM,17.0.0.Alpha1,,,,,17.0.0.Alpha1,17.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"The test case RemoteStatelessFailoverTestCase makes use of the helper class EJBRemoteDirectory to lookup JNDI names for beans in test cases. The EJB client then uses the resulting proxies to make invocations on the beans.

This helper class is defined statically and initialized before any of the test cases run. Consequenty, the InitialContext created by the helper class is used across multiple test cases.  The effect of this is that all of the proxies used in the test case are created from the same InitialContext. Consequently, they share a RemoteEJBDiscoveryProvider instance  which is a class used to maintain information about server and module deployments which the EJB client references during invocation to find a suitable target for the invocation.

This means that any server startup or shutdown activities are passed from one test case to another. This is not wanted as crash failures or shutdowns in one test will contaminate the next test, and this is exactly what is happening in a particular failure of this test.

If your test class only involves one test, then static usage will work, but probably not recommended.

UPDATE: This problem is present in a few other test cases, so I have updated them.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:59.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12207,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z04kh8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Apr/19 1:30 PM;rachmato;I modified the test case so that the RemoteEJBDirectory is no longer defined statically and is created and closed before and after each test.
","04/Apr/19 2:56 PM;rachmato;Comments in the org.jboss.as.test.clustering.ejb.RemoteEJBDirectory class:
{noformat}
 NOTE:
If you hold a static reference to this class, it causes any JNDI lookups across different tests to use the same discovered node registry (DNR). 
This can cause server starts and stops in one test to contaminate other tests and produce incorrect results.
It is adviseable to use one instance per test by defining a @Before and @After method to create and dispose of the instance on a per test basis
{noformat}","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent failures in NotClosingInjectedContextTestCase,WFLY-11789,12794556,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,brian.stansberry,brian.stansberry,27/Feb/19 11:31 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,24/Mar/19 7:03 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"Test is failing quite regularly now:

https://ci.wildfly.org/project.html?projectId=WF_PullRequest&testNameId=-6411299780358011208&tab=testDetails

Please send up a PR to @Ignore unless there's a quick fix.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03kdg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use capabilities in wildfly-connector instead of deprecated service names,WFLY-11747,12793082,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,19/Feb/19 8:25 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,24/Mar/19 7:02 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,,,,,,,,,,,,0,,,,,"The wildfly-connector maven module registers some subsystems that are using deprecated ServiceNames for services that provide capabilities.

Those subsystems should rely on the capability to build its service dependencies instead of the deprecated ServiceNames.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:59.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12108,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03c90:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update ha-singleton-service quickstart to use non-deprecated API,WFLY-11837,12796869,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,12/Mar/19 5:58 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,26/Mar/19 2:17 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,Quickstarts,,,,,,,,,,0,,,,,"{code}
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/QueryingService.java:[21,29] org.jboss.msc.service.Service in org.jboss.msc.service has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/SingletonService.java:[21,29] org.jboss.msc.service.Service in org.jboss.msc.service has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/SingletonService.java:[25,27] org.jboss.msc.value.InjectedValue in org.jboss.msc.value has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[20,29] org.jboss.msc.service.Service in org.jboss.msc.service has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[25,27] org.jboss.msc.value.InjectedValue in org.jboss.msc.value has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[29,40] org.wildfly.clustering.singleton.SingletonPolicy in org.wildfly.clustering.singleton has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/QueryingService.java:[40,34] org.jboss.msc.service.Service in org.jboss.msc.service has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/QueryingService.java:[56,36] awaitValue(long,java.util.concurrent.TimeUnit) in org.jboss.msc.service.ServiceController has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/SingletonService.java:[36,35] org.jboss.msc.service.Service in org.jboss.msc.service has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/SingletonService.java:[40,13] org.jboss.msc.value.InjectedValue in org.jboss.msc.value has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/SingletonService.java:[42,22] org.jboss.msc.value.InjectedValue in org.jboss.msc.value has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/SingletonService.java:[48,87] getLocalNode() in org.wildfly.clustering.group.Group has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/SingletonService.java:[53,87] getLocalNode() in org.wildfly.clustering.group.Group has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/SingletonService.java:[58,37] getLocalNode() in org.wildfly.clustering.group.Group has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[50,13] org.wildfly.clustering.singleton.SingletonPolicy in org.wildfly.clustering.singleton has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[50,39] org.wildfly.clustering.singleton.SingletonPolicy in org.wildfly.clustering.singleton has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[52,86] SINGLETON_POLICY in org.wildfly.clustering.singleton.SingletonDefaultRequirement has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[53,21] awaitValue() in org.jboss.msc.service.ServiceController has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[55,13] org.jboss.msc.value.InjectedValue in org.jboss.msc.value has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[55,46] org.jboss.msc.value.InjectedValue in org.jboss.msc.value has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[57,13] org.jboss.msc.service.Service in org.jboss.msc.service has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[59,19] <T>createSingletonServiceBuilder(org.jboss.msc.service.ServiceName,org.jboss.msc.service.Service<T>) in org.wildfly.clustering.singleton.SingletonPolicy has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[61,21] <I>addDependency(org.jboss.msc.service.ServiceName,java.lang.Class<I>,org.jboss.msc.inject.Injector<I>) in org.jboss.msc.service.ServiceBuilder has been deprecated
[WARNING] /Users/rhusar/git/wildfly-quickstarts/ha-singleton-service/src/main/java/org/jboss/as/quickstarts/ha/singleton/service/ServiceActivator.java:[65,21] <T>addService(org.jboss.msc.service.ServiceName,org.jboss.msc.service.Service<T>) in org.jboss.msc.service.ServiceTarget has been deprecated
{code}",,,,,,,,,,,,,,,WFLY-11821,,,,,,,,,JBEAP-16482,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:59.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/338,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03wfo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unbound log messages at server startup,WFLY-11936,12800594,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,03/Apr/19 2:23 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Apr/19 11:07 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Naming,,,,,,,,,,,0,,,,,"When server starts there are ""Unbound ..."" messages incorrectly logged, before related resources are bound. E.g. the following messages may be seen when starting the standalone-full.xml configuration:

{code}
07:14:07,656 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
07:14:07,674 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
07:14:07,855 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-3) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
07:14:08,604 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
07:14:11,858 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-3) WFLYJCA0011: Unbound JCA ConnectionFactory [java:/JmsXA]
07:14:11,862 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-1) WFLYJCA0119: Unbinding connection factory named java:/JmsXA to alias java:jboss/DefaultJMSConnectionFactory
07:14:12,131 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-8) WFLYJCA0002: Bound JCA ConnectionFactory [java:/JmsXA]
07:14:12,131 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-6) WFLYJCA0118: Binding connection factory named java:/JmsXA to alias java:jboss/DefaultJMSConnectionFactory
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12201,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04i5w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
FineDatabasePersistenceWebFailoverTestCase fails intermittently,WFLY-11939,12800717,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,03/Apr/19 9:47 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,08/Jun/19 9:22 AM,No Release,,,,,17.0.0.Final,,,Clustering,Test Suite,,,,,,,,,,0,,,,,,,,,,,,,,ISPN-10029,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-04 07:16:13.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12326,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z04ivw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"03/Apr/19 9:19 PM;pferraro;[~rhusar] The affects version was intentionally left black as this test does not exist in any released version.","04/Apr/19 7:16 AM;rhusar;[~pferraro] I see. In that case we can use 'no release' to indicate current SCM master branch. Though, I would advocate we set the next version, so in case the issue is untouched by the release, the field will become correct, if the issue is fixed, it will be resolved for the right version.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot get exception as pass-by-reference,WFLY-11866,12798001,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,wdfink,wdfink,wdfink,19/Mar/19 5:26 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Apr/19 5:51 PM,16.0.0.Final,17.0.0.Alpha1,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,,,,,,,,,,,0,downstream_dependency,,,,"Despite of <in-vm-remote-interface-invocation pass-by-value=""false""/>, an exception is not thrown by reference, which results in java.io.NotSerializableException if the exception doesn't implement Serializable. This is a blocker of a large migration project from WebLogic because it throws by reference even if that doesn't implement Serializable.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12167,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0430k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
QPid Proton-J version is lagging behind,WFLY-11727,12792559,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,15/Feb/19 11:12 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,10/May/19 4:56 PM,16.0.0.Beta1,,,,,17.0.0.Alpha1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"When Artemis was upgraded, qpid proton-j version wasn't aligned.
We should align it with the version of Artemis : 0.31",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12178,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z039v0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve validation of MDB activation config properties values,WFLY-11608,12788012,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rpelisse,ehugonnet,ehugonnet,18/Jan/19 3:04 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,10/Jun/19 7:56 AM,,,,,,17.0.0.Beta1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"Most of activation config properties values are not validated during MDB deploy. This might lead to successful deployment of misconfigured MDB without any warning.

*Customer scenario*: Customer deploys MDB with misconfigured activation config property(wrong type, unsupported value). MDB deploys without any warning message. However, it doesn't work as expected. In worst case, MDB can not read any message.

*Current validation status*
Values of activation config properties are validated in {{ActiveMQActivationSpec.validate()}} method. Validation covers only 3 scenarios
* not specified destination
* wrong destination type (other than Queue / Topic)
* no subscription name when MDB is durable topic subscriber

Some {{ActiveMQActivationSpec}} properties try to validate supported values in setters. For example {{setAcknowledgeMode()}} throws {{IllegalArgumentException}}. However these exceptions only log message on {{finest}} level, which usually doesn't attract user's attention (see {{BeenUtils.mapJavaBeanProperties}} in {{jboss-common-beans}})

Other parameters are not validated. 

*Possible issues*
Not validated activation config properties can be set to any value without warning. There is a possibility of misconfiguration which can be detected during deploy time. 

_Examples_
Value of {{acknowledgeMode}} can be set to any string or number without warning. If that is the case, server uses default auto acknowledge. However, it doesn't warn user.

If property {{maxSessions}} is configured with negative value, no warning is logged and MDB is unable to consume messages.

If {{destination}} property specifies unknown destination, new destination with provided name is created. User should be informed about that at least on INFO log level (Currently it is debug in {{ActiveMQActivation.setupDestination()}}).


MDB unable to consume messages should not successfully deploy, and user should be informed about the misconfigured values.
",,,,,,,,,,,,,JBEAP-14106,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,User Experience,,,,,,,,,,,,,,,2019-06-10 07:56:30.0,,,,,,,,,,https://github.com/apache/activemq-artemis/pull/2312,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z02lfc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/Jun/19 7:56 AM;brian.stansberry;Reopening so I can manipulate issue state.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Internal Server Error when RuntimeName differs from war name,WFLY-12071,12806788,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,michpetrov,mediamana,mediamana,13/May/19 10:45 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Jun/19 6:16 AM,16.0.0.Final,,,,,17.0.0.Final,,,MP Metrics,,,,,,,,,,,0,,,,,"If i deploy my war with a RunitmeName different from war name i can't access to metrics anymore
{code}
16:41:10,034 ERROR [org.jboss.as.controller.management-operation] (management I/O-2) WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""deployment"" => ""Service.war""),
    (""subsystem"" => ""jpa""),
    (""hibernate-persistence-unit"" => ""Service.war#ServicePU"")
]) - failure description: ""WFLYCTL0216: Management resource '[(\""deployment\"" => \""Service.war\"")]' not found""
16:41:10,036 ERROR [io.undertow.request] (management I/O-2) UT005071: Undertow request failed HttpServerExchange{ GET /metrics request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8], Accept-Language=[fr,fr-FR;q=0.8,en-US;q=0.5,en;q=0.3], Cache-Control=[max-age=0], Accept-Encoding=[gzip, deflate], User-Agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:66.0) Gecko/20100101 Firefox/66.0], Connection=[keep-alive], Authorization=[Digest username=""admin"", realm=""ManagementRealm"", nonce=""AAAAAwACPO8QTKglHGxK75nH/tWEJNwZnyss0vGY7w35xUfiKxWDJ20sgiE="", uri=""/metrics"", algorithm=MD5, response=""b4f94dcefe97de8c2d57cff48469ad59"", opaque=""00000000000000000000000000000000"", qop=auth, nc=00000011, cnonce=""341c28b0026477d6""], Cookie=[__utma=111872281.212550125.1524648661.1555397901.1555580515.57; __utmz=111872281.1524648661.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); _ga=GA1.1.212550125.1524648661; _gid=GA1.1.374185288.1557750159; __utmc=111872281], Upgrade-Insecure-Requests=[1], Host=[localhost:9990]} response {Access-Control-Allow-Origin=[*], Access-Control-Allow-Headers=[origin, content-type, accept, authorization], Access-Control-Allow-Credentials=[true], Content-Type=[text/plain], Access-Control-Allow-Methods=[GET, POST, PUT, DELETE, OPTIONS, HEAD], Access-Control-Max-Age=[1209600]}}: java.lang.IllegalStateException: WFLYMETRICS0003: Unable to read attribute second-level-cache-hit-count on [
    (""subsystem"" => ""jpa""),
    (""hibernate-persistence-unit"" => ""Service.war#ServicePU"")
]: ""WFLYCTL0216: Management resource '[(\""deployment\"" => \""Service.war\"")]' not found"".
	at org.wildfly.extension.microprofile.metrics.MetricCollector.lambda$collectResourceMetrics0$0(MetricCollector.java:143)
	at org.wildfly.extension.microprofile.metrics.PrometheusCollector.collect(PrometheusCollector.java:51)
	at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.findNextElement(CollectorRegistry.java:183)
	at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.<init>(CollectorRegistry.java:147)
	at io.prometheus.client.CollectorRegistry$MetricFamilySamplesEnumeration.<init>(CollectorRegistry.java:168)
	at io.prometheus.client.CollectorRegistry.metricFamilySamples(CollectorRegistry.java:130)
	at org.wildfly.extension.microprofile.metrics.MetricsContextService$1.handleRequest(MetricsContextService.java:100)
	at org.jboss.as.domain.http.server.security.RealmReadinessHandler.handleRequest(RealmReadinessHandler.java:51)
	at org.jboss.as.domain.http.server.security.ServerErrorReadinessHandler.handleRequest(ServerErrorReadinessHandler.java:35)
	at io.undertow.server.handlers.PathHandler.handleRequest(PathHandler.java:91)
	at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:211)
	at io.undertow.server.handlers.cache.CacheHandler.handleRequest(CacheHandler.java:92)
	at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:78)
	at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)
	at org.jboss.as.domain.http.server.ManagementHttpRequestHandler.handleRequest(ManagementHttpRequestHandler.java:57)
	at org.jboss.as.domain.http.server.cors.CorsHttpHandler.handleRequest(CorsHttpHandler.java:75)
	at org.jboss.as.domain.http.server.ManagementHttpServer$UpgradeFixHandler.handleRequest(ManagementHttpServer.java:662)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364)
	at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:255)
	at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:162)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:100)
	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:57)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)
	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:131)
	at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:479)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:57.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05gto:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove note about log4j warning from jaxws-* quickstarts,WFLY-11928,12800001,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,31/Mar/19 9:03 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,30/May/19 12:10 PM,16.0.0.Final,,,,,17.0.0.Final,,,Quickstarts,,,,,,,,,,,0,,,,,"Since WFLY-11209 is fixed, we can remove this part of README from jaxws-* quickstarts:
{code:java}
You will see the following errors and warnings in the server log. These messages come from the jaxws-tools-maven-plugin plugin that generates source files based on the WSDL. You can ignore these warnings.

[INFO] Could not find log4j.xml configuration, logging to console.
[INFO]
[INFO] TODO! Cheek SOAP 1.2 extension
[ERROR] log4j:WARN No appenders could be found for logger (org.apache.cxf.common.logging.LogUtils).
[ERROR] log4j:WARN Please initialize the log4j system properly.
[ERROR] log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
{code}
",,,,,,,,,,,,,JBEAP-15835,,,,,,,,,,,,,,,WFLY-11209,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:57.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04emc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow mixed domain tests to be ignored if no VM the legacy host can use is available,WFLY-11896,12798820,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,23/Mar/19 9:15 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Apr/19 11:05 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Management,Test Suite,,,,,,,,,,0,,,,,"The mixed domain tests won't work properly if the VM running the testsuite is not usable by the legacy host controllers. If the test run is configured with property java8.home set to the root of a JDK 8 installation, then the legacy hosts will be started with JDK 8, which may work. But this has flaws:

* Test jobs may not have java8.home configured, but this suite should still do something reasonable.
* Some legacy host versions it might be better to test with something other than 8, e.g. 11.
* In the future some legacy host versions might not support 8, so we want a more complex mechanism.

To address the first point, the Version.AsVersion enum should include the min and max JVM versions acceptable for that host version. The testsuite in mixed-domain should be ignored if there is a mismatch and the following isn't configured:

The testsuite should check property jboss.test.legacy.host.javaX.home and if set configure the legacy slave to use the VM indicated by the value. The 'X' in 'javaX' is a value between the min and the max value the legacy host version supports. All should be tried until a match is found.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12182,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z047s4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bump the Undertow subsystem model version and schema to version 9,WFLY-11816,12795880,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,06/Mar/19 2:03 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,31/May/19 4:57 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,The Undertow subsystem schema should be bumped from 8 to 9 and the model version should be bumped from 8 to 9.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:57.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12145,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03rvo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Messaging subsystem dependency on org.jboss.as.weld should be optional,WFLY-11187,12774575,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,brian.stansberry,brian.stansberry,15/Oct/18 10:30 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,26/Apr/19 9:13 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"Only install CDIDeploymentProcessor if the weld capability is present. This allows the org.jboss.as.weld module dependency to be optional.

Requires WFLY-11186 first.",,,,,,,,,,,,,,,WFLY-11186,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11802,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00j20:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Single sign-on removal does not remove all installed services.,WFLY-12047,12805625,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,03/May/19 2:03 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,08/May/19 9:28 PM,No Release,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,Web (Undertow),,,,,,,,,,0,,,,,"I'm running into a problem with SSO manager installer service. When I remove the sso setting from host config using allow-resource-service-restart=true and try to add it again without reload I'm get a failure:
{noformat}
[standalone@localhost:9990 /] /subsystem=undertow/server=default-server/host=test-host/setting=single-sign-on:add
{""outcome"" => ""success""}
[standalone@localhost:9990 /] /subsystem=undertow/server=default-server/host=test-host/setting=single-sign-on:remove{allow-resource-service-restart=true}
{""outcome"" => ""success""}
[standalone@localhost:9990 /] /subsystem=undertow/server=default-server/host=test-host/setting=single-sign-on:add
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: org.jboss.msc.service.
DuplicateServiceException: Service jboss.undertow.server.default-server.test-host.single-si
gn-on.manager.installer is already registered"",
    ""rolled-back"" => true
}
{noformat}
It looks like the installer service is created every time DistributableSingleSignOnManagerServiceConfigurator is build, but never removed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:56.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12257,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05abo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Non EE Component submitted tasks missing context class loader,WFLY-12039,12804965,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,30/Apr/19 7:35 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,30/Apr/19 6:22 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Concurrency Utilities,,,,,,,,,,,0,regression,,,,"Peeking at the context class loader from code running in an EE concurrent thread results in {{null}} as opposed to the class loader submitting the task.

EAP 7.2.1
{noformat}
18:48:37,385 ERROR [stderr] (pool-8-thread-1) **** ModuleClassLoader for Module ""deployment.ba192ed9-650f-4239-9551-adeb19f3f640.jar"" from Service Module Loader
18:48:37,388 ERROR [stderr] (pool-8-thread-1) ***** null
{noformat}

EAP 7.2.0
{noformat}
19:05:43,353 ERROR [stderr] (pool-7-thread-1) **** ModuleClassLoader for Module ""deployment.fc066443-c05f-4ede-abc7-b49e7991eae3.jar"" from Service Module Loader
19:05:43,356 ERROR [stderr] (pool-7-thread-1) ***** ModuleClassLoader for Module ""deployment.fc066443-c05f-4ede-abc7-b49e7991eae3.jar"" from Service Module Loader
{noformat}",,,,,,,,,,,,,JBEAP-16818,,,,,,,,,,,,,,,WFLY-11846,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:56.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12251,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z056hg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jaxbintros to 1.0.3.GA,WFLY-12036,12804918,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jim.ma,jim.ma,jim.ma,29/Apr/19 10:28 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,01/May/19 10:12 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Web Services,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:56.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0566s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WFLYUT0017 warning appears once xml-jaxp quickstart is undeployed,WFLY-12015,12804431,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,lburda,lburda,lburda,25/Apr/19 10:19 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,10/May/19 4:17 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"Since we have started running actual quickstarts on Windows OS all (except _xml-jaxp_) of them ran smoothly. 

While undeploying _xml-jaxp_ quickstart the following warning appears in server log: 

{noformat} 
WARN [org.wildfly.extension.undertow] (ServerService Thread Pool -- 78) WFLYUT0017: Could not delete servlet temp file C:\j\workspace\eap-7.x-quick---ec6481ca\b9367ec8\manu-eap-1.1.124\out\xml-jaxp.DownloadEap\workspace\jboss-eap-7.2\standalone\tmp\xml-jaxp.war\undertow7293344395514676051upload 
WARN [org.wildfly.extension.undertow] (ServerService Thread Pool -- 78) WFLYUT0017: Could not delete servlet temp file C:\j\workspace\eap-7.x-quick---ec6481ca\b9367ec8\manu-eap-1.1.124\out\xml-jaxp.DownloadEap\workspace\jboss-eap-7.2\standalone\tmp\xml-jaxp.war 
{noformat} ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:55.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z053bw:",9223372036854775807,,0.0,,,,,Follow quickstart's README and watch Wildfly server console output.,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add documentation for optimizing distributed web application performance,WFLY-12005,12803268,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,17/Apr/19 12:53 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,16/May/19 6:20 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Section should include subtopics for:
* Granularity
* Concurrency
* Immutability
* Marshalling",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:55.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04wr8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate deprecated CapabilityServiceTarget.addCapability() usages,WFLY-11967,12801862,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,10/Apr/19 4:20 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,22/May/19 5:23 PM,,,,,,17.0.0.Beta1,17.0.0.Final,,Agroal,EJB,JCA,Mail,MP Health,Transactions,Web (Undertow),,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFCORE-4392,WFCORE-4411,WFCORE-4412,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:55.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12239,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04p44:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing transformer for default protocol version change of remote-cache-container,WFLY-11839,12796920,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,12/Mar/19 8:49 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,19/Mar/19 8:05 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:55.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12154,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03wpw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove READ_TIMEOUT from channel configuration options,WFLY-11911,12796687,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,tmiyar,tmiyar,11/Mar/19 9:48 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Apr/19 2:24 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,,,,,,,,,,,0,,,,,"The only configuration options allowed on the channel by the ultimate consumer of the options org.jboss.remoting3.remote.RemoteReadListener are:
RemotingOptions.TRANSMIT_WINDOW_SIZE,
RemotingOptions.MAX_OUTBOUND_MESSAGES
RemotingOptions.RECEIVE_WINDOW_SIZE
RemotingOptions.MAX_INBOUND_MESSAGES
RemotingOptions.MAX_OUTBOUND_MESSAGE_SIZE
RemotingOptions.MAX_INBOUND_MESSAGE_SIZE.

Standalone.xml/domain.xml file show READ_TIMEOUT as an example option and should be removed.",,,,,,,,,,,,,JBEAP-16529,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-11 23:36:59.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12187,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03vd0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Mar/19 11:36 PM;brian.stansberry;Is this about the EJB subsystem?

{code}
                <remote connector-ref=""http-remoting-connector"" thread-pool-name=""default"">
                    <channel-creation-options>
                        <option name=""READ_TIMEOUT"" value=""${prop.remoting-connector.read.timeout:20}"" type=""xnio""/>
                        <option name=""MAX_OUTBOUND_MESSAGES"" value=""1234"" type=""remoting""/>
                    </channel-creation-options>
                </remote>
{code}

If so, please move to WFLY and change the component to EJB3. Thanks.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Narayana to 5.9.5.Final,WFLY-11917,12799650,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,tomjenkinson,tomjenkinson,28/Mar/19 10:37 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Apr/19 2:25 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,https://issues.jboss.org/projects/JBTM/versions/12340965#release-report-tab-body,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11858,WFLY-11849,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:54.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12197,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z04cik:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Mar/19 10:45 AM;tomjenkinson;PR will be like this: https://github.com/wildfly/wildfly/compare/master...jbosstm:WFLY-11917?expand=1","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
jaxws-tools-maven-plugin:1.2.2.Final fails on Windows machines while building a quickstart,WFLY-11909,12799094,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,26/Mar/19 12:13 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,29/Mar/19 3:02 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"While building _jaxws-retail service_ quickstart the following error is thrown:

{noformat}
[ERROR] Error: Could not find or load main class org.jboss.ws.tools.cmd.WSConsume
[ERROR] Failed to execute goal org.jboss.ws.plugins:jaxws-tools-maven-plugin:1.2.2.Final:wsconsume (default) on project jaxws-retail-service: Error while running wsconsume: Process terminated with code 1 -> [Help 1]
{noformat}

Full log is available [here|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/eap-7.x-quickstarts-one-command-build-win/59/jdk=oracle-java-1.8,label_exp=w2k12r2&&dynamic&&medium/testReport/org.jboss.manu.eap.quickstarts/QuickstartsMaven/BuildQuickstarts_mavenexitcode/].

Here are some useful pages:
[https://github.com/dcm4che/dcm4che/issues/316|https://github.com/dcm4che/dcm4che/issues/316]
[https://github.com/dcm4che/dcm4che/pull/328/files|https://github.com/dcm4che/dcm4che/pull/328/files]



",,,,,,,,,,,,,JBEAP-16076,,JBWS-4165,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:54.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z04998:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"26/Mar/19 10:39 AM;emmartins;Merged a first PR that only fixes plugin config for Windows with JDK8, JDK11 needs a plugin update or java command in PATH. I don't think we should require users to setup path so I am going to create another issue wrt the need for a plugin update, and link here.","29/Mar/19 3:02 AM;emmartins;Second PR merged, which upgrades the maven plugin to version 1.2.3.Final, fixed wrt Windows OS with JDK 11.","29/Mar/19 3:06 AM;emmartins;[~szhantem] can you please confirm all good with the plugin now?","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test case for passing a remote EJB Exception by reference (WFLY-11866),WFLY-11915,12799637,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,tmiyar,tmiyar,28/Mar/19 10:14 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Apr/19 5:53 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,,,,,,,,,,,0,,,,,A test case for passing a remote EJB Exception by reference. ,,,,,,,,,,,,,,,WFLY-11866,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:54.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12167,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04cgc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Metrics from deployments are not whitelisted,WFLY-11796,12794679,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,28/Feb/19 7:08 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,08/Mar/19 5:37 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,MP Metrics,,,,,,,,,,,0,,,,,Metrics from deployments are always exposed and are not whitelisted according to the exposed-subsystems attribute of the microprofile-metrics-smallrye subsystem.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:54.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03l3w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quickstarts BOM Builder,WFLY-12103,12808033,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,20/May/19 6:32 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,25/May/19 1:06 AM,,,,,,17.0.0.Beta1,17.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"A followup of WFLY-11300, replace WildFly dependency management sync on Quickstarts parent, with a BOM builder, which saves the effort to sync versions, exclusions and transitive dependencies with WildFly.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11300,WFLY-12102,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-21 18:20:58.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05nys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade ASM from 6.2.1 to 7.1,WFLY-11847,12797314,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,13/Mar/19 5:00 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,20/Mar/19 6:04 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,JPA / Hibernate,Test Suite,,,,,,,,,,0,jdk13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-19 05:36:04.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12155,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z03yx0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Mar/19 5:36 AM;kabirkhan;[~ropalka] It looks like this is needed to support JDK13? 

[~smarlow] is it safe?","19/Mar/19 6:09 AM;ropalka;Yes, it is needed for JDK 13 support [~kabirkhan].","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
socket-binding/jgroups-tcp client mappings do not map to jgroups.external_addr properly,WFLY-11806,12795455,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,rbellamy,rbellamy,04/Mar/19 4:24 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,08/Mar/19 5:27 AM,15.0.1.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,JGroups,,,,"socket-binding/jgroups-tcp client mappings do not map to the system property {{jgroups.external_addr}} correctly, and therefore jgroups ALWAYS advertises the address bound to the {{private}} interface.

When setting the client mappings for the {{jgroups-tcp}} socket binding, wildfly should ensure that the pingdata for various discovery protocols announces the destination address set there, presumably by setting the {{jgroups.external_addr}} value.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:53.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12139,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03pec:",9223372036854775807,,0.0,,,,,"To reproduce:
# {code}
/socket-binding-group=standard-sockets/socket-binding=jgroups-tcp:write-attribute(\
  name=client-mappings, value=[{ \
    ""destination-address"" => ""${env.JGROUPS_NAME:external.host.zzz}"", \
    ""destination-port"" => ""${env.JGROUPS_PORT:7600}"" }\
  ])
{code}
# If using {{S3_PING}}, look at the *.list file, and you'll find that wildfly is still advertising the IP address bound to the default {{private}} interface.",,,,,,,,,,"The workaround is to pass in the required external address via the {{jgroups.external_addr}} system property:
{code:title=option 1}
  /system-property=jgroups.external_addr:add(value=${env.JGROUPS_NAME:external.host.zzz})
{code}
{code:title=option 2}
standalone.sh -b 0.0.0.0 -bmanagement 0.0.0.0 -bprivate 0.0.0.0 -Djgroups.external_addr=external.host.zzz
{code}","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clustered SLSB membership anomalies when all cluster members removed,WFLY-11682,12791041,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rachmato,jbaesner,jbaesner,07/Feb/19 7:30 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,07/Jun/19 3:52 PM,15.0.1.Final,,,,,17.0.0.Beta1,17.0.0.Final,,Clustering,EJB,,,,,,,,,,0,,,,,"This description will be based on a 3 node cluster. Cluster node 1 and 2 are configured in the {{PROVIDER_URL}}, node 3 is not.

The client has a custom ClusterNodeSelector implementation that is printing the {{connectedNodes}} and the {{availableNodes}} and doing a random balancing.

As long as all nodes are up and running the client is calling EJBs in a balanced way.

When node1 is shut down, the client get the notification below:

{code}...
DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received MODULE_UNAVAILABLE(9) message for module /playground
DEBUG (XNIO-1 task-4) [org.jboss.ejb.client.invocation] Received MODULE_UNAVAILABLE(9) message for module /playground
DEBUG (XNIO-1 task-4) [org.jboss.ejb.client.invocation] Received MODULE_UNAVAILABLE(9) message for module /playground
DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received MODULE_UNAVAILABLE(9) message for module /playground
DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY_NODE_REMOVAL(18) message for (cluster, node) = (ejb, node1)
DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY_NODE_REMOVAL(18) message for (cluster, node) = (ejb, node1)
...
{code}

Then node2 is shut down. Again the client get the information, see:
{code}
...
DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received MODULE_UNAVAILABLE(9) message for module /playground
DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received MODULE_UNAVAILABLE(9) message for module /playground
DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY_NODE_REMOVAL(18) message for (cluster, node) = (ejb, node2)
...
{code}

Finally node3 is being shut down. Now the client only get the following information:
{code}
...
DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received MODULE_UNAVAILABLE(9) message for module /playground
DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received MODULE_UNAVAILABLE(9) message for module /playground
...
{code}

This mean the _node3_ is not being informed about the fact that the last node of the cluster has been stopped.

From this point on the client is always getting {{Caused by: java.net.ConnectException: Connection refused}}

Now node1 is started again, resulting in the following output for {{connectedNodes}} and the {{availableNodes}}:
{code}
...
INFO  (ThreadPoolTaskExecutor-1) [com.jboss.examples.ejb.CustomClusterNodeSelector] connectedNodes(1) '[node1]', availableNodes(2) '[node3, node1]'
...
{code}",,,,,,,,,EJBCLIENT-325,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Feb/19 11:48 AM;rachmato;node1.txt;https://issues.redhat.com/secure/attachment/12446692/node1.txt","11/Feb/19 11:48 AM;rachmato;node12.txt;https://issues.redhat.com/secure/attachment/12446689/node12.txt","11/Feb/19 11:48 AM;rachmato;node2.txt;https://issues.redhat.com/secure/attachment/12446691/node2.txt","11/Feb/19 11:48 AM;rachmato;node3.txt;https://issues.redhat.com/secure/attachment/12446690/node3.txt","07/Feb/19 9:09 AM;jbaesner;playground.zip;https://issues.redhat.com/secure/attachment/12446531/playground.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-08 09:29:24.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12133,,,,,,,,,,,,,,,,5.0,4.0,,,,,,,,,,"1|z031zo:",9223372036854775807,,0.0,,,,,"# Install a plain WildFly server
# Build the {{playground.zip}} project attached to this Jira using Maven
# Copy the build {{playground.jar}} to {{$JBOSS_HOME/standalone/deployments}}
# Multiply the {{standalone}} folder into {{node1}}, {{node2}} and {{node3}}
# Start the servers:
        {{$JBOSS_HOME/bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node1 -Djboss.server.base.dir=$JBOSS_HOME/node1}}
        {{$JBOSS_HOME/bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node2 -Djboss.server.base.dir=$JBOSS_HOME/node2 -Djboss.socket.binding.port-offset=300}}
        {{$JBOSS_HOME/bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node3 -Djboss.server.base.dir=$JBOSS_HOME/node3 -Djboss.socket.binding.port-offset=600}}
# start the client (300 = 5 minutes):
        {{mvn -f playground-jar/pom.xml exec:exec -Druntime=300}}
# Stop {{node1}}
# Stop {{node2}}
# Stop {{node3}}
# Start {{node1}} (see above) again
# Observe {{node3}} in the list of available node, see:
        {{INFO  (ThreadPoolTaskExecutor-5) [com.jboss.examples.ejb.CustomClusterNodeSelector] connectedNodes(1) '[node1]', availableNodes(2) '[node3, node1]'}}",,,,,,,,,,,"08/Feb/19 9:29 AM;rachmato;Managed to recreate the error with Jorg's reproducer.
It looks as though nodes which are kicked out of the cluster do not get a chance to send updates to the client before being kicked out. So the last node to leave has no opportunity to advise the client of its leaving. Which is why the client believes the last node to leave is still alive. In the attached logs, node3 sees removal of client mappings entries entries for node1 and node2, but does not receive notification of its own client mapping entries.  

The server side code has changed a lot due to the new EJBClient/Elytron/Remoting implementation, and some EJB client related features which did appear there (in VersionOneChannelProtocolHandler) were not ported over (to AssociationImpl); specifically EJB client related responses to suspend and resume. These should be added back in. 

This is one place where it would be possible to send a notification to a client if the last node was going down (set a flag indicating we are the last node and we are being suspended; if the server is not resumed, use the flag to send a message before the EJBServerChannel connections to the clients are shut down).  ","02/Mar/19 1:18 PM;rachmato;On the server side, the old EJB client implementation classes EJBRemoteConnectorService and  VersionOneProtocolChannelReceiver have been replaced by a number of classes which work together to do the same thing: EJBRemoteConnectorService, RemoteEJBService, AssociationService, AssociationImpl and EJBServerChannel. 

The VersionOneProtocolChannelReceiver held an instance of RegistryCollector (which holds client mappings entries for each cluster the server is a member of), which allowed supporting membership of multiple clusters at the same time well as notifying the server when a cluster was being removed (registryAdded()/registryRemoved()). A call to registryRemoved() by the last node in the cluster would cause the server to send a message to the client indicating the cluster was removed entirely, and was a way for the last node to clear that cluster's information from the client. 

The new arrangement only supports server membership of one cluster and AssociationImpl, rather than holding a reference to RegistryCollector, now only holds a single Registry to store the client mappings for the single cluster this server is a member of. Consequently, unlike before, we have no notification of the last node leaving via the RegistryCollector. We need to recreate this somehow.

We want to send out a CLUSTER_REMOVED message to all connected clients from the last node in the cluster when we are sure that the last node is in fact shutting down. Looking at the dependencies between the various services, we have EJBRemoteConnector -> AssociationService, so that the EJBRemoteConnector will shut down before the AssociationService. Also the EJBRemoteConnector, in its stop() method,  shuts down the Endpoint for the Remoting connector, making all channel connections to clients inaccessible thereafter.   So it seems the only reasonable place to send out this message is at the beginning of the stop() method of EJBRemoteConnector while the channel connections are still open.

I have implemented this and it works based on my limited testing. I'll push a PR for now so that I can get some feedback.

As Paul noted, this does not solve the problem in the case where the last node crashes (does not get a chance to cleanly shut down) and the only reasonable place to deal with this special case is on the client (somehow).. For now though, i'm making this change available to handle the case of clean shutdown.

Also, i'll implement the missing suspend/resume behavior in another issue. It's unrelated to this one. We should also probably revisit the limitation of single cluster membership at some time soon.
","13/Mar/19 11:50 AM;rachmato;I have had a look at the crash scenario. When a discovery call is made, it consists of two parts: refreshing the discovered node registry (DNR) before carrying out the search, then carrying out the search in the DNR. The refresh of the DNR is done by attempting to create an authenticated connection followed by a client channel to the set of configured connections (those listed in the client context configuration file) as well as any known URIs received as topology updates. When the connections/channels are attempted, the discovery provider keeps track of exceptions encountered during connection establishment and also during channel establishment. We would be interested in java.net.ConnectException raised during connection establishment. If we can keep track of those during the refresh of the DNR, they could be used to remove any cluster nodes which were the only node in the cluster and which raised a connect exception before the search starts.

  ","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Jackson2 to 2.9.9,WFLY-12143,12810092,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,asoldano,asoldano,asoldano,30/May/19 8:25 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,31/May/19 7:36 PM,,,,,,17.0.0.Final,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:52.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05z6c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 9.0.0.Beta7,WFLY-12132,12809177,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,27/May/19 10:10 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,28/May/19 4:59 PM,,,,,,17.0.0.Final,,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:52.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05u64:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 9.0.0.Beta5,WFLY-12057,12806176,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,09/May/19 4:06 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,09/May/19 2:42 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:52.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05d78:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to galleon 4.0,WFLY-12043,12805260,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,02/May/19 3:38 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,16/May/19 5:52 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"In order to make feature-packs dependencies ""provided"", we need to use 4.0 WildFly Galleon maven plugin.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:52.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0585w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
max-allowed-connected-nodes element in jboss-ejb-client.xml not used,WFLY-11819,12795983,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jbaesner,jbaesner,jbaesner,07/Mar/19 7:09 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,12/Mar/19 4:28 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,,,,,,,,,,,0,downstream_dependency,,,,"An application uses {{remote-outbound-connections}} for remote EJB invocations and the {{jboss-ejb-client.xml}} contains a {{clusters}} definition containing the {{max-allowed-connected-nodes}}, like below:

{code}
<jboss-ejb-client xmlns=""urn:jboss:ejb-client:1.2"">
        ...
        <clusters>
            <cluster name=""ejb"" ... max-allowed-connected-nodes=""20"">
            </cluster>
        </clusters>
    </client-context>
</jboss-ejb-client>
{code}

In the actually used {{EJBClientContext}} this value doesn't get assigned and the hard coded default value of _10_ is being used.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:52.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12146,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03shw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update helloworld-mdb quickstarts expected console output in Readme,WFLY-11643,12788954,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,sgilda,szhantem,szhantem,24/Jan/19 5:54 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,12/Mar/19 7:07 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"As it is written in helloworld-mdb and helloworld-mdb-propertysubstitution Readme, the following line is expected to appear in console output:

{noformat}
INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 71) AMQ221003: trying to deploy queue jms.queue.HelloWorldMDBQueue
{noformat}

But in 7.3.0.CD15 build (and older builds) this kind of info message is not shown anymore whereas helloworld quickstarts functionality is not influenced at all - see more details at [logs|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/eap-7.x-quickstarts-matrix/209/QUICKSTART_NAME=helloworld-mdb,jdk=oracle-java-1.8,label_exp=RHEL7%20&&%20!bos/artifact/manu/out/helloworld-mdb.StartEap/log/native-commands.0.log].

I suggest updating the mentioned Readmes in case you don't have an another resolution. 
",,,,,,,,,,,,,JBEAP-16289,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:52.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/334,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02q54:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade mod_cluster to 1.4.1.Final,WFLY-11159,12774008,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,11/Oct/18 2:15 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,11/May/19 11:36 AM,14.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,mod_cluster,,,,,,,,,,,0,,,,,"Mostly only resolves the non-secure repositories issue with a couple of trivial logging and licensing fixes.

Complete changelog
https://issues.jboss.org/projects/MODCLUSTER/versions/12337390


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11154,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:51.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12275,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00g8o:",9223372036854775807,,0.0,,,,,,,,,,,,jkasik,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade openjdk-orb from 8.1.2 to 8.1.3,WFLY-11972,12801876,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,ivassile,ivassile,10/Apr/19 8:31 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,16/Apr/19 7:50 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11971,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:51.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04p78:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Mojarra to 2.3.9.SP02,WFLY-11969,12801866,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,10/Apr/19 4:25 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,17/Apr/19 4:30 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,JSF,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11968,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:51.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12234,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04p50:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 9.0.0.Beta1,WFLY-11881,12798246,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,20/Mar/19 9:29 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,21/Mar/19 9:12 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:51.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z044gc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JGroups client sockets are not registered with the socket binding manager,WFLY-11913,12799520,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,27/Mar/19 7:07 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,11/May/19 9:03 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Because the JGroups subsystem does not expose a socket-binding for client sockets, these sockets are not registered with the socket binding manager.
Currently, TCP, TCP_NIO2, FD_SOCK use the same bind address for server vs client sockets and use a random ephemeral port for configuring the client socket.  For environment with strict networking rules, this is not ideal, and requires overriding adhoc JGroups properties.  Unfortunately, overriding the client_bind_port in this way does not recognize the port-offset of the associated socket binding group.
",,,,,,,,,,,,,,,WFCORE-3296,,,,,,,,,,,,,WFLY-11807,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:51.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04br8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unneeded dependencies from OpenJPA module,WFLY-11946,12801051,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,smarlow,smarlow,04/Apr/19 3:08 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,10/Jun/19 7:52 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-10 07:52:08.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12208,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z04kjg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/Jun/19 7:52 AM;brian.stansberry;Reopening so I can manipulate issue state.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Drop camel case that has crept into package names,WFLY-11754,12793440,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,20/Feb/19 11:22 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,21/Mar/19 9:09 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,JPA / Hibernate,Test Suite,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:51.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12100,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03eck:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quickstart jaxws-retail expected errors section needs to be extended,WFLY-11049,12770632,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,sgilda,jbliznak,jbliznak,20/Sep/18 9:26 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,29/Mar/19 3:17 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"When jaxws-retail quickstart is executed on JDK11, you may encounter these warnings:
{code:java}
[INFO] --- jaxws-tools-maven-plugin:1.2.2.Final:wsconsume (default) @ jaxws-retail-service ---
[ERROR] /bin/sh: switchml: line 1: syntax error: unexpected end of file
[ERROR] /bin/sh: error importing function definition for `switchml'
[ERROR] /bin/sh: _moduleraw: line 1: syntax error: unexpected end of file
[ERROR] /bin/sh: error importing function definition for `_moduleraw'
{code}

This is similar of what is already in expected errors section https://github.com/wildfly/quickstart/blob/master/jaxws-retail/README.adoc, so we might extend the section to be more generic, talking about  {{BASH_FUNC_*}}.

The interesting thing is I can see this happening only with JDK11.


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-08 12:56:08.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/335,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|y008ck:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Nov/18 12:56 PM;emmartins;I am not able to replicate the issue on MacOS and JDK 11, but doesn't hurt to doc that these errors ""may"" be seen.
[~sgilda] Do you think you can handle this one? If so please reassign the issue.","08/Nov/18 1:25 PM;sgilda;[~emmartins]: Sure. I'll take care of this one.","04/Apr/19 12:40 PM;jamontoya;Hey guys, this may be totally unrelated, but maybe not... I'm getting the exact same error when running a different maven plugin in Fedora 28 and Oracle JDK 8. I'm pretty stumped and this is the only lead I've found so far.","04/Apr/19 12:45 PM;emmartins;[~jamontoya] just warnings or it fails the build? ","04/Apr/19 12:51 PM;jamontoya;Fails it. Exact same error about switchml and _moduleraw. I went almost nuclear and upgrading to Fedora 29 and hoping that solves it. Will report back.","04/Apr/19 2:04 PM;jamontoya;Same result","04/Apr/19 2:21 PM;emmartins;[~jamontoya] Which Quickstarts version? Did you made any changes in the code?","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade RESTEasy to 3.7.0.Final,WFLY-11987,12802519,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ron_sigal,ron_sigal,ron_sigal,13/Apr/19 3:10 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,16/May/19 12:22 PM,16.0.0.Final,,,,,17.0.0.Beta1,17.0.0.Final,,REST,,,,,,,,,,,0,downstream_dependency,,,,Upgrade from 3.6.3.Final to 3.6.3.SP1 in which all references to repository are made with https.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11680,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-19 16:28:49.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04sdw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Wildfly16] CDI fails to inject InitialContext during startup,WFLY-11858,12797722,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,rakcheru,rakcheru,16/Mar/19 7:19 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,05/Apr/19 1:53 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,CDI / Weld,Transactions,,,,,,,,,,0,,,,,"We are in the process of upgrading from 14.0.1.Final. While Wildfly 15.0.1 works fine, 16.0.0.Final is intermittently (3 out of 5 times) failing to start with following error

_WELD-001334: Unsatisfied dependencies for type InitialContext with qualifiers_

In our application, a bootstrap servlet startsup services (Stateless EJBs) during server startup. During this process the server fails to start with above error.

Basically CDI is not able to find the appropriate InitialContext bean *intermittently*. This is not failing in our application code but in the wildfly libraries itself.

Any pointers on this will be helpful. Don't want to end up with startup issues in stage/production :)

Unfortunately my efforts to come up with a simplified maven module to showcase the error didn't succeed. So, please let me know if any further information is required and i will be glad to fill it in.",,,,,,,,,,,,,,,,,,,,,,,,JBTM-3106,,,,JBTM-3044,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Mar/19 7:16 AM;rakcheru;stacktrace.log;https://issues.redhat.com/secure/attachment/12448578/stacktrace.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-18 04:25:25.0,,,,,,,,,,https://github.com/jbosstm/narayana/pull/1346,,,,,,,,,,,,,,,,1.0,26.0,,,,,,,,,,"1|z041cc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Mar/19 4:25 AM;manovotn;Hi [~rakcheru]

Can you please draft what does your application look like? Are we talking WAR or EAR?
What do your beans looks like and what functionality they use to trigger this behaviour? What interceptors you have there? Any transactional behaviour (see below)?
I know you are saying that the error comes up in WFLY libraries but I suppose that's still triggered by something in your code because otherwise this would show up in many tests WFLY has. 

[~ochaloup] I suspect Narayana's deps here. In the stacktrace, the actual bean that tries to grab {{InitialContext}} is [{{JNDIBean}}|https://github.com/jbosstm/narayana/blob/master/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/JNDIBean.java#L68]. I am guessing that based on this log line:

bq. {{at org.jboss.jts//com.arjuna.ats.jta.cdi.JNDIBean.create(JNDIBean.java:68)}}

Might be something to do with how WFLY services boot up or rather in what order? Hard to tell without reproducer...","18/Mar/19 6:37 AM;rakcheru;Flow: During server startup, 
   Servlet.init()  -> SingletonEjbX.serviceMethod() -> StatelessEJB.doService() -> SingletonEjbY.performActualService() 

Based on stacktrace, the client call to SingletonEjbY.performActualService() fails as server is not able to construct the component/EJB. The underlying cause is that the CDI unable to find the InitialContext


Deployment:
EAR
____ WAR
____ lib/<jars-with-ejbs>


During startup, only one interceptor is called that makes sure that a transaction is associated (creates a new TX if one is not associated). The interceptor is called for SingletonEjbX.serviceMethod. It uses TransactionSynchronizationRegistry in the process. 
My two cents: From stack trace its pretty clear that this interceptor has done its job properly as the failure happens between _StatelessEJB.doService() -> SingletonEjbY.performActualService()_



","18/Mar/19 8:06 AM;ochaloup;[~manovotn] I agree that it could be the trouble of the Narayana CDI lookup. There were changes at that code between WFLY 15 and 16 so it's highly possible from that perspective as well.
The code which is used for the lookup is here
https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/JNDIBean.java#L68
Especially when we talk about EAR the classloading the behaviour of {{CDI.current()}} is a bit ""strange"", from my experience. I think we already discussed this aspect for refactoring of the transaction modules in WFLY.
Could be we need some similar handling which is used here https://github.com/jbosstm/narayana/blob/5.9.3.Final/compensations/src/main/java/org/jboss/narayana/compensations/internal/BeanManagerUtil.java ? [~manovotn] do you have some more experience with use of the `CDI.current().lookup` for the EARs?","18/Mar/19 8:38 AM;manovotn;[~ochaloup] I know that it is supposed to be ""caller sensitive"" in a way that it operates a bean manager associated with whichever class invoked it (there is some underlying hierarchy of {{BeanManager}}s).
In WildFly there is [{{WeldProvider}}|https://github.com/wildfly/wildfly/blob/master/weld/subsystem/src/main/java/org/jboss/as/weld/WeldProvider.java] which implements this behaviour (how you obtain correct BM) which is then used by {{CDI.current()}}.

If you get ""wrong"" BM here, then you will not be able to see certain beans, even though they exist somewhere in the deployment.
The hierarchy of BMs is in place to enforce EE umbrella spec visibility limitations.
Maybe [~mkouba] would know more about {{CDI.current()}} in WFLY from the top of his head ;)

But from the exception we have seen here and from the fact that it sometimes fails and sometimes passes, I would rather guess that problem is in some service dependencies/startup order.  The error is intermittent and if {{CDI.current()}} is the faulty bit, then _I think_ we would be seeing consistent failures instead.","18/Mar/19 8:50 AM;mkouba;Hm, who should be producing a bean for the required type {{javax.naming.InitialContext}} consumed by https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/JNDIBean.java#L68?","20/Mar/19 6:21 AM;ochaloup;[~mkouba] I thought it's the container (WFLY) which would provide that. That's not right?

[~mkouba][~manovotn] do you think this type of change would be reasonable? : https://github.com/ochaloup/narayana/commit/964222d60c6f64849430057cd744d5ed6d1bba54
Does have some difference to do {{CDI.current().select(InitialContext.class).get().lookup(this.name)}} against the {{new InitialContext().lookup(this.name)}}?

[~rakcheru] I'm still not sure how to reproduce your issue. Do you think you have time to try how your case behaves with the [code changed referenced above|https://github.com/ochaloup/narayana/commit/964222d60c6f64849430057cd744d5ed6d1bba54]? If so I would provide you detailed steps for Narayana code base compilation and updating the module in WFLY.","20/Mar/19 7:09 AM;manovotn;bq. Martin Kouba I thought it's the container (WFLY) which would provide that. That's not right?

That is right. However, the question is where precisely is it coming from? EJB subsystem? Some other integration layer? CDI/Weld certainly doesn't provide {{InitialContext}} as a bean.
If we knew that, we could then look into why you sometimes can sometimes cannot select that bean.

As for proposed solution - that _should_ work because you no longer require CDI to get instance of {{InitialContext}}.
Though I am not sure you will get the correct instance? Not all that familiar with {{InitialContext}}, but I would expect some sharing of instances whereas here you basically create new one for each {{JNDIBean}} created.","20/Mar/19 8:15 AM;ochaloup;[~manovotn] I see. I was investigating a bit and I haven't found the place so far. I tried with weld logging but haven't got any catch. Would you have some clue for me how to get info on all the registered beans (which can be `@Inject`ed?)

To your point about `new IntialContext()` I think it's not an issue as it's practice used on many places in the container and second there should be possibly one `JNDIBean` in container(?, I can be easily missing how the CDI handles this).","20/Mar/19 9:22 AM;manovotn;bq. Would you have some clue for me how to get info on all the registered beans (which can be `@Inject`ed?)

Hmm, first thing coming to mind is a CDI extension with observer for container lifecycle events (such as bean addition - {{ProcessBean}}, or producer method etc).
[{{ProcessBean}}|http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#process_bean] is probably a good starting point as it triggers for every added bean, no matter if it is backed by class/producer method or added synthetically.

bq. To your point about `new IntialContext()` I think it's not an issue as it's practice used on many places in the container and second there should be possibly one `JNDIBean` in container(?, I can be easily missing how the CDI handles this).

Those are both good points, you are right :-)","20/Mar/19 11:11 AM;ljnelson;bq. Hm, who should be producing a bean for the required type javax.naming.InitialContext consumed by https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/JNDIBean.java#L68?

The fact that {{InitialContext}} is being sought as a bean comes from this (approved, merged) PR: https://github.com/jbosstm/narayana/pull/1346

It can be found here: https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/TransactionExtension.java#L89-L124

It is then used here: https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/JNDIBean.java#L68

So if {{CDI.current()}} doesn't in fact work in all places it can legally be called from then it's possible that that line in {{JNDIBean}} will have to be changed somehow.

","20/Mar/19 11:39 AM;ochaloup;[~ljnelson] oh, I got it. My wrong in understanding. [~manovotn][~mkouba] then it's Narayana CDI extension producing the bean :)

[~ljnelson] I haven't followed all the details, so the JNDI bean (https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/JNDIBean.java#L68) uses the InitialContext created in the extension (https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/TransactionExtension.java#L89-L124), is the issue of using {{IntialContext}} directly without binding it to the bean? (https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/TransactionExtension.java#L89-L124)","20/Mar/19 11:57 AM;ljnelson;{{AbstractBean}} instances are [in {{Dependent}} scope by default|https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/AbstractBean.java#L85-L88].  Therefore {{JNDIBean}} instances are also in {{Dependent}} scope by default, unless they override the {{getScope()}} method.  Indeed, the {{AbstractBean}} subclass created for {{InitialContext}} [overrides the scope to be {{Singleton}}|https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/TransactionExtension.java#L95-L98].

This means that anyone can {{@Inject}} an {{InitialContext}}, for example, and will receive a singleton at the injection point, and multiple creations of {{InitialContext}} will not happen.

If for some reason that is illegal or not desired or anything else, you can change this line: https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/JNDIBean.java#L76

If you eliminate the line, then the scope will be {{Dependent}} once again and a new {{InitialContext}} will be created for each injection point referencing {{InitialContext}}.  That obviously has pros and cons.

I have [another pull request open|https://github.com/jbosstm/narayana/pull/1403] where I could roll in any change that anyone wants here.","20/Mar/19 12:52 PM;ochaloup;[~ljnelson] I think the scope of the {{JNDIBean}} to be Singleton is fine. And I assume more correct. I'm currently trying to think in context of this WFLY-11858 issue.
Would be correct and possibly fixing this issue, removing the defintion of the bean {{AbstractBean<IntialContext>}} altogether and let the {{JNDIBean}} to use directly the initial context with {{new InitialContext().lookup(this.name)}}?","20/Mar/19 1:02 PM;ljnelson;Yes, the scope of any given {{JNDIBean}} should continue to be {{Singleton}}.  But the {{AbstractBean<InitialContext>}} subclass instance's scope should be {{Dependent}}, I think.

My guess (I don't really know, as I'm not up on the sophisticated classloading involved in .ear files here) is that any solution that allows the {{InitialContext}} to be created at the point that the {{lookup}} call is made will work.  So it would seem that in general it is not OK to have a single instance of {{InitialContext}} floating around, i.e. I believe that the scope of the {{AbstractBean<InitialContext>}} subclass should be {{Dependent}}, not {{Singleton}}.  I've updated this in my other (approved so far) [PR|https://github.com/jbosstm/narayana/pull/1403].

Making the {{JNDIBean}} ""use directly the initial context with {{new InitialContext().lookup(this.name)}}"" is exactly the same as placing the {{AbstractBean<InitialContext>}} in {{Dependent}} scope.  I personally prefer going through the bean here as it allows user-supplied {{InitialContext}} bean implementations.","20/Mar/19 1:10 PM;ljnelson;One possibility for an immediate workaround (I haven't tried it) might be to throw a quick portable extension together that programmatically adds {{@Dependent}} to the {{InitialContext}} class.  This should make {{InitialContext}} be discovered and used directly instead of the {{AbstractBean}} subclass implementation.","20/Mar/19 3:02 PM;ljnelson;Another possibility for a root cause: should the {{getBeanClass()}} method be overridden in the {{AbstractBean<InitialContext>}} subclass to return {{InitialContext.class}}?  While reading http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#selection_ee and http://docs.jboss.org/cdi/spec/2.0/cdi-spec.html#inter_module_injection I am concerned that if {{getBeanClass()}} returns {{AbstractBean$1.class}} or something similar, as it would, Wildfly might decide that such a class is not visible in the OP's scenario.","21/Mar/19 4:13 AM;manovotn;Hmm, the addition of the {{InitialContext}} bean is conditional though, see [this line|https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaJTA/cdi/classes/com/arjuna/ats/jta/cdi/TransactionExtension.java#L86].  I wonder if that might be the cause of the intermittent failures?

Because the exception is unsatisfied dependency which means that the bean wasn't picked up (again, intermittently). To me that seems like the registration didn't go through at all.
If I get it correctly, the ""visibility"" shouldn't be an issue here since both beans are within the same module, both are Narayana beans.

[~ljnelson] why was the addition conditional in the first place?","21/Mar/19 4:52 AM;mkouba;I believe you should not share an instance of {{InitialContext}} - the instance is not synchronized. So {{@Singleton}} is a wrong choice. To be honest, I don't see a good reason for the existence of the ""InitialContext"" bean. I would just use {{javax.naming.InitialContext.doLookup(Name)}} when needed. I also think that Java EE naming context is thread-specific and so it's not a good idea to perform a lookup ""outside the current invocation"".","21/Mar/19 5:22 AM;ochaloup;[~manovotn] the condition is there because of https://issues.jboss.org/browse/JBTM-3044. Narayana was hard coded with {{InitialContext}} and the idea here was to allow Weld SE application to provide transaction manager as an injectable bean which is not dependent on the {{IntialContext}} lookup. For WFLY we need {{IntialContext}} for looking up while for Java SE app is right the opposite.

[~ljnelson] I personally like what [~mkouba] affirmed. I understand the idea of the ""user-supplied InitialContext bean implementations"" but I don't think there is some reasonable demand for it.
Or use what you proposed here: https://github.com/ochaloup/narayana/commit/964222d60c6f64849430057cd744d5ed6d1bba54#commitcomment-32844727
But it's really a complicated code and I'm still not sure if there is somebody who like to provide the IntialContext as bean.","21/Mar/19 11:51 AM;ljnelson;bq. Laird Nelson I personally like what Martin Kouba affirmed. I understand the idea of the ""user-supplied InitialContext bean implementations"" but I don't think there is some reasonable demand for it.

OK, I'll remove it in my other PR.","22/Mar/19 3:57 AM;ochaloup;[~mkouba][~manovotn] the issue should be solved at the [~ljnelson]'s PR https://github.com/jbosstm/narayana/pull/1403/ (https://github.com/jbosstm/narayana/pull/1403/files#diff-b03d2da401b2b1c3c9b1be16a688ab46R120) where the `new InitialContext()` is used instead of `CDI.current()` as it was discussed here.

[~rakcheru] do you think you would be able to test the fix with your reproducer?","22/Mar/19 4:05 AM;rakcheru;[~ochaloup] Sure. Will try the fix and get back.","22/Mar/19 4:21 AM;ochaloup;[~rakcheru] great, thank you. If you have some troubles with installing the new version of narayana to WFLY, let me know. The summary of possible ways how to do so is available e.g. her https://developer.jboss.org/wiki/BuildingNarayanaAndUpdatingWildFlyModules","02/Apr/19 4:38 AM;rakcheru;[~ochaloup][~manovotn][~ljnelson][~mkouba]

Thanks for all your timely contribution.

Tested WildFly16-with-the-fix and the server is starting up just fine. No failures out of 50 times.

What is the plan for the fix ? Will there be a WildFlyv16.0.1 ?","02/Apr/19 5:01 AM;ochaloup;[~rakcheru] we already made the release of Narayana `5.9.5.Final` with the fix and the PR for the component in the new version being involved is created for WildFly (WFLY-11917). WildFly release is done quarterly (http://lists.jboss.org/pipermail/wildfly-dev/2017-December/006250.html) and micro releases are done only in case of some blocker issue.

I assume you would need take the WFLY16 and update the Narayana there or wait for the WFLY17 to be released (I expect the WFLY-11917 will be merged till that time).","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,
abstract classes with @EJB annotation included in libraries will cause deployment failures,WFLY-11870,12798093,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,thofman,wdfink,wdfink,19/Mar/19 12:11 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,24/Apr/19 6:47 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,,,,,,,,,,,0,deployment,downstream_dependency,injection,Regression,"If an archive include libraries with interfaces and abstract classes the deployment will fail if there are annotations for injection like @EJB.
Only if the injected EJB is available within the deployed file (or any other deployment) it is possible to deploy it.

As the abstract class can not cause any instance the failure does not make sense.
Also former versions are deploying the same file correct and work fine.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Mar/19 12:11 PM;wdfink;ReproducerInjection.zip;https://issues.redhat.com/secure/attachment/12448654/ReproducerInjection.zip",,,,,,,,,,,,,,,,Compatibility/Configuration,Migration,User Experience,,,,,,,,,,,,,2019-04-10 05:40:08.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,2.0,,,,,,,,,,"1|z043j8:",9223372036854775807,,0.0,,,,,"Use the attached Reproducer (not for build) and deploy the war files
slsbInjection/web-1/target/ejb31-Injection-web1.war
-> working
slsbInjection/web-2/target/ejb31-Injection-web2.war
-< deployment failure",,,,,,,,,,,"10/Apr/19 5:40 AM;thofman;Proposed PR: https://github.com/wildfly/wildfly/pull/12217

Waiting for Stuart to review.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Default transaction timeout coud be wrongly configured because of the TM initiation race condition,WFLY-11811,12795669,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ochaloup,ochaloup,ochaloup,05/Mar/19 11:47 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,19/Mar/19 5:44 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,"Transaction default timeout could be wrongly set up because of race condition in configuration of the {{CoordinatorEnvironmentBean}} and the {{TxControl}} class which is used on transaction begin and loads data from the coordinator bean to static variable.

The default transaction timeout defined by Narayana is 60 seconds. It's coded in source at https://github.com/jbosstm/narayana/blob/master/ArjunaCore/arjuna/classes/com/arjuna/ats/arjuna/common/CoordinatorEnvironmentBean.java#L74
The {{CoordinatorEnvironmentBean}} is instantiated with the default value or with value taken from system property or xml descriptor (https://jbossts.blogspot.com/2018/01/narayana-periodic-recovery-of-xa.html#configuration).

When new transaction is started it does not use directly the {{CoordinatorEnvironmentBean#getDefaultTimeout()}} but the {{TxControl#getDefaultTimeout()}} (https://github.com/jbosstm/narayana/blob/5.9.3.Final/ArjunaCore/arjuna/classes/com/arjuna/ats/arjuna/coordinator/TxControl.java#L75). 

From the [~stephen.fikes] testing with Byteman[1] when there is used the environment property {{-Dcom.arjuna.ats.arjuna.coordinator.defaultTimeout=301}} (should not be used for WFLY) and WFLY model configuration {{<coordinator-environment default-timeout=""302""/>}} we can see the {{CoordinatorEnvironmentBean.setDefaultTimeout}} is called twice. First time it's time of the bean initialization and the value of 301 is taken ({{BeanPopulator}} instantiates the bean and reset the default value of {{60}} to {{301}}. Next the ArjunaTransactionManagerService is started and set the value to 302 as model defines https://github.com/wildfly/wildfly/blob/16.0.0.Final/transactions/src/main/java/org/jboss/as/txn/service/ArjunaTransactionManagerService.java#L87.

Unfortunately, there is no changes for the {{TxControl}} class which is used during transaction startup. If the {{TxControl}} would be initialized before the {{ArjunaTransactionService}} is started then the value defined in the WFLY model would not be considered until a change in the CLI ({{/subsystem=transactions:write-attribute(name=default-timeout, value=100)}}) is done. The cli command causes the {{TxControl}} is reset - https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/subsystem/TransactionSubsystemRootResourceDefinition.java#L524

We should ensure the {{TxControl._defaultTimeout}} value is configured during {{ArjunaTransactionManagerService}} start up as well.

[1]
{code}
INFO  [stdout] (MSC service thread 1-2) [BMAN]
 CoordinatorEnvironmentBean.setDefaultTimeout(301)
 com.arjuna.ats.arjuna.common.CoordinatorEnvironmentBean.setDefaultTimeout(CoordinatorEnvironmentBean.java:-1)
 sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2)
 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 java.lang.reflect.Method.invoke(Method.java:498)
 com.arjuna.common.internal.util.propertyservice.BeanPopulator.handleSimpleProperty(BeanPopulator.java:312)
 com.arjuna.common.internal.util.propertyservice.BeanPopulator.configureFromProperties(BeanPopulator.java:172)
 com.arjuna.common.internal.util.propertyservice.BeanPopulator.getNamedInstance(BeanPopulator.java:87)
 com.arjuna.common.internal.util.propertyservice.BeanPopulator.getDefaultInstance(BeanPopulator.java:53)
 com.arjuna.ats.arjuna.common.arjPropertyManager.getCoordinatorEnvironmentBean(arjPropertyManager.java:51)
 com.arjuna.ats.arjuna.coordinator.BasicAction.<clinit>(BasicAction.java:3754)
 com.arjuna.ats.internal.jta.recovery.arjunacore.CommitMarkableResourceRecordRecoveryModule.<clinit>(CommitMarkableResourceRecordRecoveryModule.java:79)
 java.lang.Class.forName0(Class.java:-2)
 java.lang.Class.forName(Class.java:264)
 com.arjuna.common.internal.util.ClassloadingUtility.loadClass(ClassloadingUtility.java:57)
 com.arjuna.common.internal.util.ClassloadingUtility.loadClass(ClassloadingUtility.java:85)
 com.arjuna.common.internal.util.ClassloadingUtility.loadAndInstantiateClass(ClassloadingUtility.java:117)
 com.arjuna.common.internal.util.ClassloadingUtility.loadAndInstantiateClassesWithInit(ClassloadingUtility.java:192)
 com.arjuna.ats.arjuna.common.RecoveryEnvironmentBean.getRecoveryModules(RecoveryEnvironmentBean.java:465)
 com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.loadModules(PeriodicRecovery.java:883)
 com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.<init>(PeriodicRecovery.java:121)
 com.arjuna.ats.internal.arjuna.recovery.RecoveryManagerImple.<init>(RecoveryManagerImple.java:107)
 com.arjuna.ats.arjuna.recovery.RecoveryManager.<init>(RecoveryManager.java:477)
 com.arjuna.ats.arjuna.recovery.RecoveryManager.manager(RecoveryManager.java:132)
 com.arjuna.ats.arjuna.recovery.RecoveryManager.manager(RecoveryManager.java:112)
 com.arjuna.ats.jbossatx.jta.RecoveryManagerService.create(RecoveryManagerService.java:54)
 org.jboss.as.txn.service.ArjunaRecoveryManagerService.start(ArjunaRecoveryManagerService.java:126)
 org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:2032)
 org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1955)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)

INFO  [stdout] (MSC service thread 1-2) [BMAN]
 CoordinatorEnvironmentBean.setDefaultTimeout(302)
 com.arjuna.ats.arjuna.common.CoordinatorEnvironmentBean.setDefaultTimeout(CoordinatorEnvironmentBean.java:-1)
 org.jboss.as.txn.service.ArjunaTransactionManagerService.start(ArjunaTransactionManagerService.java:88)
 org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:2032)
 org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1955)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748) 
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:50.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12140,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03qoc:",9223372036854775807,,0.0,,,https://access.redhat.com/support/cases/#/case/02261154,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Galleon and WFGP 4.0.0.Final,WFLY-12062,12806459,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aloubyansky,aloubyansky,aloubyansky,10/May/19 10:40 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,10/May/19 2:56 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,Upgrade to the final version of Galleon and WFGP 4.0.0.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:49.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12271,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05ev0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-ejb-api_3.2_spec to 1.0.2.Final,WFLY-12007,12803607,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,18/Apr/19 7:53 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,24/Apr/19 6:49 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-18 20:27:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z04ym4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Apr/19 8:27 PM;jamezp;Changes appear to be in the POM only https://github.com/jboss/jboss-ejb-api_spec/compare/jboss-ejb-api_3.2_spec-1.0.1.Final...1.0.2.Final","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bugs in Documentation for Elytron,WFLY-11838,12796902,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dvilkola,dvilkola,dvilkola,12/Mar/19 7:37 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,19/Mar/19 5:40 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Documentation,Security,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:49.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12152,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03wmc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent failures in WebsocketApplicationScopedTestCase,WFLY-12054,12806039,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mmarusic,brian.stansberry,brian.stansberry,07/May/19 9:22 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,11/May/19 9:05 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,CDI / Weld,Test Suite,,,,,,,,,,0,,,,,"https://ci.wildfly.org/project.html?projectId=WF_PullRequest&buildTypeId=&tab=testDetails&testNameId=-8608833796003106928&order=TEST_STATUS_DESC&branch_WF_PullRequest=__all_branches__&itemsCount=50

Problem is this:

{code}
try (Session session = ContainerProvider.getWebSocketContainer().connectToServer(Client.class, uriUser1)) {
            //Wait until the client is initialized e.q. the OnOpen is executed
            Thread.sleep(10);
            Assert.assertTrue(queues.size() > 0);
{code}

That kind of pattern of a short sleep followed by an assert is not reliable.

This should loop checking periodically and only fail after an appropriate amount of time has passed. Unless that amount of time is relevant to what's being tested it should be a long time, 20 secs min, with TimeoutUtil.adjust used.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-10 05:24:37.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05cd0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"10/May/19 5:24 AM;mmarusic;[~brian.stansberry] Thank you so much for reporting this. I've created a PR with fix for this https://github.com/wildfly/wildfly/pull/12269. Could you please take a look at it whether it fits the recommendations you mentioned in this issue?","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WildFly management console fails to load deployments if war fails to deploy,WFLY-12050,12805796,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,philjulien,philjulien,06/May/19 10:36 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,11/May/19 10:32 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,"When a .war that has servlets declared using @WebServlet fails to deploy, the console cannot list any deployments.


Here is the exception that is logged by WildFly: 

{noformat}
09:52:08.629 [org.jboss.as.controller.management-operation] WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""deployment"" => ""test-war.war""),
    (""subsystem"" => ""undertow""),
    (""servlet"" => ""com.test.TestServlet"")
]): java.lang.IllegalStateException
	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:50)
	at org.wildfly.extension.undertow.DeploymentServletDefinition$AbstractMetricsHandler$1.execute(DeploymentServletDefinition.java:175)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1412)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:255)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
	at org.jboss.as.domain.http.server.DomainApiHandler.handleRequest(DomainApiHandler.java:212)
	at io.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at org.jboss.as.domain.http.server.DomainApiCheckHandler.handleRequest(DomainApiCheckHandler.java:93)
	at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.lambda$handleRequest$0(ElytronIdentityHandler.java:62)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.handleRequest(ElytronIdentityHandler.java:61)
	at io.undertow.server.handlers.BlockingHandler.handleRequest(BlockingHandler.java:56)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{noformat}

I have pushed a small reproducer .war application here: https://github.com/philippejulien/test-war",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/May/19 10:37 AM;philjulien;Screen Shot 2019-05-06 at 10.37.03 AM.png;https://issues.redhat.com/secure/attachment/12450390/Screen+Shot+2019-05-06+at+10.37.03+AM.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-07 15:47:41.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,3.0,,,,,,,,,,"1|z05axg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"07/May/19 3:47 PM;brian.stansberry;Changing the component on this as this isn't really a client side console problem.

https://github.com/wildfly/wildfly/pull/12263 is the likely fix.","08/May/19 10:42 AM;philjulien;[~brian.stansberry] I tried your likely fix but unfortunately there is still an exception with a slightly different stack trace.

{noformat}
10:34:02.275 [org.jboss.as.controller.management-operation] WFLYCTL0013: Operation (""read-attribute"") failed - address: ([
    (""deployment"" => ""test-war.war""),
    (""subsystem"" => ""undertow""),
    (""servlet"" => ""com.test.TestServlet"")
]): java.lang.IllegalStateException
	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:50)
	at org.wildfly.extension.undertow.DeploymentServletDefinition$5$1.execute(DeploymentServletDefinition.java:138)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1412)
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:423)
	at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:243)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:289)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:255)
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:243)
	at org.jboss.as.domain.http.server.DomainApiHandler.handleRequest(DomainApiHandler.java:212)
	at io.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at org.jboss.as.domain.http.server.DomainApiCheckHandler.handleRequest(DomainApiCheckHandler.java:93)
	at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.lambda$handleRequest$0(ElytronIdentityHandler.java:62)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.domain.http.server.security.ElytronIdentityHandler.handleRequest(ElytronIdentityHandler.java:61)
	at io.undertow.server.handlers.BlockingHandler.handleRequest(BlockingHandler.java:56)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:364)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)
{noformat}

I guess you also need to add the ""|| deploymentServiceController.getState() != ServiceController.State.UP"" in the other condition.
","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate ORM from 5.3.9 to 5.3.10,WFLY-12008,12803805,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gbadner,soul2zimate,soul2zimate,18/Apr/19 10:03 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,24/Apr/19 6:50 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,JPA / Hibernate,,,,,,,,,,0,downstream_dependency,,,,Diff https://github.com/hibernate/hibernate-orm/compare/5.3.9...5.3.10,,,,,,,,,,,,,,,WFLY-11875,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:48.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12242,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04zqs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
@PostConstruct on @ApplicationScoped bean called too late in case @Valid is annotated on a business method,WFLY-11956,12801433,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ron_sigal,jbaesner,jbaesner,08/Apr/19 9:23 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,22/May/19 11:55 AM,16.0.0.Final,,,,,17.0.0.Beta1,17.0.0.Final,,Bean Validation,REST,,,,,,,,,,0,downstream_dependency,,,,"Having a bean class with {{@ApplicationScoped}}, which has a {{@PostConstruct}} and is implementing  the following _Interface_:

{code}
@Path(""/validated"")
public interface ValidatedJaxRsInterface {
    
    @GET
    @Valid
    @Produces(MediaType.APPLICATION_JSON)
    GreetingModel getHelloGreeting();
}
{code}

will result in calling the {{getHelloGreeting}} method of the implementation class twice *_before_* the {{@PostConstruct}} is getting executed.

This can be reproduced with the attached reproducer application...",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Apr/19 5:45 PM;brian.stansberry;logging.txt;https://issues.redhat.com/secure/attachment/12449482/logging.txt","08/Apr/19 9:20 AM;jbaesner;playground.zip;https://issues.redhat.com/secure/attachment/12449339/playground.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-09 03:05:37.0,,,,,,,,,,,,,,,,,,,,,,,,,,2.0,44.0,,,,,,,,,,"1|z04mt8:",9223372036854775807,,0.0,,,,,See the attached {{playground.zip}} reproducer project...,,,,,,,,,,,"09/Apr/19 3:05 AM;mkouba;For the record: The first request actually results in 3 {{getHelloGreeting()}} invocations. Only the last one seems to be invoked upon the correct bean instance. It works as expected if the {{@Valid}} annotation is removed.","09/Apr/19 6:11 PM;brian.stansberry;[~asoldano] I'm going to pass this one to you as the attached logging.txt from the reproducer application shows resteasy as being centrally involved in the two unexpected invocations, as it's JaxrsInjectionTarget that is triggering validation of the bean.

org.jboss.weld.bean.ManagedBean.create calls JaxrsInjectionTarget.inject before it calls JaxrsInjectionTarget.postConstruct. It's the inject call that results in the ""early"" invocations of getHelloGreeting.

[~guillaume.smet] [~manovotn] FYI.

I don't know that what's being done here is necessarily wrong.

An aside from whether JaxrsInjectionTarget.inject should be validating before the @PostConstruct is the first stack trace is a bit funky, where the JPA (Hibernate) PersistenceUtilHelper ends up invoking getHelloGreeting.","11/Apr/19 8:57 AM;manovotn;I took a glance at this (as a CDI guy, with resteasy and validator and I am greenhorn so mind that please).
Looking at what jaxrs does, there is a wrapper for CDI's {{InjectionTarget}} - that's the {{JaxrsInjectionTarget}} Brian mentioned earlier.
Behind the scenes, it enriches the invocation of {{inject()}} that CDI performs with jaxrs property injection and finally with validation.

Since {{InjectionTarget}} also has {{postConstruct()}} method, the validation could theoretically be moved there - I did a dirty check with this and it worked for me (for the test application). Notably this works even if the class itself does not use any {{@PostConstruct}}, the method on {{InjectionTarget}} will be invoked all the same. Not a clue what else it can possibly break though ;-)

Nonetheless, none of the above explains why hibernate validator calls the method *twice* which it IMO shouldn't.
It does so from [these two subsequent lines|https://github.com/hibernate/hibernate-validator/blob/6.0.15.Final/engine/src/main/java/org/hibernate/validator/internal/engine/ValidatorImpl.java#L561-L562] - the if check and the following line both end up with a reflective method invocation. I suppose this could be done once and the result stored if it's needed for several separate validations?","11/Apr/19 10:31 AM;mkouba;I don't understand why any {{InjectionTarget}} method should trigger method-level validation? Or even call the method? Method-level validation should be performed when a method is invoked. Or am I missing something? [~guillaume.smet] do you have an idea?","11/Apr/19 11:11 AM;brian.stansberry;[~mkouba] -- [~guillaume.smet] was having trouble accessing JIRA but posted this input in Zulip:

Guillaume Smet: the gist of the issue is - I think - that the rest endpoint has a getter name
Guillaume Smet: HV considers it is a property and tries to validate as it is validating the bean is properly configured
Guillaume Smet: just removing the get prefix should fix the issue if my assumption is right

[~jbaesner] ^^^ is a possible workaround.","11/Apr/19 12:34 PM;asoldano;[~ron_sigal] knows the resteasy validation better than me, so let me pass this to him, in case there's anything that needs to be done on the RESTEasy side.","11/Apr/19 12:59 PM;ron_sigal;Ok, I'll take a look.","11/Apr/19 3:35 PM;christian.zambrano;Hi,

I am the person that reported the issue. When I opened the case with Redhat support, I did indicate that changing the name solved the issue but that is not a viable workaround because we have hundreds of rest endpoints methods that start with get.

Here are all the experiments I went through and the results:
Here are all the experiments I went through to try to understand this behavior:
1. Made the bean @ApplicationScope => Exhibits the behavior explained above
2. Made the bean @Stateless => Exhibits the behavior explained above
3. Made the bean @Singleton(from the ejb package) => Exhibits the behavior explained above
4. Made the bean @Singleton @Startup => Method is only called once and after the postconstruct as expected but the return value is not validated
5. Renamed the method to not start with 'get' => Method is only called once and after the postconstruct as expected

","11/Apr/19 4:17 PM;jbaesner;Thanks Christian for confirming this to be a valid workaround, but it is not viable for you. Anyhow it is a bug calling the business method before the @PostConstruct","22/Apr/19 2:15 PM;ron_sigal;I was supposed to look into this issue, and I got distracted. Sorry. Will look at it today.","22/Apr/19 9:48 PM;ron_sigal;There seem to be two issues.

1. As Christian has verified, it seems that getHelloGreeting() is getting called because A) it is a getter, and B) @Valid says that the returned GreetingModel should be validated, which means that getHelloGreeting() must be called.

[By the way, getHelloGreeting() is called twice by way of isCascadeRequired() and getCascadableValue() in the method validateCascadedConstraints() in org.hibernate.validator.internal.engine.ValidatorImpl:
{code}
if ( isCascadeRequired( validationContext, valueContext.getCurrentBean(), valueContext.getPropertyPath(), elementType ) ) {
	Object value = getCascadableValue( validationContext, valueContext.getCurrentBean(), cascadable );
{code}
]

It seems to me that there should be a global way to prevent getters from being called. In fact, the default behavior is that getters are *not* called. But, beyond that, adding a META-INF/validation.xml with something like
{code}
    <executable-validation>
        <default-validated-executable-types>
            <executable-type>CONSTRUCTORS</executable-type>
            <executable-type>NON_GETTER_METHODS</executable-type>
        </default-validated-executable-types>
    </executable-validation>
{code}
should, I think, solve the problem. When I try that, though, it doesn't seem to help. [~guillaume.smet], can you comment on that?

2. The other issue is the fact that validation is instigated by JaxrsInjectionTarget.inject(). Probably I should check for the presence of a @PostConstruct annotated method, and, in its presence, start validation from JaxrsInjectionTarget.postConstruct(). So that's a fixable bug.","22/Apr/19 9:51 PM;ron_sigal;re: ""I don't understand why any InjectionTarget method should trigger method-level validation? Or even call the method? Method-level validation should be performed when a method is invoked.""

[~mkouba], actually, it's not method validation that is being triggered, it's field/property validation. Validating the ""helloGreeting"" property requires calling getHelloGreeting().","23/Apr/19 4:47 AM;manovotn;bq. 2. The other issue is the fact that validation is instigated by JaxrsInjectionTarget.inject(). Probably I should check for the presence of a @PostConstruct annotated method, and, in its presence, start validation from JaxrsInjectionTarget.postConstruct(). So that's a fixable bug.

[~ron_sigal] Like I said earlier, you can move the validation to the {{postConstruct()}} instead of {{inject()}} method in all cases as that method did get invoked even if I commented out the {{@PostConstruct}} method on the bean itself. ","23/Apr/19 9:39 AM;christian.zambrano;> 1. As Christian has verified, it seems that getHelloGreeting() is getting called because A) it is a getter, and B) @Valid says that the returned GreetingModel should be validated, which means that getHelloGreeting() must be called.

[~ron_sigal] I know you just explained this to Martin above but I still don't get it. Here is how I am interpreting what you are saying, The Valid annotation is on a method, which one would expect would be triggered on method invocation, but because it is on a method that starts with 'get'(JavaBeans standard), the Valid annotation seems to be interpreted as requesting field-level validation which results on the call to getHelloGreeting be called right after a object of the class that implements the interface ValidatedJaxRsInterface is instantiated to answer the rest call instead of waiting for the method to be called for the first time. Did I get that right?

Your proposal of delaying the behavior described above until the PostConstruct is called, while better it can still lead to problems as the postConstruct may not have initialized everything is needed for the method to be called so having a way to turn this behavior off would be ideal for these cases. 

","23/Apr/19 12:44 PM;ron_sigal;re: ""Like I said earlier, you can move the validation to the postConstruct() instead of inject() method in all cases as that method did get invoked even if I commented out the @PostConstruct method on the bean itself.""

[~manovotn], that's very interesting. I'm wondering, though, if that's a Weld-specific behavior. The javadoc doesn't seem to guarantee that postConstruct() will be called.

re: ""Did I get that right?""

[~christian.zambrano], I think that's correct, or nearly so. I would express it like this: ""The fact that getHelloGreeting() is a getter means that the associated property must be validated if there are any validating annotations on the method, in which case getHelloGreeting() must be called. The @Valid annotation is one such validating annotation.""

re: ""Your proposal of delaying the behavior described above until the PostConstruct is called, while better it can still lead to problems as the postConstruct may not have initialized everything is needed for the method to be called ...""

[~christian.zambrano], I don't understand. My understanding is that postConstruct() would be called after all CDI injections are performed. Calling the @PostConstruct annotated method would be the last chance to perform additional initialization, so doing the verification after that would seem to be OK. What am I missing?

re: ""so having a way to turn this behavior off would be ideal for these cases.""

[~christian.zambrano], sorry, which behavior are you referring to?","24/Apr/19 2:47 AM;manovotn;bq. Matěj Novotný, that's very interesting. I'm wondering, though, if that's a Weld-specific behavior. The javadoc doesn't seem to guarantee that postConstruct() will be called.

Well, {{InjectionTarget#postConstruct()}}, according to spec, _calls the @PostConstruct callback, if it exists_. It kind of makes sense to call this every time and within this method you figure whether you actually have some of those methods, or make it no-op otherwise. Cannot guarantee that other impls don't handle it differently though.","24/Apr/19 8:58 AM;christian.zambrano;> Christian Zambrano, I don't understand. My understanding is that postConstruct() would be called after all CDI injections are performed. Calling the @PostConstruct annotated method would be the last chance to perform additional initialization, so doing the verification after that would seem to be OK. What am I missing?

A class can impose a contract where a series of methods calls may have to take place on an object before a given method should be called, whether all of the required calls can be done in a PostConstruct is hard to know. Can't really come up with a real-life example. Having a method be called **outside** when it is attempted to be accessed by a client is just plain unexpected. After taking a look at the Bean Validation spec it looks like methods that comply with the JavaBean naming convention are expected to be called to validate an object so having these methods be called after the @PostConstruct is called is as good as it can get and it would solve our **current** problem

> Christian Zambrano, sorry, which behavior are you referring to?

I was simply trying to agree that if having a validation.xml with the contents you provided would have turned off this behavior that would have been the best answer for an app-developer to control this behavior. ","24/Apr/19 12:58 PM;ron_sigal;re: ""t kind of makes sense to call this every time and within this method you figure whether you actually have some of those methods, or make it no-op otherwise. Cannot guarantee that other impls don't handle it differently though.""

Well, yes, [~christian.zambrano], but the CDI implementation could check if there is a @PostConstruct annotated method and, if not, skip calling postConstruct(). It seems safer to not assume that postConstruct() will be called.

re: ""whether all of the required calls can be done in a PostConstruct is hard to know""

The javadoc for @PostConstruct says, ""The PostConstruct annotation is used on a method that needs to be executed after dependency injection is done to perform any initialization."" It sounds like it's saying that in a *properly defined* class, all initialization would be completed after a call to a @PostConstruct annotated method, at which point it would be safe to do validation. If a class doesn't adhere to that, then it's out of our hands.

re: ""I was simply trying to agree that if having a validation.xml with the contents you provided would have turned off this behavior that would have been the best answer for an app-developer to control this behavior. ""

Ah, good. I wish I understood why I'm not getting the behavior I expect. [~guillaume.smet], can you explain what I'm missing?
","24/Apr/19 1:21 PM;christian.zambrano;> The javadoc for @PostConstruct says, ""The PostConstruct annotation is used on a method that needs to be executed after dependency injection is done to perform any initialization."" It sounds like it's saying that in a properly defined class, all initialization would be completed after a call to a @PostConstruct annotated method, at which point it would be safe to do validation. If a class doesn't adhere to that, then it's out of our hands.

Good point. Thanks for highlighting that. 

","24/Apr/19 6:26 PM;guillaume.smet;[~ron_sigal] My understanding is that it's not the getter validation that is triggered. The field and getter form a unique validated entity called a property in HV.

When validating the bean in {{JaxrsInjectionTarget}}, you validate the bean itself  and thus all its properties - so all the fields and getters. It is not method validation but property validation. That's why your configuration in the XML file is useless. Getters are already not validated methods by default. But... they are validated when you validate the properties of a bean.

I'm not sure I'm seeing an easy way to disable this behavior as doing it globally with a configuration knob seems a bit dangerous as it would also disable it for the domain objects.

We could probably imagine an entry point specific to {{JaxrsInjectionTarget}} to avoid validating the getters too but I'm not sure how dirty it would be and we would also probably need to keep the HV metadata generated by this entry point separate.

[~gunnar.morling] any thoughts on that? I'm surprised it only surfaces now tbh as it seems a potentially very common issue.","24/Apr/19 9:33 PM;ron_sigal;Thanks, [~guillaume.smet]. Yes, I see what I had wrong about getters. Hmm. Hmm.

Could we have a
{code}
    <field-validation>
        <do-not-validate>
            <property class=""ValidatedJaxRsInterface"">helloGreeting</property>
        </do-not-validate>
    </field-validation>
{code}
in validation.xml that overrides the @Valid in
{code}
    @GET
    @Valid
    @Produces(MediaType.APPLICATION_JSON)
    GreetingModel getHelloGreeting();
{code}
Or, remember when we talked about fields and properties being the same? Maybe we could have something like
{code}
    <property-validation>
        <default-validated-property-types>
            <property-type>FIELD</executable-type>
            <property-type>GETTER</executable-type>
        </default-validated-property-types>
    </property-validation>
{code}
where we could leave out GETTER.","25/Apr/19 12:19 PM;gunnar.morling;Hi, AFAICS, this is a case of (mostly) ""works as designed"": JAX-RS mandates the validation of properties on the resource class (see the validation routine in 7.6 of the [JAX-RS 2.0. spec|https://download.oracle.com/otn-pub/jcp/jaxrs-2_0-fr-eval-spec/jsr339-jaxrs-2.0-final-spec.pdf], phase 2 (""Validate annotations on fields, property getters (if enabled) and the resource class.""). So a resource method that follows the bean property naming semantics would be validated here. Note I say ""mostly"", is this should only explain *one* invocation, but not two.

As [~guillaume.smet] points out, suppressing this validation will not be trivial, as in all likelyhood one still would want to validate any other getters which are not also resource endpoints to be validated in that phase 2. The immediate work-around would be indeed to avoid naming resource endpoint methods as getters.

In addition we might explore providing more fine-grained control over the properties to validate during phase 2. Essentially, it'd require some sort of filtering SPI provided by HV and implemented by RESTEasy which gives the latter the control to exclude specific properties from validation. But I'd consider this more as feature request for future versions than as a bug fix (again apart from the fact that the method seems to be invoked twice before post-construct).","25/Apr/19 12:33 PM;ron_sigal;Hi [~gunnar.morling], thanks for checking in. I agree that everything suggests that getHelloGreeting() *should* be executed during validation of properties (well, once, anyway). I.e., I agree that for the most part, we're not talking about a bug. Indeed, my two configuration suggestions should be considered feature requests. 

As far as I can see, there is no easy solution that we can offer, which sends us back to the possibility of renaming the get methods. It reminds me of a joke my father used to tell. A guy goes to the doctor and says, ""Doc, it hurts when I raise my arm."" The doctor says, ""So don't raise your arm.""

Sorry, [~christian.zambrano], I don't mean to make light of the problem.

Two things that can, and should be done are:

 1. RESTEasy should look for a @PostConstruct method and, in its presence, initiate validation from JaxrsInjectionTarget.postConstruct().
 2. The two calls to getHelloGreeting() should be investigated in Hibernate Validator. 

Does anyone else have any suggestions?
","25/Apr/19 1:00 PM;guillaume.smet;Well, as demonstrated in the attached log file, the two calls are from completely different paths. It is not a bug per se.

The first call comes from:
{code}
    javax.persistence.Persistence$PersistenceUtilImpl.isLoaded(Persistence.java:154)
    org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.isReachable(JPATraversableResolver.java:52)
    org.hibernate.validator.internal.engine.resolver.CachingJPATraversableResolverForSingleValidation.lambda$isReachable$0(CachingJPATraversableResolverForSingleValidation.java:43)
{code}

As you have a {{@Valid}} on the property, we have to check if the value is reachable from a JPA perspective. Unfortunately, we don't have a way to easily check if an object is a possible entity so right now, for each class, we ask Hibernate ORM if the value of the property is an initialized value or some sort of lazy proxy. I will try to ask Steve if he sees a better way to do that and if we could somehow determine if the object is an entity.

The second call is the validation itself, for which you obviously need the value.

As for adding an additional SPI, why not but I'm not a big fan of including it in a micro release so it will have to wait for 6.1.","25/Apr/19 1:41 PM;ron_sigal;Hi [~guillaume.smet],

When I looked at the stacktraces, I saw
{code}
    ...
    org.hibernate.validator.internal.engine.ValidatorImpl.isCascadeRequired(ValidatorImpl.java:1331)
    org.hibernate.validator.internal.engine.ValidatorImpl.validateCascadedConstraints(ValidatorImpl.java:561)
    org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:389)
{code}
and
{code}
    ...
    org.hibernate.validator.internal.engine.ValidatorImpl.getCascadableValue(ValidatorImpl.java:1380)
    org.hibernate.validator.internal.engine.ValidatorImpl.validateCascadedConstraints(ValidatorImpl.java:562)
    org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:389)
{code}
Speaking out of ignorance, I just wondered if ValidatorImpl.getCascadableValue() and ValidatorImpl.isCascadeRequired() could be combined. ","25/Apr/19 1:43 PM;ron_sigal;On the same subject, it occurs to me that even if a getter method really is *intended* to be a getter method, there's a problem if it's not idempotent. ","25/Apr/19 2:04 PM;christian.zambrano;[~ron_sigal] [~gunnar.morling] To help other people(or myself) following the case here is the section of the spec quoted:
JAX-RS implementations SHOULD use the following process to validate resource class instances after theyhave been instantiated:
Phase 1 - Inject field values and initialize bean properties as described in Section 3.2.
Phase 2 - Validate annotations on fields, property getters (if enabled) and the resource class.  The order inwhich these validations are executed is implementation dependent.
Phase 3 - Validate annotations on parameters passed to the resource method matched.
Phase 4 - If no constraint violations found thus far, invoke resource method and validate returned value

I don't think the spec forbids an implementation to perform phase 2 after the call to PostConstruct, so you are correct the current implementation is not wrong but I think it is hard to argue that it has undesirable side effects. Calling the PostConstruct before Phase 2 would still be in compliance with the spec and would better fit the sequence of events that are expected from CDI which is for the PostConstruct to be called after injections. ","25/Apr/19 2:05 PM;guillaume.smet;Hi Ron,

Well, for the first one, you'll see that the HV part does not have the value, just the root object and the property name: it's Hibernate ORM doing the value resolution in the end.

I asked on the hibernate-dev list if we could have a way to know if a class is potentially managed by ORM because it doesn't make sense to ask ORM if a property is loaded if the root object is not managed by ORM.

The issue is that we are talking JPA here as the current model supports potentially having several persistence providers.

About your getter question: Bean Validation really supposes that your objects are following the Java Beans specification.","25/Apr/19 2:15 PM;christian.zambrano;One more thing I would like to make sure we all understand, is that the sequence of events on EAP 6(Jax-rs 1.1 and bean validation 1.0) is different and doesn't have this issue. Only mentioning this to provide context as to why we chose methods that start with 'get'","26/Apr/19 12:04 PM;ron_sigal;Thanks for clarifying, [~guillaume.smet]. At least I defensively claimed ignorance. ;-)

re: ""Bean Validation really supposes that your objects are following the Java Beans specification.""

I think that's one underlying point here. It's fair to assume that getters really are getters, in the Java Beans sense. [~christian.zambrano], sorry, but I think we may not have a happy ending here. 

As for the issue with getters being executed twice, I note that Section 7.1 ""Accessor methods"" of the Javabeans spec (https://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf) says, ""So properties need not just be simple data fields, they can actually be computed values. Updates may have various programmatic side effects."" I.e., getters aren't required to be idempotent, so calling them twice seems like a problem.

re: ""Calling the PostConstruct before Phase 2 would still be in compliance with the spec and would better fit the sequence of events that are expected from CDI which is for the PostConstruct to be called after injections.""

[~christian.zambrano], yes, I agree. The JAX-RS spec is silent on the question of postConstruct(), so ignoring it can't be considered a bug, but I agree that validating *after* calling the @PostConstruct method is more in line with the spirit of the algorithm. I've created RESTEASY-2227 ""Validate fields/properties after calling @PostConstruct annotated method, if one exists"" to get that done.","26/Apr/19 12:04 PM;ron_sigal;I sent a question about @PostConstruct to the jax-rs mailing list (jaxrs-dev@eclipse.org). I think the issue should be mentioned in the spec.","26/Apr/19 12:44 PM;ron_sigal;Another question.

My understanding, based on [~guillaume.smet]'s clarification, is that 
{code}
    @Path(""get"")
    @GET
    @Valid
    @Produces(MediaType.APPLICATION_JSON)
    GreetingModel getHelloGreeting();
{code}
should lead to GreetingModel getting validated during the field/property validation phase, but a call like 
{code}
client.target(""http://localhost:8081/get"").request().get()
{code}
should, by default, *not* result in validating GreetingModel. 

Now, [~christian.zambrano] has pointed out that Phase 2 of the JAX-RS validation algorithm says, ""Validate annotations on fields, property getters (if enabled) and the resource class."" The parenthetical ""if enabled"" seems to contradict what I thought I understood.  Hmmm.","26/Apr/19 12:45 PM;christian.zambrano;>  The JAX-RS spec is silent on the question of postConstruct(), so ignoring it can't be considered a bug,

Agreed and happy to see that at least consideration is being given to improve the experience with the current implementation. ","26/Apr/19 1:00 PM;christian.zambrano;What does ""if enabled"" mean in this case? I did read that and assumed that there was a part of the spec I didn't understand. Is this referring to the part of the bean validation spec about the executable validation options?","26/Apr/19 3:04 PM;ron_sigal;Santiago Pericas-Geertsen agreed that it's worth mentioning @PostConstruct in the context of validation, and I've just created JAX-RS issue https://github.com/eclipse-ee4j/jaxrs-api/issues/759 ""Clarify role of @PostConstruct annotated methods in validation steps"".

","26/Apr/19 3:48 PM;gunnar.morling;{quote}
What does ""if enabled"" mean in this case? I did read that and assumed that there was a part of the spec I didn't understand.
{quote}

I was stumbling upon this one, too. IMO it doesn't make sense that it refers to the executable validation options, as this step is about validating properties (fields and getters). I have no good idea what else it could mean, would be nice to hear back from Santiago about this, too, in case he remembers.","26/Apr/19 4:51 PM;ron_sigal;[~gunnar.morling], I got a response from Santiago. I'm still digesting it. \[Santiago's remarks are in red.\]

========================================
{color:#DE350B}Hi Ron,

 See inline.
{color}
 
> Hi Santiago,
>
> I just created https://github.com/eclipse-ee4j/jaxrs-api/issues/759.
>
> As for the ""if enabled"", I had some confusion on that point, but then I thought Guillaume Smet from the Hibernate Validator project clarified it. In particular, he said that GreetingModel in
>
>         @GET
>         @Valid
>         @Produces(MediaType.APPLICATION_JSON)
>         GreetingModel getHelloGreeting() {...}
>
> is getting validated during the property validation phase, rather than when getHelloGretting() is called as a resource method.

 {color:#DE350B}Right, so having a resource method that looks like a getter is bad idea to begin with. Section 7.4 of the JAX-RS spec talks specifically about this case.{color}
>
> To quote him, ""When validating the bean in JaxrsInjectionTarget, you validate the bean itself and thus all its properties - so all the fields and getters. It is not method validation but property validation. That's why your configuration in the XML file is useless. Getters are already not validated methods by default. But... they are validated when you validate the properties of a bean"", where, by ""your configuration in the XML file"" he is referring to
>
>         <executable-validation>
>             <default-validated-executable-types>
>                 <executable-type>CONSTRUCTORS</executable-type>
>                 <executable-type>NON_GETTER_METHODS</executable-type>
>             </default-validated-executable-types>
>         </executable-validation>
>
> So, the point is that there seems to be no mechanism for disabling getter validation during the field/property validation phase. So ""if enabled"" doesn't seem to be applicable. Does that make sense?

 {color:#DE350B}Looks like there may have been some confusion here. We certainly heard at the time “Getters are not validated by default” and that is what prompted the creation of Section 7.4. I don’t believe we heard that they were validated in some other phase. If so, there’s a clear disconnect in the JAX-RS spec. 

 It’s interesting because the JAX-RS spec was reviewed by validation experts at the time. I must say, it would make more sense for getters to be validated. Perhaps the scope of your issue needs to be broaden to cover this … 

— Santiago{color}

> On 4/26/19 2:05 PM, Santiago
>       Pericas-Geertsen wrote:
{color:#DE350B}>> Ron,
>>
>>  I agree, the JAX-RS spec should mention @PostContruct as part of the validation process. Do you want to file an issue?
>>
>>  Incidentally, the “if enabled” is because getters are not validated by default as described in Section 7.4 of the JAX-RS spec.
>>
>> — Santiago{color}
>>
>>> On Apr 26, 2019, at 12:03 PM, Ron Sigal <rsigal@redhat.com> wrote:
>>>
>>> The spirit of the validation process is that validation of fields/properties should take place after injection and initialization has occurred. Given that further initialization could take place in a @PostConstruct annotated method, shouldn't the spec mention that?
>>>
>>> This question arose from discussion in https://issues.jboss.org/browse/WFLY-11956 ""@PostConstruct on @ApplicationScoped bean called too late in case @Valid is annotated on a business method"".
>>>
>>> -Ron
","26/Apr/19 5:47 PM;ron_sigal;Ok, consider
{code}
int id = 3;

@Path(""id"")
@GET
@Max(7)
public int getId() {
   return id;
}
{code} 
If I understand correctly, the value returned by getId() will be validated while the object is being constructed, and, by default, will not be validated if getId() is called as a resource method. That makes some sense, since it would be redundant to validate it again. 

Now, consider
{code}
int count = 0;

@Path(""count"")
@GET
@Max(1)
public int getCount() {
   return count++;
}
{code} 
When the return value of getCount() is validated at object construction time, it will pass. But if it were validated again when getCount() is called as a resource method, it would fail.

The point I'm trying to make is just that things get weird when a resource method looks like a getter. Note that the paragraph in Section 7.4 referred to by Santiago tries to make the same point:
{code}
Note that if validation for getter methods is enabled and a resource method’s signature obeys the rules for
getters, the resource method may be (unintentionally) invoked during validation. Conversely, if validation
for getter methods is disabled and the matching resource method’s signature obeys the rules for getters,
the JAX-RS runtime will still validate the method (i.e., the validation preference will be ignored) before
invocation.
{code}
I think the point (don't write resource methods that look like getter methods) is valid, but the details aren't right. I would say something like
{code}
Properties, which are characterized by the presence of a related getter method, are validated at object construction time. In particular,
the method is executed and the return value is validated. *N.B.* It is possible, but not a good idea, to write a resource method that also satisfies the
conditions to be a getter method. In that case, it will be treated and validated as a getter at object creation time, but, by default, since getters are not constrained methods, the return value will not be validated when the method is called as a resource method.
{code}
Does that sound right to anyone?","09/May/19 3:14 PM;eli.macdonald;[~christian.zambrano] As discussed, [~ron_sigal] created [RESTEASY-2227|https://issues.jboss.org/browse/RESTEASY-2227] ""Validate fields/properties after calling @PostConstruct annotated method, if one exists"" to address this issue and there are pull requests waiting to be merged. The fix will go into RESTEasy 3.7.0.Final, which will ship with Wildfly 17. I will follow-up with you to discuss when the fix will be available to you.","09/May/19 5:14 PM;ron_sigal;[~eli.macdonald], excellent. That's great news.","12/May/19 2:44 PM;ron_sigal;RESTEASY-2227 is resolved. Can we close this one?","14/May/19 10:20 AM;eli.macdonald;No objection. Thanks again!","22/May/19 11:55 AM;ron_sigal;Ok, [~eli.macdonald], RESTEASY-2227 is fixed in RESTEasy 3.7.0.Final, which has been pulled into Wildfly 17, so I'll set Fix Version to 17.0.0.Beta1 and resolve the issue.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",
Update jboss-ejb-client to 4.0.18,WFLY-12055,12806106,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,08/May/19 10:28 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,09/May/19 9:39 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,EJBCLIENT-332,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:47.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05crw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unneeded dependencies from Hibernate ORM module,WFLY-11874,12798124,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,smarlow,smarlow,19/Mar/19 5:19 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,10/Jun/19 7:51 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"As mentioned in [https://github.com/wildfly/wildfly/pull/12155], we should remove remove ASM dependency from org/hibernate/main/module.xml.  Check other Hibernate dependencies as well.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-10 07:51:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12174,,,,,,,,,,,,,,,,0.0,5.0,,,,,,,,,,"1|z043q4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"20/Mar/19 12:40 PM;smarlow;output from Tattletail:
{code}
hibernate-core-5.3.9.Final.jar

antlr.ANTLRException, antlr.ANTLRHashString, antlr.ANTLRStringBuffer, antlr.ASTFactory, antlr.ASTNULLType, antlr.ASTPair, antlr.ByteBuffer, antlr.CharBuffer, antlr.CharScanner, antlr.CharStreamException, antlr.CharStreamIOException, antlr.CommonAST, antlr.CommonToken, antlr.InputBuffer, antlr.LLkParser, antlr.LexerSharedInputState, antlr.MismatchedTokenException, antlr.NoViableAltException, antlr.NoViableAltForCharException, antlr.ParserSharedInputState, antlr.RecognitionException, antlr.SemanticException, antlr.Token, antlr.TokenBuffer, antlr.TokenStream, antlr.TokenStreamException, antlr.TokenStreamIOException, antlr.TokenStreamRecognitionException, antlr.TreeParser, antlr.TreeParserSharedInputState, antlr.collections.AST, antlr.collections.impl.ASTArray, antlr.collections.impl.BitSet, 

com.fasterxml.classmate.AnnotationConfiguration, com.fasterxml.classmate.AnnotationOverrides, com.fasterxml.classmate.MemberResolver, com.fasterxml.classmate.ResolvedType, com.fasterxml.classmate.ResolvedTypeWithMembers, com.fasterxml.classmate.TypeResolver, com.fasterxml.classmate.members.ResolvedField, com.fasterxml.classmate.members.ResolvedMember, 
com.fasterxml.classmate.members.ResolvedMethod, 

java.io.UncheckedIOException, java.lang.AutoCloseable, java.lang.ReflectiveOperationException, java.lang.SafeVarargs, java.lang.annotation.Repeatable, java.nio.charset.StandardCharsets, java.time.Duration, java.time.Instant, java.time.LocalDate, java.time.LocalDateTime, java.time.LocalTime, java.time.OffsetDateTime, java.time.OffsetTime, java.time.ZoneId, java.time.ZoneOffset, java.time.ZonedDateTime, java.time.format.DateTimeFormatter, java.time.temporal.TemporalAccessor, java.util.Objects, java.util.Optional, java.util.concurrent.ConcurrentHashMap$KeySetView, java.util.concurrent.atomic.LongAdder, java.util.function.Consumer, java.util.function.Function, java.util.function.Supplier, java.util.stream.Stream, 

javassist.CannotCompileException, javassist.ClassPath, javassist.ClassPool, javassist.CtClass, javassist.CtField, javassist.CtMember, javassist.CtMethod, javassist.CtNewMethod, javassist.LoaderClassPath, javassist.Modifier, javassist.NotFoundException, javassist.bytecode.AccessFlag, javassist.bytecode.AnnotationsAttribute, javassist.bytecode.AttributeInfo, javassist.bytecode.BadBytecode, javassist.bytecode.Bytecode, javassist.bytecode.ClassFile, javassist.bytecode.CodeAttribute, javassist.bytecode.CodeIterator, javassist.bytecode.ConstPool, javassist.bytecode.FieldInfo, javassist.bytecode.MethodInfo, javassist.bytecode.Opcode, javassist.bytecode.SignatureAttribute, javassist.bytecode.SignatureAttribute$ClassType, javassist.bytecode.SignatureAttribute$MethodSignature, javassist.bytecode.SignatureAttribute$ObjectType, javassist.bytecode.SignatureAttribute$Type, javassist.bytecode.SignatureAttribute$TypeArgument, javassist.bytecode.StackMapTable, javassist.bytecode.StackMapTable$Writer, javassist.bytecode.annotation.Annotation, javassist.bytecode.stackmap.MapMaker, javassist.util.proxy.FactoryHelper, javassist.util.proxy.MethodFilter, javassist.util.proxy.MethodHandler, javassist.util.proxy.Proxy, javassist.util.proxy.ProxyFactory, javassist.util.proxy.RuntimeSupport, 

javax.enterprise.context.ContextNotActiveException, javax.enterprise.context.spi.Contextual, javax.enterprise.context.spi.CreationalContext, javax.enterprise.inject.Instance, javax.enterprise.inject.spi.AnnotatedType, javax.enterprise.inject.spi.Bean, javax.enterprise.inject.spi.BeanManager, javax.enterprise.inject.spi.InjectionTarget, javax.enterprise.util.AnnotationLiteral, javax.inject.Named, 

javax.persistence.Access, javax.persistence.AccessType, javax.persistence.AssociationOverride, javax.persistence.AssociationOverrides, 
javax.persistence.AttributeConverter, javax.persistence.AttributeNode, javax.persistence.AttributeOverride, javax.persistence.AttributeOverrides, javax.persistence.Basic, javax.persistence.Cache, javax.persistence.CacheRetrieveMode, javax.persistence.CacheStoreMode, javax.persistence.Cacheable, javax.persistence.CascadeType, javax.persistence.CollectionTable, javax.persistence.Column, javax.persistence.ColumnResult, javax.persistence.ConstraintMode, javax.persistence.ConstructorResult, javax.persistence.Convert, javax.persistence.Converter, javax.persistence.Converts, javax.persistence.DiscriminatorColumn, javax.persistence.DiscriminatorType, javax.persistence.DiscriminatorValue, javax.persistence.ElementCollection, javax.persistence.Embeddable, javax.persistence.Embedded, javax.persistence.EmbeddedId, javax.persistence.Entity, javax.persistence.EntityExistsException, javax.persistence.EntityGraph, javax.persistence.EntityListeners, javax.persistence.EntityManager, javax.persistence.EntityManagerFactory, javax.persistence.EntityNotFoundException, javax.persistence.EntityResult, javax.persistence.EntityTransaction, javax.persistence.EnumType, javax.persistence.Enumerated, javax.persistence.ExcludeDefaultListeners, javax.persistence.ExcludeSuperclassListeners, javax.persistence.FetchType, javax.persistence.FieldResult, javax.persistence.FlushModeType, javax.persistence.ForeignKey, javax.persistence.GeneratedValue, javax.persistence.GenerationType, javax.persistence.Id, javax.persistence.IdClass, javax.persistence.Index, javax.persistence.Inheritance, javax.persistence.InheritanceType, javax.persistence.JoinColumn, javax.persistence.JoinColumns, javax.persistence.JoinTable, javax.persistence.Lob, javax.persistence.LockModeType, javax.persistence.LockTimeoutException, javax.persistence.ManyToMany, javax.persistence.ManyToOne, javax.persistence.MapKey, javax.persistence.MapKeyClass, javax.persistence.MapKeyColumn, javax.persistence.MapKeyEnumerated, javax.persistence.MapKeyJoinColumn, javax.persistence.MapKeyJoinColumns, javax.persistence.MapKeyTemporal, javax.persistence.MappedSuperclass, javax.persistence.MapsId, javax.persistence.NamedAttributeNode, javax.persistence.NamedEntityGraph, javax.persistence.NamedEntityGraphs, javax.persistence.NamedNativeQueries, javax.persistence.NamedNativeQuery, javax.persistence.NamedQueries, javax.persistence.NamedQuery, javax.persistence.NamedStoredProcedureQueries, javax.persistence.NamedStoredProcedureQuery, javax.persistence.NamedSubgraph, javax.persistence.NoResultException, javax.persistence.NonUniqueResultException, javax.persistence.OneToMany, javax.persistence.OneToOne, javax.persistence.OptimisticLockException, javax.persistence.OrderBy, javax.persistence.OrderColumn, javax.persistence.Parameter, javax.persistence.ParameterMode, javax.persistence.PersistenceException, javax.persistence.PersistenceUnitUtil, javax.persistence.PessimisticLockException, javax.persistence.PostLoad, javax.persistence.PostPersist, javax.persistence.PostRemove, javax.persistence.PostUpdate, javax.persistence.PrePersist, javax.persistence.PreRemove, javax.persistence.PreUpdate, javax.persistence.PrimaryKeyJoinColumn, javax.persistence.PrimaryKeyJoinColumns, javax.persistence.Query, javax.persistence.QueryHint, javax.persistence.QueryTimeoutException, javax.persistence.RollbackException, javax.persistence.SecondaryTable, javax.persistence.SecondaryTables, javax.persistence.SequenceGenerator, javax.persistence.SharedCacheMode, javax.persistence.SqlResultSetMapping, javax.persistence.SqlResultSetMappings, javax.persistence.StoredProcedureParameter, javax.persistence.StoredProcedureQuery, javax.persistence.Subgraph, javax.persistence.SynchronizationType, javax.persistence.Table, javax.persistence.TableGenerator, javax.persistence.Temporal, javax.persistence.TemporalType, javax.persistence.TransactionRequiredException, javax.persistence.Transient, javax.persistence.Tuple, javax.persistence.TupleElement, javax.persistence.TypedQuery, javax.persistence.UniqueConstraint, javax.persistence.ValidationMode, javax.persistence.Version, javax.persistence.criteria.AbstractQuery, javax.persistence.criteria.CollectionJoin, javax.persistence.criteria.CommonAbstractCriteria, javax.persistence.criteria.CompoundSelection, javax.persistence.criteria.CriteriaBuilder, javax.persistence.criteria.CriteriaBuilder$Coalesce, javax.persistence.criteria.CriteriaBuilder$In, javax.persistence.criteria.CriteriaBuilder$Trimspec, javax.persistence.criteria.CriteriaDelete, javax.persistence.criteria.CriteriaQuery, javax.persistence.criteria.CriteriaUpdate, javax.persistence.criteria.Expression, javax.persistence.criteria.Fetch, javax.persistence.criteria.FetchParent, javax.persistence.criteria.From, javax.persistence.criteria.Join, javax.persistence.criteria.JoinType, javax.persistence.criteria.ListJoin, javax.persistence.criteria.MapJoin, javax.persistence.criteria.Order, javax.persistence.criteria.ParameterExpression, javax.persistence.criteria.Path, javax.persistence.criteria.PluralJoin, javax.persistence.criteria.Predicate, javax.persistence.criteria.Predicate$BooleanOperator, javax.persistence.criteria.Root, javax.persistence.criteria.Selection, javax.persistence.criteria.SetJoin, javax.persistence.criteria.Subquery, javax.persistence.metamodel.Attribute, javax.persistence.metamodel.Attribute$PersistentAttributeType, javax.persistence.metamodel.BasicType, javax.persistence.metamodel.Bindable, javax.persistence.metamodel.Bindable$BindableType, javax.persistence.metamodel.CollectionAttribute, javax.persistence.metamodel.EmbeddableType, javax.persistence.metamodel.EntityType, javax.persistence.metamodel.IdentifiableType, javax.persistence.metamodel.ListAttribute, javax.persistence.metamodel.ManagedType, javax.persistence.metamodel.MapAttribute, javax.persistence.metamodel.MappedSuperclassType, javax.persistence.metamodel.Metamodel, javax.persistence.metamodel.PluralAttribute, javax.persistence.metamodel.PluralAttribute$CollectionType, javax.persistence.metamodel.SetAttribute, javax.persistence.metamodel.SingularAttribute, javax.persistence.metamodel.Type, javax.persistence.metamodel.Type$PersistenceType, javax.persistence.spi.ClassTransformer, javax.persistence.spi.LoadState, javax.persistence.spi.PersistenceProvider, javax.persistence.spi.PersistenceUnitInfo, javax.persistence.spi.PersistenceUnitTransactionType, javax.persistence.spi.ProviderUtil, javax.security.jacc.EJBMethodPermission, javax.security.jacc.PolicyConfiguration, javax.security.jacc.PolicyConfigurationFactory, javax.security.jacc.PolicyContext, javax.security.jacc.PolicyContextException, 

javax.transaction.NotSupportedException, javax.transaction.RollbackException, javax.transaction.Status, 
javax.transaction.Synchronization, javax.transaction.SystemException, javax.transaction.Transaction, javax.transaction.TransactionManager, javax.transaction.TransactionSynchronizationRegistry, javax.transaction.UserTransaction, javax.validation.ConstraintViolation, javax.validation.ConstraintViolationException, javax.validation.Path, javax.validation.Path$Node, javax.validation.TraversableResolver, javax.validation.Validation, javax.validation.Validator, javax.validation.ValidatorContext, javax.validation.ValidatorFactory, javax.validation.constraints.Digits, javax.validation.constraints.Max, javax.validation.constraints.Min, javax.validation.constraints.NotNull, javax.validation.constraints.Size, javax.validation.groups.Default, javax.validation.metadata.BeanDescriptor, javax.validation.metadata.ConstraintDescriptor, javax.validation.metadata.PropertyDescriptor, 

net.bytebuddy.ClassFileVersion, net.bytebuddy.asm.Advice, net.bytebuddy.asm.Advice$Argument, net.bytebuddy.asm.Advice$FieldValue, net.bytebuddy.asm.Advice$OnMethodEnter, net.bytebuddy.asm.Advice$OnMethodExit, net.bytebuddy.asm.Advice$Return, net.bytebuddy.asm.Advice$This, net.bytebuddy.asm.Advice$WithCustomMapping, net.bytebuddy.asm.AsmVisitorWrapper, net.bytebuddy.asm.AsmVisitorWrapper$ForDeclaredMethods, net.bytebuddy.asm.AsmVisitorWrapper$ForDeclaredMethods$MethodVisitorWrapper, net.bytebuddy.description.ByteCodeElement, net.bytebuddy.description.ByteCodeElement$TypeDependant, net.bytebuddy.description.annotation.AnnotationDescription, net.bytebuddy.description.annotation.AnnotationDescription$Loadable, net.bytebuddy.description.annotation.AnnotationList, net.bytebuddy.description.annotation.AnnotationValue, net.bytebuddy.description.field.FieldDescription, net.bytebuddy.description.field.FieldDescription$InDefinedShape, net.bytebuddy.description.field.FieldList, net.bytebuddy.description.method.MethodDescription, net.bytebuddy.description.method.MethodDescription$ForLoadedMethod, net.bytebuddy.description.method.MethodDescription$InDefinedShape, net.bytebuddy.description.modifier.ModifierContributor, net.bytebuddy.description.modifier.ModifierContributor$ForMethod, net.bytebuddy.description.modifier.Visibility, net.bytebuddy.description.type.TypeDefinition, net.bytebuddy.description.type.TypeDefinition$Sort, net.bytebuddy.description.type.TypeDescription, net.bytebuddy.description.type.TypeDescription$ForLoadedType, net.bytebuddy.description.type.TypeDescription$Generic, net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType, net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType$ForLoadedType, net.bytebuddy.description.type.TypeList, net.bytebuddy.description.type.TypeList$Generic, net.bytebuddy.dynamic.DynamicType, net.bytebuddy.dynamic.DynamicType$Builder, net.bytebuddy.dynamic.DynamicType$Builder$MethodDefinition, net.bytebuddy.dynamic.DynamicType$Builder$MethodDefinition$ExceptionDefinition, net.bytebuddy.dynamic.DynamicType$Builder$MethodDefinition$ImplementationDefinition, net.bytebuddy.dynamic.DynamicType$Builder$MethodDefinition$ImplementationDefinition$Optional, net.bytebuddy.dynamic.DynamicType$Builder$MethodDefinition$ParameterDefinition, net.bytebuddy.dynamic.DynamicType$Builder$MethodDefinition$ParameterDefinition$Initial, net.bytebuddy.dynamic.DynamicType$Builder$MethodDefinition$ReceiverTypeDefinition, net.bytebuddy.dynamic.scaffold.FieldLocator, net.bytebuddy.dynamic.scaffold.FieldLocator$ForClassHierarchy, net.bytebuddy.dynamic.scaffold.FieldLocator$ForClassHierarchy$Factory, net.bytebuddy.dynamic.scaffold.FieldLocator$Resolution, net.bytebuddy.dynamic.scaffold.InstrumentedType, net.bytebuddy.implementation.FieldAccessor, net.bytebuddy.implementation.FieldAccessor$AssignerConfigurable, net.bytebuddy.implementation.FieldAccessor$OwnerTypeLocatable, net.bytebuddy.implementation.FieldAccessor$PropertyConfigurable, net.bytebuddy.implementation.Implementation, net.bytebuddy.implementation.Implementation$Context, net.bytebuddy.implementation.Implementation$Simple, net.bytebuddy.implementation.Implementation$Target, net.bytebuddy.implementation.MethodDelegation, net.bytebuddy.implementation.StubMethod, net.bytebuddy.implementation.bind.annotation.AllArguments, net.bytebuddy.implementation.bind.annotation.FieldValue, net.bytebuddy.implementation.bind.annotation.Origin, net.bytebuddy.implementation.bind.annotation.RuntimeType, net.bytebuddy.implementation.bind.annotation.StubValue, net.bytebuddy.implementation.bind.annotation.This, net.bytebuddy.implementation.bytecode.ByteCodeAppender, net.bytebuddy.implementation.bytecode.ByteCodeAppender$Compound, net.bytebuddy.implementation.bytecode.ByteCodeAppender$Size, net.bytebuddy.implementation.bytecode.StackManipulation, net.bytebuddy.implementation.bytecode.StackManipulation$Size, net.bytebuddy.implementation.bytecode.StackSize, net.bytebuddy.implementation.bytecode.assign.Assigner, net.bytebuddy.implementation.bytecode.assign.Assigner$Typing, net.bytebuddy.implementation.bytecode.assign.primitive.PrimitiveBoxingDelegate, net.bytebuddy.implementation.bytecode.assign.primitive.PrimitiveUnboxingDelegate, net.bytebuddy.implementation.bytecode.assign.primitive.PrimitiveUnboxingDelegate$UnboxingResponsible, net.bytebuddy.implementation.bytecode.assign.reference.ReferenceTypeAwareAssigner, net.bytebuddy.jar.asm.Label, net.bytebuddy.jar.asm.MethodVisitor, net.bytebuddy.jar.asm.Opcodes, net.bytebuddy.jar.asm.Type, net.bytebuddy.matcher.ElementMatcher, net.bytebuddy.matcher.ElementMatcher$Junction, net.bytebuddy.matcher.ElementMatchers, net.bytebuddy.matcher.FilterableList, net.bytebuddy.pool.TypePool, net.bytebuddy.pool.TypePool$Resolution, 

org.apache.tools.ant.BuildException, org.apache.tools.ant.DirectoryScanner, org.apache.tools.ant.Project, org.apache.tools.ant.Task, org.apache.tools.ant.taskdefs.MatchingTask, org.apache.tools.ant.types.FileSet, 

org.dom4j.Attribute, org.dom4j.Comment, org.dom4j.Document, org.dom4j.DocumentFactory, org.dom4j.Element, org.dom4j.Node, org.dom4j.io.SAXReader, org.dom4j.io.STAXEventReader, 

org.hibernate.annotations.common.AssertionFailure, org.hibernate.annotations.common.annotationfactory.AnnotationDescriptor, org.hibernate.annotations.common.annotationfactory.AnnotationFactory, org.hibernate.annotations.common.reflection.AnnotationReader, org.hibernate.annotations.common.reflection.ClassLoaderDelegate, org.hibernate.annotations.common.reflection.ClassLoadingException, org.hibernate.annotations.common.reflection.Filter, org.hibernate.annotations.common.reflection.MetadataProvider, org.hibernate.annotations.common.reflection.MetadataProviderInjector, org.hibernate.annotations.common.reflection.ReflectionManager, org.hibernate.annotations.common.reflection.ReflectionUtil, org.hibernate.annotations.common.reflection.XAnnotatedElement, org.hibernate.annotations.common.reflection.XClass, org.hibernate.annotations.common.reflection.XMethod, org.hibernate.annotations.common.reflection.XPackage, org.hibernate.annotations.common.reflection.XProperty, org.hibernate.annotations.common.reflection.java.JavaMetadataProvider, org.hibernate.annotations.common.reflection.java.JavaReflectionManager, org.hibernate.annotations.common.reflection.java.JavaXMember, org.hibernate.annotations.common.util.StandardClassLoaderDelegateImpl, org.hibernate.annotations.common.util.StringHelper, org.hibernate.boot.internal.InFlightMetadataCollectorImpl, org.hibernate.boot.internal.SessionFactoryOptionsBuilder, org.hibernate.boot.model.convert.internal.AttributeConverterManager, org.hibernate.boot.model.process.internal.ManagedResourcesImpl, org.hibernate.boot.model.source.internal.hbm.AbstractPluralAttributeSourceImpl, org.hibernate.boot.registry.internal.StandardServiceRegistryImpl, org.hibernate.boot.registry.selector.internal.StrategySelectorImpl, org.hibernate.boot.spi.SessionFactoryOptions, org.hibernate.bytecode.enhance.internal.bytebuddy.ByteBuddyEnhancementContext, org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl, org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributesMetadata, org.hibernate.bytecode.internal.bytebuddy.BasicProxyFactoryImpl, org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState, org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState$ProxyDefinitionHelpers, org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl, org.hibernate.cache.cfg.internal.DomainDataRegionConfigImpl$Builder, org.hibernate.cache.internal.CollectionCacheInvalidator, org.hibernate.cache.internal.EnabledCaching, org.hibernate.cache.spi.support.AbstractDomainDataRegion, org.hibernate.cfg.AnnotationBinder, org.hibernate.cfg.IndexOrUniqueKeySecondPass, org.hibernate.context.internal.ThreadLocalSessionContext, org.hibernate.event.internal.DefaultRefreshEventListener, org.hibernate.hql.internal.HolderInstantiator, org.hibernate.hql.internal.ast.ParameterTranslationsImpl, org.hibernate.hql.internal.ast.tree.FromElement, org.hibernate.hql.internal.classic.QueryTranslatorImpl, org.hibernate.id.enhanced.PooledLoThreadLocalOptimizer, org.hibernate.internal.AbstractSharedSessionContract, org.hibernate.internal.SessionFactoryImpl, org.hibernate.internal.SessionImpl, org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl, org.hibernate.loader.custom.CustomLoader, org.hibernate.mapping.SimpleValue, org.hibernate.metamodel.internal.MetamodelImpl, org.hibernate.persister.entity.AbstractEntityPersister, org.hibernate.procedure.internal.ProcedureCallImpl, org.hibernate.procedure.internal.ProcedureOutputsImpl$ProcedureCurrentReturnState, org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyHelper, org.hibernate.proxy.pojo.javassist.JavassistProxyFactory, org.hibernate.query.criteria.internal.CriteriaBuilderImpl, org.hibernate.query.criteria.internal.expression.SearchedCaseExpression, org.hibernate.query.criteria.internal.expression.SimpleCaseExpression, org.hibernate.query.internal.AbstractProducedQuery, org.hibernate.query.internal.QueryParameterBindingsImpl, org.hibernate.query.procedure.internal.ProcedureParamBindings, org.hibernate.query.procedure.internal.ProcedureParameterMetadata, org.hibernate.resource.beans.container.internal.CdiBeanContainerExtendedAccessImpl, org.hibernate.resource.beans.container.spi.AbstractCdiBeanContainer, org.hibernate.result.internal.ResultSetOutputImpl, org.hibernate.stat.internal.StatisticsImpl, org.hibernate.tool.schema.internal.AbstractSchemaMigrator, org.hibernate.tuple.TimestampGenerators, org.hibernate.type.TypeFactory, org.hibernate.type.descriptor.java.JavaTypeDescriptorRegistry, org.hibernate.type.descriptor.java.spi.JavaTypeDescriptorRegistry, org.jboss.jandex.IndexView, org.jboss.logging.BasicLogger, org.jboss.logging.DelegatingBasicLogger, org.jboss.logging.Logger, org.jboss.logging.Logger$Level, org.jboss.logging.MDC, org.jboss.logging.annotations.Cause, org.jboss.logging.annotations.LogMessage, org.jboss.logging.annotations.Message, org.jboss.logging.annotations.MessageLogger, org.jboss.logging.annotations.ValidIdRange

hibernate-envers-5.3.9.Final.jar 

java.lang.annotation.Repeatable, 

java.util.Objects, 

javax.persistence.Column, javax.persistence.ElementCollection, javax.persistence.EntityManager, javax.persistence.FetchType, javax.persistence.GeneratedValue, javax.persistence.Id, javax.persistence.JoinColumn, javax.persistence.JoinTable, javax.persistence.MappedSuperclass, javax.persistence.NoResultException, javax.persistence.NonUniqueResultException, javax.persistence.Transient, javax.persistence.criteria.JoinType, javax.persistence.metamodel.SetAttribute, javax.persistence.metamodel.SingularAttribute, javax.persistence.metamodel.StaticMetamodel, 

org.dom4j.Attribute, org.dom4j.Document, org.dom4j.DocumentException, org.dom4j.DocumentFactory, org.dom4j.DocumentHelper, org.dom4j.Element, org.dom4j.io.OutputFormat, org.dom4j.io.XMLWriter, org.dom4j.tree.DefaultElement, 

org.hibernate.annotations.common.reflection.ClassLoadingException, org.hibernate.annotations.common.reflection.ReflectionManager, 
org.hibernate.annotations.common.reflection.XClass, org.hibernate.annotations.common.reflection.XProperty, org.hibernate.envers.configuration.internal.metadata.reader.AuditedPropertiesReader, 

org.hibernate.envers.configuration.internal.metadata.reader.ClassAuditingData, org.hibernate.envers.configuration.internal.metadata.reader.ComponentAuditingData, org.hibernate.envers.query.internal.impl.RevisionsOfEntityQuery, org.hibernate.mapping.SimpleValue, 

org.jboss.jandex.IndexView, 

org.jboss.logging.BasicLogger, org.jboss.logging.DelegatingBasicLogger, org.jboss.logging.Logger, org.jboss.logging.annotations.MessageLogger
{code}
","20/Mar/19 1:47 PM;smarlow;Note that javax.xml is also used in generated Hibernate code, like tooling/metamodel-generator/src/main/java/org/hibernate/jpamodelgen/util/xml/XmlParserHelper.java, so will still include javax.xml.bind.api module dependency.","20/Mar/19 1:53 PM;smarlow;Also see conversation on [https://github.com/wildfly/wildfly/pull/12155] about removing the Hibernate dependency on the ASM project which is not needed.","10/Jun/19 7:51 AM;brian.stansberry;Reopening so I can manipulate issue state.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update MinimalWebAuthenticationTestCase so that it doesn't use an authentication factory as specified in the test description,WFLY-12147,12810196,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,30/May/19 3:44 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Jun/19 6:15 AM,,,,,,17.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"{{MinimalWebAuthenticationTestCase}} defines a {{ServerSetup}} class that ensures that an application security domain mapping to a security domain is used instead of an authentication factory. However, this class is currently not being used although the test description mentions that it should be used.

See https://github.com/wildfly/wildfly/blob/master/testsuite/integration/elytron/src/test/java/org/wildfly/test/integration/elytron/web/MinimalWebAuthenticationTestCase.java#L38",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:46.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12332,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05zsc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update openjdk-orb to 8.1.4.Final,WFLY-12068,12806612,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,12/May/19 6:14 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,13/May/19 3:43 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:46.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05frw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-batch-api_1.0_spec from 1.0.1.Final to 1.0.2.Final,WFLY-12034,12804916,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,29/Apr/19 10:17 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,11/May/19 9:03 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Batch,,,,,,,,,,,0,,,,,"Need to upgrade jboss-batch-api_1.0_spec version from the current 1.0.1.Final to 1.0.2.Final, to include the fix that ensures https (instead of http) is used in maven repository links.

https://github.com/jboss/jboss-batch-api_spec

Delta in this release:
https://github.com/jboss/jboss-batch-api_spec/compare/jboss-batch-api_1.0_spec-1.0.1.Final...jboss-batch-api_1.0_spec-1.0.2.Final
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:46.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0566c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
testsuite/integration/elytron uses directly a jboss.dist dir when set instead of its copy in the target dir,WFLY-11752,12793314,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,okotek,okotek,okotek,20/Feb/19 6:09 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,24/Apr/19 6:46 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"When the {{jboss.dist}} property is set for the {{mvn}} command, the {{testsuite/integration/elytron}} project uses directly a server distribution in the {{jboss.dist}} directory instead of its copy in the {{target/wildfly}} directory, and the distribution is customized with the {{modify-elytron-config.cli}} script.

As a result, when running the test suite in the elytron mode ({{-Delytron}}), the next testing module ({{compat}}) fails.

It also brings difficulties when developing tests in the elytron test module itself.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:46.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12094,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03dlg:",9223372036854775807,,0.0,,,,,"{{cd testsuite}}
{{mvn clean test -fae -Djboss.dist=/home/user/test/wildfly-16.0.0.CR1-SNAPSHOT -DallTests -Dtest=a -Delytron}}",,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add PasswordFactory documentation to the ""General Elytron Architecture"" section.",WFLY-11842,12797167,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,13/Mar/19 8:25 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,05/Apr/19 6:33 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Security,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:46.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12185,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03y3w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WildFly BOM Builders,WFLY-12102,12808031,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,20/May/19 6:24 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,20/May/19 6:29 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"A followup of WFLY-11300, replace WildFly BOMs with BOM builders, which saves the effort to sync versions, exclusions and transitive dependencies with WildFly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11300,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:45.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05nyc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WildFly pom should use https URLs in repository and pluginRepository elements,WFLY-11932,12800461,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,02/Apr/19 10:23 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Apr/19 11:06 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,Help avoid man-in-the-middle attack problems during builds by using http.,,,,,,,,,,,,,WFCORE-4396,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-03 01:12:36.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04hd0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
org.hibernate.envers not provisioned with jpa layer,WFLY-11797,12794794,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,28/Feb/19 11:05 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,11/Mar/19 5:30 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,JPA / Hibernate,,,,,,,,,,0,,,,,"The jpa resource should advertise org.hibernate.envers module as an optional runtime package.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:45.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12132,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03lss:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tests RemoteLocalCall*TestCase fail with security manager,WFLY-11357,12779574,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,mchoma,mchoma,15/Nov/18 8:44 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,06/Jun/19 11:43 AM,15.0.0.Beta1,,,,,17.0.0.Final,,,EJB,Test Suite,Transactions,,,,,,,,,0,security-manager,,,,"{noformat}
org.jboss.as.test.multinode.remotecall (2)
    RemoteLocalCallProfileTestCase.testStatelessRemoteFromRemote  	
    RemoteLocalCallTestCase.testStatelessRemoteFromRemote 
{noformat}

{noformat}
Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.io.FilePermission"" ""/store/work/tc-work/8edf911abfd02209/testsuite/integration/multinode/target/jbossas-multinode-client/standalone/data/ejb-xa-recovery"" ""write"")"" in code source ""(vfs:/content/remotelocalcall-test-client.jar <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.remotelocalcall-test-client.jar"" from Service Module Loader"")
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
	at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
	at java.lang.SecurityManager.checkWrite(SecurityManager.java:979)
	at org.wildfly.security.manager.WildFlySecurityManager.checkWrite(WildFlySecurityManager.java:377)
	at java.io.File.mkdir(File.java:1311)
	at org.wildfly.transaction.client.provider.jboss.FileSystemXAResourceRegistry$XAResourceRegistryFile.<init>(FileSystemXAResourceRegistry.java:207)
	at org.wildfly.transaction.client.provider.jboss.FileSystemXAResourceRegistry.getXAResourceRegistryFile(FileSystemXAResourceRegistry.java:121)
	at org.wildfly.transaction.client.provider.jboss.JBossLocalTransactionProvider.getXAResourceRegistry(JBossLocalTransactionProvider.java:160)
	at org.wildfly.transaction.client.XAOutflowedResources.getOrEnlist(XAOutflowedResources.java:57)
	at org.wildfly.transaction.client.RemoteTransactionContext.outflowTransaction(RemoteTransactionContext.java:222)
	at org.jboss.ejb.protocol.remote.EJBClientChannel.writeTransaction(EJBClientChannel.java:567)
	at org.jboss.ejb.protocol.remote.EJBClientChannel.openSession(EJBClientChannel.java:623)
	at org.jboss.ejb.protocol.remote.RemoteEJBReceiver.createSession(RemoteEJBReceiver.java:149)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:63)
	at org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleSessionCreation(RemotingEJBClientInterceptor.java:66)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleSessionCreation(TransactionPostDiscoveryInterceptor.java:89)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleSessionCreation(DiscoveryEJBClientInterceptor.java:150)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.NamingEJBClientInterceptor.handleSessionCreation(NamingEJBClientInterceptor.java:93)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.TransactionInterceptor.handleSessionCreation(TransactionInterceptor.java:100)
	at org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:70)
	at org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:834)
	at org.jboss.ejb.client.EJBClient.createSessionProxy(EJBClient.java:198)
	at org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:157)
	... 221 more
{noformat}

[1] https://ci.wildfly.org/viewLog.html?buildId=128138&buildTypeId=WF_MasterSecurityManager",,,,,,,,,,,,,,,WFTC-53,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-16 10:33:29.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12344,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z01b60:",9223372036854775807,,0.0,,,,,"{noformat}
cd wildfly/testsuite/integration/multinode
mvn clean test -Dtest=RemoteLocalCallTestCase -Dsecurity.manager -DtestLogToFile=false
{noformat}",,,,,,,,,,,"16/Nov/18 10:33 AM;zhfeng;[~dmlloyd] can you take a look at this issue ? is it possible related to the wildfly-ejb-client and need to add a privileged block when invoking RemoteTransactionContext.outflowTransaction ?","16/Nov/18 3:03 PM;dmlloyd;I think the privileged block might need to be added in FileSystemXAResourceRegistry in the wildfly-transaction-client project.","03/Jan/19 10:57 PM;jamezp;Just changing the state back to open.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JBoss Negotiation to 3.0.6.Final,WFLY-12107,12808181,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,21/May/19 10:24 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,22/May/19 5:27 PM,,,,,,17.0.0.Beta1,17.0.0.Final,,Security,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:44.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12308,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05ouk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Full and servlet Galleon feature-packs pom.xml should define deps as provided,WFLY-11955,12801420,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,08/Apr/19 8:39 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,07/Jun/19 3:12 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"When referencing a WildFly FP as a maven dependency all the dependencies are pulled by maven although they are not required. By making them ""provided"", the dependencies versions are retrieved when building Full and Servlet feature-packs but dependencies are not downloaded when referencing WildFly feature-packs.

NB: This implies an upgrade to Galleon 4 for the Galleon plugin to properly retrieve the dependencies versions.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-08 16:42:36.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z04mqk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Apr/19 4:42 PM;brian.stansberry;[~dosoudil] [~psakar] FYI.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Elytron JDBC Realm hex encoding and modular crypt support.,WFLY-11923,12799903,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,29/Mar/19 1:09 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,13/May/19 3:39 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Security,,,,,,,,,,,0,,,,,"This relates to the following issues: -

https://issues.jboss.org/browse/WFCORE-3542
https://issues.jboss.org/browse/WFCORE-3832",,,,,,,,,,,,,EAP7-1122,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:44.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12206,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04e0s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly HTTP Client to 1.0.15.Final,WFLY-11965,12801688,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,ivassile,ivassile,09/Apr/19 4:39 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,28/Apr/19 11:35 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-10488,,,,,,,,,,,,,,,,,,,,,WEJBHTTP-24,WEJBHTTP-23,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:43.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04o2k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose the enable1Prefixes configuration on external (pooled) connection factories,WFLY-12038,12804941,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,30/Apr/19 4:22 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,07/Jun/19 3:06 PM,16.0.0.Final,,,,,17.0.0.Beta1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"If we are connecting to a remote AMQ broker of version > 7.2 then we don't have to use the old prefixes for destinations already created on the broker.
Exposing this property would enable a user to connect to a remote destination (already created on the remote broker) without these prefixes.",,,,,,,,,,,,,EAP7-1244,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:43.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z056bw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Weld to 3.1.1.Final,WFLY-12000,12803196,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,manovotn,ivassile,ivassile,17/Apr/19 8:31 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,08/May/19 9:28 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,CDI / Weld,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-11621,,,,,,,,,,,,,,,,,,,,,WELD-2574,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-17 08:45:32.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12260,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z04wbg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Apr/19 8:45 AM;manovotn;Thanks for going ahead and creating the issue, I usually create these while I am performing Weld releases (which are aligned so that we always release before WFLY has its code freeze).","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SFSBs left in invalid/inconsistent state if @PrePassivate throws an exception/error.,WFLY-12064,12806489,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,10/May/19 1:38 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,11/May/19 9:06 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,EJB,,,,,,,,,,0,downstream_dependency,,,,"If one of the SFSBs within a given bean group throws an exception from @PrePassivate, this has the effect of aborting passivation of the bean group - however, @PrePassivate may have already completed successfully on some bean in the group.  Thus, we need to trigger @PostActivate on these beans lest they be left in an invalid/inconsistent state for the next invocation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:42.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12272,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05f18:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change use of HTTP download locations for Mojarra to HTTPS,WFLY-11968,12801865,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,10/Apr/19 4:23 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,07/Jun/19 3:46 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,JSF,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:42.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04p4s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix JaCoCo profile,WFLY-11921,12799750,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rsvoboda,rsvoboda,rsvoboda,29/Mar/19 4:42 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,01/Apr/19 1:06 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,,,,,,,,,,,,0,,,,,"Fix JaCoCo profile

 - make JaCoCo profile work again
 - update JaCoCo version
 - avoid listing all the modules",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:42.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12193,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04d4k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Grouping not compatible with off-heap memory,WFLY-11947,12801059,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,04/Apr/19 3:57 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,08/Apr/19 11:13 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"{noformat}
15:50:49,284 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service org.wildfly.clustering.infinispan.cache-configuration.web.dist: org.jboss.msc.service.StartException in service org.wildfly.clustering.infinispan.cache-configuration.web.dist: org.infinispan.commons.CacheConfigurationException: ISPN000534: Grouping requires OBJECT storage type but was: OFF_HEAP
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:70)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.infinispan.commons.CacheConfigurationException: ISPN000534: Grouping requires OBJECT storage type but was: OFF_HEAP
	at org.infinispan.configuration.cache.MemoryConfigurationBuilder.validate(MemoryConfigurationBuilder.java:157)
	at org.infinispan.configuration.cache.ConfigurationBuilder.validate(ConfigurationBuilder.java:235)
	at org.infinispan.configuration.cache.ConfigurationBuilder.build(ConfigurationBuilder.java:292)
	at org.infinispan.configuration.cache.ConfigurationBuilder.build(ConfigurationBuilder.java:282)
	at org.wildfly.clustering.infinispan.spi.service.ConfigurationServiceConfigurator.get(ConfigurationServiceConfigurator.java:90)
	at org.wildfly.clustering.infinispan.spi.service.ConfigurationServiceConfigurator.get(ConfigurationServiceConfigurator.java:51)
	at org.wildfly.clustering.service.FunctionalService.start(FunctionalService.java:67)
	... 8 more
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:41.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12210,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04kl0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Banned dependency com.sun.xml.bind:jaxb-core in dependency management ,WFLY-11862,12797938,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,18/Mar/19 8:02 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,19/Mar/19 5:13 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"cxf-tools-common depends on banned com.sun.xml.bind:jaxb-core, yet it does not excludes it. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:41.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z042mk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EJB3 subsystem capabilities not recorded in Galleon feature-specs,WFLY-11823,12796320,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,08/Mar/19 3:24 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,08/Mar/19 9:32 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"These capabilities are registered by EJB3 subsystem but they are not recorded by Galleon feature spec:

org.wildfly.ejb3.remote.client-configurator
org.wildfly.ejb3
org.wildfly.ejb3.clustered.singleton
",,,,,,,,,,,,,,,,,,,,,,,,WFLY-11803,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:41.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12148,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03t9o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core to 9.0.1.Final,WFLY-12176,12811756,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,06/Jun/19 8:45 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,06/Jun/19 11:50 PM,,,,,,17.0.0.Final,,,,,,,,,,,,,,0,,,,,"Component Upgrade
[WFCORE-4507] - Upgrade Jackson to 2.9.9
[WFCORE-4509] - Upgrade JBoss MSC to 1.4.7.Final
Bug
[WFCORE-4508] - ConcurrentModificationException in ConcreteResourceRegistration
[WFCORE-4510] - remoting cannot start without default worker and does not work with non-default worker for http-upgrade
                                  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z068ys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
wildfly-dist should generate and deploy an aggregation of galleon feature-pack offliner files,WFLY-11989,12802597,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jdenise,jdenise,jdenise,15/Apr/19 6:41 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,16/May/19 6:26 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"- The wildfly-dist project should make use of galleon 4.0 plugin goal to generate an aggreation of feature-packs offliners.
- file deployed to remote maven repository.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-16 18:26:40.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04sus:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Naming Client to 1.0.10.Final,WFLY-11976,12802175,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ivassile,ivassile,11/Apr/19 5:38 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,24/Apr/19 6:48 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Naming,,,,,,,,,,,0,downstream_dependency,,,,Fixes the linked Context recursion bug.,,,,,,,,,,,,,WFLY-10447,,,,,,,,,,,,,,,,,,,,,WFNC-54,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:40.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12235,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04qf0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jberet-core from 1.3.3.Final to 1.3.4.Final,WFLY-12035,12804917,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,cfang,cfang,cfang,29/Apr/19 10:20 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,08/May/19 9:27 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Batch,,,,,,,,,,,0,,,,,"Need to upgrade jberet-core from the current version 1.3.3.Final to 1.3.4.Final, to include the fix that ensures https (instead of http) is used in maven repository links.

https://github.com/jberet/jsr352/tree/1.3.x

Delta: https://github.com/jberet/jsr352/compare/1.3.3.Final...1.3.4.Final
The real changes that affect jberet-core are:
* upgrade jboss-parent to 34
* upgrade jboss-logging to 3.4.0
* upgrade jboss-batch-api_1.0_spec to 1.0.2 (which was built with secure https maven repository links)
* change to use https for maven repository links in build process",,,,,,,,,,,,,,,,,,,,,,,,JBERET-474,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:40.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0566k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix EJB client test permissions when running under the security manager,WFLY-12172,12811533,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,05/Jun/19 5:35 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,06/Jun/19 11:42 AM,,,,,,17.0.0.Final,,,EJB,Security Manager,Test Suite,,,,,,,,,0,,,,,The issue described in WFLY-12171 is being seen more often since the Xnio upgrade (WFCORE-4491). The EJB client tests need the correct permissions to run when the security manager is enabled.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:39.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12344,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z067ms:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wildfly Fails to stop due to Infinispan persisted cache not holding all permits on semaphore,WFLY-12075,12806918,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,blassmegod,blassmegod,14/May/19 4:08 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,31/May/19 7:35 PM,15.0.1.Final,,,,,17.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"Wildfly 15.0.1 fails to stop on shutdown command due to Infinispan subsystem failing to stop it's persisted caches successfully due to a possible bug in Infinispan's PersistenceManagerImpl.publishEntries not releasing Semaphore permit after finishing, so that the stop method waits forever because it lacks one more permit.

 !third_semaphore.png|thumbnail! 
 !forth_semaphore.png|thumbnail! 

Use following application to reproduce the issue:
 [^web-java-wildfly.zip] 

standalone Infinispan caches:
{code}
            <cache-container name=""testMetaData"">
                <local-cache name=""testCache"">
                    <locking concurrency-level=""3""/>
                    <transaction locking=""OPTIMISTIC"" mode=""FULL_XA""/>
                    <object-memory size=""1000000""/>
                    <file-store path=""testCH/testCache"" passivation=""false"" preload=""false"" purge=""false""/>
                </local-cache>
                <local-cache name=""testComponentCache"">
                    <locking concurrency-level=""3""/>
                    <transaction locking=""OPTIMISTIC"" mode=""FULL_XA""/>
                    <object-memory size=""1000000""/>
                    <file-store path=""testCH/testComponentCache"" passivation=""false"" preload=""false"" purge=""false""/>
                </local-cache>
            </cache-container>
{code}

{code}
11:02:00,103 INFO  [stdout] (default task-1) bla blanull
11:02:00,103 INFO  [stdout] (default task-1) bla blanull
11:03:17,748 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0236: Suspending server with no timeout.
11:03:17,750 INFO  [org.jboss.as.ejb3] (management-handler-thread - 1) WFLYEJB0493: EJB subsystem suspension complete
11:03:17,752 INFO  [org.jboss.as.server] (Management Triggered Shutdown) WFLYSRV0241: Shutting down in response to management operation 'shutdown'
11:03:17,785 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/myprojdb1
11:03:17,785 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0002: Unbound mail session [java:/mail/myproject]
11:03:17,785 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-3) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/myprojdb2
11:03:17,787 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/myprojdb3
11:03:17,789 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 88) WFLYMSGAMQ0006: Unbound messaging object to jndi name java:/ConnectionFactory
11:03:17,790 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-3) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
11:03:17,790 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-8) WFLYJCA0099: Unbound non-transactional data source: java:jboss/datasources/myprojdb4
11:03:17,797 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-4) WFLYJCA0019: Stopped Driver service with driver-name = ojdbc.jar
11:03:17,800 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 101) WFLYUT0022: Unregistered web context: '/wildfly-helloworld' from server 'default-server'
11:03:17,821 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 101) MODCLUSTER000002: Initiating mod_cluster shutdown
11:03:17,823 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0019: Host default-host stopping
11:03:17,840 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-3) WFLYJCA0119: Unbinding connection factory named java:/JmsXA to alias java:jboss/DefaultJMSConnectionFactory
11:03:17,841 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-4) WFLYJCA0011: Unbound JCA ConnectionFactory [java:/JmsXA]
11:03:17,842 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
11:03:17,842 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0019: Stopped Driver service with driver-name = h2
11:03:17,846 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 101) WFLYCLINF0003: Stopped client-mappings cache from ejb container
11:03:17,864 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0008: Undertow HTTP listener default suspending
11:03:17,864 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0008: Undertow AJP listener ajp suspending
11:03:17,870 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0028: Stopped deployment ojdbc.jar (runtime-name: ojdbc.jar) in 108ms
11:03:17,883 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0028: Stopped deployment wildfly-helloworld.war (runtime-name: wildfly-helloworld.war) in 120ms
11:03:17,875 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to 192.168.1.2:8009
11:03:17,874 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 192.168.1.2:8080
11:03:17,872 INFO  [org.apache.activemq.artemis.ra] (ServerService Thread Pool -- 104) AMQ151003: resource adaptor stopped
11:03:17,932 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 104) AMQ221002: Apache ActiveMQ Artemis Message Broker version 2.6.3.jbossorg-00014 [7b985d04-761e-11e9-bb4e-0a0027000008] stopped, uptime 1 minute
11:03:17,933 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0008: Undertow HTTPS listener default-ssl suspending
11:03:17,934 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0007: Undertow HTTPS listener default-ssl stopped, was bound to 192.168.1.2:8443
11:03:17,935 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0004: Undertow 2.0.15.Final stopping
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/May/19 3:57 AM;blassmegod;forth_semaphore.png;https://issues.redhat.com/secure/attachment/12450639/forth_semaphore.png","14/May/19 3:57 AM;blassmegod;third_semaphore.png;https://issues.redhat.com/secure/attachment/12450640/third_semaphore.png","14/May/19 3:56 AM;blassmegod;web-java-wildfly.zip;https://issues.redhat.com/secure/attachment/12450641/web-java-wildfly.zip",,,,,,,,,,,,,,User Experience,,,,,,,,,,,,,,,2019-05-16 17:39:04.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12326,,,,,,,,,,,,,,,,3.0,4.0,,,,,,,,,,"1|z05hk4:",9223372036854775807,,0.0,,,,,"1. start server and access web application (http://localhost:8080/wildfly-helloworld/hello) so that it fills the caches.
2. shutdown Wildfly server using _jboss-cli.bat --connect --controller=localhost:9990 --command=:shutdown_ (this time it stops without problems)
3. start server and access web application (http://localhost:8080/wildfly-helloworld/hello) so that it calls method that accesses the keySets and entrySets from caches
4. shutdown Wildfly server using _jboss-cli.bat --connect --controller=localhost:9990 --command=:shutdown_ (this time it doesn't stops)",,,,,,,,,Workaround Exists,"Either kill process if it takes to long or create a ShutdownHook that checks if a cache stop thread stays to much in waiting and force to release a permit:
{code}
((AbstractQueuedSynchronizer) LockSupport.getBlocker(thread)).releaseShared(1);
{code}","14/May/19 4:35 AM;blassmegod;Sometimes is enough to just call ""isEmpty"" on such a cache (as CacheImpl internally gets the entry set to check if is empty). Main problem is that PersistenceManagerImpl uses Flowable (RxJava) that doesn't call the onComplete method so that the resourceDisposer should be called. Don't understand in which cache should a cache not need to release it's permit after finishing it's method execution, why not use try / finally?","16/May/19 5:39 PM;brian.stansberry;[~pferraro] I'm changing the component on this and reassigning as the description is all about Infinispan behavior.","20/May/19 8:11 AM;pferraro;[~blassmegod] I was able to reproduce the problem for the size() and isEmpty(), containsValue() methods.  I've submitted an upstream fix to infinispan.  However, the cache key/entry iteration in your MetaModelService class needs to change to use either a CloseableIterator or an auto-closing stream.
e.g.
{code:java}
        try (CloseableIterator<String> keys = testComponentCache.keySet().iterator()) {
            while (keys.hasNext()) {
                String key = keys.next();
                if (!testCache.containsKey(key)) {
                    System.out.println(testCache.get(key));
                    testCache.put(key, testComponentCache.get(key));
                }
            }
        }

        System.out.println(""testCache.isEmpty()"");
        if (!testCache.isEmpty()) {
            try (CloseableIterator<String> keys = testCache.keySet().iterator()) {
                while (keys.hasNext()) {
                    System.out.println(""bla bla"" + testComponentCache.get(keys.next()));
                }
            }
        }
{code}
or
{code:java}
        try (Stream<String> stream = testComponentCache.keySet().stream()) {
            stream.filter(key -> !testCache.containsKey(key)).forEach(key -> {
                testCache.put(key, testComponentCache.get(key));
                System.out.println(testCache.get(key));
            });
        }

        if (!testCache.isEmpty()) {
            try (Stream<String> stream = testCache.keySet().stream()) {
                stream.forEach(key -> System.out.println(""bla bla"" + testComponentCache.get(key));
            }
        }
{code}","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Artemis to 2.8.0,WFLY-11876,12798162,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,20/Mar/19 4:14 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,10/May/19 4:56 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-9595,WFLY-11022,WFLY-11608,WFLY-11610,WFLY-11613,WFLY-11060,WFLY-11606,WFLY-11026,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:39.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12178,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z043yk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade JGroups to 4.0.19.Final,WFLY-11850,12797447,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,14/Mar/19 9:46 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,15/Mar/19 11:08 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,https://issues.jboss.org/projects/JGRP/versions/12340786,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:39.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03zpg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
@ApplicationScoped does not work when used with @ServerEndpoint,WFLY-11672,12790617,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,mmarusic,mmarusic,mmarusic,05/Feb/19 5:59 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,09/Apr/19 5:26 AM,15.0.1.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,CDI / Weld,Web Sockets,,,,,,,,,,0,,,,,"When the @ApplicationScoped annotation is used in combination with @ServerEndpoint the class is instantiated on every new connection instead of being instantiated once for the whole application.

The expected behaviour:
There should be only one instance of the class which is annotated with @ApplicationScoped and @ServerEndpoint annotations.

I have created a reproducer and added it as attachment.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Feb/19 6:01 AM;mmarusic;applicationScopedServerEndpoint.zip;https://issues.redhat.com/secure/attachment/12446422/applicationScopedServerEndpoint.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:39.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,1.0,,,,,,,,,,"1|z02zj8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move EL3 implementation to org.glassfish:jakarta-el 3.02,WFLY-11979,12802195,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,11/Apr/19 9:24 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,17/Apr/19 4:39 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,EE,,,,,,,,,,,0,,,,,"The JBoss fork of javaee/uel-ri[1] has fallen behind the repo it was tracking (we've produced 3.0.1.b08 while the original is up to b11) and that repo in turn has been shutdown and work moved to eclipse[3], which has in turn produced a 3.0.2.

The only thing our fork did was allow us to produce the impl jar independent of the API classes. We want that because we have actual code differences in our fork of the API classes.  But I'll see if we can if I can use module.xml filters to accomplish the same effect.

[1] https://github.com/jboss/uel/
[2] https://github.com/javaee/uel-ri
[3] https://github.com/eclipse-ee4j/el-ri",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12223,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04qj0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add test case for JDBC Security Realm,WFLY-11931,12800454,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,02/Apr/19 9:59 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Apr/19 11:07 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Security,Test Suite,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:38.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12204,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04hbg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance Elytron JDBC Realm documentation,WFLY-11820,12796009,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,07/Mar/19 8:45 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,02/Apr/19 12:10 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Documentation,Security,,,,,,,,,,0,,,,,"Presently we have a lot of user questions in relation to the JDBC security realm in WildFly Elytron. 

As a complex security realm this will benefit from it's own in-depth documentation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-13 07:24:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12195,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03sn8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"13/Mar/19 7:24 AM;mchoma;I have gathered some past forum threads. Where some detailed jdbc realm documentation would help, I think.

https://developer.jboss.org/thread/279761
https://developer.jboss.org/message/983212
https://developer.jboss.org/message/988333
https://developer.jboss.org/message/987539
https://developer.jboss.org/message/979742
https://developer.jboss.org/message/977649","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support messaging clusters (Artemis Clusters) behind http load balancers.,WFLY-11829,12796601,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,11/Mar/19 5:20 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,22/May/19 5:24 PM,16.0.0.Final,,,,,17.0.0.Beta1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"Support EAP messaging clusters (Artemis Clusters) behind http load balancers.
 by disabling automatic topology updates on clients.",,,,,,,,,,,,,,,WFLY-11876,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-30 14:33:16.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03uus:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a better timeout for the ConsoleAccessLogTestCase,WFLY-12108,12808270,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,21/May/19 4:51 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,22/May/19 5:28 PM,,,,,,17.0.0.Beta1,17.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"The {{ConsoleAccessLogTestCase}} had a potential for race conditions only waiting 1 second for messages to be logged. The test has now failed twice and CI which indicates that is not a long enough timeout. The test should be updated with a better timeout routine.

Due to this the {{testPredicate()}} should be removed. It always ran the risk of getting a false positive due to the possible race between when the log is written vs when it is read. Since the timeout will be increased I see no reason to leave this test. If there are concerns with the predicate not working a test should be written in Undertow and likely already exists.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:37.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12309,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05pdg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move Java EE 8 BOM back to Quickstarts parent ,WFLY-12141,12810050,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,30/May/19 5:46 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,30/May/19 6:00 AM,,,,,,17.0.0.Final,,,Quickstarts,,,,,,,,,,,0,,,,,Such BOM is not part of automated dependency management and should be in Quickstarts sources as before.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:37.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05yxg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade HAL to 3.2.0.Final,WFLY-12001,12803200,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,harald.pehl,harald.pehl,harald.pehl,17/Apr/19 8:48 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,15/May/19 10:26 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Web Console,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-11408,,,,,,,,,,,,,,,,,,,,,HAL-1578,HAL-1587,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-19 16:37:46.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12286,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04wcc:",9223372036854775807,,0.0,,,,,,,,,,,,spriadka,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove ha-singleton-service/with-backups quickstart since it's no longer supported without deprecated API usage,WFLY-11821,12796033,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,07/Mar/19 9:26 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,26/Mar/19 1:53 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,Quickstarts,,,,,,,,,,0,,,,,Remove ha-singleton-service/with-backups quickstart since it's no longer supported without deprecated API usage. This is due to MSC-203.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:37.0,,,,,,,,,,https://github.com/wildfly/quickstart/pull/337,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03ssk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"26/Mar/19 1:53 PM;rhusar;Merged.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix RmiContextLookupTestCase when security manager is enabled,WFLY-11791,12794587,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,27/Feb/19 2:17 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,21/Mar/19 9:10 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Test Suite,,,,,,,,,,,0,jdk11,jdk12,,,"javax.naming.NameNotFoundException: WFNAM00004: Name ""/127.0.0.1:11090"" is not found
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.util.NamingUtils$1.lookupNative(NamingUtils.java:95)
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)
	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
	at java.naming/javax.naming.InitialContext.doLookup(InitialContext.java:282)
	at deployment.RmiContextLookupTestCase.war//org.jboss.as.test.integration.naming.rmi.RmiContextLookupBean.testRmiContextLookup(RmiContextLookupBean.java:37)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.jpa@16.0.0.CR1-SNAPSHOT//org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:237)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:362)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:144)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.core@3.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)
	at deployment.RmiContextLookupTestCase.war//org.jboss.as.test.integration.naming.rmi.RmiContextLookupBean$$$view780.testRmiContextLookup(Unknown Source)
	at deployment.RmiContextLookupTestCase.war//org.jboss.as.test.integration.naming.rmi.RmiContextLookupTestCase.testTaskSubmit(RmiContextLookupTestCase.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at deployment.arquillian-service//org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at deployment.arquillian-service//org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at jdk.internal.reflect.GeneratedMethodAccessor408.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at jdk.internal.reflect.GeneratedMethodAccessor407.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at jdk.internal.reflect.GeneratedMethodAccessor406.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at deployment.arquillian-service//org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)
	at jdk.internal.reflect.GeneratedMethodAccessor409.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at jdk.internal.reflect.GeneratedMethodAccessor408.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at jdk.internal.reflect.GeneratedMethodAccessor407.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at jdk.internal.reflect.GeneratedMethodAccessor406.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at deployment.arquillian-service//org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at deployment.arquillian-service//org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at deployment.arquillian-service//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at deployment.arquillian-service//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at deployment.arquillian-service//org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at deployment.arquillian-service//org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at deployment.arquillian-service//org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at deployment.arquillian-service//org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at deployment.arquillian-service//org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at deployment.arquillian-service//org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.doRunTestMethod(JMXTestRunner.java:180)
	at deployment.arquillian-service//org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.doRunTestMethod(ArquillianService.java:200)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:162)
	at deployment.arquillian-service//org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:141)
	at deployment.arquillian-service//org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:176)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)
	at jdk.internal.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at java.base/sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:260)
	at java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)
	at java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)
	at java.management/com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)
	at java.management/com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)
	at java.management/com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1475)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:724)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.BlockingNotificationMBeanServer.invoke(BlockingNotificationMBeanServer.java:168)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.AuthorizingMBeanServer.invoke(AuthorizingMBeanServer.java:258)
	at org.jboss.remoting-jmx@3.0.1.Final//org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:950)
	at org.jboss.remoting-jmx@3.0.1.Final//org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:71)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:66)
	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:313)
	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:270)
	at org.jboss.as.controller@8.0.0.CR1//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:254)
	at org.jboss.as.controller@8.0.0.CR1//org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:225)
	at org.jboss.as.jmx@8.0.0.CR1//org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:66)
	at org.jboss.remoting-jmx@3.0.1.Final//org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:835)",,,,,,,,,,,,,,,,,,,,,,WFLY-11498,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:37.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12124,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03kk4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"27/Feb/19 2:21 PM;ropalka;The real cause (swallowed by the jdk code base) was:
---
  java.security.AccessControlException: WFSM000001: Permission check failed (permission ""(""java.lang.RuntimePermission"" ""accessClassInPackage.com.sun.jndi.url.rmi"")"" in code source ""(vfs:/content/RmiContextLookupTestCase.war/WEB-INF/classes <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.RmiContextLookupTestCase.war"" from Service Module Loader"")
  	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
  	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
  	at java.base/java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1324)
  	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPackageAccess(WildFlySecurityManager.java:490)
  	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:174)
  	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
  	at java.base/java.lang.Class.forName0(Native Method)
  	at java.base/java.lang.Class.forName(Class.java:415)
  	at org.jboss.modules.JDKSpecific$1.loadClassLocal(JDKSpecific.java:114)
  	at org.jboss.modules.Module.loadModuleClass(Module.java:731)
  	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
  	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
  	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
  	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
  	at java.base/java.lang.Class.forName0(Native Method)
  	at java.base/java.lang.Class.forName(Class.java:415)
  	at java.naming/com.sun.naming.internal.VersionHelper.loadClass(VersionHelper.java:123)
  	at java.naming/com.sun.naming.internal.ResourceManager.getFactory(ResourceManager.java:403)
  	at java.naming/javax.naming.spi.NamingManager.getURLObject(NamingManager.java:599)
  	at java.naming/javax.naming.spi.NamingManager.getURLContext(NamingManager.java:557)
  	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.WildFlyRootContext.getProviderContext(WildFlyRootContext.java:770)
  	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:140)
  	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
  	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
  	at java.naming/javax.naming.InitialContext.doLookup(InitialContext.java:282)
  	at deployment.RmiContextLookupTestCase.war//org.jboss.as.test.integration.naming.rmi.RmiContextLookupBean.testRmiContextLookup(RmiContextLookupBean.java:37)
---","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support hex encoding in jdbc-realm for elytron,WFLY-11073,12771493,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,honza889,honza889,26/Sep/18 3:17 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,28/May/19 5:30 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Documentation,Security,,,,,,,,,,2,elytron,,,,"Old database login-module can be configured passing the attribute {{hashEncoding}}, for example:

{code:xml}
<login-module code=""Database"" flag=""required"">
    <module-option name=""dsJndiName"" value=""java:jboss/datasources/ExampleDS""/>
    <module-option name=""principalsQuery"" value=""SELECT password FROM User WHERE username = ?""/>
    <module-option name=""rolesQuery"" value=""SELECT role, 'Roles' FROM User WHERE username = ?""/>
    <module-option name=""hashAlgorithm"" value=""SHA-1""/>
    <module-option name=""hashEncoding"" value=""hex""/>
    <module-option name=""hashCharset"" value=""UTF-8""/>
</login-module>
{code}

Currently jdbc-realm in elytron only uses base64 encoding if hash is stored in a text column. This way the migration is more complicated cos the password hash is not valid changing from old security system to elytron.

Think also about the charset attribute.",,,,,,,,,,,,,WFCORE-3832,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-01 08:26:42.0,,,,,,,,,,https://github.com/wildfly/wildfly-core/pull/3295,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z001ow:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"01/Oct/18 8:26 AM;dlofthouse;Will review if we resubmit this under the RFE process.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SFSB not sticky on a single cluster node when clustering of the bean is disabled,WFLY-11489,12783168,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rachmato,jbaesner,jbaesner,10/Dec/18 6:42 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,07/Jun/19 3:08 PM,15.0.0.Final,,,,,17.0.0.Beta1,17.0.0.Final,,Clustering,Remoting,,,,,,,,,,0,downstream_dependency,,,,"In case a stateful session bean is annotated with:

{{@Stateful(passivationCapable=false)}}

then the serialization is *disabled* and thus the bean is only available on a single cluster node.

When a client now calls two different methods on this stateful bean it intermittently ends up on different cluster nodes, resulting in the following Exception:

{code}
ERROR [org.jboss.as.ejb3.invocation] (default task-2) WFLYEJB0034: EJB Invocation failed on component TestSessionEJB for method public abstract void test.ITestSession.method2(java.lang.String,java.lang.String) throws javax.ejb.EJBException,java.rmi.RemoteException: javax.ejb.NoSuchEJBException: WFLYEJB0168: Could not find EJB with id UUIDSessionID [4b0f4a27-40ba-411b-8852-0108a5ec64f4]
	at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:55)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:406)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeWithIdentity(AssociationImpl.java:565)
	at org.jboss.as.ejb3.remote.AssociationImpl.invokeMethod(AssociationImpl.java:546)
	at org.jboss.as.ejb3.remote.AssociationImpl.lambda$receiveInvocationRequest$0(AssociationImpl.java:197)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
{code}",,,,,,,,,,,,,,,EJBCLIENT-319,,,,,,,,,EJBCLIENT-319,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Dec/18 6:37 AM;jbaesner;reproducer.zip;https://issues.redhat.com/secure/attachment/12444577/reproducer.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-10 13:59:09.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12030,,,,,,,,,,,,,,,,1.0,15.0,,,,,,,,,,"1|z01vfs:",9223372036854775807,,0.0,,,,,"# Compile the attached project using Maven
# create the user: _testUser_, password: _Test2018!_, group: _keyservice_readonly_
# copy the {{$PROJECT_ROOT/scenario1/ear/target/test.ear}} to {{$JBOSS_HOME/standalone/deployments}}
# copy {{$JBOSS_HOME/standalone}} to {{$JBOSS_HOME/node1}}
# copy {{$JBOSS_HOME/standalone}} to {{$JBOSS_HOME/node2}}
# start node1: {{$JBOSS_HOME/bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node1 -Djboss.server.base.dir=$JBOSS_HOME/node1}}
# start node2: {{$JBOSS_HOME/bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node2 -Djboss.server.base.dir=$JBOSS_HOME/node2 -Djboss.socket.binding.port-offset=300}}
# run the client: {{mvn -f client/pom.xml exec:exec}}",,,,,,,,,,,"10/Dec/18 1:59 PM;pferraro;[~jbaesner] Is this actually reproducible against WF15?  The reproducer does not fail against WF master.","10/Dec/18 2:35 PM;jbaesner;[~pferraro], I tested it today against WF master. How often did you run the client application? It does not occur everytime, it's intermittend as reported in the Description.","10/Dec/18 3:31 PM;pferraro;[~jbaesner] I ran it 10 times.  What failure percentage did you observe?","11/Dec/18 4:44 AM;jbaesner;[~pferraro], I recreated the entire environment again with a feshly downloaded Wildfly 15.0.0.Final. Then downloaded the {{reproducer.zip}}. From that point I followed strictly the aforementioned _Steps to Reproduce_.

Then I did 2 shots of tests with 10 invocations each. After 10 invocations, I've restarted both cluster nodes.

+1. Test series+
{code}
Invocation |  01 |  02 |  03 |  04 |  05 |  06 |  07 |  08 |  09 |  10
-----------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------
Result     |  ok | nok | nok | nok | nok | nok | nok | nok | nok | nok 
{code}

+2. Test series+
{code}
Invocation |  01 |  02 |  03 |  04 |  05 |  06 |  07 |  08 |  09 |  10
-----------+-----+-----+-----+-----+-----+-----+-----+-----+-----+------
Result     |  ok | nok |  ok |  ok | nok | nok | nok | nok |  ok | nok 
{code}

","12/Dec/18 2:30 PM;rachmato;OK, set up the reproducer with Wildfly 15 final and saw the error. I'll start to look into the underlying cause. 

There seem to be two issues here: (i) for a SFSB like this one, invocations should be sticky and they are not (ii) in the case of fail-over (not actually tested here), is EJB Client smart enough to know that invocations should not fail over to the other node in the cluster when (passivationCapable=false) 

By the way, Jorg, its a pleasure to see JIRA issues created so concisely and with reproducers. Thanks!
","18/Dec/18 2:05 PM;rachmato;Had a look at this today.

Making invocations using the reproducer shows problems with affinity assignment on the server even when the failures do not appear. For example, the assignment of strong affinity to a SFSB on the server during session creation is based on looking at the client mappings registry; if it is defined and it has a group name X, then the SFSB has strong affinity ClusterAffinity(""X""). This doesn't take into account that the client mappings registry may be defined to hold client mappings for SFSBs in deployments, but those beans themselves may not be clustered.  In particular, this is an incorrect assignment for a SFSB with passivationCapable=false, where the strong affinity should be NodeAffinity(<node>). Even when failures do not occur, the SFSBs deployed in the example that Jorg has provided with passivationCapable=false have strong affinity ClusterAffinity(""ejb""). 

Because of the fact that affinity processing is now split between logic on the server *and* logic on the client, it's not easy to make changes to the processing on the server without seeing how those impact the processing on the client. I'm going to have to try and fit the whole story together before thinking of how to adjust things.
","20/Dec/18 7:53 AM;pferraro;Yeah - that logic is wrong.   Strict affinity must always be dictated by the server - although the client can override the reported weak affinity to be more strict if it wants, but should never weaken what the server reports.","11/Jan/19 1:15 PM;rachmato;I've now had a look in detail at the affinity processing here and have an idea for a fix. There are three problems to overcome. 

The first is to correct the assignment of strong and weak affinity for the SFSB with passivationEnabled == false. If the initial affinity of the proxy before session creation is (strong affinity, weak affinity) = (NONE, NONE), which is the default, then the affinity assignment we expect is either (NODE, NONE) or (NONE, NODE) which are equivalent. In other words, invocations should be tied to the node that the session is created on. This will require simple changes to the way the affinity is calculated - namely using the session cache do to the calculations.

The second problem is that the v3 protocol will not allow sending arbitrary affinity values back to the client: it is assumed that:
* updates to strong affinity are always of type ClusterAffinity 
* updates to weak affinity are always of type NodeAffinity

For the code, see for example  https://github.com/wildfly/jboss-ejb-client/blob/master/src/main/java/org/jboss/ejb/protocol/remote/EJBServerChannel.java#L705
This means that we can't assign (NODE, NONE) to the SFSB with passivationEnabled=false, but we can assign (NONE, NODE) which is equivalent. This seems to be the only way around this particular issue.

The third problem is that, on the client side, when the reply from the server is unpacked, there are some adjustments made to the affinity values before the invocation completes. These adjustments seem to interpret Affinity.NONE as ""the affinity is not set"", and try to replace Affinity.NONE with the targetAffinity which was determined when doing discovery. For example: https://github.com/wildfly/jboss-ejb-client/blob/master/src/main/java/org/jboss/ejb/client/DiscoveryEJBClientInterceptor.java#L172. In fact, Affinity.NONE means ""I don't care which node you send me to"" and does not mean  ""the affinity is not set"". So, for example, the affinity adjustment made in the DiscoveryEJBClientInterceptor above will transform (NONE, NODE) into (NODE, NODE) or possibly (URI, NODE) where URI is a URIAffinity assigment for the locator pointing to the server used to create the session. In this case, such a manipulation may not hurt, but it seems to be unnecessary. 

So, i'll be putting together a fix which incorporates these three changes. It would have been much easier and cleaner to be able to assign to the strong or weak affinity any affinity type, but with the v3 protocol, that is currently not possible.

PS For those interested, targetAffinity is assigned as a side effect when we choose a target for the invocation. Doing discovery results in choosing a serviceURL to send the invocation to which satisfies the strong/weak affinity constraints. That serviceURL contains a location together with optional node, module and cluster attributes. The location tells us how to connect to the node, the attributes tell us what the node name is, which modules are deployed there and which clusters it belongs to. targetAffinity is NodeAffinity(<node name>) if the serviceURL does have a node attribute, and URIAffinity(<location>) if there is no node attribute.  It seems to be used to make adjustments to affinity on the client based on where the last invocation attempt went. I'm really not seeing why this is needed; it may be related to the assumptions made in the v3 protocol.","16/Jan/19 1:08 PM;rachmato;Here is a trace of the fixed version which shows the new adjustments to affinity for the case of passivationEnabled=false. The affinity is being set as described above, and stickiness now holds: 
{code}
[INFO] --- exec-maven-plugin:1.6.0:exec (default-cli) @ testclient ---
18:56:01,571 INFO  (main) [org.wildfly.naming] WildFly Naming version 1.0.9.Final-redhat-1
18:56:01,693 INFO  (main) [org.wildfly.security] ELY00001: WildFly Elytron version 1.1.10.Final-redhat-1
18:56:01,720 INFO  (main) [org.xnio] XNIO version 3.5.5.Final-redhat-1
18:56:01,727 INFO  (main) [org.xnio.nio] XNIO NIO Implementation Version 3.5.5.Final-redhat-1
18:56:01,800 INFO  (main) [org.jboss.remoting] JBoss Remoting version 5.0.8.Final-redhat-1
18:56:01,837 TRACE (main) [org.jboss.ejb.client.invocation] lookupNative: createSessionProxy, locator = StatelessEJBLocator for ""test/test_ejb/TestSessionEJB"", view is interface test.ITestSession, affinity is None, baseFaffinity = None
18:56:01,839 INFO  (main) [org.jboss.ejb.client] JBoss EJB Client version 4.0.11.Final
18:56:01,873 TRACE (main) [org.jboss.ejb.client.invocation] Calling createSession(locator = StatelessEJBLocator for ""test/test_ejb/TestSessionEJB"", view is interface test.ITestSession, affinity is None)
18:56:01,876 DEBUG (main) [org.jboss.ejb.client.invocation] session creation proceed(): calling interceptor: org.jboss.ejb.client.TransactionInterceptor@3439f68d
18:56:01,877 DEBUG (main) [org.jboss.ejb.client.invocation] session creation proceed(): calling interceptor: org.jboss.ejb.client.NamingEJBClientInterceptor@dbd940d
18:56:01,878 DEBUG (main) [org.jboss.ejb.client.invocation] session creation proceed(): calling interceptor: org.jboss.ejb.client.DiscoveryEJBClientInterceptor@de3a06f
18:56:01,878 DEBUG (main) [org.jboss.ejb.client.invocation] session creation proceed(): calling interceptor: org.jboss.ejb.client.TransactionPostDiscoveryInterceptor@76b10754
18:56:01,878 DEBUG (main) [org.jboss.ejb.client.invocation] session creation proceed(): calling interceptor: org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor@3d8314f0
18:56:01,878 DEBUG (main) [org.jboss.ejb.client.invocation] session creation proceed(): setting receiver, remote destination is: remote+http://localhost:8380
18:56:02,231 DEBUG (XNIO-1 task-10) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message from node2, registering cluster ejb to node node2
18:56:02,233 DEBUG (XNIO-1 task-10) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message block from node2, registering block ::/0 to address /127.0.0.1:8380
18:56:02,234 DEBUG (XNIO-1 task-10) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message from node2, registering cluster ejb to node node1
18:56:02,234 DEBUG (XNIO-1 task-10) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message block from node2, registering block ::/0 to address /127.0.0.1:8080
18:56:02,235 DEBUG (XNIO-1 task-11) [org.jboss.ejb.client.invocation] Received MODULE_AVAILABLE(8) message from node2 for module test/test_ejb
18:56:02,241 TRACE (main) [org.jboss.ejb.client.invocation] EJBClientChannel.SessionOpenInvocation.getResult(): updating Locator (sessionID), new = StatefulEJBLocator for ""test/test_ejb/TestSessionEJB"", view is interface test.ITestSession, affinity is None, session ID is UUIDSessionID [00657b55-238a-4924-80c6-c710d6417569]; weakAffinity = Node ""node2""
18:56:02,242 TRACE (main) [org.jboss.ejb.client.invocation] Session created: session id: UUIDSessionID [00657b55-238a-4924-80c6-c710d6417569] , affinity: None
18:56:02,243 TRACE (main) [org.jboss.ejb.client.invocation] EJBInvocationHandler: setting weak affinity = None
18:56:02,244 DEBUG (main) [org.jboss.ejb.client.invocation] Calling invoke(module = test/test_ejb/TestSessionEJB, strong affinity = None, weak affinity = Node ""node2""): 
18:56:02,248 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: calling interceptor: org.jboss.ejb.client.TransactionInterceptor@3439f68d
18:56:02,248 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: calling interceptor: org.jboss.ejb.client.NamingEJBClientInterceptor@dbd940d
18:56:02,249 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: calling interceptor: org.jboss.ejb.client.DiscoveryEJBClientInterceptor@de3a06f
18:56:02,249 TRACE (main) [org.jboss.ejb.client.invocation] Calling executeDiscovery(locator = StatefulEJBLocator for ""test/test_ejb/TestSessionEJB"", view is interface test.ITestSession, affinity is None, session ID is UUIDSessionID [00657b55-238a-4924-80c6-c710d6417569], weak affinity = Node ""node2"")
18:56:02,251 TRACE (main) [org.jboss.ejb.client.invocation] Performing first-match discovery(locator = StatefulEJBLocator for ""test/test_ejb/TestSessionEJB"", view is interface test.ITestSession, affinity is None, session ID is UUIDSessionID [00657b55-238a-4924-80c6-c710d6417569], weak affinity = Node ""node2"", filter spec = (node=node2))
18:56:02,258 TRACE (main) [org.jboss.ejb.client.invocation] EJB discovery provider: attempting to connect to cluster ejb connection remote+http://127.0.0.1:8380
18:56:02,259 TRACE (main) [org.jboss.ejb.client.invocation] EJB discovery provider: attempting to connect to cluster ejb connection remote+http://127.0.0.1:8080
18:56:02,273 DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message from node2, registering cluster ejb to node node2
18:56:02,273 DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message block from node2, registering block ::/0 to address /127.0.0.1:8380
18:56:02,273 DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message from node2, registering cluster ejb to node node1
18:56:02,274 DEBUG (XNIO-1 task-1) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message block from node2, registering block ::/0 to address /127.0.0.1:8080
18:56:02,274 DEBUG (XNIO-1 task-2) [org.jboss.ejb.client.invocation] Received MODULE_AVAILABLE(8) message from node2 for module test/test_ejb
18:56:02,274 DEBUG (XNIO-1 task-3) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message from node1, registering cluster ejb to node node2
18:56:02,275 DEBUG (XNIO-1 task-3) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message block from node1, registering block ::/0 to address /127.0.0.1:8380
18:56:02,275 DEBUG (XNIO-1 task-3) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message from node1, registering cluster ejb to node node1
18:56:02,275 DEBUG (XNIO-1 task-3) [org.jboss.ejb.client.invocation] Received CLUSTER_TOPOLOGY(15) message block from node1, registering block ::/0 to address /127.0.0.1:8080
18:56:02,276 DEBUG (XNIO-1 task-3) [org.jboss.ejb.client.invocation] Received MODULE_AVAILABLE(8) message from node1 for module test/test_ejb
18:56:02,278 TRACE (main) [org.jboss.ejb.client.invocation] Performed first-match discovery(target affinity = Node ""node2"", destination = remote+http://127.0.0.1:8380)
18:56:02,279 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: calling interceptor: org.jboss.ejb.client.TransactionPostDiscoveryInterceptor@76b10754
18:56:02,279 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: calling interceptor: org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor@3d8314f0
18:56:02,279 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: setting receiver, remote destination is: remote+http://127.0.0.1:8380
18:56:02,279 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: strong affinity = None, weak affinity = Node ""node2""
18:56:02,279 TRACE (main) [org.jboss.ejb.client] Transitioning org.jboss.ejb.client.EJBClientInvocationContext@1e802ef9 from SENDING to SENT (org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:481))
18:56:02,280 TRACE (main) [org.jboss.ejb.client] Transitioning org.jboss.ejb.client.EJBClientInvocationContext@1e802ef9 from SENT to WAITING (org.jboss.ejb.client.EJBClientInvocationContext.sendRequestInitial(EJBClientInvocationContext.java:364))
18:56:02,319 TRACE (XNIO-1 task-6) [org.jboss.ejb.client] Transitioning org.jboss.ejb.client.EJBClientInvocationContext@1e802ef9 from WAITING to READY (org.jboss.ejb.client.EJBClientInvocationContext.resultReady(EJBClientInvocationContext.java:683))
18:56:02,320 TRACE (main) [org.jboss.ejb.client] Transitioning org.jboss.ejb.client.EJBClientInvocationContext@1e802ef9 from READY to CONSUMING (org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:580))
18:56:02,333 TRACE (main) [org.jboss.ejb.client] Transitioning org.jboss.ejb.client.EJBClientInvocationContext@1e802ef9 from CONSUMING to DONE (org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:607))
18:56:02,334 TRACE (main) [org.jboss.ejb.client.invocation] getResult(): invocation returned, relocating EJB: strong affinity = None, weak affinity = Node ""node2""
18:56:02,334 INFO  (main) [TestRedHat] method1 called
18:56:02,334 DEBUG (main) [org.jboss.ejb.client.invocation] Calling invoke(module = test/test_ejb/TestSessionEJB, strong affinity = None, weak affinity = Node ""node2""): 
18:56:02,334 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: calling interceptor: org.jboss.ejb.client.TransactionInterceptor@3439f68d
18:56:02,334 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: calling interceptor: org.jboss.ejb.client.NamingEJBClientInterceptor@dbd940d
18:56:02,334 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: calling interceptor: org.jboss.ejb.client.DiscoveryEJBClientInterceptor@de3a06f
18:56:02,335 TRACE (main) [org.jboss.ejb.client.invocation] Calling executeDiscovery(locator = StatefulEJBLocator for ""test/test_ejb/TestSessionEJB"", view is interface test.ITestSession, affinity is None, session ID is UUIDSessionID [00657b55-238a-4924-80c6-c710d6417569], weak affinity = Node ""node2"")
18:56:02,335 TRACE (main) [org.jboss.ejb.client.invocation] Performing first-match discovery(locator = StatefulEJBLocator for ""test/test_ejb/TestSessionEJB"", view is interface test.ITestSession, affinity is None, session ID is UUIDSessionID [00657b55-238a-4924-80c6-c710d6417569], weak affinity = Node ""node2"", filter spec = (node=node2))
18:56:02,335 TRACE (main) [org.jboss.ejb.client.invocation] EJB discovery provider: attempting to connect to cluster ejb connection remote+http://127.0.0.1:8380
18:56:02,336 TRACE (main) [org.jboss.ejb.client.invocation] EJB discovery provider: attempting to connect to cluster ejb connection remote+http://127.0.0.1:8080
18:56:02,336 TRACE (main) [org.jboss.ejb.client.invocation] Performed first-match discovery(target affinity = Node ""node2"", destination = remote+http://127.0.0.1:8380)
18:56:02,336 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: calling interceptor: org.jboss.ejb.client.TransactionPostDiscoveryInterceptor@76b10754
18:56:02,336 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: calling interceptor: org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor@3d8314f0
18:56:02,336 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: setting receiver, remote destination is: remote+http://127.0.0.1:8380
18:56:02,337 DEBUG (main) [org.jboss.ejb.client.invocation] sendRequest: strong affinity = None, weak affinity = Node ""node2""
18:56:02,337 TRACE (main) [org.jboss.ejb.client] Transitioning org.jboss.ejb.client.EJBClientInvocationContext@79b06cab from SENDING to SENT (org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:481))
18:56:02,337 TRACE (main) [org.jboss.ejb.client] Transitioning org.jboss.ejb.client.EJBClientInvocationContext@79b06cab from SENT to WAITING (org.jboss.ejb.client.EJBClientInvocationContext.sendRequestInitial(EJBClientInvocationContext.java:364))
18:56:02,341 TRACE (XNIO-1 task-12) [org.jboss.ejb.client] Transitioning org.jboss.ejb.client.EJBClientInvocationContext@79b06cab from WAITING to READY (org.jboss.ejb.client.EJBClientInvocationContext.resultReady(EJBClientInvocationContext.java:683))
18:56:02,342 TRACE (main) [org.jboss.ejb.client] Transitioning org.jboss.ejb.client.EJBClientInvocationContext@79b06cab from READY to CONSUMING (org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:580))
18:56:02,342 TRACE (main) [org.jboss.ejb.client] Transitioning org.jboss.ejb.client.EJBClientInvocationContext@79b06cab from CONSUMING to DONE (org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:607))
18:56:02,342 TRACE (main) [org.jboss.ejb.client.invocation] getResult(): invocation returned, relocating EJB: strong affinity = None, weak affinity = Node ""node2""
18:56:02,342 INFO  (main) [TestRedHat] method2 called
{code}
 
Aside from running the Widfly testsuite, i'll have to check this over with a fine-toothed comb tomorrow to verify that I haven't changed overall affinity processing in a regressive way.","22/Jan/19 4:46 AM;rachmato;I now have a fix for this issue, in the sense that it fixes the reproducer problem and also passes the testsuite, but i'm going to have to try to write some more test cases before pushing it out. The changes affect both the EJB client and Wildfly codebases.

The main changes are as follows:
1. Correct affinity assignment on server during session creation
2. Adjust affinity assignment on server during invocation
3. Adjust affinity processing in NamingInterceptor
4. Add in more debug/trace logging so we can see what is going on with affinity processing

1. This required using the values Cache.getStrongAffinity() and Cache.getWeakAffinity() to assign affinity values to new sessions. In the case where strong affinity evaluates to NodeAffinity (as with beans which have passivationEnabled=false), don't send back any affinity. This will cause the client to convert (NONE, NONE) to (targetAffinity, NONE) which works.
 
2. Generally, the only time the server should adjust affinity on invocations is when the weak affinity needs to be adjusted for an invocation which has failed over. Use the Cache.getWeakAffinity() for that. Also, in order to make the testsuite pass, I had to leave in a bit of code which forces SLSB to have strong affinity to ""the cluster""; in other words, when a SLSB is sent to a clustered node, its strong affinity is always forced to ""the cluster"". I'll have to double check how this worked in the past; in general, it seems wrong (a SLSB with affinity (NONE,NONE) should not be converted to (Cluster, NONE) just because it was non-deterministically sent to a clustered node).

3.   If the user has defined a PROVDER_URL in the JNDI naming context, in the case of a bean with default affinity (NONE, NONE), the NamingInterceptor will choose one URI in the PROVIDER_URL as the target; it can do this because (NONE, NONE) does not place any restrictions on the choice of target. This also has the consequence of bypassing the DiscoveryEJBClientInterceptor. However, the NamingInterceptor was calling DiscoveryEJBClientInterceptor.setupAffinities() before the invocation went out, which means that the server adjustments were not being correctly updated during reply processing. I Changed this to update the affinities on the way back, and it works as expected now.

Generally, such target selection does not check that the module is even deployed on that target before sending the invocation as discovery is bypassed; but that is for another day.

4. I have added in logging at every location where affinities are updates. This makes it a lot easier to follow what is going on.

I'll tidy up the current PR and post a ink to it.","22/Jan/19 11:19 AM;rachmato;I should also note that the changes I made to the EJB client caused a failure in the LearningTestCase. Fixing this error deepened by understanding of how this client works. I might as well explain it here; or at least i'll explain my understanding of it.

Learning is a feature related to proxies created from the same initial context. When we create a proxy for a SFSB, it has something called a baseAffinity, a strong affinity which restricts which nodes can be used for the initial invocation which creates the session. If learning is enabled, if we lookup a SFSB using an initial context, and it ends up having strong affinity tied to a cluster, then any proxies generated later by lookups on SFSBs from the same initial context will automatically inherit the same baseAffinity; in other words, they will be automatically tied to the same cluster. This feature can be disabled by including the property jboss.disable-affinity-learning = true in the InitialContext environment. The default value for baseAffinity is Affinity.NONE, which means the initial session creation invocation could be directed to any node. If we wish to specify the default baseAffinity (which must be of type ClusterAffinity), we can use the InitialContext property jboss.cluster-affinity = <cluster name>.

The problem in LearningTestCase was that  proxies for SFSBs were being created (which includes the session being created on the chosen server node) and returning with strong affinity = NONE, which is not what is supposed to happen: SFSBs should have strong affinity either to the node (if the chosen target for the initial session creation pointed to a standalone node) or a cluster(if the chosen target for the initial session creation pointed to a cluster node).

I adjusted the expected affinity from Affinity.NONE to URIAffinity(new URI(""remote://localhost:6999)) which is the affinity that will result when passing through the NamingEJBClientInterceptor when a PROVIDER_URL is in the InitialContext environment. 

","24/Jan/19 5:36 AM;rachmato;Just a note for future reference. There are five interceptors which get executed in this order:
TransactionInterceptor
NamingEJBClientInterceptor
DiscoveryEJBClientInterceptor
TransactionPostDiscoveryInterceptor
RemotingEJBClientInterceptor
Here is the way I look at these. 

Naming and Discovery find and set destinations for invocations. Naming does it based on a list of URLs in PROVIDER_URLs in the JNDI InitialContext which is used to lookup the EJB client proxy. Discovery does it based on configured connections in the EJBClientContext as well as dynamically discovered connections from clusters. Naming is only activated if (strong affinity, weak affinity) = (NONE, NONE). Discovery works for all affinity combinations. If one finds a destination, the other will let that selection stand (i.e. they don't interfere with each other).

Transaction and TransactionPostDiscovery work together to ensure transaction stickiness. They do not discover destinations and leave that up to Naming and Discovery. Transaction holds an applications map which maps module names to destinations: if an invocation arrives for a module which Transaction has seen before, it sets the destination to the same node, using the applications map. This map is a resource on the transaction, so it dies when the transaction is committed. If Transaction does not recognize the invocation module, it attaches the map to the invocation context. Discovery is carried out by Naming or Discovery as usual. Then TransactionPostDiscovery  takes the discovered destination and adds it to the applications map, which is obtains as an attachment to the invocation context. That destination will be used for an invocation on the same module the next time around. Additionally, Transaction also uses the application map to give hints to Discovery: when Transaction cannot set the destination, it attaches its current list of URIs from the applications map as PREFERRED_DESTINATIONS; Discovery will use this if it has to choose one URI from several available. This means in practice that Transaction will ask Discovery to choose nodes that Transaction has seen before. 

Remoting just removes nodes from the discovered node registry (DNR) when a chosen destination returns a NoSuchEJBException.
 
","13/Feb/19 6:40 AM;pferraro;Not sure why this was set to resolved, as PR was not yet merged.","15/Feb/19 8:00 AM;rachmato;> Not sure why this was set to resolved, as PR was not yet merged.
[~pferraro] My error, thanks for correcting.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unknown service name jboss.ejb and txn,WFLY-12090,12807779,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,flavia.rainone,flavia.rainone,flavia.rainone,17/May/19 4:02 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Jun/19 6:16 AM,17.0.0.Alpha1,,,,,17.0.0.Final,,,EJB,Transactions,,,,,,,,,,0,,,,,"When EJBRemoting service is not started (it is LAZY), but XA recovery has, we could have the following sort of error:
{code}
16:51:46,785 WARN  [com.arjuna.ats.jta] (Periodic Recovery) ARJUNA016027: Local XARecoveryModule.xaRecovery got XA exception XAException.XAER_RMERR: javax.transaction.xa.XAException: WFTXN0034: Failed to acquire a connection for this operation
	at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.getOperationsXA(RemotingRemoteTransactionPeer.java:139)
	at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.provider.remoting.RemotingRemoteTransactionPeer.recover(RemotingRemoteTransactionPeer.java:202)
	at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.SubordinateXAResource.recover(SubordinateXAResource.java:201)
	at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.SubordinateXAResource.recover(SubordinateXAResource.java:197)
	at org.jboss.jts//com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoveryFirstPass(XARecoveryModule.java:634)
	at org.jboss.jts//com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:226)
	at org.jboss.jts//com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:171)
	at org.jboss.jts//com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:770)
	at org.jboss.jts//com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:382)
Caused by: org.jboss.remoting3.ServiceOpenException: Unknown service name jboss.ejb
	at org.jboss.remoting@5.0.10.Final-SNAPSHOT//org.jboss.remoting3.remote.RemoteReadListener.handleEvent(RemoteReadListener.java:429)
	at org.jboss.remoting@5.0.10.Final-SNAPSHOT//org.jboss.remoting3.remote.RemoteReadListener.handleEvent(RemoteReadListener.java:46)
	at org.jboss.xnio@3.7.2.Final-SNAPSHOT//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.jboss.xnio@3.7.2.Final-SNAPSHOT//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.jboss.xnio.nio@3.7.2.Final-SNAPSHOT//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)
	at org.jboss.xnio.nio@3.7.2.Final-SNAPSHOT//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)
	Suppressed: org.jboss.remoting3.ServiceOpenException: Unknown service name txn
		... 6 more

{code}
",,,,,,,,,,,,,,,,,,,,,,,,WFTC-62,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-20 04:11:50.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12312,,,,,,,,,,,,,,,,0.0,18.0,,,,,,,,,,"1|z05mm4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/May/19 4:02 PM;flavia.rainone;A possible solution would be making XARecoveryService dependent on EJBRemoting service, but it appears this creates a circular dependency.","20/May/19 4:11 AM;tomjenkinson;[~flavia.rainone] I am wondering if WFTC should not be registering it's XAResourceRecovery implementation until the EJB services is started? 
https://github.com/jbosstm/jboss-transaction-spi/blob/master/src/main/java/org/jboss/tm/XAResourceRecoveryRegistry.java#L61 

Or it should start up the EJB service and block in the XAResource::recover call?

/cc [~mmusgrov]","21/May/19 7:09 AM;ochaloup;[~tomjenkinson] yes, I think both option are possible but maybe not so easy to implement. If there is a way to define a service dependency tree then IMHO it's easier. But it depends on if it's possible.

[~flavia.rainone] I'm searching the code a bit (the dependencies are a bit complex thus I could be missing details) but the EJBRemotingService depends on the txn remote service but not on the recovery service, doesn't it? I mean having the dependency tree like
{code}
          +----------+
          |          |
          +          v
EJB service     TXN Service
         ^             ^
         |             | (R.S. is depending on TXN S.)
         +             +
        Recovery Service
{code}

in case you appreciate it I can try to research on this a bit more?","21/May/19 7:14 AM;tomjenkinson;According to what we know now, we can't wait for EJB service to start as it only starts when the app is deployed that uses EJB. If app is undeployed EJB remoting recovery would never happen. [~flavia.rainone]is looking to start the EJB service is recovery resource is required.","21/May/19 3:29 PM;flavia.rainone;[~tomjenkinson] Yes, I figured that forcing the start of EJB Remoting was affecting Wildfly startup time considerably, lots of new services are added. I also found out, after playing with a few options, that I just need to start RemotingTransactionServiceService, which is added at TransactionSubsystemAdd. So I have two options here: either change that one to ACTIVE instead of LAZY, or, a more complex approach, create a service that depends on that lazy service when there are XASubordinateResources to recover. Only after that ""XaSubordinateResourcesServiceRecovery"" is started, we perform service recovery.
There is also another issue that I found: the subordinate resources list are never cleaned with the reproducer. This certainly is related to the fact that the EJB components are missing in the reproducer, but I think we can fix that and make wildfly behavior more elegant when it comes to subordinate resource recovery in wildfly-transaction-client.","22/May/19 9:35 AM;ochaloup;[~flavia.rainone] does have the subordinate resources list never being cleaned something to do with the https://issues.jboss.org/browse/WFTC-62 or not at all?","22/May/19 9:39 AM;tomjenkinson;Thanks for the update [~flavia.rainone], I am wondeirng why missing EJB components would prevent the recovery if you are able to start up RemotingTransactionServiceService is that not enough for the recovery propagation to take place? I don't think the EJB's themselves should be registered with the transactions.

/cc [~ochaloup] [~mmusgrov]","22/May/19 9:54 AM;flavia.rainone;[~tomjenkinson] The explanation is that EJB deployment triggers EJBRemote startup and triggers RemotingTransactionServiceService startup (those services are lazy). Any of them will satisfy the recovery in the sense that they will trigger registration of ""ejb"" and ""txn"" as remote service (notice that these remote services are another type of service, they are not MSC services nor are related with capabilities, but they will leave Remoting in a satisfactory state so it can be used for communications with the other server).
Once those EJB components are missing, the RemotingTransacctionServiceService is installed but, given it is lazy, it does not start. The EJB themselves are not registered with the transactions, it is just a matter of dependency of MSC services in the server.
The only way to reproduce this bug is having pending XaSubordinateResources in the file system to be recovered without any app installed. The only way of having that is having a previous instance of the server gone bad and having the original application undeployed before the server restarts.
[~ochaloup] I'm not talking about WFTC-62. It appears that this bug does not exist, on a discussion in our weekly call with [~tomekadamski] I explained to him that the resources were supposed to not be removed unless there was the recovery afterwards, and he told me he didn't wait long enough to certify that, so he is going to review that Jira at some point to see if it was a misunderstanding of the algorithm or if there is really a bug. I'm talking about the files not being removed because there is no actual recovery being performed, i.e., those files represent a non-existent resource in the other server. I'm investigating to see what to do with that.

I'm submitting a patch soon for this, after a discussion with [~bstansberry2] the conclusion was that we should make RemotingTransactionServiceService active, vs keeping it lazy and adding a mechanism in wildfly-transaction-client that would create a service dependent on that service every time we needed to recover subordinate resources from the file system.
","22/May/19 9:57 AM;flavia.rainone;Btw, for reference, the discussion with Brian about the possible solutions is in ZulipChat, wildfly-developer stream, ""WFLY-12090"" topic.","22/May/19 3:49 PM;flavia.rainone;[~ochaloup] I correct myself. After investigating, I can see that the not cleaning log files occurs everytime the server restarts, i.e., WFTC-62 is the cause of the problem here. Hence, differently than I first thought, the behavior I'm observing with the logs not being deleted has nothing to do with the fact that there is no EJB to perform recovery on the other side of the server. I'll link WFTC-62 to this Jira as well, since we have now a simpler reproducer than using OpenShift, and I'll submit a PR.","22/May/19 4:01 PM;flavia.rainone;There is actually another bug, this one only reproduced when the remote server no longer has the resource and, hence, provides no Xids for the resource being recovered: WFTC-64. I'm also submitting a fix for this.","23/May/19 8:56 AM;ochaloup;[~flavia.rainone] thanks for the fix for the WFTC-62.
I would like to understand what is the relation of this issue (WFLY-12090) to the WFTC-64? Is it something the customer hits and makes issues?
I mean I think the WFTC-64 is not an issue. For the full correct recovery it's expected that the remote server will be restarted with the same object store as it was before plus with the same node id as it has before the failure.
From the transaction consistency perspective it's not fully secure to remove the record as you lose the information about existence of some unfinished transaction on the remote side. I have in mind cases like (maybe we can discuss which one is real or not but still...)

* the remote server fails, administrator starts another blank new server at the same address (as WFTC-64 mentions), recovery occurs, WFTC removes the record, administrator realizes he did not port `/data` directory, restarts the server once again with txn records and we have never recovered data here (_this situation expects an error of  the administrator_)
* the remote server fails, administrator starts another blank new server, recovery occurs, WFTC  removes the record, administrator slowly migrates unfinished transactions to the newly started server, those migrated transactions won't be never recovered as the parent EAP node lost the information about them (_we were thinking about such option for the txn recovery management on OpenShift - even this idea was never implemented I think it's still feasible. It would be similar as migration of messages from a killed broker to an active one.)

My PoV is that the records should be left untouched for some time (ie. for hours) until they are really deleted. The Narayana has recovery `expiryScanInterval` which defines the time (by default 12h) after which similar records are removed.

For the sake of completeness, when remembering correctly these WFTC records - which we are talking about in WFTC-64 -  are for orphan detection thus the transaction was defined to be rollback (WFTC-38, WFLY-10201). The records are not necessary if information about participant is saved in the Narayana transaction log and the transaction outcome was defined to be commit.","23/May/19 9:49 AM;tomjenkinson;Just to point out that by default Narayana does not expire any transactions:
https://github.com/jbosstm/narayana/blob/master/ArjunaJTS/narayana-jts-idlj/src/main/resources/jbossts-properties.xml#L112

You need to enable that behaviour and to be aware of what you are doing when you do that.","23/May/19 10:15 AM;ochaloup;[~tomjenkinson] ok, I see. I thought it's enabled by default. Anyway the integration for WFLY is here: https://github.com/wildfly/wildfly/blob/17.0.0.Alpha1/transactions/src/main/java/org/jboss/as/txn/service/ArjunaRecoveryManagerService.java#L112 (still **not** enabling the {{AtomicActionExpiryScanner}})","23/May/19 10:23 PM;flavia.rainone;Right, [~ochaloup], so from that POV, I should have an expiration maybe? [~tomjenkinson] what do you think about this, given that in Narayana they do never expire?
I'll clarify a little bit what is the scenario here: the remote server does not return any Xids for SubordinateXidResource. And, because of that, currently the entry at the ejb-xa-recovery filesystem registry is never deleted. With the fix I provided for WFTC-64, the subordinate entry is deleted if the other server returns no xids to recover.","24/May/19 2:48 AM;ochaloup;[~flavia.rainone] I think they should not be deleted immediately and the modifiable expiration settings should be in preference in my PoV. This comes from the perspective of how the recovery manager works. It runs periodically and it can have several unsuccessful attempts to finish a transaction branch. But eventually, it will succeed when the node is already up, the network is healthy...","24/May/19 5:05 AM;tomjenkinson;I am not following precisely, if the remote server returns zero Xids then the local client could probably return zero Xids to the local transaction manager and delete it's file if it is certain the other side can never return an Xid? But I think that this discussion should be taking place on https://issues.jboss.org/browse/WFTC-64 rather than here if I am understanding the context correctly?

","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,
Concurrent singleton service installation can cause service to run simultaneously on 2 members.,WFLY-12022,12804686,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,26/Apr/19 9:21 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,29/Apr/19 6:57 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"There exists a race condition between concurrent elections triggered by different nodes.  In general, only 1 node actually runs the election for a given set of singleton candidates.  During a deployment replace, there are a rapid series of changes to the candidates as the deployment is stopped and restarted.  While each node processes them 1 at a time, this processing isn't synchronized across members.  This is the root of the problem, as a new election can be triggered on one node while another node is still in the process of completing its election.  Here's the scenario where observed the race condition:

Before deployment replace, sever-one is the primary provider of the singleton service
Each node undeploys its application, and restarts.  As each node redeploys, and the singleton service is reinstalled, each node register itself as providing the singleton service.  The redeploy happens concurrently, but the registration order appears the same on all nodes.
In this case, the registration order was server-three, server-two, server-one.
# server-three registers first, it elects itself and starts its service
# server-two registers next
## server-three defers election to server-two
## server-two runs the election:
### Elects itself
### Sends a synchronous service stop message to server-three
### Starts its service
# server-one registers next, while server-two is in the process of stopping the service on server-three
## server-three defers election to server-one
## server-two is still in the election process, but will defer election to server-one once complete
## server-one runs the election:
### Elects itself
### Sends service stop message to server-two and server-three
#### server-three is no longer running its service
#### server-two hasn't yet started its service, but it will soon (This is the problem)
### server-one starts its service
### Meanwhile, server-two just received its response that the stop of service (2.B.II.) and commences its own service start (1.B.III.)

Now server-one and server-two are both running the service.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:36.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12249,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z054tg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deleting JMS temporary destination with a closed session should throw an exception,WFLY-11613,12788128,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,18/Jan/19 11:04 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,21/May/19 9:36 AM,15.0.1.Final,,,,,17.0.0.Beta1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"If a client closes its JMS session (intentionally or not) and then invokes javax.jms.TemporaryQueue.delete() or javax.jms.TemporaryTopic.delete() these methods will return without actually deleting the destination (because the underlying session was closed). This can be confusing and/or mask programming errors.
The JavaDoc for{{ javax.jms.TemporaryQueue }}states that a JMSException should be thrown, ""if the JMS provider fails to delete the temporary queue due to some internal error.""

Options",,,,,,,,,,,,,JBEAP-15992,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:36.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02lr4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-arquillian from 2.1.1.Final to 2.2.0.Final,WFLY-11934,12800569,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jamezp,jamezp,jamezp,02/Apr/19 2:54 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Apr/19 2:26 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,This will also require an upgrade to Arquillian Core and the Shrinkwrap Descriptors.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:35.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12200,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04i0s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ObjectStreamClass use of bridge.getXXX static fields does not confirm Unsafe API,WFLY-11861,12797935,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tomekadamski,tomekadamski,tomekadamski,18/Mar/19 7:00 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,15/May/19 11:01 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,IIOP,,,,,,,,,,,0,,,,,"ObjectStreamClass must use staticFieldBase object instead of class object to get a field value, see for example the code
openjdk-orb-jdk9/src/main/java/com/sun/corba/se/impl/io/ObjectStreamClass.java

{code:java}
 final Field f = cl.getDeclaredField(""serialVersionUID""); 
 int mods = f.getModifiers(); 
 // SerialBug 5:  static final SUID should be read 
 if (Modifier.isStatic(mods) && Modifier.isFinal(mods) ) { 
     long offset = bridge.staticFieldOffset(f); 
     suid = bridge.getLong(cl, offset); 
{code}

Here are excerpts from sun.misc.Unsafe doc:

public native Object staticFieldBase(Field f)
Report the location of a given static field, in conjunction with #staticFieldOffset.
...
public int getInt(Object o, int offset) // getLong, etc.
...
The results are undefined unless one of the following cases is true:
...
The offset and object reference o (either null or
non-null) were both obtained via #staticFieldOffset
and #staticFieldBase (respectively) from the
reflective Field representation of some Java field.

With OpenJDK VMs using the class object incidentally works but with other VMs (Azul Zing for example) this fails.",,,,,,,,,,,,,,,,,,,,,,,,,,,,EAP7-1237,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:35.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z042m4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Broken validation for pooled-connection-factory's transaction attribute. ,WFLY-11827,12796574,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pkremens,pkremens,pkremens,11/Mar/19 4:36 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,12/Mar/19 4:26 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"The issue was introduced by https://issues.jboss.org/browse/WFLY-11617 Validation not working for pooled-connection-factory's transaction attribute. 

*1) Starting Wildfly with _full_ profile gives now a WARN log, although the value for the transaction attribute is valid.*
*2) Writing the invalid value to the attribute should fail the management operation.*
* reported as WFLY-11830

Starting vanilla server:
{noformat}
09:19:00,578 WARN  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 18) WFLYMSGAMQ0101: Invalid value xa for transaction, legal values are [local, none, xa], default value is applied.
{noformat}

Write operation:
{noformat}
[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:write-attribute(name=transaction,value=xa)
09:31:21,542 WARN  [org.wildfly.extension.messaging-activemq] (management-handler-thread - 2) WFLYMSGAMQ0101: Invalid value xa for transaction, legal values are [local, none, xa], default value is applied.
{""outcome"" => ""success""}

[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:write-attribute(name=transaction,value=invalid)
09:33:52,278 WARN  [org.wildfly.extension.messaging-activemq] (management-handler-thread - 1) WFLYMSGAMQ0101: Invalid value invalid for transaction, legal values are [local, none, xa], default value is applied.
{""outcome"" => ""success""}

[standalone@localhost:9990 /]  /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:read-attribute(name=transaction)
{
    ""outcome"" => ""success"",
    ""result"" => ""xa""
}
{noformat}

Start (not reload, reload gives a single warning) server with invalid value logs two warnings:
{noformat}
...
09:35:37,737 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: WildFly Full 16.0.0.Final (WildFly Core 8.0.0.Final) starting
09:35:38,481 INFO  [org.wildfly.security] (ServerService Thread Pool -- 15) ELY00001: WildFly Elytron version 1.8.0.Final
09:35:38,688 WARN  [org.wildfly.extension.messaging-activemq] (Controller Boot Thread) WFLYMSGAMQ0101: Invalid value foo for transaction, legal values are [""local"", ""none"", ""xa""], default value is applied.
09:35:38,945 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
09:35:38,979 WARN  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 7) WFLYMSGAMQ0101: Invalid value foo for transaction, legal values are [local, none, xa], default value is applied.
09:35:38,980 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 38) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
...
{noformat}",,,,,,,,,WFLY-11617,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-11 10:16:52.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12151,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z03uos:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Mar/19 5:06 AM;pkremens;_equals()_ should be used instead of _==_ here. This should solve the 1)
https://github.com/wildfly/wildfly/blob/master/messaging-activemq/src/main/java/org/wildfly/extension/messaging/activemq/jms/ConnectionFactoryAttributes.java#L594","11/Mar/19 5:17 AM;pkremens;I've submit an MR for fixing the problem of validation where the attribute value is 'xa'. Not sure about the other part of the issue.

{noformat}
[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:write-attribute(name=transaction,value=asd)
10:16:58,115 WARN  [org.wildfly.extension.messaging-activemq] (management-handler-thread - 1) WFLYMSGAMQ0101: Invalid value asd for transaction, legal values are [local, none, xa], default value is applied.
{""outcome"" => ""success""}

[standalone@localhost:9990 /]  /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:read-attribute(name=transaction)
{
    ""outcome"" => ""success"",
    ""result"" => ""xa""
}
{noformat}
[~soul2zimate] this behaviour is imho wrong, wdyt?","11/Mar/19 5:22 AM;pkremens;I'll file a separate issue for the other problem (success of invalid mgmt operation).","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 9.0.0.Beta6,WFLY-12069,12806661,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,13/May/19 3:51 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,13/May/19 9:39 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:34.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05g2s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Checkstyl Config to 1.0.8.Final,WFLY-12029,12804833,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dlofthouse,dlofthouse,dlofthouse,29/Apr/19 9:20 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,15/May/19 10:59 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,Also remove the checkstyle plug-in version override.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:34.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12253,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z055os:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Review module dependencies for the extensions included in Galleon cloud-profile,WFLY-11766,12793867,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,22/Feb/19 10:13 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,07/Jun/19 3:55 PM,16.0.0.Beta1,,,,,17.0.0.Alpha1,17.0.0.Final,,,,,,,,,,,,,0,,,,,"The cloud-profile provisioned by Galleon includes the following extensions:

{noformat}
<extensions>
        <extension module=""org.jboss.as.clustering.infinispan""/>
        <extension module=""org.jboss.as.connector""/>
        <extension module=""org.jboss.as.deployment-scanner""/>
        <extension module=""org.jboss.as.ee""/>
        <extension module=""org.jboss.as.jaxrs""/>
        <extension module=""org.jboss.as.jpa""/>
        <extension module=""org.jboss.as.naming""/>
        <extension module=""org.jboss.as.transactions""/>
        <extension module=""org.jboss.as.weld""/>
        <extension module=""org.wildfly.extension.bean-validation""/>
        <extension module=""org.wildfly.extension.elytron""/>
        <extension module=""org.wildfly.extension.io""/>
        <extension module=""org.wildfly.extension.messaging-activemq""/>
        <extension module=""org.wildfly.extension.microprofile.config-smallrye""/>
        <extension module=""org.wildfly.extension.microprofile.health-smallrye""/>
        <extension module=""org.wildfly.extension.microprofile.metrics-smallrye""/>
        <extension module=""org.wildfly.extension.microprofile.opentracing-smallrye""/>
        <extension module=""org.wildfly.extension.undertow""/>
    </extensions>
{noformat}

This issue is an umbrella for all the tasks related to the analysis, removal of unused module dependencies and identification of optional dependencies of these extensions.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:34.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03gvg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Distributed web session expiration scheduler payload is too large,WFLY-11852,12797645,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,15/Mar/19 9:33 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,19/Mar/19 5:20 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,The CommandDispatcher isn't pulling in the requisite externalizers for Duration and Instant.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:34.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12161,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z040vw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.14.Final,WFLY-12100,12807993,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,20/May/19 12:59 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,31/May/19 7:35 PM,17.0.0.Alpha1,,,,,17.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ISPN-10206,ISPN-10029,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-03 03:00:56.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12326,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05nqc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Do not use hardcoded name to point to the provisioned server dist module,WFLY-12096,12807851,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,yersan,yersan,yersan,20/May/19 5:01 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,22/May/19 5:26 PM,17.0.0.Alpha1,,,,,17.0.0.Beta1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"'jboss.actual.dist' is used in XSDValidationUnitTestCase and currently under dist module, it is using a hardcoded name to point to the provisioned server used in the test.

We should use a non-hardcoded name there to facilitate the transition to product branches, for example:
target/${server.output.dir.prefix}-${server.output.dir.version}
or
${basedir}/target/${project.build.finalName}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:33.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05mxg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Hibernate Validator to 6.0.16.Final,WFLY-11894,12798634,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,guillaume.smet,guillaume.smet,guillaume.smet,22/Mar/19 7:36 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,24/Mar/19 11:06 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Bean Validation,,,,,,,,,,,0,downstream_dependency,,,,"Hibernate Validator 6.0.x is faster than Hibernate Validator 5.x when validating *constrained* beans.

However, it has been reported to us that Hibernate Validator 6.0.x was significantly slower than Hibernate Validator 5.x when validating *unconstrained* beans due to a higher memory allocation rate.

This issue has been fixed in Hibernate Validator 6.0.16.Final, together with a rounding error issue.

We now also have a JMH benchmark for this particular use case.

The full changelog is here: https://hibernate.atlassian.net/issues/?jql=project%20%3D%20HV%20AND%20fixVersion%20%3D%206.0.16.Final%20order%20by%20created%20DESC .",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:33.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z046ok:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-http-client to 1.0.14.Final,WFLY-11914,12799523,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,brian.stansberry,brian.stansberry,brian.stansberry,27/Mar/19 9:08 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,29/Mar/19 11:03 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,,,,,,,,,,,0,,,,,Depend on a release that depends on JBoss Marshalling 2.0.6 -- See WEJBHTTP-24 and WFLY-11720,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04brw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Force offline mode for provisioning,WFLY-11770,12793930,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,aloubyansky,aloubyansky,aloubyansky,23/Feb/19 5:02 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,08/Mar/19 5:39 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"This does not really have any effect on our builds since all the artifacts are resolved locally anyway (either being produced by the build process or downloaded as project dependencies by maven). This setting is mostly to make sure that if one day Galleon attempts to download something from a remote repository, it will fail.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:33.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03h90:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix JMXConnectorTestCase when security manager is enabled,WFLY-11790,12794585,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ropalka,ropalka,ropalka,27/Feb/19 2:11 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,21/Mar/19 9:10 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Test Suite,,,,,,,,,,,0,jdk11,jdk12,,,"javax.naming.NameNotFoundException: WFNAM00004: Name ""/127.0.0.1:11090/jmxrmi"" is not found
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.util.NamingUtils$1.lookupNative(NamingUtils.java:95)
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)
	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)
	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
	at java.naming/javax.naming.InitialContext.doLookup(InitialContext.java:282)
	at deployment.naming-connector-bean//org.jboss.as.test.integration.naming.connector.ConnectedBean.getMBeanCountFromJNDI(ConnectedBean.java:54)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:79)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:89)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:102)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.jpa@16.0.0.CR1-SNAPSHOT//org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:237)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:362)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:144)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
	at org.jboss.weld.core@3.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
	at org.jboss.as.weld.common@16.0.0.CR1-SNAPSHOT//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
	at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
	at org.jboss.as.ee@16.0.0.CR1-SNAPSHOT//org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.auth.server.SecurityIdentity.runAsFunctionEx(SecurityIdentity.java:406)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.remote.AssociationImpl.invokeWithIdentity(AssociationImpl.java:565)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.remote.AssociationImpl.invokeMethod(AssociationImpl.java:546)
	at org.jboss.as.ejb3@16.0.0.CR1-SNAPSHOT//org.jboss.as.ejb3.remote.AssociationImpl.lambda$receiveInvocationRequest$0(AssociationImpl.java:197)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.base/java.lang.Thread.run(Thread.java:835)",,,,,,,,,,,,,,,,,,,,,,WFLY-11497,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:33.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12124,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03kjo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"27/Feb/19 2:15 PM;ropalka;The real cause (swallowed inside JDK code base) was:
---
java.security.AccessControlException: WFSM000001: Permission check failed (permission""(""java.lang.RuntimePermission"" ""accessClassInPackage.com.sun.jndi.url.rmi"")"" in code source ""(vfs:/content/naming-connector-bean <no signer certificates>)"" of ""ModuleClassLoader for Module ""deployment.naming-connector-bean"" from Service Module Loader"")

 	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:294)
 	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:191)
 	at java.base/java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1324)
 	at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.manager.WildFlySecurityManager.checkPackageAccess(WildFlySecurityManager.java:490)
 	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:174)
 	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
 	at java.base/java.lang.Class.forName0(Native Method)
 	at java.base/java.lang.Class.forName(Class.java:415)
 	at org.jboss.modules.JDKSpecific$1.loadClassLocal(JDKSpecific.java:114)
 	at org.jboss.modules.Module.loadModuleClass(Module.java:731)
 	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
 	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
 	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
 	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
 	at java.base/java.lang.Class.forName0(Native Method)
 	at java.base/java.lang.Class.forName(Class.java:415)
 	at java.naming/com.sun.naming.internal.VersionHelper.loadClass(VersionHelper.java:123)
 	at java.naming/com.sun.naming.internal.ResourceManager.getFactory(ResourceManager.java:403)
 	at java.naming/javax.naming.spi.NamingManager.getURLObject(NamingManager.java:599)
 	at java.naming/javax.naming.spi.NamingManager.getURLContext(NamingManager.java:557)
 	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.WildFlyRootContext.getProviderContext(WildFlyRootContext.java:770)
 	at org.wildfly.naming-client@1.0.9.Final//org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:140)
 	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
 	at java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)
 	at java.naming/javax.naming.InitialContext.doLookup(InitialContext.java:282)
 	at deployment.naming-connector-bean//org.jboss.as.test.integration.naming.connector.ConnectedBean.getMBeanCountFromJNDI(ConnectedB
---","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Singleton service election listeners,WFLY-11098,12772310,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,01/Oct/18 2:26 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,21/Mar/19 9:08 PM,14.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Users want the ability to be notified when a given member is elected as the primary provider of a  singleton service.  The notification mechanism should be distributed, such that all members on which the given singleton service is installed will receive notifications when a new primary is elected.",,,,,,,,,,,,,EAP7-1115,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:32.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11729,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z006hs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Configure internal broker not to check for configuration changes,WFLY-12174,12811671,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,06/Jun/19 10:55 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,06/Jun/19 11:39 AM,17.0.0.Beta1,,,,,17.0.0.Final,,,JMS,,,,,,,,,,,0,downstream_dependency,,,,"Currently the internal broker will scan periodically the logging.properties file to detect changes while the logging configuraiton is managed by WildFly.
Setting the configurationFileRefreshPeriod to -1 to avoid reloading of
logging.properties",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:32.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12348,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z068gk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance Elytron Filesystem Realm documentation,WFLY-12110,12808448,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dvilkola,dvilkola,dvilkola,22/May/19 7:14 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,28/May/19 4:49 PM,,,,,,17.0.0.Final,,,Documentation,Security,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:32.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12319,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05px0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Template for legacy build of infinispan subsystem contains misnamed cache,WFLY-11995,12802801,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,15/Apr/19 5:18 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,16/Apr/19 5:54 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:32.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12232,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04u1w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JSF Session / View Beans @Destroy not invoked after GC,WFLY-11869,12798027,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,tmiyar,tmiyar,tmiyar,19/Mar/19 7:50 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,01/May/19 4:09 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,JSF,,,,,,,,,,,0,,,,,"JSF Session / View Beans @Destroy not invoked after GC

This commit to fix a JSF memory leak appears to be related: 

https://github.com/wildfly/wildfly/commit/6b28dd31e4fe40addebbb975f70dc10e00c2d59a#diff-67f677c8e97e147da66398f585bfe13f",,,,,,,,,,,,,JBEAP-16535,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Mar/19 7:50 AM;tmiyar;dumpWithFix.hprof.zip;https://issues.redhat.com/secure/attachment/12448640/dumpWithFix.hprof.zip","19/Mar/19 7:50 AM;tmiyar;dumpWithProblem.hprof.zip;https://issues.redhat.com/secure/attachment/12448641/dumpWithProblem.hprof.zip","19/Mar/19 7:50 AM;tmiyar;reproducers.zip;https://issues.redhat.com/secure/attachment/12448642/reproducers.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:32.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12168,,,,,,,,,,,,,,,,3.0,1.0,,,,,,,,,,"1|z0435w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
FD_SOCK socket-binding client mappings do not map to external_addr/port properly,WFLY-11807,12795481,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,rcd,rcd,04/Mar/19 6:15 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,24/Apr/19 6:46 PM,14.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"The JGroups FD_SOCK protocol requires 2 TCP sockets. Older versions of WildFly accepted a socket-binding for this protocol, but that was removed around version 11, apparently because the binding's port number [wasn't actually used|https://access.redhat.com/solutions/3485801].

Now the port selection is random by default, which is a problem if you've got firewalls to deal with, as noted in the linked document. The suggested workaround is to set the client_bind_port and start_port properties of the protocol, but that has the drawback of not being affected by a socket-binding-group's port-offset. This means that if you want to run 2 WildFly instances on the same box with the same config (which I do, as a developer, to test application code related to clustering), simply changing the port offset is insufficient to get the second instance to start.

So I'd like to suggest that socket-binding for FD_SOCK be resurrected, given that it can be implemented correctly now. FD_SOCK calls the configured SocketFactory for both the server socket (with name jgroups.fd_sock.srv_sock) and the client socket (with name jgroups.fd.ping_sock), so it should be possible for WildFly to fully manage the socket bindings.",,,,,,,,,,,,,,,WFCORE-4388,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-26 08:54:21.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12188,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03pk4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"26/Mar/19 8:54 AM;pferraro;This jira raises valid points.

I'm going to re-categorize this as a bug - since the current behavior is too limiting when members are not on the same network, or when network routing rules are particularly strict.

Users should be allowed to define a specific socket binding (and thus leverage a port-offset), which should also auto-configure FD_SOCK's external_addr/port properties when a client mapping is defined.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to component matrix 1.0.3.Final,WFLY-12122,12808881,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,kabirkhan,kabirkhan,24/May/19 5:06 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,28/May/19 5:51 AM,,,,,,17.0.0.Final,,,,,,,,,,,,,,0,,,,,"It basically contains a fix for a NPE 
https://github.com/wildfly/wildfly-component-matrix-plugin/compare/1.0.2.Final...1.0.3.Final",,,,,,,,,,,,,WFCORE-4492,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:31.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05sh8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
resource adapter configured as module not finding validation provider,WFLY-11974,12801883,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gaol,gaol,gaol,10/Apr/19 11:25 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,14/Apr/19 2:46 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,JCA,,,,,,,,,,,0,downstream_dependency,,,,"resource adapter configured as module not finding validation provider	

{code}
ERROR [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0215: Failed to resume activity org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent$1@3f9a21a1. To resume normal operation it is recommended that you restart the server.: java.lang.RuntimeException: javax.resource.ResourceException: IJ000852: Validation exception
	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.activate(MessageDrivenComponent.java:273)
	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.access$300(MessageDrivenComponent.java:63)
	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent$1.resume(MessageDrivenComponent.java:109)
	at org.jboss.as.server.suspend.SuspendController.resume(SuspendController.java:126)
	at org.jboss.as.server.ServerService.finishBoot(ServerService.java:430)
	at org.jboss.as.server.ServerService.boot(ServerService.java:398)
	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:370)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.resource.ResourceException: IJ000852: Validation exception
	at org.jboss.jca.core.rar.EndpointImpl.activate(EndpointImpl.java:177)
	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.activate(MessageDrivenComponent.java:271)
	... 7 more
Caused by: javax.validation.ValidationException: Unable to create a Configuration, because no Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
	at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:271)
	at org.jboss.jca.core.bv.BeanValidationUtil.createValidatorFactory(BeanValidationUtil.java:51)
	at org.jboss.jca.core.bv.BeanValidationUtil.createValidator(BeanValidationUtil.java:63)
	at org.jboss.jca.core.rar.EndpointImpl.activate(EndpointImpl.java:165)
	... 8 more
{code}

It looks like the hibernate validator module should have services=import: 

{code}
<module name=""org.jboss.ironjacamar.impl"" xmlns=""urn:jboss:module:1.5"">
...
    <dependencies>
...
        <module name=""javax.validation.api""/>
        <module name=""org.hibernate.validator""/>
{code}
",28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12221,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04p8s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Distributed web session metadata payload contains unnecessary nanosecond precision,WFLY-11975,12802169,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,pferraro,pferraro,pferraro,11/Apr/19 4:14 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,14/Apr/19 2:46 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"The creation timestamp of a distributed web session is represented by a java.time.Instant.  The externalizer for an Instant marshals an integer containing the nanosecond precision, which is unnecessary, as the HttpSession API only requires millisecond precision.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12222,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04qdo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Core 9.0.0.Beta4,WFLY-12041,12805012,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,jmesnil,jmesnil,jmesnil,30/Apr/19 10:19 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,30/Apr/19 9:09 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:31.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z056r8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The expression for the value of share-prepared-statements does not work in XA datasource .,WFLY-12161,12810658,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,thofman,thofman,thofman,03/Jun/19 12:49 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Jun/19 5:19 PM,17.0.0.Beta1,,,,,17.0.0.Final,,,JCA,,,,,,,,,,,0,downstream_dependency,,,,"- Although  , the  ""expressions-allowed"" is true for ""share-prepared-statements"" , the expression for it does not work .

--------------------------------------------
[standalone@localhost:9990 /] /subsystem=datasources/xa-data-source=ExampleXADS:read-resource-description()

""share-prepared-statements"" => {
                ""type"" => BOOLEAN,
                ""description"" => ""Whether to share prepared statements, i.e. whether asking for same statement twice without closing uses the same underlying prepared statement"",
                ""expressions-allowed"" => true,
                ""required"" => false,
                ""nillable"" => true,
                ""default"" => false,
                ""access-type"" => ""read-write"",
                ""storage"" => ""configuration"",
                ""restart-required"" => ""all-services""
            },

---------------------------------------------

- It shows below error if we set expression for share-prepared-statements .

---------------------------------------------
18:32:07,698 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 41) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""datasources""),
    (""xa-data-source"" => ""ExampleXADS"")
]): java.lang.IllegalArgumentException
	at org.jboss.dmr.ModelValue.asBoolean(ModelValue.java:69)
	at org.jboss.dmr.ModelNode.asBoolean(ModelNode.java:324)
	at org.jboss.as.connector.subsystems.datasources.DataSourceModelNodeUtil.xaFrom(DataSourceModelNodeUtil.java:292)
	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceAdd.secondRuntimeStep(AbstractDataSourceAdd.java:298)
	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceAdd$1.execute(AbstractDataSourceAdd.java:134)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:384)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1349)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:485)

---------------------------------------------

- However , it works in a non-xa datasource .",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:30.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12338,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z062g4:",9223372036854775807,,0.0,,,,,"- Add system property like below :
--------------------------------
    </extensions>
    <system-properties>
        <property name=""expression_any"" value=""true""/>
    </system-properties>
--------------------------------

- Configure XA datasource like below , then try restart eap .

--------------------------------------
               <xa-datasource jndi-name=""java:jboss/datasources/ExampleXADS"" pool-name=""ExampleXADS"">
                   <driver>h2</driver>
                   <xa-datasource-property name=""URL"">jdbc:h2:mem:test</xa-datasource-property>
.
.

                    <statement>
                        <share-prepared-statements>${expression_any}</share-prepared-statements>
                    </statement>
                </xa-datasource>
---------------------------------------",,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EJB subsystem doesn't set TCCL when deserializing request ,WFLY-12032,12804834,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,,thofman,thofman,29/Apr/19 9:28 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Jun/19 6:17 AM,16.0.0.Final,,,,,17.0.0.Final,,,,,,,,,,,,,,0,downstream_dependency,,,,"This is follow up issue for JBEAP-16725, which was resolved with a workaround - javax.rmi was added as a dependency of wildfly.extension.io module.

The root cause is probably inside jboss-modules.

The issue is following:

* a standalone EJB client invokes remote EJB, and passes an object as an argument;
* server (trying to use the remote object) fails with ""java.lang.ClassNotFoundException: java.rmi.dgc.Lease"" (stacktrace bellow).

If a short delay ({{Thread.sleep(100)}}) is introduced on the server side, before manipulating the remote object, the invocation succeeds.

{code}
java.lang.ClassNotFoundException: java.rmi.dgc.Lease from [Module ""org.wildfly.extension.io"" version 6.0.12.Final-redhat-00001 from local module loader @6a024a67 (finder: local module finder @7921b0a2 (roots: /tmp/jboss-eap-7.2/modules,/tmp/jboss-eap-7.2/modules/system/layers/base))] (no security manager: RMI class loader disabled)
(default task-2) java.lang.ClassNotFoundException.<init>(ClassNotFoundException.java:97)
(default task-2) sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:396)
(default task-2) sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:186)
(default task-2) java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:637)
(default task-2) java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:264)
(default task-2) sun.rmi.server.MarshalInputStream.resolveClass(MarshalInputStream.java:219)
(default task-2) java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1868)
(default task-2) java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)
(default task-2) java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2042)
(default task-2) java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)
(default task-2) java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)
(default task-2) sun.rmi.transport.DGCImpl_Stub.dirty(DGCImpl_Stub.java:125)
(default task-2) sun.rmi.transport.DGCClient$EndpointEntry.makeDirtyCall(DGCClient.java:382)
(default task-2) sun.rmi.transport.DGCClient$EndpointEntry.registerRefs(DGCClient.java:324)
(default task-2) sun.rmi.transport.DGCClient.registerRefs(DGCClient.java:160)
(default task-2) sun.rmi.transport.LiveRef.read(LiveRef.java:312)
(default task-2) sun.rmi.server.UnicastRef.readExternal(UnicastRef.java:489)
(default task-2) java.rmi.server.RemoteObject.readObject(RemoteObject.java:455)
(default task-2) sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2)
(default task-2) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
(default task-2) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
(default task-2) java.lang.reflect.Method.invoke(Method.java:498)
(default task-2) org.jboss.marshalling.reflect.JDKSpecific$SerMethods.callReadObject(JDKSpecific.java:179)
(default task-2) org.jboss.marshalling.reflect.SerializableClass.callReadObject(SerializableClass.java:212)
(default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1746)
(default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1715)
(default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1715)
(default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1395)
(default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:272)
(default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:205)
(default task-2) org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41)
(default task-2) org.jboss.ejb.protocol.remote.EJBServerChannel$RemotingInvocationRequest.getRequestContent(EJBServerChannel.java:813)
(default task-2) org.jboss.as.ejb3.remote.AssociationImpl.receiveInvocationRequest(AssociationImpl.java:130)
(default task-2) org.jboss.ejb.protocol.remote.EJBServerChannel$ReceiverImpl.handleInvocationRequest(EJBServerChannel.java:451)
(default task-2) org.jboss.ejb.protocol.remote.EJBServerChannel$ReceiverImpl.handleMessage(EJBServerChannel.java:189)
(default task-2) org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:430)
(default task-2) org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:949)
(default task-2) org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
(default task-2) org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
(default task-2) org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
(default task-2) org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
(default task-2) java.lang.Thread.run(Thread.java:748)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12026,WFCORE-4450,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-29 09:34:09.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12287,,,,,,,,,,,,,,,,0.0,11.0,,,,,,,,,,"1|z055p0:",9223372036854775807,,0.0,,,,,"1. Deploy Reproducer.ear
2. {code}
unzip rmitest.zip
cd rmitest/
mvn clean package
{code}
3. Run the test: 
  * EAP6: java -cp jboss-client.jar:target/rmitest-1.0-SNAPSHOT.jar remoteobjects.RemoteObjectTesterBean eap6 
  * EAP7: java -cp jboss-client.jar:target/rmitest-1.0-SNAPSHOT.jar remoteobjects.RemoteObjectTesterBean eap7

(See JBEAP-16725 for attachments.)",,,,,,,,,,,"29/Apr/19 9:34 AM;dmlloyd;This is not a JBoss Modules issue, it's a WildFly issue.  And the issue is simply that WildFly does not use or support RMI, so RMI proxies generally will not deserialize correctly.  If you wanted to fix this particular issue, you'd want to make sure that the RMI unmarshaller was configured to use the TCCL to resolve classes.","29/Apr/19 9:46 AM;thofman;[~dmlloyd] why I thought it's a class loading issue was the fact that with 100ms delay unmarshaller starts to work correctly.

Cc [~ropalka] who I discussed already.","29/Apr/19 10:04 AM;thofman;Moving to WFLY.","29/Apr/19 10:46 AM;dmlloyd;Sure, it is related to class loading, but that's a very broad area with impacts in many systems and doesn't always mean it's a problem with JBoss Modules.  In particular JBoss Modules is not sensitive to time delays, as its class loading algorithm is generally deterministic.  In this case I'd look at how RMI is maintaining its resolution cache; perhaps the cache is not updated until after the entire message is deserialized.","13/May/19 5:17 PM;dereed;> It should actually already be set by the deserialization code.

The TCCL is not being set.  I've tracked down the version where it stopped working to EAP 7.1.0.

>  If you actually look at the source code of `MarshalInputStream` and follow what it's doing, it uses 
> `jdk.internal.misc.VM#latestUserDefinedLoader0` to determine the class loader to use. This method 
> searches the call stack for the class loader that it thinks the user meant to use.
> Unfortunately that's never going to give the right answer.

Then it might be a coincidence that RMI is using the same classloader as the incorrect TCCL?
(We can open separate JIRAs if needed for the exact same error without the RMI part).","14/May/19 7:13 AM;thofman;So the difference between the two EAP versions is that in 7.0 a request is unmarshalled with TCCL set to deployment CL, while in 7.2 it's the ""org.wildfly.extension.io"" module CL.

I'm testing this change to set TCCL to deployment CL:

  https://github.com/TomasHofman/wildfly/commit/6f1ad24c7d1fc4e3fbbb57bbe66d3e05bbeece54

and the reproducer passes.

Stacktrace to where the CNF happens is:

{code}
""default task-1@14754"" prio=5 tid=0x8f nid=NA runnable
  java.lang.Thread.State: RUNNABLE
	  at sun.rmi.transport.DGCImpl_Stub.dirty(DGCImpl_Stub.java:131)
	  at sun.rmi.transport.DGCClient$EndpointEntry.makeDirtyCall(DGCClient.java:382)
	  at sun.rmi.transport.DGCClient$EndpointEntry.registerRefs(DGCClient.java:324)
	  at sun.rmi.transport.DGCClient.registerRefs(DGCClient.java:160)
	  at sun.rmi.transport.LiveRef.read(LiveRef.java:312)
	  at sun.rmi.server.UnicastRef.readExternal(UnicastRef.java:489)
	  at java.rmi.server.RemoteObject.readObject(RemoteObject.java:455)
	  at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source:-1)
	  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	  at java.lang.reflect.Method.invoke(Method.java:498)
	  at org.jboss.marshalling.reflect.JDKSpecific$SerMethods.callReadObject(JDKSpecific.java:179)
	  at org.jboss.marshalling.reflect.SerializableClass.callReadObject(SerializableClass.java:212)
	  at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1746)
	  at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1715)
	  at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1395)
	  at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:272)
	  at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:205)
	  at org.jboss.marshalling.river.RiverUnmarshaller.doReadNestedObject(RiverUnmarshaller.java:161)
	  at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1372)
	  at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:272)
	  at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:205)
	  at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41)
	  at org.jboss.ejb.protocol.remote.EJBServerChannel$RemotingInvocationRequest.getRequestContent(EJBServerChannel.java:813)
	  at org.jboss.as.ejb3.remote.AssociationImpl.receiveInvocationRequest(AssociationImpl.java:134)
	  at org.jboss.ejb.protocol.remote.EJBServerChannel$ReceiverImpl.handleInvocationRequest(EJBServerChannel.java:451)
	  at org.jboss.ejb.protocol.remote.EJBServerChannel$ReceiverImpl.handleMessage(EJBServerChannel.java:189)
	  at org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:430)
	  at org.jboss.remoting3.remote.RemoteConnectionChannel$$Lambda$805.152281423.run(Unknown Source:-1)
	  at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:949)
	  at org.jboss.remoting3.EndpointImpl$TrackingExecutor$$Lambda$791.519592176.run(Unknown Source:-1)
	  at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	  at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	  at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	  at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	  at java.lang.Thread.run(Thread.java:748)
{code}","14/May/19 7:24 AM;thofman;[~dereed] is there a reproducer for the second customer case (https://access.redhat.com/support/cases/#/case/02379450 )?","14/May/19 7:55 AM;ropalka;I came to the same conclusion [~thofman] in my investigation.
TCCL not set is the problem. I was investigating this proposal change:
https://github.com/ropalka/jboss-ejb-client/commit/2acc6bd22e2a6b2fefee9d35943d2e5e697bcf4a
","14/May/19 8:25 AM;thofman;[~ropalka] trying your fix, but my reproducer fails. I think that deserialization of parameters happens outside of that receiver.

{code}
	  at org.jboss.ejb.protocol.remote.EJBServerChannel$RemotingInvocationRequest.getRequestContent(EJBServerChannel.java:813)
{code}","14/May/19 9:57 AM;thofman;I added a test case, I'm unable to reproduce CNF in testsuite, so I'm detecting which TCCL was set during parameter deserialization directly.

https://github.com/wildfly/wildfly/pull/12287","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PrometheusCollector NPE while adding sample supplier,WFLY-11801,12795213,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,emmartins,emmartins,emmartins,03/Mar/19 11:57 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,08/Mar/19 5:29 AM,16.0.0.Final,,,,,16.x.x TBD,17.0.0.Alpha1,17.0.0.Final,MP Metrics,,,,,,,,,,,0,,,,,"I see the following NPE frequently when migrating a server to WF16 with CMTOOL:

{code}
Eduardos-Mini:bin emmartins$ ./standalone.sh 
=========================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: /Users/emmartins/wildfly/cmtool/test/migrations/wildfly-16.0.0.Final/wildfly-15.0.1.Final/target

  JAVA: /Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/bin/java

  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true 

=========================================================================

08:47:19,267 INFO  [org.jboss.modules] (main) JBoss Modules version 1.9.0.Final
08:47:19,695 INFO  [org.jboss.msc] (main) JBoss MSC version 1.4.5.Final
08:47:19,706 INFO  [org.jboss.threads] (main) JBoss Threads version 2.3.3.Final
08:47:19,871 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: WildFly Full 16.0.0.Final (WildFly Core 8.0.0.Final) starting
08:47:20,573 INFO  [org.wildfly.security] (ServerService Thread Pool -- 23) ELY00001: WildFly Elytron version 1.8.0.Final
08:47:21,101 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
08:47:21,128 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 35) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
08:47:21,215 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
08:47:21,235 INFO  [org.xnio] (MSC service thread 1-7) XNIO version 3.6.5.Final
08:47:21,243 INFO  [org.xnio.nio] (MSC service thread 1-7) XNIO NIO Implementation Version 3.6.5.Final
08:47:21,284 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 49) WFLYCLINF0001: Activating Infinispan subsystem.
08:47:21,289 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 62) WFLYNAM0001: Activating Naming Subsystem
08:47:21,292 INFO  [org.wildfly.extension.microprofile.opentracing] (ServerService Thread Pool -- 61) WFLYTRACEXT0001: Activating MicroProfile OpenTracing Subsystem
08:47:21,296 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 70) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.
08:47:21,310 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 72) WFLYWS0002: Activating WebServices Extension
08:47:21,311 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 51) WFLYRS0016: RESTEasy version 3.6.3.Final
08:47:21,314 INFO  [org.wildfly.extension.microprofile.config.smallrye._private] (ServerService Thread Pool -- 58) WFLYCONF0001: Activating WildFly MicroProfile Config Subsystem
08:47:21,315 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 68) WFLYSEC0002: Activating Security Subsystem
08:47:21,333 INFO  [org.wildfly.extension.microprofile.health.smallrye] (ServerService Thread Pool -- 59) WFLYHEALTH0001: Activating Eclipse MicroProfile Health Subsystem
08:47:21,334 INFO  [org.jboss.as.security] (MSC service thread 1-4) WFLYSEC0001: Current PicketBox version=5.0.3.Final
08:47:21,343 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 56) WFLYJSF0007: Activated the following JSF Implementations: [main]
08:47:21,342 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 50) WFLYIO001: Worker 'default' has auto-configured to 16 core threads with 128 task threads based on your 8 available processors
08:47:21,349 INFO  [org.jboss.as.connector] (MSC service thread 1-6) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.12.Final)
08:47:21,357 INFO  [org.wildfly.extension.microprofile.metrics.smallrye] (ServerService Thread Pool -- 60) WFLYMETRICS0001: Activating Eclipse MicroProfile Metrics Subsystem
08:47:21,364 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-6) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
08:47:21,367 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0003: Undertow 2.0.19.Final starting
08:47:21,419 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 42) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)
08:47:21,429 INFO  [io.smallrye.metrics] (MSC service thread 1-5) Converted [2] config entries and added [4] replacements
08:47:21,442 INFO  [io.smallrye.metrics] (MSC service thread 1-5) Converted [3] config entries and added [14] replacements
08:47:21,443 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-6) WFLYJCA0018: Started Driver service with driver-name = h2
08:47:21,446 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service
08:47:21,454 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-8) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
08:47:21,482 INFO  [org.jboss.remoting] (MSC service thread 1-6) JBoss Remoting version 5.0.8.Final
08:47:21,672 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
08:47:21,753 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 71) WFLYUT0014: Creating file handler for path '/Users/emmartins/wildfly/cmtool/test/migrations/wildfly-16.0.0.Final/wildfly-15.0.1.Final/target/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
08:47:21,758 INFO  [org.jboss.as.ejb3] (MSC service thread 1-8) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 32 (per class), which is derived from the number of CPUs on this host.
08:47:21,759 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 128 (per class), which is derived from thread worker pool sizing.
08:47:21,778 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0012: Started server default-server.
08:47:21,781 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0018: Host default-host starting
08:47:21,885 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080
08:47:21,919 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0493: EJB subsystem suspension complete
08:47:21,998 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
08:47:22,152 INFO  [org.jboss.as.patching] (MSC service thread 1-8) WFLYPAT0050: WildFly Full cumulative patch ID is: base, one-off patches include: none
08:47:22,170 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-4) WFLYDM0111: Keystore /Users/emmartins/wildfly/cmtool/test/migrations/wildfly-16.0.0.Final/wildfly-15.0.1.Final/target/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
08:47:22,173 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-7) WFLYDS0013: Started FileSystemDeploymentService for directory /Users/emmartins/wildfly/cmtool/test/migrations/wildfly-16.0.0.Final/wildfly-15.0.1.Final/target/standalone/deployments
08:47:22,183 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0027: Starting deployment of ""cmtool-helloworld6.war"" (runtime-name: ""cmtool-helloworld6.war"")
08:47:22,183 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0027: Starting deployment of ""cmtool-helloworld5.war"" (runtime-name: ""cmtool-helloworld5.war"")
08:47:22,332 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTPS listener https listening on 127.0.0.1:8443
08:47:22,408 INFO  [org.jboss.ws.common.management] (MSC service thread 1-2) JBWS022052: Starting JBossWS 5.2.4.Final (Apache CXF 3.2.7) 
08:47:22,932 INFO  [org.jboss.weld.deployer] (MSC service thread 1-5) WFLYWELD0003: Processing weld deployment cmtool-helloworld6.war
08:47:22,932 INFO  [org.jboss.weld.deployer] (MSC service thread 1-3) WFLYWELD0003: Processing weld deployment cmtool-helloworld5.war
08:47:23,058 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-5) HV000001: Hibernate Validator 6.0.15.Final
08:47:23,477 INFO  [org.jboss.weld.Version] (MSC service thread 1-1) WELD-000900: 3.1.0 (Final)
08:47:23,573 INFO  [org.infinispan.factories.GlobalComponentRegistry] (MSC service thread 1-2) ISPN000128: Infinispan version: Infinispan 'Infinity Minus ONE +2' 9.4.8.Final
08:47:23,948 INFO  [io.smallrye.metrics] (MSC service thread 1-4) MicroProfile: Metrics activated
08:47:23,948 INFO  [io.smallrye.metrics] (MSC service thread 1-3) MicroProfile: Metrics activated
08:47:24,086 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 74) WFLYCLINF0002: Started client-mappings cache from ejb container
08:47:24,698 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 74) WFLYUT0021: Registered web context: '/cmtool-helloworld5' for server 'default-server'
08:47:24,698 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 75) WFLYUT0021: Registered web context: '/cmtool-helloworld6' for server 'default-server'
08:47:24,717 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.""cmtool-helloworld6.war"".metrics: org.jboss.msc.service.StartException in service jboss.deployment.unit.""cmtool-helloworld6.war"".metrics: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1730)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at org.wildfly.extension.microprofile.metrics.PrometheusCollector.addMetricFamilySampleSupplier(PrometheusCollector.java:32)
	at org.wildfly.extension.microprofile.metrics.MetricCollector.collectResourceMetrics0(MetricCollector.java:157)
	at org.wildfly.extension.microprofile.metrics.MetricCollector.collectResourceMetrics0(MetricCollector.java:166)
	at org.wildfly.extension.microprofile.metrics.MetricCollector.collectResourceMetrics0(MetricCollector.java:166)
	at org.wildfly.extension.microprofile.metrics.MetricCollector.collectResourceMetrics(MetricCollector.java:92)
	at org.wildfly.extension.microprofile.metrics.deployment.DeploymentMetricService.start(DeploymentMetricService.java:54)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	... 6 more

08:47:24,953 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (""deploy"") failed - address: ([(""deployment"" => ""cmtool-helloworld6.war"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""cmtool-helloworld6.war\"".metrics"" => ""Failed to start service
    Caused by: java.lang.NullPointerException""}}
08:47:24,966 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 43) WFLYSRV0010: Deployed ""cmtool-helloworld5.war"" (runtime-name : ""cmtool-helloworld5.war"")
08:47:24,967 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 43) WFLYSRV0010: Deployed ""cmtool-helloworld6.war"" (runtime-name : ""cmtool-helloworld6.war"")
08:47:24,969 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report
WFLYCTL0186:   Services which failed to start:      service jboss.deployment.unit.""cmtool-helloworld6.war"".metrics: Failed to start service

08:47:25,032 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server
08:47:25,036 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management
08:47:25,037 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990
08:47:25,037 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: WildFly Full 16.0.0.Final (WildFly Core 8.0.0.Final) started (with errors) in 6202ms - Started 521 of 711 services (1 services failed or missing dependencies, 334 services are lazy, passive or on-demand)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:30.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12135,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03o0c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect warning from LoggingConfigurationFileReloader,WFLY-11623,12788395,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ehugonnet,ehugonnet,ehugonnet,21/Jan/19 12:11 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Jul/19 12:05 PM,15.0.1.Final,,,,,17.0.0.Final,,,JMS,,,,,,,,,,,0,,,,,"1:08:06,687 WARN  [org.apache.activemq.artemis.core.server] (Thread-17 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$6@46dfb7b8)) AMQ222276: Failed to process changes to the logging configuration file: file:/home/ehsavoie/dev/wildfly/wildfly/build/target/wildfly-16.0.0.Beta1-SNAPSHOT/standalone/configuration/logging.properties   

This is due to the fact that ConfigurationPersistence implements LogContextConfiguration and Configurator. If the configurator implements LogContextConfiguration we should return it in org.apache.activemq.artemis.core.server.LoggingConfigurationFileReloader",,,,,,,,,WFLY-11876,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:30.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02n9s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EJB WFLYEJB0473: JNDI bindings for ... ejb: is not correct when there is not an appName,WFLY-11848,12797347,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,soul2zimate,soul2zimate,soul2zimate,14/Mar/19 1:26 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,20/Mar/19 6:05 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,EJB,,,,,,,,,,,0,downstream_dependency,,,,"EJB WFLYEJB0473: JNDI bindings for ... ejb: is not correct when there is not an appName

EAP 7.2 is logging the ejb: JNDI binding 'ejb:ejb-client/Hello!com.jboss.examples.ejb.Hello' which can be used by remote clients, but when the deployment is not an ear there is not an an AppName/ModuleName.

the format is: ejb: appName / moduleName / distinctName / EJBName!EJBInterface

For a deployment ejb-client.jar, the EJB it seeing appName == moduleName == ejb-client.  But the way it has worked is if there is no sub deployment, then the appName is considered """", making the lookup: ejb:/ejb-client/Hello!com.jboss.examples.ejb.Hello

If the ejb-client.jar was packaged in app.ear, then the lookup would be ejb:app/ejb-client/Hello!com.jboss.examples.ejb.Hello

So all of that to say, there should be a / in the binding name when there is not an appName (ie not in an ear or not a subdeployment).

{code}
  @Resource(lookup = ""java:app/AppName"")
  private String appName;
  @Resource(lookup = ""java:module/ModuleName"")
  private String moduleName;
{code}
 
https://docs.jboss.org/author/display/WFLY/EJB+invocations+from+a+remote+server+instance


{code}
INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-5) WFLYEJB0473: JNDI bindings for session bean named 'Hello' in deployment unit 'deployment ""ejb-client.jar""' are as follows:

	java:global/ejb-client/Hello!com.jboss.examples.ejb.Hello
	java:app/ejb-client/Hello!com.jboss.examples.ejb.Hello
	java:module/Hello!com.jboss.examples.ejb.Hello
	java:jboss/exported/ejb-client/Hello!com.jboss.examples.ejb.Hello
	ejb:ejb-client/Hello!com.jboss.examples.ejb.Hello
	java:global/ejb-client/Hello
	java:app/ejb-client/Hello
	java:module/Hello
{code}


org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor
{code}
            // log EJB's ejb:/ namespace binding
            final String ejbNamespaceBindingName = sessionBean.isStateful() ? ejbNamespaceBindingBaseName + ""!"" + viewClassName + ""?stateful"" : ejbNamespaceBindingBaseName + ""!"" + viewClassName;
            logBinding(jndiBindingsLogMessage, ejbNamespaceBindingName);
{code}",,,,,,,,,,,,,,,,,,,,,,,,WFLY-10049,WFLY-9888,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:30.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12156,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03z44:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wildfly 11.0.0.Final org.dom4j.DocumentFactory cannot be cast to org.dom4j.DocumentFactory,WFLY-11259,12777007,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,abialas,abialas,30/Oct/18 3:04 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,10/Jun/19 7:50 AM,11.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"I have an ear file which I want to deploy to the Wildfly 11.0.0.Final. In this ear file in the lib folder I have dom4j-2.0.1.jar. One of the sub deployments (war) uses JPA (no dependencies to hibernate, just to javax.javaee-api as compile only). This sub deployment contains of course the persistence.xml file. I see in the logs that when the application server starts and loads this file the following exception is thrown: 
org.dom4j.DocumentFactory cannot be cast to org.dom4j.DocumentFactory
and the application fails to deploy.
I checked many posts and forums on the net and as far as I understand I must exclude the dom4j provided by the application server so the jar located in the lib folder of ear can be used.

I created jboss-deployment-structure:
<?xml version=""1.0"" encoding=""UTF-8""?>
<jboss-deployment-structure>
	<deployment>
		<exclusions>
			<module name=""org.dom4j""/>
		</exclusions>
	</deployment>
</jboss-deployment-structure>

Even though I get the same exception so I suppose both jars are loaded and cause problems.

I checked how class loading works on Wildfly 11.0.0 in comparison to JBoss EAP 7.1. In both cases this class is first loaded from provided 1.6.1 jar. JBoss does not load the newer version. However, Wildfly does and here is the problem.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-02 12:15:10.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,8.0,,,,,,,,,,"1|z00wig:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Nov/18 12:15 PM;brian.stansberry;If you can post the complete stack trace of the exception that may help.","02/Nov/18 12:47 PM;smarlow;Also, please check with WildFly 14 as well.","02/Nov/18 3:54 PM;abialas;Stacktrace:
20:48:56,043 INFO  [org.hibernate.envers.boot.internal.EnversServiceImpl] (ServerService Thread Pool -- 71) Envers integration enabled? : true
20:49:12,554 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 71) MSC000001: Failed to start service jboss.persistenceunit.""aaa.ear/bbb.war#bbb-default"": org.jboss.msc.service.StartException in service jboss.persistenceunit.""aaa.ear/bbb.war#bbb-default"": java.lang.ClassCastException: org.dom4j.DocumentFactory cannot be cast to org.dom4j.DocumentFactory
	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:195)
	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:125)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:640)
	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1.run(PersistenceUnitServiceImpl.java:209)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: java.lang.ClassCastException: org.dom4j.DocumentFactory cannot be cast to org.dom4j.DocumentFactory
	at org.dom4j.DocumentFactory.getInstance(DocumentFactory.java:97)
	at org.hibernate.internal.util.xml.XMLHelper$1.doWork(XMLHelper.java:33)
	at org.hibernate.internal.util.xml.XMLHelper$1.doWork(XMLHelper.java:27)
	at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.workWithClassLoader(ClassLoaderServiceImpl.java:358)
	at org.hibernate.internal.util.xml.XMLHelper.<init>(XMLHelper.java:26)
	at org.hibernate.envers.boot.internal.EnversServiceImpl.initialize(EnversServiceImpl.java:115)
	at org.hibernate.envers.boot.internal.AdditionalJaxbMappingProducerImpl.produceAdditionalMappings(AdditionalJaxbMappingProducerImpl.java:99)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:288)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:848)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:875)
	at org.jboss.as.jpa.hibernate5.TwoPhaseBootstrapImpl.build(TwoPhaseBootstrapImpl.java:44)
	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:167)
	... 7 more
","02/Nov/18 3:55 PM;abialas;Here is the ear structure I have (need) and which works on JBoss EAP 7.1:

	aaa.ear
		- lib
			dom4j-2.1.0.jar
		- sample.ejb (requires dom4j-2.1.0.jar)
		- bbb.war (has persistence.xml so hibernate module is implicitly added, hibernate has as required dom4j module so it should load 1.6.1 version)
","02/Nov/18 5:47 PM;abialas;I just added to jboss-deployment-structure:

<?xml version=""1.0"" encoding=""UTF-8""?>
<jboss-deployment-structure>
	<sub-deployment name=""bbb.war"">
		<dependencies>
			<module name=""org.dom4j"" />
		</dependencies>
	</sub-deployment>
</jboss-deployment-structure>

Seems that problem is fixed - persistense.xml is parsed without exception and application when required uses dom4j from lib folder. However, why I had to add this explicitly? And is it a correct way to fix that problem?","05/Mar/19 10:25 AM;smarlow;[~abialas] I think the jboss-deployment-structure is a good workaround.  I think it is similar to the recent Hibernate [https://github.com/hibernate/hibernate-orm/commit/4580039fe226722e6ee141068ec9f89f5becf7c8] change for Hibernate 5.3.9, in the sense that both changes ensure that the application packaged dom4j classes are ignored.

","10/Jun/19 7:50 AM;brian.stansberry;Reopening so I can manipulate issue state.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jgroups-kubernetes to 1.0.9.Final,WFLY-12113,12808545,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,rhusar,rhusar,rhusar,22/May/19 11:28 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,31/May/19 7:33 PM,16.0.0.Final,17.0.0.Alpha1,,,,17.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,Resolves WFLY-12112. ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12112,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:29.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12310,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05qhg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update the ejb-security quickstart README to make it more clear that a user needs to be added before running it,WFLY-12053,12806014,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,fjuma,fjuma,fjuma,07/May/19 2:21 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,09/May/19 2:58 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"It's no longer obvious that a user named ""quickstartUser"" with password ""quickstartPwd1!"" and ""guest"" role needs to be added before attempting to run the ejb-security quickstart. This should be made more clear.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:29.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05c7o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade HAL to 3.2.1.Final,WFLY-12119,12808762,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,istudens,istudens,istudens,23/May/19 10:04 AM,01/Oct/19 9:48 AM,28/Dec/19 1:29 PM,21/Aug/19 6:07 AM,,,,,,,,,Build System,,,,,,,,,,,0,downstream_dependency,,,,Diff: https://github.com/hal/console/compare/3.2.0.Final...develop,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12115,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-21 06:07:58.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05rsk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Aug/19 6:07 AM;harald.pehl;Replace by WFLY-12399",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade picketbox from 5.0.3.Final-redhat-00004 to 5.0.3.Final-redhat-00005,WFLY-12573,12828940,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,ivassile,ivassile,ivassile,18/Sep/19 8:55 AM,01/Oct/19 8:22 AM,28/Dec/19 1:29 PM,01/Oct/19 8:21 AM,18.0.0.Beta1,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12572,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z08xgc:",9223372036854775807,duplicate of WFCORE-4653,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Apache CXF from 3.2.9 to 3.2.10,WFLY-12423,12824426,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,jim.ma,iweiss,iweiss,23/Aug/19 11:37 AM,20/Sep/19 6:40 AM,28/Dec/19 1:29 PM,08/Sep/19 6:41 PM,17.0.1.Final,,,,,,,,Web Services,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-12424,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-09-08 18:41:42.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z087jo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Sep/19 6:41 PM;jbliznak;With WFLY-12070 in place already moving CXF to 3.3.x this jira seams out of date",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
File UploadMultipart does not work when PicketLink SSO is enabled,WFLY-12571,12828937,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,ivassile,ivassile,ivassile,18/Sep/19 8:47 AM,18/Sep/19 9:03 AM,28/Dec/19 1:29 PM,18/Sep/19 9:00 AM,18.0.0.Beta1,,,,,,,,Security,,,,,,,,,,,0,,,,,"The fix provided on the [JBEAP-16188|https://issues.jboss.org/browse/JBEAP-16188] for File UploadMultipart does not work with PicketLink SSO enabled.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/jbossas/redhat-picketlink-bindings/pull/58,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z08xfo:",9223372036854775807,duplicate of WFLY-12569,0.0,,,,,"Unzip a fresh installation of the JBoss EAP 7.2.0 and apply the latest available patch (CP2).
Copy the attached standalone.xml, properties files and into the $JBOSS_HOME/standalone/configuration.
Start the JBoss and deploy the attached applications modified to work with PicketLink.
Create the folder: /tmp/upload
Open a private windows of the browser and open the link: http://localhost:8080/chtit-app-1.0-j2ee/upload
Login in the application using user: jboss and pass: jboss@123
Upload a file and submit the form.


The test with PicketLink SSO enabled shows:

{noformat}
17:23:07,777 INFO  [stdout] (default task-2) File: null
{noformat}

And with SSO disabled shows:

{noformat}
17:21:27,468 INFO  [stdout] (default task-2) File: /tmp/upload/logging.properties_1466302289912408715.txt
{noformat}
",,,,,,,dcihak,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DeploymentRepository.getStartedModules() throws NPE if service stopped.,WFLY-12463,12825511,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,pferraro,pferraro,pferraro,30/Aug/19 11:02 AM,30/Aug/19 11:07 AM,28/Dec/19 1:29 PM,30/Aug/19 11:07 AM,,,,,,,,,,,,,,,,,,,,0,,,,,"Seen in a remote EJB failover test run during server shutdown:
{noformat}
2019-08-30 12:41:20,003 ERROR [org.jboss.ejb.client.invocation] (default task-6) EJBCLIENT000509: Unexpected exception processing EJB request: java.lang.NullPointerException
	at org.jboss.as.ejb3@7.2.3.GA-redhat-00003//org.jboss.as.ejb3.deployment.DeploymentRepository.getStartedModules(DeploymentRepository.java:202)
	at org.jboss.as.ejb3@7.2.3.GA-redhat-00003//org.jboss.as.ejb3.remote.AssociationImpl.findEJB(AssociationImpl.java:422)
	at org.jboss.as.ejb3@7.2.3.GA-redhat-00003//org.jboss.as.ejb3.remote.AssociationImpl.receiveInvocationRequest(AssociationImpl.java:122)
	at org.jboss.ejb-client@4.0.20.Final-redhat-00001-jbeap-17268//org.jboss.ejb.protocol.remote.EJBServerChannel$ReceiverImpl.handleInvocationRequest(EJBServerChannel.java:465)
	at org.jboss.ejb-client@4.0.20.Final-redhat-00001-jbeap-17268//org.jboss.ejb.protocol.remote.EJBServerChannel$ReceiverImpl.handleMessage(EJBServerChannel.java:202)
	at org.jboss.remoting@5.0.14.Final-jbeap-17268//org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:430)
	at org.jboss.remoting@5.0.14.Final-jbeap-17268//org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:991)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final-redhat-1//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.base/java.lang.Thread.run(Thread.java:834)
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08dms:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"30/Aug/19 11:07 AM;pferraro;Silly me.  We fixed this already: WFLY-9447",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
High Fail rate with MOD_JK and JDG remote-cache-container,WFLY-12404,12823943,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,pferraro,tommaso-borgato,tommaso-borgato,21/Aug/19 8:15 AM,21/Aug/19 10:32 PM,28/Dec/19 1:29 PM,21/Aug/19 10:32 PM,18.0.0.Beta1,,,,,,,,Clustering,,,,,,,,,,,0,,,,,"Scenario: 2 nodes WildFly cluster where session data is offloaded to a remote 2 nodes JDG cluster (jboss-datagrid-7.3.0);
When using MOD_JK as load balancer we observe a higher fail rate (~9%) than when using MOD_CLUSTER or HAPROXY (~0.9%); fail rate is intended as inconsistencies in the data stored in cache and subsequently retrieved on another node of the cluster:

* [MOD_JK|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/eap-7.x-clustering-jdg-session-repl-shutdown-mod_jk/13/artifact/report/jm/html/index.html]
* [MOD_CLUSTER|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/eap-7.x-clustering-jdg-session-repl-shutdown-mod_cluster/72/artifact/report/jm/html/index.html]
* [HAPROXY|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/eap-7.x-clustering-jdg-session-repl-shutdown-haproxy/31/artifact/report/jm/html/index.html]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-21 22:32:53.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z084oc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Aug/19 10:32 PM;pferraro;These discrepancies would only be due to difference in configuration between the load balancers. e.g. what types of responses are eligible for retries, number of retries before workers are disabled, etc.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Component upgrade of Narayana to 5.9.6.Final,WFLY-12358,12821628,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,ochaloup,ochaloup,ochaloup,07/Aug/19 7:20 AM,07/Aug/19 7:21 AM,28/Dec/19 1:29 PM,07/Aug/19 7:21 AM,17.0.1.Final,,,,,,,,Transactions,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07rss:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"07/Aug/19 7:21 AM;ochaloup;Duplicated to issue WFLY-12341",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documentation for WS integration with WildFly Elytron - AuthenticationClient for Authentication / SSL,WFLY-12354,12821519,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,dvilkola,dvilkola,dvilkola,06/Aug/19 11:24 AM,06/Aug/19 11:32 AM,28/Dec/19 1:29 PM,06/Aug/19 11:32 AM,,,,,,,,,Documentation,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,WFLY-11697,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z07r5g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent failures in JMSTopicManagementTestCase.testCountMessagesForSubscription,WFLY-11889,12798433,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,ehugonnet,brian.stansberry,brian.stansberry,21/Mar/19 9:20 AM,05/Aug/19 10:01 AM,28/Dec/19 1:29 PM,05/Aug/19 10:01 AM,,,,,,,,,JMS,,,,,,,,,,,0,,,,,"There have been five failures of this test during PR test runs in the last month.

https://ci.wildfly.org/project.html?tab=testDetails&testNameId=6932326225808732552&projectId=WF&order=TEST_STATUS_DESC",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-08-05 10:01:45.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z045i4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Aug/19 10:01 AM;ehugonnet;This doesn't seem to be the case anymore",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Some hibernate tests fail with security on IBM Java 8: HHH000142,WFLY-11504,12783874,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,gbadner,okotek,okotek,12/Dec/18 8:46 AM,16/Jul/19 9:37 AM,28/Dec/19 1:29 PM,16/Jul/19 9:37 AM,16.0.0.Beta1,,,,,17.0.0.Final,,,JPA / Hibernate,Test Suite,,,,,,,,,,0,,,,,"Seven hibernate tests fail with security on IBM Java 8, for example:

{noformat}
org.hibernate.HibernateException: HHH000142: Bytecode enhancement failed: org.jboss.as.test.integration.jpa.hibernate.Employee
{noformat}

Affected test cases:
* {{org.jboss.as.test.integration.jpa.hibernate.entitytest.EntityTestCase}}
* {{org.jboss.as.test.integration.jpa.hibernate.envers.AuditJoinTableoverOnetoManyJoinColumnTest}}
* {{org.jboss.as.test.integration.jpa.hibernate.envers.basicenverstest.BasicEnversTestCase}}
* {{org.jboss.as.test.integration.jpa.hibernate.envers.basicselectiveenverstest.BasicSelectiveEnversTestCase}}
* {{org.jboss.as.test.integration.jpa.hibernate.envers.implementvalidityauditstrategytest.ImplementValidityAuditStrategyTestCase}}
* {{org.jboss.as.test.integration.jpa.hibernate.envers.validityauditstrategyoninheritancetest.ValidityAuditStrategyonInheritanceTestCase}}
* {{org.jboss.as.test.integration.jpa.hibernate.sessionfactorytest.SessionFactoryTestCase}}",,,,,,,,,,,,,JBEAP-16456,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Dec/18 3:11 AM;okotek;org.jboss.as.test.integration.jpa.hibernate.entitytest.EntityTestCase-output.txt;https://issues.redhat.com/secure/attachment/12444724/org.jboss.as.test.integration.jpa.hibernate.entitytest.EntityTestCase-output.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-12-12 16:40:37.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,8.0,,,,,,,,,,"1|z01ys8:",9223372036854775807,,0.0,,,,,"set IBM Java 8
{{cd integration/basic}}
{{mvn clean test -Dtest=EntityTestCase -Dsecurity.manager}}
{{mvn clean test -Dtest=AuditJoinTableoverBidirectionalTest -Dsecurity.manager}}
{{mvn clean test -Dtest=BasicEnversTestCase -Dsecurity.manager}}
{{mvn clean test -Dtest=BasicSelectiveEnversTestCase -Dsecurity.manager}}
{{mvn clean test -Dtest=ImplementValidityAuditStrategyTestCase -Dsecurity.manager}}
{{mvn clean test -Dtest=ValidityAuditStrategyonInheritanceTestCase -Dsecurity.manager}}
{{mvn clean test -Dtest=SessionFactoryTestCase -Dsecurity.manager}}
",,,,,,,okotek,,,,"12/Dec/18 4:40 PM;smarlow;[~okotek] is there a Hibernate ORM HHH issue yet for this?  I'd like to see the entire Java exception call stack, please add that.

CC: [~gbadner] ","13/Dec/18 3:19 AM;okotek;I have attached a log for {{EntityTestCase}}.

I have found just [HHH-11218|https://hibernate.atlassian.net/browse/HHH-11218].","02/Jan/19 9:14 AM;okotek;With security manager, the tests fail with IBM Java 8, pass with Oracle Java 8|11 and OpenJDK 8|11.","22/Feb/19 1:24 PM;guillaume.smet;See https://hibernate.atlassian.net/browse/HHH-13277 for a report on the Hibernate ORM side.

We are working on a fix.","17/Apr/19 9:50 PM;gbadner;Fixes for HHH-13343 and HHH-13277 are required for all tests to pass.

Both will be fixed in Hibernate ORM 5.3.10.","16/Jul/19 2:12 AM;gbadner;[~okotek], I believe this was fixed in 5.3.10. Can this be resolved?","16/Jul/19 9:27 AM;okotek;[~gbadner] I do not see the failures in QE nightly testing, this can be resolved. Thanks for the fix.","16/Jul/19 9:37 AM;smarlow;fixed when WildFly 17.0.0.Final included Hibernate ORM 5.3.10.Final, which included the Hibernate fixes for this issue.  Thanks [~gbadner] + [~guillaume.smet] + [~okotek]!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wildfly 13 to wildfly 17 json serialization,WFLY-12239,12815295,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,jim.ma,gjsbe,gjsbe,25/Jun/19 6:39 AM,29/Jun/19 2:56 PM,28/Dec/19 1:29 PM,29/Jun/19 2:56 PM,17.0.0.Final,,,,,13.0.0.Final,,,Web Services,,,,,,,,,,,0,jackson,json,serialization,yasson,"I have problem in serialization of Pojo to JSON.
I have a Provider that impelments ContextResolver<ObjectMapper>.
That constructor is called regulary on deploy, but the method getContext is never called, so my custom serialization registration is never called.
What's changed at json serialization level between 13 and 17?
If I copy yasson-1.0.1 from wildfly 13 and swap it with yasson-1.0.3 (wildfly 17) everything works fine.
Thank you very much
Regards",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Migration,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z06rb0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"29/Jun/19 2:54 PM;gjsbe;It's not a bug, it's mine problem.
Sorry ","29/Jun/19 2:56 PM;gjsbe;Is not a bug.
Java EE 8 uses json-b not Jackson",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
outbound-socket-binding element should allow grouping to be referenced by JGroups socket-discovery-protocol,WFLY-12048,12805794,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,rhusar,wdfink,wdfink,06/May/19 10:29 AM,21/Jun/19 2:07 PM,28/Dec/19 1:29 PM,21/Jun/19 2:07 PM,16.0.0.Final,,,,,,,,Clustering,,,,,,,,,,,0,,,,,"JGroups configuration can use two different ways to configure cluster detection

------  older configuration is via protocol properties --
     <protocol type=""TCPPING"">
         <property name=""initial_hosts"">host[7600]</property>

------  new configuration via socket reference
    <socket-discovery-protocol type=""TCPPING"" socket-bindings=""ref-a ref-b""/>
     ...
    <outbound-socket-binding name=""ref-a"">
        <remote-destination host=""127.0.0.1"" port=""7600""/>
    </outbound-socket-binding>
-----------

with the old option it is possible to use an expression to set all hosts in a cluster.
The new one need to have all outbound connections listed which is harder to maintain.

As an administrator I want to have the possibility to group the connections and only have one reference and the number of connections can be vary without changing multiple point in the configuration.
So a configuration like this would enhance that

    <outbound-socket-binding-group>
        <outbound-socket-binding name=""ref-a"">
            <remote-destination host=""host1"" port=""7600""/>
        </outbound-socket-binding>
        <outbound-socket-binding name=""ref-b"">
            <remote-destination host=""host2"" port=""7600""/>
        </outbound-socket-binding>
    </outbound-socket-binding-group>",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-21 14:07:05.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05ax0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"06/May/19 10:31 AM;wdfink;The same can be used for other socket-bindings as there are a number of places in the configuration where this could be benefitial.","21/Jun/19 2:07 PM;pferraro;Replaced by WFLY-12220",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade wildfly-transaction-client from 1.1.3.Final to 1.1.4.Final,WFLY-12170,12811444,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,cfang,iweiss,iweiss,05/Jun/19 11:34 AM,20/Jun/19 1:46 PM,28/Dec/19 1:29 PM,20/Jun/19 1:45 PM,17.0.0.Beta1,,,,,,,,EJB,,,,,,,,,,,0,,,,,https://github.com/wildfly/wildfly-transaction-client/compare/1.1.3.Final...1.1,,,,,,,,,,,,,,,,,,,,,,WFLY-12204,,,,,,,,,,,,WFTC-66,WFLY-12077,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-06-20 13:45:57.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0673w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"20/Jun/19 1:45 PM;ochaloup;I expect this is duplicate to WFLY-12204.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Applications that extend certain Hibernate classes should be updated to use type SharedSessionContractImplementor instead of SessionImplementor,WFLY-11991,12802679,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,smarlow,smarlow,15/Apr/19 11:01 AM,04/Jun/19 8:35 PM,28/Dec/19 1:29 PM,04/Jun/19 7:40 PM,,,,,,17.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,,,,,"The idea is to transform any class method parameter of type org.hibernate.engine.spi.SessionImplementor, in user application, to instead use type org.hibernate.engine.spi.SharedSessionContractImplementor.

The above is done for any application class that has any of the following Hibernate classes as its super class:
{code}
org.hibernate.usertype.UserType
org.hibernate.usertype.CompositeUserType
org.hibernate.usertype.UserCollectionType
org.hibernate.usertype.UserVersionType
org.hibernate.type.Type
org.hibernate.type.SingleColumnType
org.hibernate.type.AbstractStandardBasicType
org.hibernate.type.ProcedureParameterExtractionAware
org.hibernate.type.ProcedureParameterNamedBinder
org.hibernate.type.VersionType
org.hibernate.collection.spi.PersistentCollection
{code}

The code change is required to handle application classes like: [https://github.com/simkam/wildfly/compare/hibernate_transformer].  

The test case change is adding an internalNullSafeGet method that should also be transformed to use the SharedSessionContractImplementor type but was not, which led to an application failure with code: 

{code}
 public Object nullSafeGet(ResultSet rs, String[] names, SessionImplementor session, Object owner) throws HibernateException, SQLException {
        return internalNullSafeGet(rs, names, session, owner);
    }

    private Object internalNullSafeGet(ResultSet rs, String[] names, SessionImplementor session, Object owner) throws HibernateException, SQLException {
        internalSessionImplementorUsingMethod(session);
        session.isTransactionInProgress();
        int result = rs.getInt( names[0] );
        if ( rs.wasNull() ) return null;
        return State.values()[result];
    }
}
{code}
",,,,,,,,,,,,,,,,,,,,,,,,WFLY-11994,WFLY-12073,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Apr/19 1:21 PM;smarlow;afterchange.zip;https://issues.redhat.com/secure/attachment/12449646/afterchange.zip","15/Apr/19 11:18 AM;smarlow;beforechange.zip;https://issues.redhat.com/secure/attachment/12449642/beforechange.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-17 18:14:47.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12231,,,,,,,,,,,,,,,,2.0,4.0,,,,,,,,,,"1|z04tbg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"15/Apr/19 11:34 AM;smarlow;beforechange.zip contains org_jboss_as_test_compat_jpa_hibernate_transformer_StateType.asm which contains the test class that is currently failing.  

Note that the [test StateType internalSessionImplementorUsingMethod|https://github.com/wildfly/wildfly/blob/master/testsuite/compat/src/test/java/org/jboss/as/test/compat/jpa/hibernate/transformer/StateType.java#L56] class method didn't seem to get transformed:
{code}
 private static void internalSessionImplementorUsingMethod(SessionImplementor session) {
        session.isTransactionInProgress();
}
{code}
{quote}
private static internalSessionImplementorUsingMethod(Lorg/hibernate/engine/spi/SessionImplementor;)V
   L0
    LINENUMBER 57 L0
    ALOAD 0
    INVOKEINTERFACE org/hibernate/engine/spi/SessionImplementor.isTransactionInProgress ()Z (itf)
    POP
   L1
    LINENUMBER 58 L1
    RETURN
   L2
    LOCALVARIABLE session Lorg/hibernate/engine/spi/SessionImplementor; L0 L2 0
    MAXSTACK = 1
    MAXLOCALS = 1
{quote}
","15/Apr/19 5:00 PM;smarlow;If the Hibernate51TransformSessImplMtds system property is set to true, then all class methods definitions in the application will be transformed from using type org.hibernate.engine.spi.SessionImplementor to instead use type org.hibernate.engine.spi.SharedSessionContractImplementor.  

All method calls in the application will also be updated to switch from using type org.hibernate.engine.spi.SessionImplementor to instead use type org.hibernate.engine.spi.SharedSessionContractImplementor. 

These changes will cover the case where the application contains code that must be changed to use SharedSessionContractImplementor instead of SessionImplementor.

The default for the Hibernate51TransformSessImplMtds system property is false (for backward compatibility)","17/Apr/19 6:14 PM;jamezp;[~smarlow] is this a feature or a bug? It sounds more like a feature to me.","17/Apr/19 6:38 PM;smarlow;[~jamezp] It is more of a Hibernate51CompatibilityTransformer bug than a feature.  Previously, we didn't cover applications having more than:
{code}
public Object nullSafeGet(ResultSet rs, String[] names, SessionImplementor session, Object owner) throws HibernateException, SQLException {
   ...
    }
{code}

So, applications that also have something like the following failed, due to the internalNullSafeGet() not getting transformed to use the ORM 5.3 SharedSessionContractImplementor type:
{code}
public Object nullSafeGet(ResultSet rs, String[] names, SessionImplementor session, Object owner) throws HibernateException, SQLException {
   return internalNullSafeGet(rs, names, session, owner);
    }

private Object internalNullSafeGet(ResultSet rs, String[] names, SessionImplementor session, Object owner) throws HibernateException, SQLException {
...
  }
{code}

I consider this additional transformation to be a bit deeper, than what we initially did.  I didn't just enable this additional transformation because that could cause compatibility issues for some applications that were working without this additional transformation.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"CXF-7984 - UsernameTokenInterceptor doesn't respect contextual property ""allowNamespaceQualifiedPasswordTypes""",WFLY-11825,12796440,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Resolved at Apache,ivassile,ivassile,ivassile,08/Mar/19 11:39 AM,27/May/19 3:13 AM,28/Dec/19 1:29 PM,27/May/19 3:13 AM,16.0.0.Final,,,,,,,,Web Services,,,,,,,,,,,0,downstream_dependency,,,,allowNamespaceQualifiedPasswordTypes is not read from contextual properties before create wss4j UsernameToken.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-27 03:13:36.0,,,,,,,,,,https://github.com/apache/cxf/commit/c75bc5d388ef748854a6bdcca594711dafd09318,https://github.com/apache/cxf/commit/34da361394b5ec63d1c63246b2a735a7148ddcb1,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03tys:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"27/May/19 3:13 AM;jim.ma;This is fixed in cxf upgrade: https://issues.jboss.org/browse/WFLY-12070",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CXF-7994 - NumberFormatException on JDK13 in org.apache.cxf.helpers.JavaUtils,WFLY-11843,12797179,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Resolved at Apache,ema1,ropalka,ropalka,13/Mar/19 8:56 AM,27/May/19 3:10 AM,28/Dec/19 1:29 PM,27/May/19 3:09 AM,16.0.0.Final,,,,,,,,Web Services,,,,,,,,,,,0,jdk13,,,,"We are getting the following exception when running CXF on top of JDK13:
—
Failed to start service jboss.deployment.unit.""ws-endpoint-example.war"".INSTALL: org.jboss.msc.service.StartExceptio
<------>at org.jboss.as.server@8.0.1.CR1-SNAPSHOT//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:183)
<------>at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
<------>at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
<------>at org.jboss.msc@1.4.5.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
<------>at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
<------>at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
<------>at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
<------>at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)
<------>at java.base/java.lang.Thread.run(Thread.java:835)
Caused by: java.lang.ExceptionInInitializerError
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.WrapperClassGenerator.generateMessagePart(WrapperClassGenerator.java:335)
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.WrapperClassGenerator.createWrapperClass(WrapperClassGenerator.java:224)
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.WrapperClassGenerator.generate(WrapperClassGenerator.java:122)
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.generatedWrapperBeanClass(JaxWsServiceFactoryBean.java:674)
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.getExtraClass(JaxWsServiceFactoryBean.java:644)
<------>at org.apache.cxf.impl//org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.buildServiceFromClass(ReflectionServiceFactoryBean.java:464)
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.buildServiceFromClass(JaxWsServiceFactoryBean.java:695)
<------>at org.apache.cxf.impl//org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.initializeServiceModel(ReflectionServiceFactoryBean.java:530)
<------>at org.apache.cxf.impl//org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.create(ReflectionServiceFactoryBean.java:263)
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.create(JaxWsServiceFactoryBean.java:199)
<------>at org.apache.cxf.impl//org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:103)
<------>at org.apache.cxf.impl//org.apache.cxf.frontend.ServerFactoryBean.create(ServerFactoryBean.java:168)
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.JaxWsServerFactoryBean.create(JaxWsServerFactoryBean.java:211)
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.EndpointImpl.getServer(EndpointImpl.java:460)
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.EndpointImpl.doPublish(EndpointImpl.java:338)
<------>at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4.Final//org.jboss.wsf.stack.cxf.deployment.EndpointImpl.doPublish(EndpointImpl.java:79)
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.EndpointImpl.publish(EndpointImpl.java:255)
<------>at org.apache.cxf.impl//org.apache.cxf.jaxws.EndpointImpl.publish(EndpointImpl.java:543)
<------>at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4.Final//org.jboss.wsf.stack.cxf.configuration.BusHolder.configure(BusHolder.java:235)
<------>at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4.Final//org.jboss.wsf.stack.cxf.deployment.aspect.BusDeploymentAspect.startDeploymentBus(BusDeploymentAspect.java:97)
<------>at org.jboss.ws.cxf.jbossws-cxf-server@5.2.4.Final//org.jboss.wsf.stack.cxf.deployment.aspect.BusDeploymentAspect.start(BusDeploymentAspect.java:59)
<------>at org.jboss.as.webservices//org.jboss.as.webservices.deployers.AspectDeploymentProcessor.deploy(AspectDeploymentProcessor.java:73)
<------>at org.jboss.as.server@8.0.1.CR1-SNAPSHOT//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:176)
<------>... 8 more
Caused by: java.lang.NumberFormatException: For input string: ""13-ea""
<------>at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:68)
<------>at java.base/java.lang.Integer.parseInt(Integer.java:658)
<------>at java.base/java.lang.Integer.valueOf(Integer.java:989)
<------>at org.apache.cxf@3.2.7//org.apache.cxf.helpers.JavaUtils.<clinit>(JavaUtils.java:65)
<------>... 31 more
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-05-27 03:10:22.0,,,,,,,,,,https://github.com/apache/cxf/pull/522,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03y5w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"18/Mar/19 6:50 AM;ropalka;Hi [~ema1], Freeman Fang closed issue as duplicate as it was fixed in 3.3.0.
I know it was fixed in 3.3.0 but the plan is to consume CXF 3.2.9 next AFAICS.

There are two possibilities now:
 * either apply my proposal patch from CXF-7994 on 3.2.x branch so it will be available via CXF 3.2.9 upgrade 
 * or consider upgrading to CXF 3.3.0 instead of CXF 3.2.9

Otherwise WildFly will not work on JDK 13.","27/May/19 3:10 AM;jim.ma;[~ropalka] This should be fixed by cxf 3.3.2 upgrade in wildfly: https://issues.jboss.org/browse/WFLY-12070 . I'll close this issue.  Feel free to reopen this or create another one issue if there is more JDK13 failures. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Apache CXF from 3.2.7 to 3.2.9,WFLY-11826,12796443,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Won't Do,jim.ma,ivassile,ivassile,08/Mar/19 11:56 AM,27/May/19 3:04 AM,28/Dec/19 1:29 PM,27/May/19 3:04 AM,,,,,,,,,Web Services,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-11204,,,,,,,,,,,,,,,,,,,,,WFLY-11825,WFLY-11843,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-08 16:24:22.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03tzg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"27/May/19 3:03 AM;jim.ma;CXF is already upgraded to 3.3.2: https://issues.jboss.org/browse/WFLY-12070.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Hibernate ORM transformer method signature parameter comparison to treat Ljava/lang/Object as wildcard parameter,WFLY-11994,12802764,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,smarlow,smarlow,smarlow,15/Apr/19 3:36 PM,22/May/19 10:50 AM,28/Dec/19 1:29 PM,22/May/19 10:50 AM,,,,,,,,,JPA / Hibernate,,,,,,,,,,,0,,,,,"Replace the org.jboss.as.hibernate.Hibernate51CompatibilityTransformer check for Ljava/lang/Object, to instead match any object type (via custom code).  Do the same for the MethodAdapter class.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Apr/19 12:58 PM;smarlow;statetype.zip;https://issues.redhat.com/secure/attachment/12450163/statetype.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,5.0,,,,,,,,,,"1|z04tto:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"23/Apr/19 1:47 PM;smarlow;Type org.objectweb.asm.Type.getObjectType(final String internalName) might be helpful in dealing with comparing individual types.

Also Type[] Type.getArgumentTypes(final String methodDescriptor)","23/Apr/19 4:01 PM;smarlow;Pushed change for this to https://github.com/scottmarlow/wildfly/tree/WFLY-11994_transformerwildcardmatch","30/Apr/19 12:57 PM;smarlow;note that this addresses the problem mentioned on [https://issues.jboss.org/browse/WFLY-11991?focusedCommentId=13722538&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13722538]","22/May/19 10:50 AM;smarlow;We eliminated the checking of method name/ parameter types, that needed this change.

https://github.com/wildfly/wildfly/pull/12231 is the pull request that contains changes that eliminate the need for WFLY-11991.
","22/May/19 10:50 AM;smarlow;we don't need this change any more, but in case we are interested in it in the future, below is some key parts from https://github.com/scottmarlow/wildfly/commit/ba6b2918e65be46104fbc90b676802edbe796da7

if (parentClassesAndInterfaces.contains(""org/hibernate/usertype/CompositeUserType"")) {
                        if (name.equals(""nullSafeGet"") &&
                                match(desc,""(Ljava/sql/ResultSet;[Ljava/lang/String;Lorg/hibernate/engine/spi/SessionImplementor;Ljava/lang/Object;)Ljava/lang/Object;"")) {
                            desc = replaceSessionImplementor(desc);
                        } else if (name.equals(""nullSafeSet"") &&
                                match(desc,""(Ljava/sql/PreparedStatement;Ljava/lang/Object;ILorg/hibernate/engine/spi/SessionImplementor;)V"")) {
                            desc = replaceSessionImplementor(desc);
                        } else if (name.equals(""assemble"") &&
                                match(desc,""(Ljava/io/Serializable;Lorg/hibernate/engine/spi/SessionImplementor;Ljava/lang/Object;)Ljava/lang/Object;"")) {
                            desc = replaceSessionImplementor(desc);
                        } else if (name.equals(""disassemble"") &&
                                match(desc,""(Ljava/lang/Object;Lorg/hibernate/engine/spi/SessionImplementor;)Ljava/io/Serializable;"")) {
                            desc = replaceSessionImplementor(desc);
                        } else if (name.equals(""replace"") &&
                                match(desc,""(Ljava/lang/Object;Ljava/lang/Object;Lorg/hibernate/engine/spi/SessionImplementor;Ljava/lang/Object;)Ljava/lang/Object;"")) {
                            desc = replaceSessionImplementor(desc);
                        }
                        rewriteSessionImplementor = true;
}

    private static boolean match(String desc, String check) {
        Type[] descType = Type.getArgumentTypes(desc);
        Type[] checkType = Type.getArgumentTypes(check);

        if(checkType.length != descType.length) {
            return false;
        }
        for(int looper=0; looper < checkType.length; looper++) {
            if ( ! matchWildcard(descType[looper], checkType[looper]) &&
                ! checkType[looper].equals(descType[looper])) {
                return false;
            }
        }
        return true;
    }

    // return true if both parameter types are Objects and checkType is java.lang.Object (treat as match any object)
    private static boolean matchWildcard(Type descType, Type checkType) {
        return  checkType.getDescriptor().startsWith(""L"") &&
                        descType.getDescriptor().startsWith(""L"") &&
                        checkType.getInternalName().equals(""java/lang/Object"");
    }

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade ejb-client to 4.0.17.Final,WFLY-12009,12803846,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,tomekadamski,ivassile,ivassile,19/Apr/19 4:02 PM,01/May/19 3:53 PM,28/Dec/19 1:29 PM,01/May/19 3:53 PM,16.0.0.Final,,,,,,,,EJB,,,,,,,,,,,0,downstream_dependency,,,,[~tomekadamski] Please link the issues fixed to this,,,,,,,,,,,,,WFLY-11926,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z04zz8:",9223372036854775807,Duplicate of WFLY-12003,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java.rmi is not visible from wildfly.extension.io module,WFLY-12026,12804769,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,thofman,thofman,thofman,29/Apr/19 4:27 AM,29/Apr/19 11:32 AM,28/Dec/19 1:29 PM,29/Apr/19 11:32 AM,16.0.0.Final,,,,,,,,Server,,,,,,,,,,,0,,,,,"java.rmi is not visible from wildfly.extension.io module

The CNF is being thrown but not logged on the server side:

{code}
(default task-2) [BYTEMAN-1] CNF: java.lang.ClassNotFoundException: java.rmi.dgc.Lease from [Module ""org.wildfly.extension.io"" version 6.0.12.Final-redhat-00001 from local module loader @6a024a67 (finder: local module finder @7921b0a2 (roots: /tmp/jboss-eap-7.2/modules,/tmp/jboss-eap-7.2/modules/system/layers/base))] (no security manager: RMI class loader disabled)
(default task-2) java.lang.ClassNotFoundException.<init>(ClassNotFoundException.java:97)
(default task-2) sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:396)
(default task-2) sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:186)
(default task-2) java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:637)
(default task-2) java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:264)
(default task-2) sun.rmi.server.MarshalInputStream.resolveClass(MarshalInputStream.java:219)
(default task-2) java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1868)
(default task-2) java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)
(default task-2) java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2042)
(default task-2) java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)
(default task-2) java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)
(default task-2) sun.rmi.transport.DGCImpl_Stub.dirty(DGCImpl_Stub.java:125)
(default task-2) sun.rmi.transport.DGCClient$EndpointEntry.makeDirtyCall(DGCClient.java:382)
(default task-2) sun.rmi.transport.DGCClient$EndpointEntry.registerRefs(DGCClient.java:324)
(default task-2) sun.rmi.transport.DGCClient.registerRefs(DGCClient.java:160)
(default task-2) sun.rmi.transport.LiveRef.read(LiveRef.java:312)
(default task-2) sun.rmi.server.UnicastRef.readExternal(UnicastRef.java:489)
(default task-2) java.rmi.server.RemoteObject.readObject(RemoteObject.java:455)
(default task-2) sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2)
(default task-2) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
(default task-2) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
(default task-2) java.lang.reflect.Method.invoke(Method.java:498)
(default task-2) org.jboss.marshalling.reflect.JDKSpecific$SerMethods.callReadObject(JDKSpecific.java:179)
(default task-2) org.jboss.marshalling.reflect.SerializableClass.callReadObject(SerializableClass.java:212)
(default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1746)
(default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1715)
(default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1715)
 (default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1395)
 (default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:272)
 (default task-2) org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:205)
 (default task-2) org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41)
 (default task-2) org.jboss.ejb.protocol.remote.EJBServerChannel$RemotingInvocationRequest.getRequestContent(EJBServerChannel.java:813)
 (default task-2) org.jboss.as.ejb3.remote.AssociationImpl.receiveInvocationRequest(AssociationImpl.java:130)
 (default task-2) org.jboss.ejb.protocol.remote.EJBServerChannel$ReceiverImpl.handleInvocationRequest(EJBServerChannel.java:451)
 (default task-2) org.jboss.ejb.protocol.remote.EJBServerChannel$ReceiverImpl.handleMessage(EJBServerChannel.java:189)
 (default task-2) org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:430)
 (default task-2) org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:949)
 (default task-2) org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
 (default task-2) org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
 (default task-2) org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
 (default task-2) org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
 (default task-2) java.lang.Thread.run(Thread.java:748)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly-core/pull/3760,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z055b8:",9223372036854775807,,0.0,,,,,"1. Deploy Reproducer.ear
2. {code}
unzip rmitest.zip
cd rmitest/
mvn clean package
{code}
3. Run the test: 
  * EAP6: java -cp jboss-client.jar:target/rmitest-1.0-SNAPSHOT.jar remoteobjects.RemoteObjectTesterBean eap6 
  * EAP7: java -cp jboss-client.jar:target/rmitest-1.0-SNAPSHOT.jar remoteobjects.RemoteObjectTesterBean eap7

(See JBEAP-16725 for attachments.)",,,,,,,,,,,"29/Apr/19 11:32 AM;thofman;Closing this as duplicate of WFCORE-4450.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose wildfly-galleon-maven-repository zip file from wildfly.org/downloads,WFLY-11992,12802721,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,brian.stansberry,jdenise,jdenise,15/Apr/19 12:35 PM,17/Apr/19 3:46 PM,28/Dec/19 1:29 PM,17/Apr/19 3:46 PM,,,,,,,,,,,,,,,,,,,,0,,,,,This file would need to be made accessible from wildfly.org.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04tk4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Apr/19 3:46 PM;jdenise;Invalid, no need to expose maven repo.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HAL-1576 - Add BusyWorkerThreadCount metric under IO Worker Runtime view in the management console,WFLY-11982,12802254,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Won't Fix,harald.pehl,mmiura,mmiura,12/Apr/19 6:03 AM,12/Apr/19 9:30 AM,28/Dec/19 1:29 PM,12/Apr/19 9:30 AM,16.0.0.Final,,,,,,,,Web Console,,,,,,,,,,,0,,,,,WFCORE-3333 exposed a number of busy threads in the task worker thread pool in JBoss CLI. Add the metric under IO Worker Runtime in the management console.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-12 07:58:06.0,,,,,,,,,,https://github.com/hal/console/pull/307,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z04qv8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"12/Apr/19 7:58 AM;harald.pehl;[~mmiura] Not quite sure what this issue is for?","12/Apr/19 8:17 AM;mmiura;If I understand correctly, the latest WildFly 16 comes with hal-console 3.1. and EAP 7.2.x comes with hal-console 3.0.x. So, I thought that both WFLY and JBEAP JIRAs needs to be created in order to track and merge the PR for each branch. Please correct me if I'm wrong and please close this WFLY JIRA if it's not necessary.","12/Apr/19 9:30 AM;harald.pehl;Ok, now I get it. Though I don't know if we really need a back-port for WF 16. AFAIK back-ports are only done for EAP. I think we can close this one. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
A degraded mode cache cannot be made available again,WFLY-11920,12799718,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,pferraro,pferraro,pferraro,28/Mar/19 4:55 PM,03/Apr/19 1:11 PM,28/Dec/19 1:29 PM,03/Apr/19 1:11 PM,16.0.0.Final,,,,,,,,Clustering,,,,,,,,,,,0,,,,,Needs new runtime operation that calls AdvancedCache.setAvailabilityMode(...) for a specific cache.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04cxg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"03/Apr/19 1:11 PM;pferraro;Oops - this logic exists already.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expand ha-singleton-service to demonstrate Singleton service election listeners,WFLY-11836,12796826,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Won't Do,rhusar,rhusar,rhusar,11/Mar/19 10:33 PM,01/Apr/19 11:24 AM,28/Dec/19 1:29 PM,01/Apr/19 11:24 AM,16.0.0.Final,,,,,,,,Clustering,Quickstarts,,,,,,,,,,0,,,,,Demonstrate feature implemented in EAP7-1115.,,,,,,,,,,,,,,,EAP7-1115,WFLY-11821,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03w70:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"26/Mar/19 2:22 PM;rhusar;We have to wait for release containing EAP7-1115/WFLY-11098 i.e. 17.0.0.Beta1.","01/Apr/19 11:24 AM;rhusar;I am rejecting this as the current quickstart cannot be simply expanded to demonstrate the singleton service listeners as originally intended. The quickstart is based on a server managed policy and in order to expand that policy itself with singleton service listeners, we would need to create a policy programmatically defeating scope/purpose of the existing quickstart.

The other option would be to create a new quickstart to just showcase this. Given that this is a very specific and advanced use case, it's not suitable to be a quickstart.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Component upgrade of Narayana to 5.8.4.Final,WFLY-11912,12799510,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,ochaloup,ochaloup,ochaloup,27/Mar/19 4:49 PM,28/Mar/19 11:05 AM,28/Dec/19 1:29 PM,28/Mar/19 10:46 AM,16.0.0.Final,,,,,,,,Transactions,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11917,,WFLY-11858,WFLY-11849,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-28 11:05:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z04bp8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Mar/19 10:46 AM;ochaloup;WFLY-11917","28/Mar/19 11:05 AM;tomjenkinson;[~ochaloup] sorry I missed this one",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Multi-JSF-Installer: mojarra 2.2.16 warning,WFLY-11888,12798429,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Incomplete Description,fjuma,erick.de.oliveira.leal,erick.de.oliveira.leal,21/Mar/19 8:49 AM,21/Mar/19 8:59 AM,28/Dec/19 1:29 PM,21/Mar/19 8:59 AM,16.0.0.Final,,,,,,,,JSF,,,,,,,,,,,0,,,,,"using mvn -Djsf-version=2.2.16 -Pmojarra-2.x clean assembly:single
show a warning:
[INFO] Reading assembly descriptor: src/main/assembly/src.xml
[WARNING] The assembly descriptor contains a filesystem-root relative reference, which is not cross platform compatible /
[WARNING] Cannot include project artifact: org.wildfly:wildfly-jsf-installer:jar:16.0.0.Final; it doesn't have an associated file or directory.
[INFO] Building zip: /home/erick/Downloads/wildfly-16.0.0.Final/jsf/multi-jsf-installer/target/install-mojarra-2.2.16.zip

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z045h8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Artemis to 2.6.4,WFLY-11606,12787936,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,ehugonnet,ehugonnet,ehugonnet,17/Jan/19 11:57 AM,20/Mar/19 4:16 AM,28/Dec/19 1:29 PM,20/Mar/19 4:15 AM,,,,,,,,,JMS,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-9595,WFLY-11022,WFLY-11608,WFLY-11610,WFLY-11613,WFLY-11060,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02kyw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"20/Mar/19 4:15 AM;ehugonnet;Replaced by WFLY-11876",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow cluster to use DNS addresses instead of IP addresses,WFLY-11750,12793219,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Explained,pferraro,tomekadamski,tomekadamski,19/Feb/19 5:49 PM,18/Mar/19 2:27 PM,28/Dec/19 1:29 PM,18/Mar/19 2:27 PM,16.0.0.Beta1,,,,,,,,Clustering,,,,,,,,,,,0,,,,,"We would need a configuration that would allow for the cluster to use DNS addresses instead of IP addresses. The reason is that OpenShift guarantees the node identity under DNS address and not under IP address.

Sample scenario that may currently fail when application are deployed in OpenShift:
A (application)
B (clustered application)

1. A calls transactional invocation on B
2. as a result of discovery process A obtains a cluster topology from B and uses one of obtained IP addresses for the connection
3. as the invocation is transactional the object-store records are written in A's persistent object store; those records are based on the data obtained from the cluster => subordinate node is identified by the IP address from point two
4. B node fails
5. OpenShift restarts node B on another IP address
6. A attempts recovery and persistently fails

OTOH OpenShift guarantees node identity under DNS address. As a result, at point 5 node is guaranteed to restart on established DNS address so if the cluster used this address instead of physical addresses the scenario above will finish with A being able to recover the transaction.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-25 14:14:53.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,4.0,,,,,,,,,,"1|z03d0s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Feb/19 2:14 PM;pferraro;[~tomekadamski] This is a general issue with any client connecting to a cluster containing a single member.  Once that node is restarted, by design, it has a new cluster identity.  It doesn't matter whether the same instance is restarted with a new IP address, or with the same IP address, the cluster identity will be different.  Thus, recording client mappings using DNS names instead of network addresses does not circumvent the issue.  This means that a cluster must contain multiple members in order to provide true HA behavior to the client.","25/Feb/19 3:27 PM;tomekadamski;[~pferraro] But if I understand correctly HA features and correct transaction recovery are independent. 
Let's suppose we are on bare-metal and have a cluster of n nodes.

At some point, one of the nodes is invoked by the client, takes part in the transaction with two-phase commit and after prepare stage the node fails.

As a result, the client has a record in its permanent object store and tries to finish the transaction. As the record contains the IP address of the failed node the client will wait till the server is up again to finish the transaction. 

That node will have the new cluster identity. My understanding is that it has no effect on transaction recovery which will work fine.

On the other hand, OpenShift does not guarantee the IP node identity - only DNS identity - so IMO the cluster will work fine but recovery won't.

But the key thing here IMO is, the way remoting gets node information. When clustering is involved it gets raw IP addresses which won't work fine on OpenShift and my thought was that the simplest solution would be to use DNS addresses as base for cluster operation.

===

Another thing: does clustering takes care of replicating Narayana object store? If this is the case then the problem would be different.","25/Feb/19 6:11 PM;pferraro;[~tomekadamski] Thanks for elaborating - I think I understand the issue now.
{quote}But if I understand correctly HA features and correct transaction recovery are independent. {quote}
Correct.

{quote}As a result, the client has a record in its permanent object store and tries to finish the transaction. As the record contains the IP address of the failed node the client will wait till the server is up again to finish the transaction.{quote}
The address would have been obtained from the service URL of the ejb client connection.

{quote}That node will have the new cluster identity. My understanding is that it has no effect on transaction recovery which will work fine.{quote}
Correct.

{quote}But the key thing here IMO is, the way remoting gets node information.{quote}
Agreed.  The server supplies this information via client mappings, the destination address for which is stored and supplied as a string.   Thus the server *should* already be capable of seeding the client with a hostname instead of an IP address.  However,  I suspect that the address used by the transaction client is taken from the remote connection itself - which likely use the resolved destination address (as the established connection will have already resolved the host name), rather than preferring the host name over the address, if it exists.

{quote}Another thing: does clustering takes care of replicating Narayana object store? If this is the case then the problem would be different.{quote}
Clustering does not currently perform any state replication on behalf of the the Narayana object store.","26/Feb/19 7:02 AM;tomekadamski;{quote}
Agreed. The server supplies this information via client mappings, the destination address for which is stored and supplied as a string. Thus the server should already be capable of seding the client with a hostname instead of an IP address. However, I suspect that the address used by the transaction client is taken from the remote connection itself - which likely use the resolved destination address (as the established connection will have already resolved the host name), rather than preferring the host name over the address, if it exists.
{quote}

I was debugging into that and connections are based on the data obtained from cluster topology call. I have also checked standalone scenario and it works fine == narayana object store records consist of DNS address if WildFly is configured using those. 

Maybe the right thing to deal with it is to do a translation is server's cluster topology call. I'm going to debug into that and see the possibilities. Generally, I was skeptical about the translating solution because I was afraid of bugs that may arise from it (f.e. race conditions during cluster reorganization). That's why I suggested for the cluster to be based on DNS (which have similar guarantees in OpenShift as IPs in bare-metal) addresses directly. But maybe, if the translation happens in the server topology call than those problems won't occur.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transaction for Hibernate Interceptor is null,WFLY-11832,12796620,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,smarlow,mchur,mchur,11/Mar/19 6:13 AM,18/Mar/19 1:41 PM,28/Dec/19 1:29 PM,18/Mar/19 1:41 PM,14.0.0.Final,15.0.1.Final,16.0.0.Final,,,,,,JPA / Hibernate,Transactions,,,,,,,,,,0,,,,,"With Wildfly 13 - javaee7 transactions in hibernate interceptors were never null.
Since Wildfly 14 - javaee8 transactions in hibernate  interceptors are always null.

Attached sources and a jar of a minimal reproducer for Wildfly 16. This is reproducible by using a fresh unchanged Wildfly 16 and unchanged standalone.xml. Extract Wildfly 16, drop in the jar in the deployments folder and start the server.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Mar/19 6:15 AM;mchur;hibernate-interceptor-reproducer-0.0.1-SNAPSHOT.jar;https://issues.redhat.com/secure/attachment/12448299/hibernate-interceptor-reproducer-0.0.1-SNAPSHOT.jar","11/Mar/19 6:14 AM;mchur;src -WFLY-11832.zip;https://issues.redhat.com/secure/attachment/12448298/src+-WFLY-11832.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-15 13:47:39.0,,,,,,,,,,,,,,,,,,,,,,,,,,2.0,4.0,,,,,,,,,,"1|z03uys:",9223372036854775807,,0.0,,,,,* Create and register a hibernate interceptor that touches transaction provided by afterTransactionCompletion(Transaction tx),,,,,,,,,,,"15/Mar/19 1:47 PM;smarlow;I'm not sure if afterCompletion should have a transaction passed in or not, with Hibernate ORM 5.3 but it does seem like a bug in Hibernate ORM 5.3.* to me as well.

[~mchur]Could you please report this via a Hibernate HHH jira as well, be sure to link back to this issue, from the HHH issue.  Please follow [https://hibernate.atlassian.net/browse/HHH] to report this to the Hibernate ORM team.  After you create the HHH issue, please also update this issue, to include the HHH jira link.  Thanks for reporting this!

[~gbadner] FYI, the following is the NPE that I get with WildFly, after deploying the attached hibernate-interceptor-reproducer-0.0.1-SNAPSHOT.jar (using JDK11).  

{code}
13:38:55,144 ERROR [org.hibernate.internal.SessionImpl] (EJB default - 1) HHH000087: Exception in interceptor afterTransactionCompletion(): java.lang.NullPointerException
        at deployment.hibernate-interceptor-reproducer-0.0.1-SNAPSHOT.jar//de.mc.ReproducerInterceptor.afterTransactionCompletion(ReproducerInterceptor.java:15)
        at org.hibernate@5.3.9.Final//org.hibernate.internal.SessionImpl.afterTransactionCompletion(SessionImpl.java:2509)
        at org.hibernate@5.3.9.Final//org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.afterTransactionCompletion(JdbcCoordinatorImpl.java:479)
        at org.hibernate@5.3.9.Final//org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.afterCompletion(JtaTransactionCoordinatorImpl.java:381)
        at org.hibernate@5.3.9.Final//org.hibernate.resource.transaction.backend.jta.internal.synchronization.SynchronizationCallbackCoordinatorNonTrackingImpl.doAfterCompletion(SynchronizationCallbackCoordinatorNonTrackingImpl.java:60)
        at org.hibernate@5.3.9.Final//org.hibernate.resource.transaction.backend.jta.internal.synchronization.SynchronizationCallbackCoordinatorTrackingImpl.afterCompletion(SynchronizationCallbackCoordinatorTrackingImpl.java:72)
        at org.hibernate@5.3.9.Final//org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization.afterCompletion(RegisteredSynchronization.java:44)
        at org.jboss.as.transactions@17.0.0.Beta1-SNAPSHOT//org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.afterCompletion(JCAOrderedLastSynchronizationList.java:144)
        at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.AbstractTransaction.performConsumer(AbstractTransaction.java:223)
        at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.AbstractTransaction$AssociatingSynchronization.afterCompletion(AbstractTransaction.java:306)
        at org.jboss.jts//com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96)
        at org.jboss.jts//com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:545)
        at org.jboss.jts//com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:101)
        at org.jboss.jts//com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
        at org.jboss.jts//com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1288)
        at org.jboss.jts//com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)
        at org.jboss.jts.integration//com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:89)
        at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.LocalTransaction.commitAndDissociate(LocalTransaction.java:75)
        at org.wildfly.transaction.client@1.1.3.Final//org.wildfly.transaction.client.ContextTransactionManager.commit(ContextTransactionManager.java:71)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:88)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:261)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:362)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:144)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
        at org.jboss.weld.core@3.1.0.Final//org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)
        at org.jboss.as.weld.common@17.0.0.Beta1-SNAPSHOT//org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.component.singleton.ContainerManagedConcurrencyInterceptor.processInvocation(ContainerManagedConcurrencyInterceptor.java:106)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.as.ee@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)
        at org.wildfly.security.elytron-private@1.8.0.Final//org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:618)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)
        at org.jboss.invocation@1.5.2.Final//org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.timerservice.TimedObjectInvokerImpl.callTimeout(TimedObjectInvokerImpl.java:99)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.timerservice.CalendarTimerTask.invokeBeanMethod(CalendarTimerTask.java:64)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.timerservice.CalendarTimerTask.callTimeout(CalendarTimerTask.java:53)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.timerservice.TimerTask.run(TimerTask.java:181)
        at org.jboss.as.ejb3@17.0.0.Beta1-SNAPSHOT//org.jboss.as.ejb3.timerservice.TimerServiceImpl$Task$1.run(TimerServiceImpl.java:1302)
        at org.wildfly.extension.request-controller@8.0.0.Final//org.wildfly.extension.requestcontroller.RequestController$QueuedTask$1.run(RequestController.java:494)
        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
        at java.base/java.lang.Thread.run(Thread.java:834)
        at org.jboss.threads@2.3.3.Final//org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}","15/Mar/19 7:54 PM;gbadner;[~smarlow], I've confirmed that making the following change seems to fix it:

diff --git a/hibernate-core/src/main/java/org/hibernate/internal/SessionImpl.java b/hibernate-core/src/main/java/org/hibernate/internal/SessionImpl.java
index 9a5b59b601..5c62098e32 100644
--- a/hibernate-core/src/main/java/org/hibernate/internal/SessionImpl.java
+++ b/hibernate-core/src/main/java/org/hibernate/internal/SessionImpl.java
@@ -2506,7 +2506,7 @@ public final class SessionImpl
                }
 
                try {
-                       getInterceptor().afterTransactionCompletion( getCurrentTransaction() );
+                       getInterceptor().afterTransactionCompletion( accessTransaction() );
                }
                catch (Throwable t) {
                        log.exceptionInAfterTransactionCompletionInterceptor( t );

I'm not sure if this is a proper fix though. 

[~mchur], please do open a Hibernate issue.","18/Mar/19 6:17 AM;mchur;Thank you! I filed a ticket in hibernate jira as well, HHH-13326.","18/Mar/19 1:41 PM;smarlow;Thanks [~mchur] + [~gbadner]! 

Closing now as duplicate of [https://hibernate.atlassian.net/browse/HHH-13326]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Mojarra to 2.3.8,WFLY-10972,12768025,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,fjuma,erick.de.oliveira.leal,erick.de.oliveira.leal,04/Sep/18 8:50 AM,16/Mar/19 10:22 AM,28/Dec/19 1:29 PM,16/Mar/19 10:22 AM,,,,,,,,,JSF,,,,,,,,,,,0,,,,,https://github.com/javaserverfaces/mojarra/commits/MOJARRA_2_3X_ROLLING,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-20 12:29:52.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|u001h4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"20/Oct/18 12:29 PM;clerum;Is this for the move to org.glassfish:javax.faces 2.3.7 from https://github.com/eclipse-ee4j/mojarra?","24/Oct/18 9:19 AM;erick.de.oliveira.leal;no https://github.com/javaserverfaces/mojarra/releases/tag/2.3.8",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Writing an invalid operation to pooled-connection-factory's transaction attribute should fail the mgmt operation,WFLY-11830,12796603,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,ehugonnet,pkremens,pkremens,11/Mar/19 5:28 AM,11/Mar/19 5:58 AM,28/Dec/19 1:29 PM,11/Mar/19 5:57 AM,16.0.0.Final,,,,,,,,JMS,,,,,,,,,,,0,,,,,"Current behaviour:
{noformat}
[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:write-attribute(name=transaction,value=invalid)
10:26:37,062 WARN  [org.wildfly.extension.messaging-activemq] (management-handler-thread - 1) WFLYMSGAMQ0101: Invalid value invalid for transaction, legal values are [local, none, xa], default value is applied.
{""outcome"" => ""success""}

[standalone@localhost:9990 /]  /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:read-attribute(name=transaction)
{
    ""outcome"" => ""success"",
    ""result"" => ""xa""
}
{noformat}

To make it clear, the 
{noformat}
10:26:37,062 WARN  [org.wildfly.extension.messaging-activemq] (management-handler-thread - 1) WFLYMSGAMQ0101: Invalid value invalid for transaction, legal values are [local, none, xa], default value is applied.
{noformat} 
message comes from server side, so as a client I have no idea that my mgmt operation did not happend (write didn't happen).

The management operation should fail in this case, and ""Invalid value invalid for transaction, legal values are [local, none, xa], default value is applied."" message should be part of failure description instead.",,,,,,,,,,,,,,,,,,,,,,WFLY-11695,,WFLY-11827,JBEAP-16528,,,WFLY-11617,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-11 05:57:26.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03uv8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Mar/19 5:57 AM;ehugonnet;This is NOT a bug but an on purpose behavior for retro compatibility.","11/Mar/19 5:57 AM;ehugonnet;Duplicates WFLY-11696",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Seam 2.2 no is compatible from release 14.0.0.Final. ,WFLY-11772,12793963,,Quality Risk,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,,leireoo,leireoo,25/Feb/19 5:11 AM,25/Feb/19 6:04 AM,28/Dec/19 1:29 PM,25/Feb/19 6:04 AM,14.0.0.Final,15.0.1.Final,,,,,,,CDI / Weld,EE,JSF,,,,,,,,,0,,,,,"Since versión 14.0.0.Final no is compatible framework Seam2.2. It is javee5 and compatible javaee6 and javaee7. With JSR-369: Java Servlet 4.0 no is possible deployment class org/jboss/seam/resteasy/ResteasyBootstrap with annotation @Startup.
¿Is possible deployment with Java Servlet 3.1 ó disable javaee8 from version 14.0.0.Final ? 


Note: Since version 11.0.0.Final to 13.0.0.Final no is complatible JSF.1.2, related bug https://issues.jboss.org/browse/WFLY-9708
Our web application with Seam2.2 and JSF.1.2 no has been possible deployment in higher releases than 10.0.1.Final. ¿any solution?

Log error in 15.0.1.Final:

C:\java\wildfly-15.0.1.Final\bin>standalone.bat
Calling ""C:\java\wildfly-15.0.1.Final\bin\standalone.conf.bat""
Setting JAVA property to ""C:\Program Files (x86)\Java\jdk1.8.0_73\bin\java""
===============================================================================

  JBoss Bootstrap Environment

  JBOSS_HOME: ""C:\java\wildfly-15.0.1.Final""

  JAVA: ""C:\Program Files (x86)\Java\jdk1.8.0_73\bin\java""

  JAVA_OPTS: ""-client -Dprogram.name=standalone.bat -Xms512M -Xmx1024M  -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman ""

===============================================================================

11:12:56,500 INFO  [org.jboss.modules] (main) JBoss Modules version 1.8.7.Final
11:12:59,417 INFO  [org.jboss.msc] (main) JBoss MSC version 1.4.5.Final
11:12:59,429 INFO  [org.jboss.threads] (main) JBoss Threads version 2.3.2.Final
11:12:59,594 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: WildFly Full 15.0.1.Final (WildFly Core 7.0.0.Final) starting
11:13:01,111 INFO  [org.wildfly.security] (ServerService Thread Pool -- 27) ELY00001: WildFly Elytron version 1.7.0.Final
11:13:04,681 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
11:13:04,703 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 8) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
11:13:04,736 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
11:13:04,752 INFO  [org.xnio] (MSC service thread 1-7) XNIO version 3.6.5.Final
11:13:04,758 INFO  [org.xnio.nio] (MSC service thread 1-7) XNIO NIO Implementation Version 3.6.5.Final
11:13:04,788 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 49) WFLYCLINF0001: Activating Infinispan subsystem.
11:13:04,785 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 70) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.
11:13:04,797 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 68) WFLYSEC0002: Activating Security Subsystem
11:13:04,808 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 62) WFLYNAM0001: Activating Naming Subsystem
11:13:04,800 INFO  [org.jboss.as.security] (MSC service thread 1-3) WFLYSEC0001: Current PicketBox version=5.0.3.Final
11:13:04,819 INFO  [org.wildfly.extension.microprofile.config.smallrye._private] (ServerService Thread Pool -- 58) WFLYCONF0001: Activating WildFly MicroProfile Config Subsystem
11:13:04,824 INFO  [org.wildfly.extension.microprofile.health.smallrye] (ServerService Thread Pool -- 59) WFLYHEALTH0001: Activating Eclipse MicroProfile Health Subsystem
11:13:04,824 INFO  [org.wildfly.extension.microprofile.opentracing] (ServerService Thread Pool -- 61) WFLYTRACEXT0001: Activating MicroProfile OpenTracing Subsystem
11:13:04,839 INFO  [org.wildfly.extension.microprofile.metrics.smallrye] (ServerService Thread Pool -- 60) WFLYMETRICS0001: Activating Eclipse MicroProfile Metrics Subsystem
11:13:04,844 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 72) WFLYWS0002: Activating WebServices Extension
11:13:04,848 INFO  [org.jboss.as.connector] (MSC service thread 1-8) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.11.Final)
11:13:04,866 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 56) WFLYJSF0007: Activated the following JSF Implementations: [mojarra-1.2_15, main]
11:13:04,871 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-8) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
11:13:04,895 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 42) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)
11:13:04,905 INFO  [io.smallrye.metrics] (MSC service thread 1-8) Converted [2] config entries and added [4] replacements
11:13:04,910 INFO  [io.smallrye.metrics] (MSC service thread 1-8) Converted [3] config entries and added [12] replacements
11:13:04,936 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-8) WFLYJCA0018: Started Driver service with driver-name = h2
11:13:04,952 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service
11:13:04,954 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
11:13:05,158 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 50) WFLYIO001: Worker 'default' has auto-configured to 8 core threads with 64 task threads based on your 4 available processors
11:13:05,160 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 42) WFLYJCA0004: Deploying JDBC-compliant driver class oracle.jdbc.driver.OracleDriver (version 11.2)
11:13:05,161 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 16 (per class), which is derived from the number of CPUs on this host.
11:13:05,161 INFO  [org.jboss.as.ejb3] (MSC service thread 1-4) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 64 (per class), which is derived from thread worker pool sizing.
11:13:05,162 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-6) WFLYJCA0018: Started Driver service with driver-name = oracle
11:13:05,184 INFO  [org.jboss.remoting] (MSC service thread 1-7) JBoss Remoting version 5.0.8.Final
11:13:05,189 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-3) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
11:13:05,192 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-8) WFLYJCA0010: Unbound data source [java:/jdbc/ONTIME]
11:13:05,192 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-6) WFLYJCA0010: Unbound data source [java:/jdbc/gtsDatasource]
11:13:05,214 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0003: Undertow 2.0.15.Final starting
11:13:05,307 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 71) WFLYUT0014: Creating file handler for path 'C:\java\wildfly-15.0.1.Final/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
11:13:05,316 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0012: Started server default-server.
11:13:05,318 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0018: Host default-host starting
11:13:05,577 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080
11:13:05,658 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 51) WFLYRS0016: RESTEasy version 3.6.2.Final
11:13:05,707 INFO  [org.jboss.as.ejb3] (MSC service thread 1-6) WFLYEJB0493: EJB subsystem suspension complete
11:13:05,764 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0001: Bound data source [java:/jdbc/gtsDatasource]
11:13:05,766 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-8) WFLYJCA0001: Bound data source [java:/jdbc/ONTIME]
11:13:05,765 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-6) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
11:13:08,581 INFO  [org.jboss.as.patching] (MSC service thread 1-7) WFLYPAT0050: WildFly Full cumulative patch ID is: base, one-off patches include: none
11:13:08,595 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory C:\java\wildfly-15.0.1.Final\standalone\deployments
11:13:08,759 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTPS listener https listening on 127.0.0.1:8443
11:13:09,753 INFO  [org.jboss.ws.common.management] (MSC service thread 1-3) JBWS022052: Starting JBossWS 5.2.4.Final (Apache CXF 3.2.5.jbossorg-1)
11:13:09,812 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server
11:13:09,813 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management
11:13:09,813 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990
11:13:09,814 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 15.0.1.Final (WildFly Core 7.0.0.Final) started in 15243ms - Started 324 of 545 services (323 services are lazy, passive or on-demand)
11:20:34,903 INFO  [org.jboss.as.repository] (External Management Request Threads -- 1) WFLYDR0001: Content added at location C:\java\wildfly-15.0.1.Final\standalone\data\content\57\2a32056376826331825705c8a45543cf18837b\content
11:20:34,923 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of ""gts.war"" (runtime-name: ""gts.war"")
11:21:07,842 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry jaxb-api-2.2.12-b140109.1041.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/jaxb-core-2.2.10-b140310.1920.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,844 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry istack-commons-runtime-2.19.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/jaxb-core-2.2.10-b140310.1920.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,844 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry txw2-2.2.10-b140310.1920.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/jaxb-core-2.2.10-b140310.1920.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,845 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry jaxb-core.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/jaxb-impl-2.2.10-b140310.1920.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,858 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry orai18n-mapping.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/orai18n.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,858 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry orai18n-utility.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/orai18n.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,858 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry orai18n-collation.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/orai18n.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,859 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry orai18n-translation.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/orai18n.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,859 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry orai18n-net.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/orai18n.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,859 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry orai18n-servlet.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/orai18n.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,860 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry orai18n-lcsd.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/orai18n.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,860 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry orai18n-tools.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/orai18n.jar  does not point to a valid jar for a Class-Path reference.
11:21:07,860 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0059: Class Path entry gdk_custom.jar in /C:/java/wildfly-15.0.1.Final/bin/content/gts.war/WEB-INF/lib/orai18n.jar  does not point to a valid jar for a Class-Path reference.
11:21:08,492 INFO  [org.jboss.as.jpa] (MSC service thread 1-4) WFLYJPA0002: Read persistence.xml for gts
11:21:10,291 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-4) WFLYEJB0473: JNDI bindings for session bean named 'EjbSynchronizations' in deployment unit 'deployment ""gts.war""' are as follows:

        java:global/gts/EjbSynchronizations!org.jboss.seam.transaction.LocalEjbSynchronizations
        java:app/gts/EjbSynchronizations!org.jboss.seam.transaction.LocalEjbSynchronizations
        java:module/EjbSynchronizations!org.jboss.seam.transaction.LocalEjbSynchronizations
        ejb:gts/EjbSynchronizations!org.jboss.seam.transaction.LocalEjbSynchronizations?stateful
        java:global/gts/EjbSynchronizations
        java:app/gts/EjbSynchronizations
        java:module/EjbSynchronizations

11:21:10,292 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-4) WFLYEJB0473: JNDI bindings for session bean named 'TimerServiceDispatcher' in deployment unit 'deployment ""gts.war""' are as follows:

        java:global/gts/TimerServiceDispatcher!org.jboss.seam.async.LocalTimerServiceDispatcher
        java:app/gts/TimerServiceDispatcher!org.jboss.seam.async.LocalTimerServiceDispatcher
        java:module/TimerServiceDispatcher!org.jboss.seam.async.LocalTimerServiceDispatcher
        ejb:gts/TimerServiceDispatcher!org.jboss.seam.async.LocalTimerServiceDispatcher
        java:global/gts/TimerServiceDispatcher
        java:app/gts/TimerServiceDispatcher
        java:module/TimerServiceDispatcher

11:21:10,540 INFO  [org.infinispan.factories.GlobalComponentRegistry] (MSC service thread 1-5) ISPN000128: Infinispan version: Infinispan 'Infinity Minus ONE +2' 9.4.3.Final
11:21:10,570 WARN  [org.jboss.as.ee] (MSC service thread 1-1) WFLYEE0007: Not installing optional component org.apache.cxf.transport.http.Servlet3ContinuationProvider$Servlet3Continuation due to an exception (enable DEBUG log level to see the cause)
11:21:10,620 WARN  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0131: EJB org.jboss.seam.async.TimerServiceDispatcher should not have a final or static method (instance)
11:21:10,881 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 15) WFLYCLINF0002: Started client-mappings cache from ejb container
11:21:11,197 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0004: Deploying JDBC-compliant driver class oracle.jdbc.OracleDriver (version 11.2)
11:21:11,238 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-7) WFLYJCA0018: Started Driver service with driver-name = gts.war_oracle.jdbc.OracleDriver_11_2
11:21:11,243 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 15) WFLYJPA0003: Starting Persistence Unit Service 'gts.war#gts'
11:21:25,636 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 15) MSC000001: Failed to start service jboss.deployment.unit.""gts.war"".undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.""gts.war"".undertow-deployment: java.lang.VerifyError: (class: org/jboss/seam/resteasy/ResteasyBootstrap_$$_javassist_seam_0, method: _d27sessionWillPassivate signature: (Ljavax/servlet/http/HttpSessionEvent;)V) Illegal use of nonvirtual function call
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
        at java.lang.Thread.run(Thread.java:745)
        at org.jboss.threads.JBossThread.run(JBossThread.java:485)
Caused by: java.lang.VerifyError: (class: org/jboss/seam/resteasy/ResteasyBootstrap_$$_javassist_seam_0, method: _d27sessionWillPassivate signature: (Ljavax/servlet/http/HttpSessionEvent;)V) Illegal use of nonvirtual function call
        at java.lang.Class.getDeclaredFields0(Native Method)
        at java.lang.Class.privateGetDeclaredFields(Class.java:2583)
        at java.lang.Class.getField0(Class.java:2975)
        at java.lang.Class.getField(Class.java:1701)
        at org.jboss.seam.util.ProxyFactory.setField(ProxyFactory.java:365)
        at org.jboss.seam.util.ProxyFactory.createClass3(ProxyFactory.java:354)
        at org.jboss.seam.util.ProxyFactory.createClass2(ProxyFactory.java:327)
        at org.jboss.seam.util.ProxyFactory.createClass(ProxyFactory.java:286)
        at org.jboss.seam.Component.createProxyFactory(Component.java:2452)
        at org.jboss.seam.Component.getProxyFactory(Component.java:1516)
        at org.jboss.seam.Component.wrap(Component.java:1507)
        at org.jboss.seam.Component.instantiateJavaBean(Component.java:1445)
        at org.jboss.seam.Component.instantiate(Component.java:1362)
        at org.jboss.seam.Component.newInstance(Component.java:2148)
        at org.jboss.seam.contexts.Contexts.startup(Contexts.java:304)
        at org.jboss.seam.contexts.Contexts.startup(Contexts.java:278)
        at org.jboss.seam.contexts.ServletLifecycle.endInitialization(ServletLifecycle.java:143)
        at org.jboss.seam.init.Initialization.init(Initialization.java:744)
        at org.jboss.seam.servlet.SeamListener.contextInitialized(SeamListener.java:36)
        at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)
        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:216)
        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:185)
        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)
        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:250)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)
        ... 8 more

11:21:25,642 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (""add"") failed - address: ([(""deployment"" => ""gts.war"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""gts.war\"".undertow-deployment"" => ""java.lang.VerifyError: (class: org/jboss/seam/resteasy/ResteasyBootstrap_$$_javassist_seam_0, method: _d27sessionWillPassivate signature: (Ljavax/servlet/http/HttpSessionEvent;)V) Illegal use of nonvirtual function call
    Caused by: java.lang.VerifyError: (class: org/jboss/seam/resteasy/ResteasyBootstrap_$$_javassist_seam_0, method: _d27sessionWillPassivate signature: (Ljavax/servlet/http/HttpSessionEvent;)V) Illegal use of nonvirtual function call""}}
11:21:25,646 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment ""gts.war"" was rolled back with the following failure message:
{""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""gts.war\"".undertow-deployment"" => ""java.lang.VerifyError: (class: org/jboss/seam/resteasy/ResteasyBootstrap_$$_javassist_seam_0, method: _d27sessionWillPassivate signature: (Ljavax/servlet/http/HttpSessionEvent;)V) Illegal use of nonvirtual function call
    Caused by: java.lang.VerifyError: (class: org/jboss/seam/resteasy/ResteasyBootstrap_$$_javassist_seam_0, method: _d27sessionWillPassivate signature: (Ljavax/servlet/http/HttpSessionEvent;)V) Illegal use of nonvirtual function call""}}
11:21:25,659 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-6) WFLYJCA0019: Stopped Driver service with driver-name = gts.war_oracle.jdbc.OracleDriver_11_2
11:21:25,664 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 135) WFLYJPA0004: Stopping Persistence Unit Service 'gts.war#gts'
11:21:28,384 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0028: Stopped deployment gts.war (runtime-name: gts.war) in 2737ms",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Compatibility/Configuration,,,,,https://issues.jboss.org/browse/WFLY-9708,,,,,,,,,,2019-02-25 06:04:26.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z03hgc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Feb/19 6:04 AM;manovotn;Seam is a long dead project parts of which were integrated into various other projects.
It is unsupported technology and I am fairly surprised that it even (somehow?) worked on earlier WFLY versions.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Picketlink from 2.5.5.SP12 to 2.5.5.SP13,WFLY-11725,12792398,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,thofman,thofman,thofman,15/Feb/19 4:49 AM,15/Feb/19 4:51 AM,28/Dec/19 1:29 PM,15/Feb/19 4:51 AM,,,,,,,,,Build System,,,,,,,,,,,0,downstream_dependency,,,,,,,,,,,,,,,,,WFLY-11686,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z038yc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
org.jboss.ws.saaj-impl not referenced from org.jboss.as.webservices,WFLY-11120,12772962,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,asoldano,jdenise,jdenise,04/Oct/18 10:57 AM,12/Feb/19 4:52 PM,28/Dec/19 1:29 PM,08/Jan/19 12:21 PM,,,,,,,,,Web Services,,,,,,,,,,,0,,,,,This dependency seems to me required. This has an impact in galleon context.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-08 12:51:17.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z00a60:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Jan/19 12:21 PM;jdenise;Closing it, this dependency is not required nor injected in deployment units. I missed something at some point.","08/Jan/19 12:51 PM;jbliznak;Actually, it looks like this org.jboss.ws.saaj-impl \[1\] module is completly unused; and there is a module \[2\] consuming the same dependencies.

\[1\] https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/org/jboss/ws/saaj-impl/main/module.xml
\[2\] https://github.com/wildfly/wildfly/blob/master/feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/webservices/server/integration/main/module.xml

[~asoldano] should this \[1\] module be removed (given it is private and unused)?","12/Feb/19 4:52 PM;asoldano;[~jbliznak], see https://github.com/jboss/jboss-saaj-api_spec/blob/master/src/main/java/javax/xml/soap/FactoryFinder.java#L40",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade WildFly Transaction Client to 1.1.3.Final,WFLY-11684,12791222,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,ochaloup,ochaloup,ochaloup,08/Feb/19 5:19 AM,11/Feb/19 4:17 AM,28/Dec/19 1:29 PM,11/Feb/19 4:17 AM,15.0.1.Final,,,,,,,,EJB,Transactions,,,,,,,,,,0,,,,,The WildFly Transaction client should be upgraded as it contains fixes for ejb transaction propagation of timeout handling. These fixes influences behaviour of the system. Those fixes are partly involved in the released EAP 7.2.0 and they are not in the WildFly upstream.,,,,,,,,,,,,,,,,,,,,,,WFLY-11570,,WFTC-60,WFTC-58,WFTC-52,WFTC-54,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z032yk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"11/Feb/19 4:17 AM;ochaloup;Duplicit to WFLY-11570",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transaction service isn't available when dynamically adding transactional annotation,WFLY-11629,12788578,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Won't Do,ochaloup,juagonza,juagonza,22/Jan/19 7:30 AM,07/Feb/19 6:02 AM,28/Dec/19 1:29 PM,07/Feb/19 6:01 AM,15.0.1.Final,,,,,,,,Transactions,,,,,,,,,,,0,,,,,"When adding dynamically a transactional annotation, transactional module isn't loaded, so transactions aren't available and throws this error:

{noformat}
javax.persistence.TransactionRequiredException: WFLYJPA0060: Transaction is required to perform this operation (either use a transaction or extended persistence context)
{noformat}

I've attached a reproducer with a test in order to reproduce this. There you can see that there is a CDI producer that dynamically adds the annotation for transactions, that doesn't work.

[~mkouba] found this could be an optimization for not loading JTS module: https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/deployment/TransactionDependenciesProcessor.java#L74-L76 

In order to execute tests:

mvn clean test

To execute test, passing in Payara:

mvn clean test -Ppayara

",,,,,,,,,,,,,,,,,,,,,,,,ENTSWM-533,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jan/19 7:30 AM;juagonza;wildfly_dynamic_tx_reproducer.zip;https://issues.redhat.com/secure/attachment/12445883/wildfly_dynamic_tx_reproducer.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-05 03:12:12.0,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,5.0,,,,,,,,,,"1|z02nzc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Feb/19 3:12 AM;ochaloup;Agree, it's because of the optimization for not loading JTS when {{@Transactional}} annotation is not defined.","05/Feb/19 3:38 AM;ochaloup;after follow-up discussion with [~mkouba] I think the current behaviour should be left as it is. I would say that if user wants to use the transactions and adding the annotations in fully programmatic way he is free to add the dependency to the {{org.jboss.jts}} module manually.

In your reproducer add this to the {{@Deployment}} (https://docs.jboss.org/author/display/WFLY/Class+Loading+in+WildFly)
{code}
.setManifest(new StringAsset(""Manifest-Version: 1.0\nDependencies: org.jboss.jts export services""));
{code}

On top of that in real world application I think it's quite doubtful if there will be used only programmatic approach with no annotation involved in the code.

Is there some serious objection against closing this one?","05/Feb/19 3:45 AM;juagonza;[~ochaloup] Payara server for example works perfectly fine. I know this behavior is on the edge of what should or not should be, but the workaround you said is very server-dependent and Java EE was made exactly to avoid these kind of things. I think users shouldn't be affected or even know this is an optimization and make this workaround themselves.

And about real world, yeah as I mentioned is not common use CDI to add dynamic annotations like this, but it is used in somehow ""famous"" Java EE 8 samples here: https://github.com/javaee-samples/javaee8-samples/tree/master/jpa/dynamic-tx, which is a repository gathering Java EE 8 examples to show new features.","05/Feb/19 4:24 AM;ochaloup;[~juagonza] I see your point. First I would argue that by deploying to different containers you need to apply some of their habits. The class loading in WildFly is based on modules. If you mind changing the {{META-INF}} you can still use the descriptor {{jboss-deployment-structure.xml}} to get the same.

I understand the argument that same example works for Paraya. From the implementation perspective I don't like the need of adding the JTS modules to dependency even if it's not necessary.

By me the benefit of current behaviour is that the dependency is not forced up to time it's needed by the application (which declares {{@Transactional}} annotation). I think there are still some trade-offs which need to be done.

For sure this behaviour should be documented.","07/Feb/19 6:01 AM;ochaloup;This is non-standard usage, it's easily fixed with class loading configuration change. It will be documented by https://issues.jboss.org/browse/WFLY-11674.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update link for Red Hat Developer website in quickstarts root README file,WFLY-11557,12786102,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,sgilda,sgilda,sgilda,04/Jan/19 8:10 AM,04/Jan/19 10:47 AM,28/Dec/19 1:29 PM,04/Jan/19 10:47 AM,,,,,,,,,Quickstarts,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02a48:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Jan/19 10:47 AM;sgilda;This is not an issue.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update WildFlyCustomJtaPlatform#locateTransactionSynchronizationRegistry to use a direct reference to the TransactionSynchronizationRegistry,WFLY-11243,12776197,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,smarlow,smarlow,smarlow,24/Oct/18 5:26 PM,12/Dec/18 2:45 PM,28/Dec/19 1:29 PM,29/Nov/18 5:49 PM,14.0.0.Final,,,,,15.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,,,,,This addresses what is likely a performance issue in how the TransactionSynchronizationRegistry is looked up for (JPA container managed) persistence contexts used inside of JTA transactions.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11784,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z00seg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Explicitly exclude Netty dependencies,WFLY-11443,12781507,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,yersan,yersan,yersan,29/Nov/18 7:51 AM,30/Nov/18 2:53 AM,28/Dec/19 1:29 PM,30/Nov/18 2:53 AM,,,,,,,,,,,,,,,,,,,,0,,,,,"This issue was opened after discusing the changes in JBEAP-15938, it tries to avoid the possibility to include different Netty versions in product branches when they are comming from artemis dependncies.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11899,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z01m8g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Narayana to 5.5.temp,WFLY-11438,12781462,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,tomjenkinson,tomjenkinson,tomjenkinson,29/Nov/18 4:59 AM,29/Nov/18 5:00 AM,28/Dec/19 1:29 PM,29/Nov/18 5:00 AM,,,,,,,,,Transactions,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|z01lyw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tasks-rs: Add to README a instruction to comment an import line ,WFLY-11430,12781327,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Cannot Reproduce,sgilda,sgilda,sgilda,28/Nov/18 8:15 AM,28/Nov/18 11:17 AM,28/Dec/19 1:29 PM,28/Nov/18 11:17 AM,,,,,,,,,Quickstarts,,,,,,,,,,,0,,,,,"The issue is in _EnableJsonSupport_  Manu framework unit. The description below is no more relevant.

-Currently maven checkstyle plugin [fails|https://eap-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/eap-7.x-quickstarts-matrix/177/QUICKSTART_NAME=tasks-rs,jdk=oracle-java-1.8,label_exp=RHEL7%20&&%20!bos/testReport/junit/org.jboss.manu.eap.quickstarts/QuickstartsMaven/tasks_rs_RunArquillianTests_mavenexitcode/] on unused import after adding JSON support to the tasks-rs quickstart-

{noformat}
tasks-rs/src/main/java/org/jboss/as/quickstarts/tasksrs/service/TaskResource.java:30:8: Unused import - javax.ws.rs.Produces. [UnusedImports]
{noformat}

-Our QE tests are fixed now, but for the customers it would be useful to have an instruction to comment the line-

{noformat}
import javax.ws.rs.Produces
{noformat}

-It would be nice to have this instruction in Modify this Quickstart to Support JSON Representations of Tasks section, step 3, Add comments to this line sentence-. 

-Thanks!-",,,,,,,,,,,,,JBEAP-15933,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01l7c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Nov/18 11:17 AM;sgilda;Closing this issue as it is a not a quickstart bug. It is a bug that needs to be fixed in the internal QE tests ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adjustable limit to DistributableSessionManager.stop waits,WFLY-10925,12766782,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,pferraro,aogburn,aogburn,24/Aug/18 4:30 PM,26/Nov/18 3:40 PM,28/Dec/19 1:29 PM,26/Nov/18 3:40 PM,14.0.0.Beta2,,,,,,,,Clustering,,,,,,,,,,,0,,,,,"The DistributableSessionManager.stop wait duration is limited to the session manager default session timeout.  That's typically 30 minutes or more and quite long for a shut down wait cap.

Such a wait cap would be more helpful if we can adjust it to a lower desired value so that in case of a hung/long request (or missed session unlock), the DistributableSessionManager.stop doesn't have to take 30+ minutes.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|i00adz:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ModuleClassLoader fails with ClassNotFoundException when class in a jar file,WFLY-11411,12780825,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,yersan,karlnicholas,karlnicholas,23/Nov/18 12:01 PM,26/Nov/18 10:28 AM,28/Dec/19 1:29 PM,26/Nov/18 10:28 AM,11.0.0.Final,14.0.0.Final,,,,,,,Class Loading,,,,,,,,,,,0,,,,,"Simple REST service with Application activator in project and Rest Server in another project with jar file fails to load. 

Works okay with EAR project structure but not with simpler WAR project structure.

Caused by: java.lang.ClassNotFoundException: rest.service.server.RestSever from [Module ""deployment.restserver7.war"" from Service Module Loader]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:412)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:400)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Nov/18 12:04 PM;karlnicholas;JaxRsActivator.java;https://issues.redhat.com/secure/attachment/12443869/JaxRsActivator.java","23/Nov/18 12:04 PM;karlnicholas;RestSever.java;https://issues.redhat.com/secure/attachment/12443871/RestSever.java",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-26 04:45:21.0,,,,,,,,,,,,,,,,,,,,,,,,,,2.0,2.0,,,,,,,,,,"1|z01ic8:",9223372036854775807,,0.0,,,,,"Eg.

See attached files. Put ""server"" in war project and ""service"" in different jar project.


",,,,,,,,,,,"26/Nov/18 4:45 AM;yersan;Wildlfly treats war deployments as single module with isolate class loading. If you want to access to classes in a .jar file from a war project, you have to package the war deployment including the jar file in the WEB-INF/lib folder. Doing so, you should be able to share the classes. I've just verified that this packaging is working fine in Wildfly 14.

[~karlnicholas] are you including your jar file in the war deployment?, if so, please, attach your complete project structure to take a look

","26/Nov/18 10:23 AM;karlnicholas;Yes, agreed, something strange on my side. Cannot reproduce. Please close.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.4.3.Final,WFLY-11413,12780844,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,pferraro,pferraro,pferraro,24/Nov/18 11:52 AM,25/Nov/18 3:43 PM,28/Dec/19 1:29 PM,25/Nov/18 3:43 PM,,,,,,,,,Clustering,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ISPN-9701,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-25 15:43:08.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01igg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Nov/18 3:43 PM;rhusar;Duplicates WFLY-11401.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Balancer keeps routing requests to workers in common load balancing group even when this group was disabled,WFLY-11319,12778699,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Explained,rhusar,jkasik,jkasik,09/Nov/18 8:34 AM,13/Nov/18 3:33 AM,28/Dec/19 1:29 PM,13/Nov/18 3:33 AM,15.0.0.Beta1,,,,,,,,mod_cluster,,,,,,,,,,,0,,,,,"When disabling nodes in common load balancing group, their contexts statuses became ""disabled"", however, balancer keeps routing requests to nodes in this group. Console after disable operation has been called:

{noformat}
{
    ""outcome"" => ""success"",
    ""result"" => {
        ""advertise-frequency"" => 10000,
        ""advertise-path"" => ""/"",
        ""advertise-protocol"" => ""http"",
        ""advertise-socket-binding"" => ""modcluster"",
        ""broken-node-timeout"" => 60000,
        ""cached-connections-per-thread"" => 40,
        ""connection-idle-timeout"" => 60,
        ""connections-per-thread"" => 40,
        ""enable-http2"" => false,
        ""failover-strategy"" => ""LOAD_BALANCED"",
        ""health-check-interval"" => 10000,
        ""http2-enable-push"" => true,
        ""http2-header-table-size"" => 4096,
        ""http2-initial-window-size"" => 65535,
        ""http2-max-concurrent-streams"" => undefined,
        ""http2-max-frame-size"" => 16384,
        ""http2-max-header-list-size"" => undefined,
        ""management-access-predicate"" => undefined,
        ""management-socket-binding"" => ""http"",
        ""max-ajp-packet-size"" => 8192,
        ""max-request-time"" => -1,
        ""max-retries"" => 1L,
        ""request-queue-size"" => 1000,
        ""security-key"" => undefined,
        ""security-realm"" => undefined,
        ""ssl-context"" => undefined,
        ""use-alias"" => false,
        ""worker"" => ""default"",
        ""balancer"" => {""mycluster"" => {
            ""max-attempts"" => 1,
            ""sticky-session"" => true,
            ""sticky-session-cookie"" => ""JSESSIONID"",
            ""sticky-session-force"" => false,
            ""sticky-session-path"" => undefined,
            ""sticky-session-remove"" => false,
            ""wait-worker"" => 0,
            ""load-balancing-group"" => undefined,
            ""node"" => {
                ""wildfly-15.0.0.Alpha1-SNAPSHOT-3"" => {
                    ""aliases"" => [
                        ""default-host"",
                        ""localhost""
                    ],
                    ""cache-connections"" => 40,
                    ""elected"" => 3,
                    ""flush-packets"" => false,
                    ""load"" => 71,
                    ""load-balancing-group"" => ""groupTwo"",
                    ""max-connections"" => 40,
                    ""open-connections"" => 5,
                    ""ping"" => 10,
                    ""queue-new-requests"" => true,
                    ""read"" => 0L,
                    ""request-queue-size"" => 1000,
                    ""status"" => ""NODE_UP"",
                    ""timeout"" => 0,
                    ""ttl"" => 60L,
                    ""uri"" => ""ajp://172.17.0.2:8211/?#"",
                    ""written"" => 0L,
                    ""context"" => {
                        ""/clusterbench"" => {
                            ""requests"" => 0,
                            ""status"" => ""disabled""
                        },
                        ""/"" => {
                            ""requests"" => 0,
                            ""status"" => ""disabled""
                        },
                        ""/wildfly-services"" => {
                            ""requests"" => 0,
                            ""status"" => ""disabled""
                        }
                    }
                },
                ""wildfly-15.0.0.Alpha1-SNAPSHOT-4"" => {
                    ""aliases"" => [
                        ""default-host"",
                        ""localhost""
                    ],
                    ""cache-connections"" => 40,
                    ""elected"" => 2,
                    ""flush-packets"" => false,
                    ""load"" => 70,
                    ""load-balancing-group"" => ""groupTwo"",
                    ""max-connections"" => 40,
                    ""open-connections"" => 4,
                    ""ping"" => 10,
                    ""queue-new-requests"" => true,
                    ""read"" => 0L,
                    ""request-queue-size"" => 1000,
                    ""status"" => ""NODE_UP"",
                    ""timeout"" => 0,
                    ""ttl"" => 60L,
                    ""uri"" => ""ajp://172.17.0.2:8312/?#"",
                    ""written"" => 0L,
                    ""context"" => {
                        ""/clusterbench"" => {
                            ""requests"" => 0,
                            ""status"" => ""disabled""
                        },
                        ""/"" => {
                            ""requests"" => 0,
                            ""status"" => ""disabled""
                        },
                        ""/wildfly-services"" => {
                            ""requests"" => 0,
                            ""status"" => ""disabled""
                        }
                    }
                },
                ""wildfly-15.0.0.Alpha1-SNAPSHOT-1"" => {
                    ""aliases"" => [
                        ""default-host"",
                        ""localhost""
                    ],
                    ""cache-connections"" => 40,
                    ""elected"" => 0,
                    ""flush-packets"" => false,
                    ""load"" => 70,
                    ""load-balancing-group"" => ""groupOne"",
                    ""max-connections"" => 40,
                    ""open-connections"" => 4,
                    ""ping"" => 10,
                    ""queue-new-requests"" => true,
                    ""read"" => 0L,
                    ""request-queue-size"" => 1000,
                    ""status"" => ""NODE_UP"",
                    ""timeout"" => 0,
                    ""ttl"" => 60L,
                    ""uri"" => ""ajp://172.17.0.2:8009/?#"",
                    ""written"" => 0L,
                    ""context"" => {
                        ""/clusterbench"" => {
                            ""requests"" => 0,
                            ""status"" => ""enabled""
                        },
                        ""/"" => {
                            ""requests"" => 0,
                            ""status"" => ""enabled""
                        },
                        ""/wildfly-services"" => {
                            ""requests"" => 0,
                            ""status"" => ""enabled""
                        }
                    }
                },
                ""wildfly-15.0.0.Alpha1-SNAPSHOT-2"" => {
                    ""aliases"" => [
                        ""default-host"",
                        ""localhost""
                    ],
                    ""cache-connections"" => 40,
                    ""elected"" => 0,
                    ""flush-packets"" => false,
                    ""load"" => 70,
                    ""load-balancing-group"" => ""groupOne"",
                    ""max-connections"" => 40,
                    ""open-connections"" => 5,
                    ""ping"" => 10,
                    ""queue-new-requests"" => true,
                    ""read"" => 0L,
                    ""request-queue-size"" => 1000,
                    ""status"" => ""NODE_UP"",
                    ""timeout"" => 0,
                    ""ttl"" => 60L,
                    ""uri"" => ""ajp://172.17.0.2:8110/?#"",
                    ""written"" => 0L,
                    ""context"" => {
                        ""/clusterbench"" => {
                            ""requests"" => 0,
                            ""status"" => ""enabled""
                        },
                        ""/"" => {
                            ""requests"" => 0,
                            ""status"" => ""enabled""
                        },
                        ""/wildfly-services"" => {
                            ""requests"" => 0,
                            ""status"" => ""enabled""
                        }
                    }
                }
            }
        }}
    }
}
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z016ao:",9223372036854775807,,0.0,,,,,"# Prepare 4 workers and one balancer
# Configure two load balancing groups (each with two workers)
# Send request to balancer to get ID of node which handled this request
# Disable load balancing group containing this node: {{/subsystem=undertow/configuration=filter/mod-cluster=modcluster/balancer=mycluster/load-balancing-group=groupTwo:disable-nodes}}
# Make new request to balancer within same session. This request should end up on any node from other load balancing group
# => Request ends up on same node as previous one did (in the disabled group)",,,,,,,jkasik,,,,"13/Nov/18 3:33 AM;jkasik;I misunderstood the concept.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wildfly 14.0.0 regression: EL returns empty string on constant,WFLY-11095,12772211,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,swd847,arthurborsboom,arthurborsboom,01/Oct/18 8:28 AM,12/Nov/18 11:00 AM,28/Dec/19 1:29 PM,02/Oct/18 2:44 AM,14.0.0.Final,,,,,,,,Web (Undertow),,,,,,,,,,,0,,,,,"This does work in Wildfly 13, but not in Wildfly 14:

<%@ page import=""com.example.YourConstants"" %>
${YourConstants.FOO}",,,,,,,,,,,,,,,,,,,,,,WFLY-11065,WFLY-11086,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-02 02:43:54.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,9.0,,,,,,,,,,"1|z005w0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/18 2:43 AM;jstourac;There is already created another issue for this, see WFLY-11065. This issue has been fixed, although, there is a followup issue WFLY-11086, which has not been resolved yet.

I am gonna mark this one as a duplicate.","02/Oct/18 2:53 AM;arthurborsboom;Hi Jan,

The two issues are close related and I think it is smart to fix them together. 
However, I do recall that the other issue was not an issue on my system when I tested Wildfly 14.
The two statements below did get resolved correctly, however the reference to a static field in a non default JRE/JDK class didn't.

Works:

foo: --- ${Boolean.TRUE} ---<br>
bar: --- ${Integer.MAX_VALUE} ---<br>

Doesn't work:

{YourConstants.FOO}

As a side note, the two Java constant statements above are a copy of my bug report for Wildfly 10 ;-)
https://developer.jboss.org/thread/271825","02/Oct/18 2:53 AM;arthurborsboom;Nevertheless, if these issues have been fixed I will give it another try and return the test results.","02/Oct/18 10:13 AM;adamkrajcik;I tried it according to your example and I get the same behavior as in [WFLY-11086|https://issues.jboss.org/browse/WFLY-11086].
I used the nightly buld of Wildfly with the [WFLY-11065|https://issues.jboss.org/browse/WFLY-11065] resolved.
My steps:
# Create class MyConstants with constant HELLO
{code}
public class MyConstants {
    public static final String HELLO = ""hello world."";
}
{code}
# Create index.jsp:
{code}
<%@ page import=""org.jboss.qa.management.web.resources.MyConstants"" %>
<html><body>--- ${MyConstants.HELLO} ---</body></html>
{code}
# Create jsp-example.war
# Make requests
{code}
curl 127.0.0.1:8080/jsp-example/
{code}

On the first request, I get back correct answer:
{code}
<html><body>--- hello world. ---</body></html>
{code}
And on the second and so forth, I get incorrect answer:
{code}
<html><body>---  ---</body></html>
{code}

Thus this still seems as a duplicate to me. Please, let us know whether your use case differs somehow or whether we missed something. Thanks.","02/Oct/18 10:17 AM;arthurborsboom;You might be right. :)

I will have a more thorough test somewhere in the upcoming days and report back to you.
Thanks for your effort.","12/Nov/18 9:45 AM;arthurborsboom;It is good to read that this issue has been resolved.

In which version will this fix be available?
And what is the estimation of when this version be released?","12/Nov/18 10:12 AM;brian.stansberry;The issues linked to this as duplicates are resolved in 15.0.0.Alpha1, which will probably be renamed to Beta1 and released this week. The 15.0.0.Final is expected at the end of November.","12/Nov/18 10:51 AM;arthurborsboom;I will wait for the formal release of Wildfly 15 and give the application I am maintaining another try.
Thanks for the friendly info.","12/Nov/18 11:00 AM;brian.stansberry;You're welcome. Thanks for the report!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Artemis AMQP protocol requires proton-j...jar if SASL is used,WFLY-11289,12778171,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,ehugonnet,mnovak,mnovak,07/Nov/18 2:43 AM,07/Nov/18 7:40 AM,28/Dec/19 1:29 PM,07/Nov/18 7:40 AM,14.0.0.Final,,,,,,,,JMS,,,,,,,,,,,0,,,,,"If AMQP client uses SASL authentication then connection fails with:
{code}
2018-11-05 12:08:01,636 TRACE [org.jboss.modules] (Thread-1 (activemq-netty-threads)) Class org.apache.qpid.proton.engine.SaslListener not found from Module ""org.apache.activemq.artemis.protocol.amqp"" from local module loader @79b4d0f (finder: local module finder @6b2fad11 (roots: /apps/wildfly14.0/modules,/apps/wildfly14.0/modules/system/layers/base))

2018-11-05 12:08:01,636 WARN  [org.jboss.modules.define] (Thread-1 (activemq-netty-threads)) Failed to define class org.apache.activemq.artemis.protocol.amqp.proton.handler.ProtonHandler in Module ""org.apache.activemq.artemis.protocol.amqp"" from local module loader @79b4d0f (finder: local module finder @6b2fad11 (roots: /apps/wildfly14.0/modules,/apps/wildfly14.0/modules/system/layers/base)): java.lang.NoClassDefFoundError: Failed to link org/apache/activemq/artemis/protocol/amqp/proton/handler/ProtonHandler (Module ""org.apache.activemq.artemis.protocol.amqp"" from local module loader @79b4d0f (finder: local module finder @6b2fad11 (roots: /apps/wildfly14.0/modules,/apps/wildfly14.0/modules/system/layers/base))): org/apache/qpid/proton/engine/SaslListener
{code}

It requires proton-j-0.27.3.jar to be added to org.apache.activemq.artemis.protocol.amqp module. It appears to missing and should be added. 

See: https://developer.jboss.org/message/986253 for more information.

Credit for finding this problem goes to [~ninjasftw]

 ",,,,,,,,,,,,,,,,,,,,,,WFLY-11288,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://developer.jboss.org/message/986253,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0131s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"07/Nov/18 3:04 AM;mnovak;[~ehugonnet] [~jmesnil] This one was hit by community member for AMQP protocol. The question is whether to add proton-j to amqp protocol module. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"How to configure tomcatauthentication attribute in wildfly8 version,",WFLY-11236,12775994,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,swd847,swapna6.koppula,swapna6.koppula,24/Oct/18 3:41 AM,24/Oct/18 10:58 PM,28/Dec/19 1:29 PM,24/Oct/18 10:58 PM,8.0.0.Final,,,,,,,,Web (Undertow),,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-24 22:58:20.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00r8w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"24/Oct/18 10:58 PM;brian.stansberry;Please use the forums to ask questions.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade Infinispan to 9.3.4.Final,WFLY-11020,12769856,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Out of Date,pferraro,pferraro,pferraro,14/Sep/18 2:17 PM,08/Oct/18 2:49 PM,28/Dec/19 1:29 PM,08/Oct/18 2:49 PM,14.0.0.Final,,,,,,,,Clustering,,,,,,,,,,,0,,,,,https://issues.jboss.org/browse/ISPN/fixforversion/12339151,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|y003tg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
message-clustering cli config failing,WFLY-11119,12772960,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Rejected,emmartins,jdenise,jdenise,04/Oct/18 10:54 AM,05/Oct/18 2:55 AM,28/Dec/19 1:29 PM,05/Oct/18 2:55 AM,,,,,,,,,Quickstarts,,,,,,,,,,,0,,,,,"Also applies to message-clustering-singleton
Seems that the full-ha has now CONSOLE enabled.
I am using JBEAP quickstarts and wildfly 15.0.0.Alpha1-SNAPSHOT

The batch failed with the following error (you are remaining in the batch editing mode to have a chance to correct the error): 
WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:
Step: step-1
Operation: /subsystem=logging/console-handler=CONSOLE:add(level=INFO,formatter=""%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%E%n"")
Failure: WFLYCTL0212: Duplicate resource [
    (""subsystem"" => ""logging""),
    (""console-handler"" => ""CONSOLE"")
]
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-04 13:44:15.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00a5k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"05/Oct/18 2:55 AM;jdenise;Not a bug, this is JBEAP quickstarts used with wildfly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect >= 3.1 conditional in JspInitializationListener,WFLY-11066,12771321,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Duplicate Issue,ppalaga,ppalaga,ppalaga,25/Sep/18 5:50 AM,25/Sep/18 8:09 AM,28/Dec/19 1:29 PM,25/Sep/18 8:08 AM,,,,,,,,,Web (Undertow),,,,,,,,,,,0,,,,,"In {{JspInitializationListener}} there is a comment saying 

{quote}
if the servlet version is 3.1 or higher, setup a ELResolver which allows usage of static fields java.lang.*
{quote}

However the conditional following the comment is not testing for ""3.1 or higher"":

{code}
if (servletContext.getEffectiveMajorVersion() >= 3 && servletContext.getEffectiveMinorVersion() >= 1) {
{code}

note that e.g. for 4.0 the expression is false

To include 4.0, the expression should be something like 

{code}
if (servletContext.getEffectiveMajorVersion() > 3 || (servletContext.getEffectiveMajorVersion() == 3 && servletContext.getEffectiveMinorVersion() >= 1)) {
{code}

[1] https://github.com/wildfly/wildfly/blob/e8724d5e539ac26b402a5ad10ef3d98839c7497c/undertow/src/main/java/org/wildfly/extension/undertow/deployment/JspInitializationListener.java#L50",,,,,,,,,,,,,,,,,,,,,,WFLY-11065,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-25 06:49:42.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z000oo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"25/Sep/18 6:49 AM;jstourac;[~ppalaga], I believe this is connected WFLY-11065, right? Note that there is a [commit with test extension|https://github.com/jstourac/wildfly/commit/29e6fde75478a8245c7caa5bd4ecd27542c36cfc] to cover this issue.","25/Sep/18 7:40 AM;ppalaga;[~jstourac] what an accident! I found the issue when I browsed the code for other reasons. I have not attempted to assemble a reproducer. Yeah, it looks like the PR linked here could be a solution for WFLY-11065 :)","25/Sep/18 8:08 AM;jstourac;I've just checked that tests prepared for WFLY-11065 successfully passed when your fix is incorporated. I am gonna mark this jira as a duplicate of WFLY-11065 as that one has already JBEAP clone and also to have it all tracked on one place. Thanks! :)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing classes in multirelease jar infinispan-commons-9.3.3.Final-redhat-00001.jar,WFLY-11061,12770940,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,psakar,tommaso-borgato,tommaso-borgato,22/Sep/18 3:48 AM,24/Sep/18 2:49 AM,28/Dec/19 1:29 PM,24/Sep/18 2:49 AM,14.0.1.Final,,,,,,,,Clustering,,,,,,,,,,,0,,,,,"Project {{org.infinispan:infinispan-commons:9.3.3.Final}} contains classes specific for JDK-10.
In the {{pom.xml}} file there is a {{jdk10-compile}} profile for the multi-release compilation.
The following multi-release classes are not present, in their JDK 10 specific version, in jar {{infinispan-commons-9.3.3.Final-redhat-00001.jar}} shipped with {{jboss-eap-7.2.0.CD14.CR1.zip}}:

* https://github.com/infinispan/infinispan/blob/9.3.3.Final/commons/src/main/java10/org/infinispan/commons/jdkspecific/CallerId.java
* https://github.com/infinispan/infinispan/blob/9.3.3.Final/commons/src/main/java10/org/infinispan/commons/jdkspecific/ProcessorInfo.java

Note this may be related to JBEAP-15504.
",,,,,,,,,,,,,JBEAP-15502,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|y00a5o:",9223372036854775807,not present in upstream,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Hibernate ORM 5.3.6.Final,WFLY-10943,12767132,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Major,Done,guillaume.smet,guillaume.smet,guillaume.smet,28/Aug/18 1:19 PM,28/Aug/18 7:03 PM,28/Dec/19 1:29 PM,28/Aug/18 5:19 PM,,,,,,14.0.0.Final,,,JPA / Hibernate,,,,,,,,,,,0,,,,,"This is a follow-up of our discussion about the issues with the security manager fixes committed earlier.

They have been reverted in this version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,0.0,,,,,,,,,,"1|i00cdz:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WELD-000119: Not generating any bean definitions from..class loading error: Type java.net.http.HttpClient,WFLY-12886,12843101,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Explained,manovotn,nimo22,nimo22,13/Dec/19 7:50 PM,20/Dec/19 4:15 AM,28/Dec/19 1:29 PM,20/Dec/19 4:15 AM,17.0.1.Final,,,,,,,,CDI / Weld,,,,,,,,,,,0,,,,,"I get this info when starting wildfly server:

{code:java}
01:33:09,168 INFO  [org.jboss.weld.Bootstrap] WELD-000119: Not generating any bean definitions from com.utils.WebUtils because of underlying class loading error: Type java.net.http.HttpClient from [Module ""deployment.myapp.war"" from Service Module Loader] not found. 
{code}


My WebUtils.class imports:

{code:java}
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse.BodyHandlers;
{code}


Should I include java se module by myself in wildfly to remove this log?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-12-19 04:28:59.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,7.0,,,,,,,,,,"1|z0b55o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"19/Dec/19 4:28 AM;manovotn;Hi [~nimo22]

Weld give you this error whenever it tries (and fails) to load a class with missing dependencies. E.g. when your class references a class Y and Y is not found on classpath.
I think the module is actually there, if it weren't, you wouldn't be able to start the server. Looks like it's not ""visible"" to your application for some reason.
Does adding it yourself help anyhow?

Also, if you have a reproducer, I could take a look at it.","19/Dec/19 5:23 AM;nimo22;Put the following class in a typcial war and start wildfly

{code:java}
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse.BodyHandlers;
import java.time.Duration;
import java.util.Map;

import javax.ws.rs.client.Client;
import javax.ws.rs.client.ClientBuilder;
import javax.ws.rs.client.Entity;
import javax.ws.rs.client.Invocation;
import javax.ws.rs.client.WebTarget;
import javax.ws.rs.core.MultivaluedHashMap;
import javax.ws.rs.core.MultivaluedMap;
import javax.ws.rs.core.Response;

import org.jboss.logging.Logger;

public final class WebTool {

	private WebTool(){}
	
	private static Logger log = Logger.getLogger(WebTool.class);

	public static Response doPostRequest(Client httpClient, String uri, Entity<?> entity) {
		WebTarget target = httpClient.target(uri);
		Invocation request = target.request().buildPost(entity);
		return request.invoke();
	}

}
{code}

, then 
{code:java}
WELD-000119
{code}
 is shown in the log. If not, then use any static methods of WebTool.class within a cdi scoped bean.





I dont know why weld is needed for a normal static class. The class does not make use of cdi. However, the methods of the WebTool.class is used within cdi scoped beans. ","19/Dec/19 6:30 AM;manovotn;bq. I dont know why weld is needed for a normal static class. 

Aren't you using empty {{beans.xml}}? Because in that case a CDI discovery mode {{all}} is used and Weld will try to convert all possible classes into beans meaning it will attempt to do just that for your {{WebTool}} class as well.","19/Dec/19 7:26 AM;manovotn;Hmm, I cannot reproduce the problem.
I took a [WFLY quickstart|https://github.com/wildfly/quickstart/tree/18.0.1.Final/payment-cdi-event] that uses CDI bean with discovery mode {{all}}, added your class in, added a method that somehow utilized {{HttpClient}} (else it was just an empty import), then called this method from a bean.
And I still don't see {{WELD-000119}} in the log...","19/Dec/19 5:02 PM;nimo22;>Aren't you using empty beans.xml?

yes, my beans.xml is emtpy.

>Hmm, I cannot reproduce the problem.

Actually, I use wildfly 17..and I see ""WELD-000119"" *on every log on restart.*.I cannot confirm this on wf 18..I also enabled DEBUG log to see more:

{code:java}

..
03:22:14,144 INFO  [io.smallrye.metrics] MicroProfile: Metrics activated
03:22:14,185 WARN  [org.jboss.weld.Bootstrap] WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType<?>) used for class com.sun.faces.flow.FlowDiscoveryCDIHelper is deprecated from CDI 1.1!
03:22:14,485 INFO  [org.jboss.weld.Bootstrap] WELD-000119: Not generating any bean definitions from com.utils.WebUtils because of underlying class loading error: Type java.net.http.HttpClient from [Module ""deployment.myapp.war"" from Service Module Loader] not found. If this is unexpected, enable DEBUG logging to see the full error.
03:22:15,508 DEBUG [org.jboss.as.jpa] ServerService Thread Pool -- 81:transaction scoped EntityManager [ki.war#PU_QI]: created entity manager session Local transaction (delegate=TransactionImple < ac, BasicAction: 0:ffff7f000001:50467e87:5dfadec2:11 status: ActionStatus.RUNNING >, owner=Local transaction context for provider JBoss JTA transaction provider)
..
{code}

However, all works, I dont see any errors. I dont think it`s important..
","20/Dec/19 3:15 AM;manovotn;bq. Actually, I use wildfly 17

I did try With 18 and 17 and didn't see that in either.

bq. However, all works, I dont see any errors. I dont think it`s important..

Yea, that's what I was trying to explain above. The log just tells you that your util class won't become a CDI bean but you aren't really using it as CDI bean anywhere, so you are safe.
You could also annotate that class with {{@Vetoed}} which will prevent Weld from trying to make it a bean. ","20/Dec/19 3:56 AM;nimo22;Thanks! With @Vetoed the log of WELD-000119 is not shown anymore. I think the issue can be closed as there is no bug.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove org.jboss.spec.javax.rmi:jboss-rmi-api_1.0_spec from dependency management,WFLY-12416,12824259,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,22/Aug/19 6:16 PM,11/Nov/19 8:08 PM,28/Dec/19 1:29 PM,31/Aug/19 10:18 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Server,,,,,,,,,,,0,,,,,"It appears the only use of org.jboss.spec.javax.rmi:jboss-rmi-api_1.0_spec is in Ejb3TransformersTestCase, where it can handled without a pom entry, and in the galleon-pack and feature-pack poms, where it is cruft. So it can be removed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z086ik:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add metric type flags on messaging subsytem metrics,WFLY-12252,12815842,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ehugonnet,ehugonnet,ehugonnet,28/Jun/19 5:39 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,31/Jul/19 2:59 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,JMS,,,,,,,,,,,0,,,,,The metrics in the messaging subsystem don't provide the type of metric flag.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:25.0,,,,,,,Low,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06uck:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deploy to openshift command cannot be copied from the readme because of redundant characters,WFLY-12260,12816002,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,emmartins,emmartins,emmartins,30/Jun/19 5:38 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,30/Jun/19 5:46 PM,17.0.0.Final,,,,,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Quickstarts,,,,,,,,,,,0,,,,,"The {{Deploy the JBoss EAP Source-to-Image (S2I) Quickstart to OpenShift}} section of readme for CD QS contains this command:
{code}
oc new-app --template=eap-cd-basic-s2i \(1)
 -p IMAGE_STREAM_NAMESPACE=""helloworld-project"" \(2)
 -p SOURCE_REPOSITORY_URL=""https://github.com/jboss-developer/jboss-eap-quickstarts"" \(3)
 -p SOURCE_REPOSITORY_REF=""openshift"" \(4)
 -p CONTEXT_DIR=""helloworld""(5)
{code}

It cannot be copied and pasted in a single step because of the references at the end of each line - (1)..(5). It would be nice if the command didn't contain the redundant characters. 

For example, the notes below the command could be updated in following way without the need for the references (1)...(5) in the command itself:
{code}
--template - The template to use.
-p IMAGE_STREAM_NAMESPACE - The latest images streams and templates were imported into the project's namespace, so you must specify the namespace of where to find the image stream. This is usually the OpenShift project's name.
-p SOURCE_REPOSITORY_URL - URL to the repository containing the application source code.
-p SOURCE_REPOSITORY_REF - The Git repository reference to use for the source code. This can be a Git branch or tag reference.
-p CONTEXT_DIR - The directory within the source repository to build.
{code}",,,,,,,,,,,,,JBEAP-16941,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:25.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06vb0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
In case of registering synchronization via TransactionSynchronizationRegistry for no active transaction context a NPE is thrown,WFLY-12180,12812143,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ochaloup,ochaloup,ochaloup,10/Jun/19 7:50 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,13/Jun/19 4:33 AM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,Currently when there is a try to register a {{Synchronization}} at place of no active transaction exists then {{NullPointerException}} is thrown. The {{TransactionSynchronizationRegistry.registerInterposedSynchronization(Synchronization sync)}} should throw {{IllegalStateException}} instead (as defined in API of https://javaee.github.io/javaee-spec/javadocs/javax/transaction/TransactionSynchronizationRegistry.html).,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12356,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06b84:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use LegacyKernelServicesInitializer to exclude problematic resources from UndertowTransformersTestCase,WFLY-11759,12793693,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,flavia.rainone,flavia.rainone,flavia.rainone,21/Feb/19 1:17 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,18/Jun/19 8:37 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,"Revert this workaround using the exclusion feature added by WFCORE-4346:
https://github.com/wildfly/wildfly/pull/12098",,,,,,,,,UNDERTOW-1495,,,,,,WFCORE-4346,,,,,,,,,WFLY-12201,,,,WFCORE-4341,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-02-21 13:29:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12367,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z03ftw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Feb/19 1:22 PM;flavia.rainone;The failure started happening with Undertow 2.0.18.Final upgrade (WFCORE-4341) and is caused by the new RemoteObfuscatedIPAttribute that was added by UNDERTOW-1495","21/Feb/19 1:29 PM;brian.stansberry;[~flavia.rainone] FYI -- the change in the last commit at https://github.com/bstansberry/wildfly/commits/avoid-sce-2 is what I was using to test the WFCORE-4346 change.

Edit: now it does. Before I hadn't committed the change to the branch before pushing!","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WFLY does not accept the Narayana's long version of property expiryScannerClassNames to define expiry scanners,WFLY-12255,12815896,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ochaloup,ochaloup,ochaloup,28/Jun/19 9:45 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,11/Jul/19 6:50 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Transactions,,,,,,,,,,,0,,,,,The WFLY-951enables the way to set the Narayana settings of the expiry class names via system property. The issue enforces users to use only property in form {{RecoveryEnvironmentBean.expiryScannerClassNames}}. But Narayana provides to use either this shortened version of the property for any configuration option. But it accepts the longer form for property with fully qualified bean class name (https://jbossts.blogspot.com/2018/01/narayana-periodic-recovery-of-xa.html#configuration). In this case it's {{com.arjuna.ats.arjuna.common.RecoveryEnvironmentBean.expiryScannerClassNames}}. That property (which sets the same thing as its shortened version) should be accepted by the WFLY as well.,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-951,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:17.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12382,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06unw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change AttributeDefinitions that have a default value and are set as required,WFLY-12150,12810342,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,michpetrov,michpetrov,michpetrov,31/May/19 10:55 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,23/Aug/19 9:44 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,"Per [WFCORE-2252], it doesn't make sense for an AttributeDefinition to provide a default value if it set as required.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:14.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12284,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z060oc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EE Concurrency SetupContextHandle and ResetContextHandle impls do not declare serialVersionUID,WFLY-12042,12805041,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,emmartins,brian.stansberry,brian.stansberry,30/Apr/19 11:37 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Jul/19 11:13 PM,16.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Concurrency Utilities,,,,,,,,,,,0,,,,,The org.glassfish.enterprise.concurrent.spi.ContextHandle interface extends Serializable but the various impls in WildFly are not declaring a serialVersionUID.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12428,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z056ws:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Subsystems should use the capability instead of SuspendController.SERVICE_NAME,WFLY-12367,12822110,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,09/Aug/19 10:30 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Aug/19 3:34 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,Batch,EJB,Management,mod_cluster,Transactions,Web (Undertow),,,,,,0,,,,,"The SuspendController is available using a capability, so subsystems should access it that way instead using the deprecated SERVICE_NAME constant.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12491,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z07ujo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clean out subsystem compatibility tests with EAP versions before 6.4,WFLY-12417,12824263,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,22/Aug/19 7:00 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,05/Sep/19 11:15 PM,,,,,,18.0.0.Final,,,CDI / Weld,EE,EJB,JCA,JMS,Web Services,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12521,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z086jg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Running testsuite/integration/microprofile-tck/opentracing twice without cleaning fails,WFLY-12398,12823855,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ehugonnet,brian.stansberry,brian.stansberry,20/Aug/19 6:14 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,21/Aug/19 6:58 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,MP OpenTracing,,,,,,,,,,,0,,,,,"If you try to run testsuite/integration/microprofile-tck/opentracing twice without cleaning you get:

{code}
[INFO] Running TestSuite
[ERROR] Tests run: 46, Failures: 1, Errors: 0, Skipped: 45, Time elapsed: 4.175 s <<< FAILURE! - in TestSuite
[ERROR] arquillianBeforeClass(org.eclipse.microprofile.opentracing.tck.OpentracingClientTests)  Time elapsed: 3.661 s  <<< FAILURE!
org.jboss.shrinkwrap.api.exporter.FileExistsException: Target exists and we haven't been flagged to overwrite it: /Users/bstansberry/dev/wildfly/wildfly/testsuite/integration/microprofile-tck/opentracing/target/archives/testapp.war
	at org.jboss.shrinkwrap.impl.base.exporter.AbstractStreamExporterImpl.getOutputStreamToFile(AbstractStreamExporterImpl.java:87)
	at org.jboss.shrinkwrap.impl.base.exporter.AbstractStreamExporterImpl.exportTo(AbstractStreamExporterImpl.java:144)
	at org.jboss.shrinkwrap.impl.base.exporter.AbstractStreamExporterImpl.exportTo(AbstractStreamExporterImpl.java:167)
	at io.smallrye.opentracing.arquillian.DeploymentProcessor.process(DeploymentProcessor.java:75)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.applyApplicationProcessors(DeploymentGenerator.java:223)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.buildTestableDeployments(DeploymentGenerator.java:172)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.createTestableDeployments(DeploymentGenerator.java:148)
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.generateDeployment(DeploymentGenerator.java:85)
{code}

The io.smallrye.opentracing.arquillian.DeploymentProcessor class is in this maven module so perhaps the exportTo variant with an 'overwrite' field could be used. I have no idea if it's 'legal' in terms of TCK compliance to change those files though. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12440,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08450:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Include the original cause of deployment failure when trying to find jsf-injection module,WFLY-12487,12826261,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,jaikiran,jaikiran,jaikiran,04/Sep/19 10:36 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,08/Sep/19 4:58 PM,17.0.1.Final,,,,,18.0.0.Final,,,JSF,,,,,,,,,,,0,,,,,"When processing a JSF deployment, if the user has configured a different vendor/version of JSF implementation to use, then one step involves setting up the (JBoss) modules correctly for such a custom implementation. Details of which are here[1].

If for whatever reason, the module setup isn't correctly done, then the deployment can run into a deployment exception which looks like:

{quote}
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJSF0016: Failed to inject JSF from slot mojarra-2.2.8.21

at org.jboss.as.jsf.deployment.JSFDependencyProcessor.addJSFInjection(JSFDependencyProcessor.java:156)

at org.jboss.as.jsf.deployment.JSFDependencyProcessor.deploy(JSFDependencyProcessor.java:97)

at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:176) [wildfly-server-9.0.2.Final.jar:9.0.2.Final]
{quote}
One such example is reported by an user here[2].

That exception stacktrace can be improved a bit if the original cause is included in it, to make it easier to debug such issues.

[1] https://docs.jboss.org/author/display/WFLY/JSF+Configuration#JSFConfiguration-InstallinganewJSFimplementationmanually
[2] https://developer.jboss.org/thread/280549",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,https://developer.jboss.org/thread/280549,,https://github.com/wildfly/wildfly/pull/12588,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z08i3g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"04/Sep/19 10:43 AM;jaikiran;A pull request with the proposed change has been issued https://github.com/wildfly/wildfly/pull/12588","14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Broken links in ""Description of the Management Model""",WFLY-12175,12811735,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,bobjohns,bobjohns,06/Jun/19 1:51 PM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,12/Jul/19 11:11 PM,12.0.0.Final,13.0.0.Final,14.0.0.Final,15.0.0.Final,16.0.0.Final,17.0.1.Final,18.0.0.Beta1,18.0.0.Final,Documentation,Management,,,,,,,,,,0,,,,,"In the section ""http://docs.wildfly.org/16/Admin_Guide.html#Description_of_the_Management_Model"", the links on the following text strings return 404 errors when clicked:

* Global operations
* Management Resource",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:02.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12381,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z068uk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invalid logger exclude in org.wildfly.clustering.web.hotrod module.xml,WFLY-12513,12827099,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,pferraro,brian.stansberry,brian.stansberry,07/Sep/19 3:28 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,08/Sep/19 2:02 PM,,,,,,18.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"This looks like a copy-and-paste error from a different file. The Logger in this module is not in that package.

{code}
    <exports>
        <exclude path=""org/wildfly/clustering/web/infinispan/logging""/>
    </exports>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12608,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08n4k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace deprecated Mockito Matchers class with ArgumentMatchers,WFLY-12177,12811759,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,williamcollishaw,williamcollishaw,06/Jun/19 11:26 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,13/Jun/19 4:49 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,"Matchers class got replaced with ArgumentMatchers, the following is from the [Javadoc|https://static.javadoc.io/org.mockito/mockito-core/2.18.0/org/mockito/Matchers.html]:


{code:java}
Deprecated.
Use ArgumentMatchers. This class is now deprecated in order to avoid a name clash with Hamcrest org.hamcrest.Matchers class. This class will likely be removed in version 3.0.
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:56.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12351,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z068zg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Netty 4.1.29.Final to 4.1.34.Final,WFLY-12193,12813331,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,jamezp,iweiss,iweiss,14/Jun/19 5:46 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,28/Jun/19 3:45 PM,17.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,https://github.com/netty/netty/compare/netty-4.1.29.Final...netty-4.1.34.Final,,,,,,,,,,,,,WFLY-10995,,,,,,,,,,,JBEAP-15385,JBEAP-17103,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:55.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12400,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06i6k:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use maven project.groupId for wildfly-client-all dependency in integration manual mode test suite,WFLY-12421,12824402,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,23/Aug/19 11:00 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,23/Aug/19 9:51 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,,,,,,,,,,,,0,,,,,The use of maven property ${project.groupid} instead of the hardcoded org.wildfly group id facilitates the transition to the product branches.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:53.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12522,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z087ec:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test BridgeFromJTATestCase is not run by default,WFLY-12391,12823496,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ochaloup,ochaloup,ochaloup,19/Aug/19 6:09 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,21/Aug/19 8:36 AM,17.0.1.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,The jta txbridge test `org.jboss.as.test.txbridge.fromjta.BridgeFromJTATestCase` is not enabled to be run by default when `integration/xts` tests are run.,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-11849,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:51.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12505,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0821o:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inputs to the standalone-gossip-[full-ha].xml examples use a TCPGOSSIP config that will persist differently,WFLY-12430,12824506,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,25/Aug/19 11:04 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,26/Aug/19 6:19 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Clustering,,,,,,,,,,,0,,,,,"Minor thing I want to sort to make legacy feature-pack-driven builds as consistent as possible with galleon-driven ones....

The docs/examples/configs/standalone-gossip-[full-ha].xml examples configure a TCPGOSSIP protocol but without the required outbound-socket-bindings attribute. Compatibility code in the subsystem handles this by converting the address value to 'org.jgroups.protocols.TCPGOSSIP', which in turn has a different resource registration and Galleon feature spec.  Upshot is when the resource is persisted the xml will read org.jgroups.protocols.TCPGOSSIP. To clarify this, rather than relying on magic compatibility code the inputs for generating the configs should explicitly use 'org.jgroups.protocols.TCPGOSSIP'.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12530,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0880s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Persist empty aliases list for ejb cache causes IllegalArgumentException on server reload,WFLY-12545,12827876,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,soul2zimate,soul2zimate,soul2zimate,12/Sep/19 2:29 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,17/Sep/19 9:07 PM,18.0.0.Beta1,,,,,18.0.0.Final,,,EJB,,,,,,,,,,,0,,,,,"Persist Empty aliases list for ejb cache causes IllegalArgumentException on reload


{noformat}
[standalone@localhost:9990 /] /subsystem=ejb3/cache=simple:list-add(name=aliases,value=simpleAlias)
[standalone@localhost:9990 /] reload
[standalone@localhost:9990 /] /subsystem=ejb3/cache=simple:list-clear(name=aliases)
[standalone@localhost:9990 /] reload

{noformat}


{noformat}
14:17:22,624 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 49) WFLYCTL0013: Operation (""add"") failed - address: ([
    (""subsystem"" => ""ejb3""),
    (""cache"" => ""simple"")
]): java.lang.IllegalArgumentException: Empty name segment is not allowed for factory
	at org.jboss.msc@1.4.9.Final//org.jboss.msc.service.ServiceName.of(ServiceName.java:90)
	at org.jboss.msc@1.4.9.Final//org.jboss.msc.service.ServiceName.append(ServiceName.java:117)
	at org.jboss.as.ejb3@18.0.0.Final-SNAPSHOT//org.jboss.as.ejb3.cache.CacheFactoryBuilderServiceNameProvider.<init>(CacheFactoryBuilderServiceNameProvider.java:36)
	at org.jboss.as.ejb3@18.0.0.Final-SNAPSHOT//org.jboss.as.ejb3.subsystem.CacheFactoryAdd.performRuntime(CacheFactoryAdd.java:76)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.AbstractAddStepHandler.performRuntime(AbstractAddStepHandler.java:338)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.AbstractAddStepHandler$1.execute(AbstractAddStepHandler.java:159)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:999)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:743)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:467)
	at org.jboss.as.controller@10.0.0.Beta7-SNAPSHOT//org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:384)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)
	at java.base/java.lang.Thread.run(Thread.java:834)
	at org.jboss.threads@2.3.3.Final//org.jboss.threads.JBossThread.run(JBossThread.java:485)
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:44.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12631,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08rn8:",9223372036854775807,,0.0,,,,,,,,,,,,,,Workaround Exists,undefine the attribute list.,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use a separate package for org.wildfly.dist.subsystem.xml in the dist-legacy module,WFLY-12456,12825358,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,29/Aug/19 4:58 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,30/Aug/19 7:44 PM,,,,,,18.0.0.Beta1,18.0.0.Final,,Build System,Test Suite,,,,,,,,,,0,,,,,"The same tests in package org.wildfly.dist.subsystem.xml are included in the code of both the 'dist' and 'dist-legacy' modules. It's not worth the hassle of trying to share the code. But to reduce confusion, change the package in dist-legacy so if there are test failures it is clear where.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12560,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z08cqc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing io.smallrye.health dependency on org.jboss.logging,WFLY-12427,12824465,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,jmesnil,brian.stansberry,brian.stansberry,23/Aug/19 8:44 PM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,08/Sep/19 4:57 PM,,,,,,18.0.0.Final,,,MP Health,,,,,,,,,,,0,,,,,"I happened to notice this in a server log of a CI job:

{code}
16:03:53,351 INFO  [org.jboss.weld.Bootstrap] (Weld Thread Pool -- 2) WELD-000119: Not generating any bean definitions from io.smallrye.health.SmallRyeHealthReporter because of underlying class loading error: Type org.jboss.logging.Logger from [Module ""io.smallrye.health"" version 1.0.2 from local module loader @4909b8da (finder: local module finder @3a03464 (roots: C:\buildAgent\work\37b47ae8b9c60325\full\testsuite\integration\smoke\target\wildfly\modules,C:\buildAgent\work\37b47ae8b9c60325\full\testsuite\integration\smoke\target\wildfly\modules\system\layers\base,C:\buildAgent\work\37b47ae8b9c60325\full\testsuite\integration\smoke\target\modules))] not found.  If this is unexpected, enable DEBUG logging to see the full error.
{code}

The io.smallrye:smallrye-health-2.0:1.0.2 pom shows a dependency on JBoss Logging but the module.xml for its module does not.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12572,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z087rw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"24/Aug/19 12:43 PM;brian.stansberry;As I commented on the https://github.com/wildfly/wildfly/pull/12527
 PR I tried for this (and ultimately closed):

Adding the org.jbss.logging dependency causes all sorts of failures due to:

{code}
org.jboss.arquillian.container.spi.client.container.DeploymentException: Cannot deploy jaxws-authentication-ejb.jar: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""jaxws-authentication-ejb.jar\"".WeldStartService"" => ""Failed to start service
    Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type String with qualifiers @Default
  at injection point [BackedAnnotatedField] @Inject io.smallrye.health.SmallRyeHealthReporter.uncheckedExceptionDataStyle
  at io.smallrye.health.SmallRyeHealthReporter.uncheckedExceptionDataStyle(SmallRyeHealthReporter.java:0)
""}}}}
org.jboss.arquillian.container.spi.client.container.DeploymentException: 
Cannot deploy jaxws-authentication-ejb.jar: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""jaxws-authentication-ejb.jar\"".WeldStartService"" => ""Failed to start service
    Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type String with qualifiers @Default
  at injection point [BackedAnnotatedField] @Inject io.smallrye.health.SmallRyeHealthReporter.uncheckedExceptionDataStyle
  at io.smallrye.health.SmallRyeHealthReporter.uncheckedExceptionDataStyle(SmallRyeHealthReporter.java:0)
""}}}}
{code}

It seems that resolving the INFO logged problem in the JIRA produces bigger problems, so perhaps not having the org.jboss.logging dependency was deliberate.

In any case I will downgrade this to Minor as the logging is at INFO, it's just a bit scary looking.","14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error in description of priority attribute in filter-ref attributes,WFLY-10916,12766609,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,sgilda,sgilda,sgilda,24/Aug/18 8:16 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 10:35 AM,,,,,,14.0.0.Final,,,Web (Undertow),,,,,,,,,,,0,,,,,"The documentation for the `undertow.filter-ref.priority` for the Undertow subsystem [1] suggests a filter with a higher number (e.g. 2) is executed before a filter with a lower number (e.g. 1). It appears to be the opposite.

""Defines filter order. It should be set to 1 or more. A higher number instructs the server to be included earlier in the handler chain than others under the same context.""

This description is taken directly from the WildFly reference model, which is incorrect.

See discussions in JBEAP-15189,

[1] https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html-single/configuration_guide/#location_filter_ref
[2] https://github.com/wildfly/wildfly/blob/master/undertow/src/main/resources/org/wildfly/extension/undertow/LocalDescriptions.properties#L380
",,,,,,,,,,,,,JBEAP-15189,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:27.0,,,,,,,,,,https://gitlab.cee.redhat.com/red-hat-jboss-enterprise-application-platform-documentation/eap-documentation/merge_requests/4396,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i009c7:",9223372036854775807,,0.0,,,,,,,,,,,,adamkrajcik,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NS typo in various jboss-all.xml documents,WFLY-10921,12766721,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,24/Aug/18 10:57 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,24/Aug/18 5:56 PM,,,,,,14.0.0.Final,,,Documentation,Test Suite,,,,,,,,,,0,,,,,"There are a number of files where 'umlns' is a typo for 'xmlns' in jboss-all.xml files or examples:

{code}
$ git grep umlns
docs/src/main/asciidoc/_admin-guide/subsystem-configuration/Batch_(JSR-352).adoc:<jboss umlns=""urn:jboss:1.0"">
docs/src/main/asciidoc/_admin-guide/subsystem-configuration/Batch_(JSR-352).adoc:<jboss umlns=""urn:jboss:1.0"">
docs/src/main/asciidoc/_developer-guide/Web_(Undertow)_Reference_Guide.adoc:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/batch/deployment/defined-in-memory-jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/batch/deployment/named-in-memory-jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/batch/deployment/named-jdbc-jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/deployment/dependencies/ear/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/deployment/dependencies/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/deployment/structure/war/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/weld/configuration/nonportablemode/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/weld/configuration/requirebeandescriptor/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
testsuite/integration/web/src/test/java/org/jboss/as/test/integration/web/sharedsession/jboss-all.xml:<jboss umlns=""urn:jboss:1.0"">
{code}

The parser for jboss-all.xml will handle a root 'jboss' element either with no xmlns or xmlns=""urn:jboss:1.0"".  A document with this typo will fall under the 'no xmlns' category.  The parser ignores other attributes on the element, which is why the typo doesn't cause problems.",,,,,,,,,,,,,,,,,,,,,,,,JBEAP-15309,JBEAP-15310,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11581,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00a13:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clean up servlet feature-pack config,WFLY-10927,12766797,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,aloubyansky,aloubyansky,aloubyansky,25/Aug/18 3:30 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,25/Aug/18 5:24 AM,,,,,,14.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"Now that WildFly Core feature-pack is built with WFGP 2.0.0.Final, servlet feature-pack can be cleaned up by removing bits that are now available in WildFly Core feature-pack that include:
- the expected version of the provisioning plugin and the config-gen jar;
- list of extensions from WildFly Core to generate feature specs.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:16.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00ah3:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make Galleon feature group names match their file names,WFLY-10931,12766880,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,aloubyansky,aloubyansky,aloubyansky,27/Aug/18 7:54 AM,02/Oct/19 7:07 PM,28/Dec/19 1:29 PM,30/Aug/18 5:43 PM,,,,,,14.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,This is currently not affecting the build but the next Galleon version is going to be more strict in this regard.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:07:11.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11594,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00axj:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:07 PM;brian.stansberry;Bulk closing issues resolved as done with a WF 14 Fix Version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extending MDB validation to all EJB,WFLY-11380,12780123,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,rpelisse,rpelisse,rpelisse,20/Nov/18 6:57 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,20/Nov/18 10:35 AM,,,,,,15.0.0.Final,,,EJB,,,,,,,,,,,0,,,,,WFLY-10048 introduced some code changes to ensure that MDB being deployed follows the EJB specification guidelines. This validation should be extended to cover all kind of EJBs and not only MDBs.,,,,,,,,,,,,,,,,,,,,,,,,,,,,WFLY-10048,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11614,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01e54:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fixing flaky test WritableServiceBasedNamingStoreTestCase.testPermissions,WFLY-11323,12778775,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ordtesters,ordtesters,ordtesters,09/Nov/18 7:55 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,11/Nov/18 6:37 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Naming,,,,,,,,,,,0,,,,,"testPermissions fails when run by itself even when there’s no bug in the code. 

This test can be fixed by looking up the name before testActionWithPermission is called, as shown in the following pull request. 
https://github.com/wildfly/wildfly/pull/11833
Let me know if you want to discuss more.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-09 21:20:25.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11833,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z016r4:",9223372036854775807,,0.0,,,,,"The failure can be reproduced by running the following commands.

{noformat}
git clone https://github.com/wildfly/wildfly.git
cd wildfly/naming/
mvn install -DskipTests -am
mvn test -Dtest=WritableServiceBasedNamingStoreTestCase#testPermissions
{noformat}",,,,,,,,,,,"09/Nov/18 9:20 PM;brian.stansberry;Here's the failure:

{code}
java.lang.ExceptionInInitializerError
	at org.jboss.as.naming.NamingContext.check(NamingContext.java:585)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:197)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)
	at org.jboss.as.naming.SecurityHelper.performAction(SecurityHelper.java:168)
	at org.jboss.as.naming.SecurityHelper.access$000(SecurityHelper.java:51)
	at org.jboss.as.naming.SecurityHelper$1.call(SecurityHelper.java:117)
	at org.jboss.as.naming.SecurityHelper$4.run(SecurityHelper.java:213)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.jboss.as.naming.SecurityHelper.runWithSecurityManager(SecurityHelper.java:210)
	at org.jboss.as.naming.SecurityHelper.testActionWithPermission(SecurityHelper.java:114)
	at org.jboss.as.naming.WritableServiceBasedNamingStoreTestCase.testPermissions(WritableServiceBasedNamingStoreTestCase.java:263)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: java.security.AccessControlException: access denied (""java.lang.RuntimePermission"" ""accessDeclaredMembers"")
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:457)
	at java.security.AccessController.checkPermission(AccessController.java:884)
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)
	at java.lang.Class.checkMemberAccess(Class.java:2348)
	at java.lang.Class.getDeclaredField(Class.java:2067)
	at org.wildfly.security.manager.WildFlySecurityManager.<clinit>(WildFlySecurityManager.java:113)
	... 35 more
{code}

I believe the problem is WildFlySecurityManager.<clinit> is doing stuff that fails if it runs when the restricted permission scheme the test sets up is in effect.  The proposed fix works around this by doing a lookup call before that restricted scheme is put in place, which has the effect of causing the WildFlySecurityManager.<clinit> to run.","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate direct use of SecurityRealmService,WFLY-11001,12769001,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,10/Sep/18 9:54 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,10/Sep/18 1:56 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,"There are a couple places in Undertow that are using core's SecurityRealmService class instead of its Service type, SecurityRealm.  Clean that up to help make it clear what code from core's domain-management code is API relied upon by subsystems.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11656,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|w004k8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused module dependencies on org.jboss.as.threads,WFLY-11157,12773828,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,10/Oct/18 3:51 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,19/Oct/18 2:00 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Clustering,JDR,JPA / Hibernate,Web (Undertow),,,,,,,,0,,,,,"A number of modules depend on org.jboss.as.threads but don't use it.

{code}
$ git grep org.jboss.as.threads | grep module.xml
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/clustering/infinispan/main/module.xml:        <module name=""org.jboss.as.threads""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/connector/main/module.xml:        <module name=""org.jboss.as.threads""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/ejb3/main/module.xml:        <module name=""org.jboss.as.threads""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/jdr/main/module.xml:        <module name=""org.jboss.as.threads""/>
feature-pack/src/main/resources/modules/system/layers/base/org/jboss/as/jpa/main/module.xml:        <module name=""org.jboss.as.threads""/>
feature-pack/src/main/resources/modules/system/layers/base/org/wildfly/extension/batch/jberet/main/module.xml:        <module name=""org.jboss.as.threads""/>
servlet-feature-pack/src/main/resources/modules/system/layers/base/org/wildfly/extension/undertow/main/module.xml:        <module name=""org.jboss.as.threads""/>
{code}

The connector, ejb3 and batch-jberet modules actually use org.jboss.as.threads; the others do not.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11734,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00f7c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Avoid hard-coding of the groupId in wildfly-client-all artifact,WFLY-11429,12781250,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,28/Nov/18 3:09 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,28/Nov/18 6:35 AM,,,,,,15.0.0.Final,,,,,,,,,,,,,,0,,,,,"Currently, we have {{org.wildfly}} hardcoded in {{wildfly-client-all}} artifact, however the use of {{${project.groupId}}} facilitates the switching to different product branches. 

See relate issue to get more information. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:22.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11893,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01ktc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The org.jboss.as.jpa module includes some unnecessary dependencies,WFLY-11279,12777493,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,03/Nov/18 10:07 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,08/Nov/18 7:51 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"Prune some dependencies that analysis shows are not used by the dependent org.jboss.as.jpa:

org.jboss.jts 
org.jboss.jts.integration
org.jboss.as.clustering.common
org.jboss.as.connector
org.jboss.as.web-common
org.wildfly.clustering.service",,,,,,,,,,,,,,,,,,,,,,,,WFLY-11315,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11807,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00zc8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Credential Store documentation is out of date,WFLY-10989,12768753,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ehugonnet,ehugonnet,ehugonnet,07/Sep/18 8:50 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,10/Sep/18 1:59 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,Documentation,Security,,,,,,,,,,0,,,,,The documentation on how to use and create credential store in elytron is out of date.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11651,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|w00348:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ResourceAdaptersSubsystemAdd puts a cruft 'resource-adapter' field in the resource's DMR model,WFLY-11258,12776996,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,30/Oct/18 12:37 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,31/Oct/18 5:11 AM,,,,,,15.0.0.Beta1,15.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"Last line in populateModel below is cruft.  The Resource has 'resource-adapter' children; it can't (and doesn't) also have a 'resource-adapter' field.
 
{code}
class ResourceAdaptersSubsystemAdd extends AbstractAddStepHandler {

    static final ResourceAdaptersSubsystemAdd INSTANCE = new ResourceAdaptersSubsystemAdd();

    protected void populateModel(ModelNode operation, ModelNode model) {
        model.setEmptyObject();
        model.get(RESOURCEADAPTER_NAME);
    }
{code}

This looks like cruft that survived from very early days before Resource was introduced and the entire model was on big DMR tree.

This is just a minor thing I noticed when analyzing undescribed or runtime-only attributes that end up in the DMR models in the management resource tree as part of my work on WFCORE-4183 and WFCORE-4185.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11788,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00wg0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Document the ""Arbitrary Descriptors"" we use in our attribute definitions",WFLY-11321,12778770,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ehugonnet,brian.stansberry,brian.stansberry,09/Nov/18 5:43 PM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,20/Nov/18 6:14 AM,,,,,,15.0.0.Final,,,Documentation,Management,,,,,,,,,,0,,,,,"Over the years we've added some commonly used ""arbitrary descriptors"" for management attributes and params.  Cover these in the docs at [1].  Finding uses of SimpleAttributeDefinitionBuilder.addArbitraryDescriptor is a good way to identify these. Perhaps not all uses of that should be documented, but the ones that represent a standard way we want to handle certain things should be.

[1] https://github.com/wildfly/wildfly/blame/master/docs/src/main/asciidoc/_admin-guide/management-api/Description_of_the_Management_Model.adoc#L305",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11848,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z016q0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"09/Nov/18 5:45 PM;brian.stansberry;[~ehugonnet] I assigned this to you because IIRC you were involved with the key ones we use a lot, like ""attached-streams"" and ""filesystem-path"".","02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused dependencies in org.jboss.as.ee,WFLY-11405,12780654,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,22/Nov/18 9:51 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,23/Nov/18 10:37 AM,,,,,,15.0.0.Final,,,,,,,,,,,,,,0,,,,,"Analisys shows the following dependencies can be removed from org.jboss.as.ee module:

{code:java}
<module name=""javax.transaction.api""/>
<module name=""javax.xml.ws.api"" optional=""true""/>
{code}

* There are no direct dependencies to any class managed by those modules from wildfly-ee resource.
* Those modules are not exporting services that can be loaded by any other class.
* Although there are some {{getClassLoader().loadClass}} calls in some classes in wildfly-ee.jar, those {{loadClass}} calls are done using the Deployment Unit module class loader, where the removed modules are added by other deployment processors in previous phases. 

One motivation to create this issue is that, in general, be able to remove any unused dependency marked as optional=""true"" is good for Galleon, because we will be sure that the provision is correct without including those optional dependencies.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11878,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01hbs:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JPA dependency on org.jboss.as.weld.common should be optional,WFLY-11201,12775031,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,17/Oct/18 9:14 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,17/Oct/18 8:01 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"The org.jboss.as.jpa module depends on org.jboss.as.weld.common in order to load the WeldPortableExtensions class. But this can be optional, as the classloading will only occur if WeldDeploymentMarker.isPartOfWeldDeployment would return 'true' and that will not happen if the weld subsystem is not installed.

This will allow Galleon to not provision that module if it isn't provisioning the weld subsystem.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11758,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00lo0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Simplify TransactionManager integration in JMSBridgeService,WFLY-11175,12774292,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,13/Oct/18 10:17 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,19/Oct/18 1:59 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,,,,,,,,,,,0,,,,,"JMSBridgeService has an odd static method called from start() where it does an MSC ServiceRegistry lookup to find the TransactionManager service.  That would be unreliable if the service had no MSC dependency on the TM service. But JMSBridgeAdd creates such a dependency when it installs the bridge service.

This whole thing should be converted into a normal service injection.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11740,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00hj4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use DynamicNameMappers global name mappers instead of lambdas,WFLY-11067,12771359,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ehugonnet,ehugonnet,ehugonnet,25/Sep/18 8:41 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,27/Sep/18 6:10 PM,14.0.0.Final,,,,,15.0.0.Beta1,15.0.0.Final,,JMS,Mail,Web (Undertow),,,,,,,,,0,,,,,With the new DynamicNameMappers class in core we can remove some lambdas from full,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:01.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11686,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z000wg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect schema version in undertow load balancer template,WFLY-11283,12777612,12777657,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,05/Nov/18 6:01 AM,02/Oct/19 7:05 PM,28/Dec/19 1:29 PM,05/Nov/18 1:14 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,Legacy builds are still using old fashion templates and undertow-load-balancer.xml is using an obsolete undertow schema version.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:05:01.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11810,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00zzc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:05 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CoarseWebFailoverTestCase.test fails intermittently when validating routing,WFLY-11241,12776173,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,rhusar,rhusar,rhusar,24/Oct/18 2:47 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,26/Nov/18 10:13 AM,15.0.0.Beta1,,,,,15.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"{noformat}
java.lang.AssertionError: expected null, but was:<R40kShrSMeGxwf6nVClIZKuZsHoviRm3cv0TLA6f=node-2>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotNull(Assert.java:755)
	at org.junit.Assert.assertNull(Assert.java:737)
	at org.junit.Assert.assertNull(Assert.java:747)
	at org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.testFailover(AbstractWebFailoverTestCase.java:163)
	at org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.testGracefulSimpleFailover(AbstractWebFailoverTestCase.java:92)
	at org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.test(AbstractWebFailoverTestCase.java:88)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:379)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)
	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:372)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:246)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:260)
	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:324)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)
	at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:72)
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createBeforeContext(ContainerEventController.java:124)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)
	at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)
	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:317)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:205)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)

{noformat}

~~Started to fail intermittently again after 19 Oct, which seems to correlate with Infinispan 9.4.0.Final upgrade on 17 Oct.~~

{code}
07:17:11,909 INFO  [io.undertow.servlet] (default task-1) /CoarseWebFailoverTestCase/simple, value = 3
07:17:12,491 INFO  [org.infinispan.CLUSTER] (remote-thread--p6-t2) [Context=CoarseWebFailoverTestCase.war] ISPN100009: Advancing to rebalance phase READ_NEW_WRITE_ALL, topology id 33
07:17:12,503 ERROR [org.infinispan.interceptors.impl.InvocationContextInterceptor] (remote-thread--p6-t3) ISPN000136: Error executing command LockControlCommand, writing keys []: org.infinispan.util.concurrent.TimeoutException: Could not acquire lock on SessionCreationMetaDataKey(nUIcjLVQdeTRWxsBIwHRSRarTu75v5FgXeZQ4Lnt) in behalf of transaction GlobalTx:node-3:24. Current owner GlobalTx:node-2:30.
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.timeout(DefaultPendingLockManager.java:252)
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.awaitOn(DefaultPendingLockManager.java:337)
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.awaitPendingTransactionsForAllKeys(DefaultPendingLockManager.java:137)
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.checkPendingAndLockAllKeys(AbstractTxLockingInterceptor.java:153)
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockAllOrRegisterBackupLock(AbstractTxLockingInterceptor.java:122)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.localLockCommandWork(PessimisticLockingInterceptor.java:208)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.lambda$new$0(PessimisticLockingInterceptor.java:46)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:81)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitLockControlCommand(PessimisticLockingInterceptor.java:191)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:183)
	at org.infinispan.interceptors.impl.TxInterceptor.visitLockControlCommand(TxInterceptor.java:223)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.BaseAsyncInterceptor.lambda$new$0(BaseAsyncInterceptor.java:22)
	at org.infinispan.interceptors.InvocationSuccessFunction.apply(InvocationSuccessFunction.java:25)
	at org.infinispan.interceptors.impl.SimpleAsyncInvocationStage.addCallback(SimpleAsyncInvocationStage.java:70)
	at org.infinispan.interceptors.InvocationStage.thenApply(InvocationStage.java:45)
	at org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:224)
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitCommand(TransactionSynchronizerInterceptor.java:46)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:185)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:90)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitLockControlCommand(DDAsyncInterceptor.java:160)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invokeAsync(AsyncInterceptorChainImpl.java:234)
	at org.infinispan.commands.control.LockControlCommand.invokeAsync(LockControlCommand.java:126)
	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokeCommand(BasePerCacheInboundInvocationHandler.java:95)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.invoke(BaseBlockingRunnable.java:99)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.runAsync(BaseBlockingRunnable.java:71)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:40)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
	at java.lang.Thread.run(Thread.java:748)

07:17:12,511 WARN  [org.infinispan.remoting.inboundhandler.NonTotalOrderTxPerCacheInboundInvocationHandler] (remote-thread--p6-t3) ISPN000071: Caught exception when handling command LockControlCommand{cache=CoarseWebFailoverTestCase.war, keys=[SessionCreationMetaDataKey(nUIcjLVQdeTRWxsBIwHRSRarTu75v5FgXeZQ4Lnt)], flags=[ZERO_LOCK_ACQUISITION_TIMEOUT, FORCE_WRITE_LOCK], unlock=false, gtx=GlobalTx:node-3:24}: org.infinispan.util.concurrent.TimeoutException: Could not acquire lock on SessionCreationMetaDataKey(nUIcjLVQdeTRWxsBIwHRSRarTu75v5FgXeZQ4Lnt) in behalf of transaction GlobalTx:node-3:24. Current owner GlobalTx:node-2:30.
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.timeout(DefaultPendingLockManager.java:252)
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.awaitOn(DefaultPendingLockManager.java:337)
	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.awaitPendingTransactionsForAllKeys(DefaultPendingLockManager.java:137)
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.checkPendingAndLockAllKeys(AbstractTxLockingInterceptor.java:153)
	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockAllOrRegisterBackupLock(AbstractTxLockingInterceptor.java:122)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.localLockCommandWork(PessimisticLockingInterceptor.java:208)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.lambda$new$0(PessimisticLockingInterceptor.java:46)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:81)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitLockControlCommand(PessimisticLockingInterceptor.java:191)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:183)
	at org.infinispan.interceptors.impl.TxInterceptor.visitLockControlCommand(TxInterceptor.java:223)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:54)
	at org.infinispan.interceptors.BaseAsyncInterceptor.lambda$new$0(BaseAsyncInterceptor.java:22)
	at org.infinispan.interceptors.InvocationSuccessFunction.apply(InvocationSuccessFunction.java:25)
	at org.infinispan.interceptors.impl.SimpleAsyncInvocationStage.addCallback(SimpleAsyncInvocationStage.java:70)
	at org.infinispan.interceptors.InvocationStage.thenApply(InvocationStage.java:45)
	at org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:224)
	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitCommand(TransactionSynchronizerInterceptor.java:46)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndHandle(BaseAsyncInterceptor.java:185)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:90)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:123)
	at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)
	at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56)
	at org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:54)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitLockControlCommand(DDAsyncInterceptor.java:160)
	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:117)
	at org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50)
	at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invokeAsync(AsyncInterceptorChainImpl.java:234)
	at org.infinispan.commands.control.LockControlCommand.invokeAsync(LockControlCommand.java:126)
	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokeCommand(BasePerCacheInboundInvocationHandler.java:95)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.invoke(BaseBlockingRunnable.java:99)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.runAsync(BaseBlockingRunnable.java:71)
	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:40)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.wildfly.clustering.service.concurrent.ClassLoaderThreadFactory.lambda$newThread$0(ClassLoaderThreadFactory.java:47)
	at java.lang.Thread.run(Thread.java:748)

07:17:13,090 INFO  [org.infinispan.CLUSTER] (remote-thread--p6-t3) [Context=CoarseWebFailoverTestCase.war] ISPN100010: Finished rebalance with members [node-3, node-2], topology id 34
07:17:14,298 INFO  [io.undertow.servlet] (default task-2) /CoarseWebFailoverTestCase/simple, value = 4
{code}

https://gist.github.com/rhusar/496f1c7c5a308db1901a81a4437b570e

https://ci.wildfly.org/viewLog.html?buildId=125879&tab=buildResultsDiv&buildTypeId=WF_PullRequest_Windows#testNameId6517845608855553882",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-11-23 01:07:14.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11875,,,,,,,,,,,,,,,,0.0,7.0,,,,,,,,,,"1|z00s9c:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/Nov/18 7:35 AM;rhusar;Looks like while the rehash is still in progress, the session might be pinned from original owner (node1), to the accessed node (node2) and then in subsequent request to the owner after rehash (node3). Thus the checks need to be more permissive.","23/Nov/18 1:07 AM;rsvoboda;Why was the priority lowered ?","23/Nov/18 3:15 AM;rhusar;[~rsvoboda] its a test issue, not an actual issue.","23/Nov/18 3:31 AM;rsvoboda;I think test issues can stay on Major level, no need to lower them.
Especially with clustering complexity I think Minor / Trivial levels should be banned for this component :)","23/Nov/18 3:34 AM;rhusar;[~rsvoboda] There is no reason for minor things to be major. This idea where all issues are left at default major level breaks prioritization.","23/Nov/18 6:11 AM;rsvoboda;To me it's not minor issues as it was intermittent and was causing troubles on CI with PR processing.
Just different view on the same thing, lets keep the Minor then.","02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bugs in Documentation for Elytron,WFLY-11297,12778330,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,dvilkola,dvilkola,dvilkola,07/Nov/18 11:52 AM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,09/Nov/18 7:30 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,Documentation,Security,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:58.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0142w:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IllegalArgumentException when get jdbc driver info if xa-datasource-class is not defined,WFLY-10949,12767365,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,gaol,gaol,gaol,29/Aug/18 10:05 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,08/Nov/18 7:49 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"Download oracle jdbc driver at http://www.oracle.com/technetwork/database/features/jdbc/jdbc-ucp-122-3110062.html

Install the driver as a module and add the JDBC driver:
{code:bash}
module add --name=com.oracle.jdbc --resources=/opt/Downloads/ojdbc8.jar --dependencies=[javax.api, javax.transaction.api]

/subsystem=datasources/jdbc-driver=oracle:add(driver-name=oracle, driver-module-name=com.oracle.jdbc, driver-datasource-class-name=oracle.jdbc.pool.OracleDataSource,  driver-class-name=oracle.jdbc.OracleDriver)
{code}

Then the following command will fail:

{code:}
/subsystem=datasources:get-installed-driver(driver-name=oracle)
{code}

The fail message is like:

{code:java}
{
    ""outcome"" => ""failed"",
    ""failure-description"" => ""WFLYCTL0158: Operation handler failed: java.lang.IllegalArgumentException: newValue is null"",
    ""rolled-back"" => true
}

{code}",28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:04:57.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11618,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|i00dqn:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make org.jboss.as.security module an optional dependency of org.jboss.as.weld,WFLY-11125,12773186,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,05/Oct/18 3:10 PM,02/Oct/19 7:04 PM,28/Dec/19 1:29 PM,08/Nov/18 7:50 PM,,,,,,15.0.0.Beta1,15.0.0.Final,,CDI / Weld,Security,,,,,,,,,,0,,,,,"The more optional deps the Weld subsystem module has, the better as it helps allow slimmer runtimes.

1) org.jboss.as.security -- classes from this module (SimpleSecurityManager[Service] should only be loaded if the org.wildfly.legacy-security capability is present, so this dep can be optional.

-2) org.picketbox -- AFAICT these are only used via org.jboss.weld.security.spi.SecurityServices impl methods that are never called.  And it seems like they wouldn't be expected to work without the org.wildfly.legacy-security capability being present anyway. So I believe this dep can be optional.-

(Edited to comment out the second point since a) the SecurityServices methods are indeed called and b) it's not obvious they'd never be expected to be called without the security subsystem. Probably wouldn't work right but it's too complex a task to validate that.)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11717,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00bio:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:04 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 15.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validation not working for pooled-connection-factory's transaction attribute. ,WFLY-11617,12788203,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,soul2zimate,varshak,varshak,20/Jan/19 11:54 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,15/Feb/19 5:05 PM,15.0.1.Final,,,,,16.0.0.Final,,,JMS,Transactions,,,,,,,,,,0,downstream_dependency,,,,"Validation not working for pooled-connection-factory's ""transaction"" attribute.  According to xsd, it should accept only xa, local and none. However it is accepting anything.   

[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/pooled-connection-factory=activemq-ra:write-attribute(name=transaction,value=jjj)
{
    ""outcome"" => ""success"",
    ""response-headers"" => {
        ""operation-requires-reload"" => true,
        ""process-state"" => ""reload-required""
    }
}
[standalone@localhost:9990 /] :relaod",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,?,?,,?,?,?,,2019-01-23 01:09:42.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12020,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02m74:",9223372036854775807,,0.0,,,,,,,,7.backlog.GA,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typo and ambiguity in 'integrated-jaspi' attribute of 'application-security-domain' element,WFLY-11593,12787433,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,jstourac,jstourac,jstourac,15/Jan/19 4:17 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Jan/19 6:04 AM,15.0.0.Final,15.0.1.Final,,,,16.0.0.Beta1,16.0.0.Final,,Security,Web (Undertow),,,,,,,,,,0,,,,,"There is a typo and a little bit of ambiguity in the current description of the '{{/subsystem=undertow/application-security-domain=foo\[integrated-jaspi\]}}' attribute:
{quote}
Should integrated JASPI be used or allow AsHoc identity creation.
{quote}
proposed change:
{quote}
Whether integrated JASPI should be used. If this is disabled, ad hoc identity will be created instead.
{quote}
And [here is full attribute description|https://github.com/wildfly/wildfly/blob/7172799ce7bda7f82b94475c5e4e4cf0beb91aed/undertow/src/main/resources/schema/wildfly-undertow_8_0.xsd#L744] in related XSD file.",,,,,,,,,,,,,,,,,,,,,,,,EAP7-649,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:31.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12002,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02hzc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Do not use hardcoded groupid for wildfly-client-properties in web services tests integration subsystem,WFLY-11647,12789189,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,25/Jan/19 3:55 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,07/Feb/19 8:28 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"The use of maven property ${project.groupId} makes easier the transition between community and product branches.

In web services tests integration subsystem, there is a hard coded dependency org.wildfly:wildfly-client-properties which should be ${project.groupId}:wildfly-client-properties",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:30.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12033,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02rio:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing configurations in the legacy builds,WFLY-11602,12787859,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,17/Jan/19 6:59 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,18/Jan/19 9:53 PM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"Specifically, these configurations are missing in the legacy builds:

- org.wildfly.extension.microprofile.metrics-smallrye exclusion
- wildfly.undertow.statistics-enabled property to configure the statistics in undertow subsystem in some configurations
- wildfly.messaging-activemq.statistics-enabled property to configure statistics in messaging-activemq subsystem for messaging-activemq-colocated example file",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:27.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12011,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02kiw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Set the iiop bound port of the socket binding,WFLY-11434,12781351,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,claudio4j,claudio4j,claudio4j,28/Nov/18 8:51 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,03/Dec/18 5:38 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,IIOP,,,,,,,,,,,0,downstream_dependency,,,,"iiop and iiop-ssl socket binding doesn't show the runtime attributes *bound, bound-address, bound-port* as set, making it difficult to map the open ports to the socket bindings when the server is launched with a port offset.

{code}
""address"" => [
    (""host"" => ""master""),
    (""server"" => ""server-three""),
    (""socket-binding-group"" => ""full-ha-sockets""),
    (""socket-binding"" => ""iiop"")
],
""outcome"" => ""success"",
""result"" => {
    ""bound"" => false,
    ""bound-address"" => undefined,
    ""bound-port"" => undefined,
    ""client-mappings"" => undefined,
    ""fixed-port"" => false,
    ""interface"" => ""unsecure"",
    ""multicast-address"" => undefined,
    ""multicast-port"" => undefined,
    ""name"" => ""iiop"",
    ""port"" => 3528
}
},
{
""address"" => [
    (""host"" => ""master""),
    (""server"" => ""server-three""),
    (""socket-binding-group"" => ""full-ha-sockets""),
    (""socket-binding"" => ""iiop-ssl"")
],
""outcome"" => ""success"",
""result"" => {
    ""bound"" => false,
    ""bound-address"" => undefined,
    ""bound-port"" => undefined,
    ""client-mappings"" => undefined,
    ""fixed-port"" => false,
    ""interface"" => ""unsecure"",
    ""multicast-address"" => undefined,
    ""multicast-port"" => undefined,
    ""name"" => ""iiop-ssl"",
    ""port"" => 3529
}
},

{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:24.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11896,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z01lco:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"28/Nov/18 8:52 AM;claudio4j;[~tomekadamski] I already have the fix and will submit the PR soon.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ExampleDS is requirement for applications that don't mandate it.,WFLY-11627,12788544,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,baranowb,baranowb,baranowb,22/Jan/19 5:27 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,26/Feb/19 8:43 PM,,,,,,16.0.0.Final,,,Documentation,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/19 2:24 AM;baranowb;empty.war;https://issues.redhat.com/secure/attachment/12445923/empty.war",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-22 09:34:54.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12117,,,,,,,,,,,,,,,,1.0,6.0,,,,,,,,,,"1|z02nsg:",9223372036854775807,,0.0,,,,,"* /subsystem=datasources/data-source=ExampleDS:write-attribute(name=enabled,value=false)
* :reload
* deploy ~/redhat/git/quickstart/logging/target/jboss-logging.war

OUtcome:

{""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-2"" => {""WFLYCTL0412: Required services that are not installed:"" => [""jboss.naming.context.java.jboss.datasources.ExampleDS""],""WFLY
CTL0180: Services with missing/unavailable dependencies"" => [""jboss.naming.context.java.module.jboss-logging.jboss-logging.DefaultDataSource is missing [jboss.naming.context.java.jboss.datasources.ExampleDS]""]}}}

This will happen even with empty.war - which contain only index.html",,,,,,,,,,,"22/Jan/19 5:34 AM;baranowb;jboss-logging quickstart is simple JSP:
{noformat}
<body>
<%
LoggingExample.logDebug();
LoggingExample.logError();
LoggingExample.logFatal();
LoggingExample.logInfo();
LoggingExample.logTrace();
LoggingExample.logWarn();
%>
Log Messages have been written.  Please check your console as well as <i>EAP_HOME</i>/standalone/log for messages.
</body>
{noformat}

{code:title=LoggingExample.java|borderStyle=solid}
public class LoggingExample {

    // a JBoss Logging 3 style level (FATAL, ERROR, WARN, INFO, DEBUG, TRACE), or a special level (OFF, ALL).
    private static Logger log = Logger.getLogger(LoggingExample.class.getName());

    static {
        logFatal();
        logError();
        logWarn();
        logInfo();
        logDebug();
        logTrace();
    }

    public static void logFatal() {
        if (log.isEnabled(Logger.Level.FATAL)) {
            log.fatal(""THIS IS A FATAL MESSAGE"");
        }
    }

    public static void logError() {
        if (log.isEnabled(Logger.Level.ERROR)) {
            log.error(""THIS IS AN ERROR MESSAGE"");
        }
    }

    public static void logWarn() {
        if (log.isEnabled(Logger.Level.WARN)) {
            log.warn(""THIS IS A WARNING MESSAGE"");
        }
    }

    public static void logInfo() {
        if (log.isEnabled(Logger.Level.INFO)) {
            log.info(""THIS IS AN INFO MESSAGE"");
        }
    }

    public static void logDebug() {
        if (log.isEnabled(Logger.Level.DEBUG)) {
            log.debug(""THIS IS A DEBUG MESSAGE"");
        }
    }

    public static void logTrace() {
        if (log.isEnabled(Logger.Level.TRACE)) {
            log.trace(""THIS IS A TRACE MESSAGE"");
        }
    }
}
{code}","22/Jan/19 5:45 AM;baranowb;[~dmlloyd], [~brian.stansberry]  - any input on this?","22/Jan/19 9:34 AM;dmlloyd;No.  There's no question, and the body of the issue doesn't say what the actual problem is.  And, I doubt I'm a subject matter expert in any event, as this seems to involve data sources and JSP primarily?  So, no, I have no input.","23/Jan/19 2:24 AM;baranowb;Ach darn it, last comment did not make it. If DS is disabled, application that does not declare explicit dependency fails to deploy(in this case it is jsp, but you can reproduce it with empty war with just index.html):

{""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-2"" => {""WFLYCTL0412: Required services that are not installed:"" => [""jboss.naming.context.java.jboss.datasources.ExampleDS""],""WFLY
CTL0180: Services with missing/unavailable dependencies"" => [""jboss.naming.context.java.module.empty.empty.DefaultDataSource is missing [jboss.naming.context.java.jboss.datasources.ExampleDS]""]}}}
","12/Feb/19 4:53 PM;brian.stansberry;This is not a bug.

For this to work you must remove the configuration that defines the EE spec required default datasource.

/subsystem=ee/service=default-bindings:undefine-attribute(name=datasource)

Add that to your steps and it works fine.

Having to add that step is not a workaround to a bug; it's the way this is meant to work.

Adding something on this to https://github.com/wildfly/wildfly/blob/master/docs/src/main/asciidoc/_admin-guide/subsystem-configuration/DataSource.adoc and https://github.com/wildfly/wildfly/blob/master/docs/src/main/asciidoc/_admin-guide/subsystem-configuration/EE.adoc (or the appropriate child) would be a good thing though.

The other attributes of the /subsystem=ee/service=default-bindings resource should be similar.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Duplicate WildFly14.0 host exclude entry in domain-host-excludes.xml configuration,WFLY-11701,12791717,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,12/Feb/19 6:38 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,22/Feb/19 10:20 AM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"There are two entries for host exclusion definitions with different values for WildFly14.0. One is excluding org.wildfly.extension.microprofile.metrics-smallrye and the other is excluding none.

org.wildfly.extension.microprofile.metrics-smallrye was added in Wildfly15, so it must be excluded for WildFly14.0. The remaining host-exclusion definition should be removed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:18.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z035sk:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update Netty 4.1.25 to 4.1.29,WFLY-10995,12768830,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,jamezp,EMeuwese,EMeuwese,07/Sep/18 3:21 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,09/Jan/19 3:05 PM,14.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,,,,,,,,,,,,0,,,,,"There is a long list of closed issues in the past 4 months https://github.com/netty/netty/milestones?state=closed 

Updating 4.1.25 to 4.1.29 requires <module name=""org.apache.log4j""/> to be added to <dependencies> in modules.xml otherwise you will get failed to define class

{{
{code:java}
2018-09-07 20:51:29,111 WARN  [org.jboss.modules.define] (ServerService Thread Pool -- 81) Failed to define class io.netty.util.internal.logging.Log4J2Logger in Module ""io.netty"" version 4.1.29.Final from local module loader @4a194c39 (finder: local module finder @52066604 (roots: C:\jee-as\wildfly-14.0.0.Final\modules,C:\jee-as\wildfly-14.0.0.Final\modules\system\layers\db,C:\jee-as\wildfly-14.0.0.Final\modules\system\layers\money,C:\jee-as\wildfly-14.0.0.Final\modules\system\layers\base)): java.lang.NoClassDefFoundError: Failed to link io/netty/util/internal/logging/Log4J2Logger (Module ""io.netty"" version 4.1.29.Final from local module loader @4a194c39 (finder: local module finder @52066604 (roots: C:\jee-as\wildfly-14.0.0.Final\modules,C:\jee-as\wildfly-14.0.0.Final\modules\system\layers\db,C:\jee-as\wildfly-14.0.0.Final\modules\system\layers\money,C:\jee-as\wildfly-14.0.0.Final\modules\system\layers\base))): org/apache/logging/log4j/spi/ExtendedLoggerWrapper
	at java.base/java.lang.ClassLoader.defineClass1(Native Method)
	at java.base/java.lang.ClassLoader.defineClass(Unknown Source)
	at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:423)
	at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:519)
	at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)
	at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)
	at org.jboss.modules.Module.loadModuleClass(Module.java:731)
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)
	at io.netty@4.1.29.Final//io.netty.util.internal.logging.Log4J2LoggerFactory.newInstance(Log4J2LoggerFactory.java:33)
	at io.netty@4.1.29.Final//io.netty.util.internal.logging.InternalLoggerFactory.newDefaultFactory(InternalLoggerFactory.java:51)
	at io.netty@4.1.29.Final//io.netty.util.internal.logging.InternalLoggerFactory.getDefaultFactory(InternalLoggerFactory.java:67)
	at io.netty@4.1.29.Final//io.netty.util.internal.logging.InternalLoggerFactory.getInstance(InternalLoggerFactory.java:93)
	at io.netty@4.1.29.Final//io.netty.util.internal.logging.InternalLoggerFactory.getInstance(InternalLoggerFactory.java:86)
	at io.netty@4.1.29.Final//io.netty.util.ResourceLeakDetector.<clinit>(ResourceLeakDetector.java:94)
	at io.netty@4.1.29.Final//io.netty.buffer.AbstractByteBufAllocator.<clinit>(AbstractByteBufAllocator.java:34)
	at io.netty@4.1.29.Final//io.netty.buffer.Unpooled.<clinit>(Unpooled.java:74)
	at org.apache.activemq.artemis.journal@2.6.3.jbossorg-001//org.apache.activemq.artemis.core.io.buffer.TimedBuffer.<init>(TimedBuffer.java:126)
	at org.apache.activemq.artemis.journal@2.6.3.jbossorg-001//org.apache.activemq.artemis.core.io.AbstractSequentialFileFactory.<init>(AbstractSequentialFileFactory.java:92)
	at org.apache.activemq.artemis.journal@2.6.3.jbossorg-001//org.apache.activemq.artemis.core.io.nio.NIOSequentialFileFactory.<init>(NIOSequentialFileFactory.java:77)
	at org.apache.activemq.artemis@2.6.3.jbossorg-001//org.apache.activemq.artemis.core.persistence.impl.journal.JournalStorageManager.init(JournalStorageManager.java:143)
	at org.apache.activemq.artemis@2.6.3.jbossorg-001//org.apache.activemq.artemis.core.persistence.impl.journal.AbstractJournalStorageManager.<init>(AbstractJournalStorageManager.java:229)
	at org.apache.activemq.artemis@2.6.3.jbossorg-001//org.apache.activemq.artemis.core.persistence.impl.journal.JournalStorageManager.<init>(JournalStorageManager.java:106)
	at org.apache.activemq.artemis@2.6.3.jbossorg-001//org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.createStorageManager(ActiveMQServerImpl.java:2160)
	at org.apache.activemq.artemis@2.6.3.jbossorg-001//org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.initialisePart1(ActiveMQServerImpl.java:2296)
	at org.apache.activemq.artemis@2.6.3.jbossorg-001//org.apache.activemq.artemis.core.server.impl.LiveOnlyActivation.run(LiveOnlyActivation.java:64)
	at org.apache.activemq.artemis@2.6.3.jbossorg-001//org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.internalStart(ActiveMQServerImpl.java:535)
	at org.apache.activemq.artemis@2.6.3.jbossorg-001//org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.start(ActiveMQServerImpl.java:474)
	at org.apache.activemq.artemis@2.6.3.jbossorg-001//org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.start(JMSServerManagerImpl.java:376)
	at org.wildfly.extension.messaging-activemq//org.wildfly.extension.messaging.activemq.jms.JMSService.doStart(JMSService.java:206)
	at org.wildfly.extension.messaging-activemq//org.wildfly.extension.messaging.activemq.jms.JMSService.access$000(JMSService.java:65)
	at org.wildfly.extension.messaging-activemq//org.wildfly.extension.messaging.activemq.jms.JMSService$1.run(JMSService.java:100)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.base/java.lang.Thread.run(Unknown Source)
	at org.jboss.threads@2.3.2.Final//org.jboss.threads.JBossThread.run(JBossThread.java:485)
{code}
}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-14 13:52:36.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|w003kg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Sep/18 1:52 PM;jamezp;Adding the {{org.apache.log4j}} module would not fix this issue. That module is log4j 1 and does not include the missing {{org.apache.logging.log4j.spi.ExtendedLoggerWrapper}} class. We really need to ensure that Netty is using the {{JdkLoggerFactory}} with something like {{InternalLoggerFactory.setDefaultFactory(JdkLoggerFactory.INSTANCE);}}. I've got an [example fix|https://github.com/wildfly/wildfly/commit/a9276f7259df8b418c2f9b0a01d5b14abed8d25c] for this. Those initialization may not be in the best place. However without knowing much about Inifinspan or Artemis it seemed like the safest spot.","02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing microprofile-metrics-smallrye subsystem in some configuration files,WFLY-11592,12787432,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,15/Jan/19 4:17 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,17/Jan/19 6:03 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Build System,,,,,,,,,,,0,,,,,"Legacy builds can be activated using the following system properties:
-DlegacyBuild -DlegacyRelease -Drelease

microprofile-metrics-smallrye is not included in some server configuration files for the legacy builds.

Additionally, there are some example configuration files that do not include this subsystem by default. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:12.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12003,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02hz4:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fixing licence headers using Jboss by Red Hat in copyright notice,WFLY-11552,12785866,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ehugonnet,ehugonnet,ehugonnet,02/Jan/19 10:37 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,02/Jan/19 1:21 PM,15.0.0.Final,,,,,16.0.0.Beta1,16.0.0.Final,,,,,,,,,,,,,0,,,,,"Some license headers are using Jboss by Red Hat instead of Red Hat, Inc. for copyright notice.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:08.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z028ow:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Referrals roles assignment for referral user does not work for AdvancedLdapLoginModule with Active Directory,WFLY-11385,12780222,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,jondruse,thofman,thofman,20/Nov/18 10:22 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,18/Dec/18 8:52 AM,,,,,,16.0.0.Beta1,16.0.0.Final,,Security,,,,,,,,,,,0,,,,,"Consider two MS Active Directory domains with configured crossRef to each other. EAP using AdvancedLdapLoginModule for MS AD with referrals and rolesCtxDN is set to the referral DN where user account are stored; also EAP is configured for searching roles based on users entries (mapping users to roles). 

If referral users (from EAP point of view - hostname is configured for original LDAP and user is obtained as referral user - from second of domains) authenticate then they have not assigned roles from AD attribute from 'roleAttributeID' option.

Example:
I have two MS AD domains - DC=jboss,DC=test (Domain A) and DC=jboss,DC=test2 (Domain B) with crossRef. 
Part of ldif for Domain A:
{code}
...
dn: CN=TheDuke,OU=Roles,O=eapqe,DC=jboss,DC=test
objectClass: groupOfNames
objectClass: top
cn: TheDuke
businessCategory: CN=jduke,OU=People,O=eapqe,DC=jboss,DC=test2
member: CN=jdukeNotUsed,OU=People,O=eapqe,DC=jboss,DC=test
...
{code}

Part of ldif for Domain B
{code}
...
dn: CN=jduke,OU=People,O=eapqe,DC=jboss,DC=test2
objectclass: top
objectclass: person
objectClass: inetOrgPerson
cn: jduke
sn: Duke
description: CN=TheDuke,OU=Roles,O=eapqe,DC=jboss,DC=test
description: CN=Admin,OU=Roles,O=eapqe,DC=jboss,DC=test2
userPassword: Password1

dn: CN=Admin,OU=Roles,O=eapqe,DC=jboss,DC=test2
objectClass: groupOfNames
objectClass: top
cn: Admin
businessCategory: CN=jduke,OU=People,O=eapqe,DC=jboss,DC=test2
member: CN=jdukeNotUsed,OU=People,O=eapqe,DC=jboss,DC=test2
...
{code}

EAP AdvancedLdapLoginModule is configured:
{code:xml}
                <security-domain name=""AdvancedLdapReferrals"">
                    <authentication>
                        <login-module code=""AdvancedLdap"" flag=""required"">
                            <module-option name=""java.naming.factory.initial"" value=""com.sun.jndi.ldap.LdapCtxFactory""/>
                            <module-option name=""java.naming.provider.url"" value=""HOSTNAME_OF_DOMAIN_A""/>
                            <module-option name=""bindDN"" value=""BIND_DN""/>
                            <module-option name=""bindCredential"" value=""PASSWORD""/>
                            <module-option name=""referralUserAttributeIDToCheck"" value=""businessCategory""/>
                            <module-option name=""roleAttributeIsDN"" value=""true""/>
                            <module-option name=""roleFilter"" value=""(CN={0})""/>
                            <module-option name=""roleAttributeID"" value=""description""/>
                            <module-option name=""rolesCtxDN"" value=""OU=People,O=eapqe,DC=jboss,DC=test2""/>
                            <module-option name=""java.naming.security.authentication"" value=""simple""/>
                            <module-option name=""baseCtxDN"" value=""OU=People,O=eapqe,DC=jboss,DC=test2""/>
                            <module-option name=""java.naming.referral"" value=""follow""/>
                            <module-option name=""throwValidateError"" value=""true""/>
                            <module-option name=""baseFilter"" value=""(CN={0})""/>
                            <module-option name=""roleNameAttributeID"" value=""CN""/>
                        </login-module>
                    </authentication>
                </security-domain>
{code}

Then when jduke try to authenticate to application roles TheDuke and Admin should be assigned to him.",,,,,,,,,,,,,JBEAP-3031,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:06.0,,,,,,,,,,https://github.com/wildfly-security/jboss-negotiation/pull/38,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z01epk:",9223372036854775807,,0.0,,,,,,,,,,,,olukas,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WeldClassFileInfo#containsAnnotation() should consider interface default methods,WFLY-11636,12788761,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,manovotn,mkouba,mkouba,23/Jan/19 5:30 AM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,05/Feb/19 10:26 PM,15.0.1.Final,,,,,16.0.0.Beta1,16.0.0.Final,,CDI / Weld,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,WELD-2551,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 19:01:06.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12026,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z02p00:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The testsuite/layers tests should be individually launchable in a manner consistent with other non-smoke testsuites,WFLY-11714,12792175,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,13/Feb/19 4:02 PM,02/Oct/19 7:01 PM,28/Dec/19 1:29 PM,04/Apr/19 9:20 PM,,,,,,16.0.0.Final,,,Test Suite,,,,,,,,,,,0,,,,,"Users should be able to

mvn install -Dts.layers -rf testsuite/layers

or

mvn install -Dlayers.module -rf testsuite/layers

I guess the latter is a newer property that does the same as the former.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z037ro:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 7:01 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 16.0.0.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clean up the legacy messaging subsystem dependency tree,WFLY-11949,12801075,12774282,Sub-task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,04/Apr/19 9:42 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,10/Apr/19 6:56 AM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Management,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04kok:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing clustering web configurations in the legacy builds,WFLY-12131,12809161,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,27/May/19 8:59 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,28/May/19 5:53 AM,,,,,,17.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,"Some of the legacy build configurations don't have the new ""org.wildfly.extension.clustering.web"" extension configured.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:49.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12323,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05u2s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use maven project.groupId for the aggregation of galleon feature-pack offliner files,WFLY-12076,12806979,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,14/May/19 8:46 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,15/May/19 10:28 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,The use of maven property ${project.groupid} instead of the hardcoded org.wildfly group id facilitates the transition to the product branches.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:49.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12290,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05hvw:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Duplicate host-exclude in domain legacy builds,WFLY-12130,12809158,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,yersan,yersan,yersan,27/May/19 8:49 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,31/May/19 7:34 PM,,,,,,17.0.0.Final,,,Build System,,,,,,,,,,,0,,,,,The template file used to create the legacy domain config files has a duplicate entry in the host exclude section,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:47.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12322,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05u24:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Organize plugin version properties in the root pom,WFLY-12067,12806525,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,11/May/19 9:48 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,16/May/19 6:28 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Build System,,,,,,,,,,,0,,,,,The root pom is structured to not group the pom properties related to plugins and their dependencies in with those related to the content of the software being built.  This JIRA is just to tidy this up a bit and make the intended structure clearer.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12276,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05f90:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
kubernetes.KUBE_PING warns about usage of deprecated properties even when unused,WFLY-12112,12808544,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,rhusar,rhusar,rhusar,22/May/19 11:26 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,31/May/19 7:33 PM,16.0.0.Final,17.0.0.Alpha1,,,,17.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"{noformat}
12:26:03,871 WARN  [org.jgroups.protocols.kubernetes.KUBE_PING] (ServerService Thread Pool -- 68) OPENSHIFT_KUBE_PING_NAMESPACE is deprecated, please remove it and use KUBERNETES_NAMESPACE instead
12:26:03,871 WARN  [org.jgroups.protocols.kubernetes.KUBE_PING] (ServerService Thread Pool -- 68) OPENSHIFT_KUBE_PING_LABELS is deprecated, please remove it and use KUBERNETES_LABELS instead
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:45.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12310,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05qh8:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"22/May/19 11:35 AM;rhusar;The fix is already available upstream, needs a component upgrade.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade jboss-common-beans to 2.0.1.Final,WFLY-12160,12810647,,Component Upgrade,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,03/Jun/19 12:25 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,05/Jun/19 9:44 AM,,,,,,17.0.0.Final,,,Server,,,,,,,,,,,0,,,,,"POM and javadoc corrections.

https://github.com/jboss/jboss-common-beans/compare/2.0.0.Final...2.0.1.Final",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12337,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z062do:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Json encoding of Access Log Events,WFLY-11031,12770042,,Feature Request,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,jamezp,fschmager,fschmager,17/Sep/18 8:57 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,15/May/19 10:23 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Web (Undertow),,,,,,,,,,,0,,,,,"h1. Request
It should be possible to emit access log events json encoded to allow log aggregation systems to ingest pre-parsed events for filtering and analytics.

h1. Background
Application logs can be emitted [json encoded|https://wildscribe.github.io/WildFly/13.0/subsystem/logging/json-formatter/index.html] allowing log aggregation systems like logstash/ELK to ingest and parse the events. This is especially important when working with containers, but anything requiring log aggregation would benefit. Not all log aggregation systems allow after-the-fact parsing of log events (e.g. Kibana) and developers don't have access to the log aggregator to install a parser like logstash/filebeat.

[Access log events|https://wildscribe.github.io/WildFly/13.0/subsystem/undertow/server/host/setting/access-log/index.html], however, can't be json encoded. The whole log event can be, but what's important about access log events can't.

h2. Example result
There are many ways to encode the event into json. Ideally it would be configurable. One way would be to use {{message}}, but instead of it just containing a {{String}} it could contain json. However, abusing the {{message}} field might not work because it is of type {{String|text}}. So even if it contained valid json, it wouldn't be processed as such. Separate fields might need to be used. Using {{message}} is probably preferred because if not, what else would that field contain?
{code:json}
...
""@timestamp"": ""2018-09-14T20:59:37.530Z"",
...
""message"": {
  ""x-forwarded-for"": ""-"",
  ""remoteHost"": ""172.20.2.1"",
  ...
}
...
# alternatively
""x-forwarded-for"": ""-"",
""remoteHost"": ""172.20.2.1"",
""remoteUser"": ""200"",
""dateTime"": ""[14/Sep/2018:20:59:37 +0000]"",
""requestLine"": ""GET /auth/resources/4.4.0.final/login/keycloak/img/keycloak-bg.png HTTP/2.0"",
""status"": ""200"",
""bytesSent"": ""81862"",
""timeTaken"": ""10"",
""userAgent"": ""Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36""
...
{code} 

h2. Attempted Workaround
Making the pattern look like json failed due to double quote escaping:
{code:xml}
<access-log pattern='{\""x-forwarded-for\"":\""%{i,X-Forwarded-For}\"",\""remoteHost\"":\""%h\"",\""remoteUser\"":\""%s\"",\""dateTime\"":\""%t\"",\""requestLine\"":\""%r\"",\""status\"":\""%s\"",\""bytesSent\"":\""%b\"",\""timeTaken\"":\""%D\"",\""userAgent\"":\""%{i,User-Agent}\""}' use-server-log=""true"" />
{code}
h3. Result
{code}
...
""@timestamp"": ""2018-09-14T20:59:37.530Z"",
...
""message"": ""{\\\""x-forwarded-for\\\"":\\\""-\\\"",\\\""remoteHost\\\"":\\\""172.20.2.1\\\"",\\\""remoteUser\\\"":\\\""200\\\"",\\\""dateTime\\\"":\\\""[14/Sep/2018:20:59:37 +0000]\\\"",\\\""requestLine\\\"":\\\""GET /auth/resources/4.4.0.final/login/keycloak/img/keycloak-bg.png HTTP/2.0\\\"",\\\""status\\\"":\\\""200\\\"",\\\""bytesSent\\\"":\\\""81862\\\"",\\\""timeTaken\\\"":\\\""10\\\"",\\\""userAgent\\\"":\\\""Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\\\""}"",
{code}

h2. Json formatting log configuration
{code:xml}
<subsystem xmlns=""urn:jboss:domain:logging:5.0"">
  <console-handler name=""CONSOLE"">
    <level name=""DEBUG""/>
    <formatter>
      <named-formatter name=""JSON_FORMATTER""/>
    </formatter>
  </console-handler>
...
  <formatter name=""JSON_FORMATTER"">
    <json-formatter>
      <exception-output-type value=""formatted""/>
      <key-overrides timestamp=""@timestamp"" loggerName=""logger_name""/>
      <meta-data>
        <property name=""@version"" value=""1""/>
      </meta-data>
    </json-formatter>
  </formatter>
...
{code}",,,,,,,,,,,,,,,WFCORE-4355,WFLY-11816,,,,,,,,EAP7-1028,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-09-17 10:31:46.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12264,,,,,,,,,,,,,,,,0.0,6.0,,,,,,,,,,"1|y004ws:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"17/Sep/18 10:31 AM;brian.stansberry;[~fschmager] I hope you don't mind that I changed the title of this slightly.  Access logs can be JSON encoded, as you stated, but you're looking for another level. I saw the original title and thought ""we support that already.""

[~jamezp] FYI.","17/Sep/18 10:47 AM;fschmager;[~brian.stansberry] No worries. Rename to your heart's content. I tried to be explicit and detailed in my description. It's all about the content of the access log {{message}} to be ""json""-ed. It's no good having a standard {{127.0.0.1 - peter [9/Feb/2017:10:34:12 -0700] ""GET /sample-image.png HTTP/2"" 200 1479}} in {{message}}. Kibana doesn't support after-the-fact parsing so I can't analyze access log things. I need the individual components (remote host, bytes sent, status etc) as fields in json.","17/Sep/18 11:00 AM;brian.stansberry;Thanks [~fschmager] for the report.  JSON logging is something we've been thinking about in the background a bit all summer and this is good input. An access log is different from a general server log in that the message has a usable structure. It seems obvious now that you mentioned it! 

IIRC there may be a consumer side issue of some sort with nested structures; i.e. reading a ""message"" field that is itself complex JSON structure as opposed to a simple string.  But I could be misremembering or that whatever is was might be fixed. We'll find out when this gets taken up.","14/Feb/19 6:45 PM;jamezp;Proposal document https://github.com/wildfly/wildfly-proposals/pull/176","14/Feb/19 6:47 PM;jamezp;Placing this in the correct state since the PR is for the proposal only.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Set bridgeName while creating JMSBridge on server,WFLY-12140,12810020,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,ehugonnet,rhn-support-shsingh,rhn-support-shsingh,30/May/19 4:40 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Jun/19 6:16 AM,17.0.0.Beta1,,,,,17.0.0.Final,,,JMS,,,,,,,,,,,0,downstream_dependency,,,,"Set bridgeName while creating JMSBridge on server

When JMS bridge get reconnected after network issue the logs contains the default bridgeName i.e ""N/A""
{code:java}
14:07:56,933 WARN  [org.apache.activemq.artemis.jms.bridge] (Thread-109) AMQ342010: Failed to connect JMS Bridge N/A: javax.jms.JMSException: Failed to create session factory
	at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:846)
	at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnection(ActiveMQConnectionFactory.java:282)
	at org.apache.activemq.artemis.jms.bridge.impl.JMSBridgeImpl.createConnection(JMSBridgeImpl.java:1120)
	at org.apache.activemq.artemis.jms.bridge.impl.JMSBridgeImpl.setupJMSObjects(JMSBridgeImpl.java:1286)
	at org.apache.activemq.artemis.jms.bridge.impl.JMSBridgeImpl.setupJMSObjectsWithRetry(JMSBridgeImpl.java:1392)
	at org.apache.activemq.artemis.jms.bridge.impl.JMSBridgeImpl.access$2800(JMSBridgeImpl.java:77)
	at org.apache.activemq.artemis.jms.bridge.impl.JMSBridgeImpl$FailureHandler.run(JMSBridgeImpl.java:1902)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]
	at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:795)
	at org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory.createConnectionInternal(ActiveMQConnectionFactory.java:844)
	... 9 more
{code}

And reconenct message.

{code:java}
14:07:57,834 INFO  [org.apache.activemq.artemis.jms.bridge] (Thread-109) AMQ341001: JMS Bridge N/A succeeded in reconnecting to servers
{code}

bridgeName will be helpful to find the bridge having the issue in multi JMS Bridge scenario.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:44.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12329,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z05yr0:",9223372036854775807,,0.0,,,,,"1. Create a JMS Bridge between server and external broker.
2. Shutdown the external broker and observe the logs.
",,,,,,,,,,,"30/May/19 5:15 AM;rhn-support-shsingh;Possible fix :- https://github.com/wildfly/wildfly/pull/12329","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add tests that enable JPA entity class bytecode enhancement,WFLY-11891,12798492,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,smarlow,smarlow,smarlow,21/Mar/19 12:22 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,10/Jun/19 7:53 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,JPA / Hibernate,,,,,,,,,,,0,,,,,"Pick a few unit tests and add the following settings to enable [entity bytecode enhancement|http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#BytecodeEnhancement-enhancement-runtime]:
{code}
<property name=""hibernate.enhancer.enableDirtyTracking"" value=""true""/>
<property name=""hibernate.enhancer.enableLazyInitialization"" value=""true""/>
<property name=""hibernate.enhancer.enableAssociationManagement"" value=""true""/>
{code}

Steps to reproduce:
* Build WildFly
* cd testsuite/integration/basic
* mvn clean install -Dtest=org.jboss.as.test.integration.jpa.transaction.TransactionTestCase
* mvn clean install -Dtest=org.jboss.as.test.integration.jpa.hibernate.management.ManagementTestCase
* mvn clean install -Dtest=org.jboss.as.test.integration.jpa.entitylistener.EntityListenersTestCase
* mvn clean install -Dtest=org.jboss.as.test.integration.jpa.secondlevelcache.JPA2LCTestCase

Note that the org.jboss.as.test.integration.jpa.transaction.TransactionTestCase test should pass since javassist is specified in the persistence.xml but that seems to be ignored (we still get the ByteBuddy failure).

To workaround failures, prestart wildfly via: ./standalone.sh -Dhibernate.bytecode.provider=javassist and then run tests.


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Mar/19 5:35 PM;smarlow;bytebuddy.log;https://issues.redhat.com/secure/attachment/12448757/bytebuddy.log","21/Mar/19 5:31 PM;smarlow;javassist.log;https://issues.redhat.com/secure/attachment/12448756/javassist.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-28 15:35:09.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12180,,,,,,,,,,,,,,,,2.0,9.0,,,,,,,,,,"1|z045v0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"21/Mar/19 1:09 PM;smarlow;I'll create a pr so we can see the failures in CI:
{code}
[0m[31m13:03:02,992 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.""jpa_ManagementTestCase.jar"".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.""jpa_ManagementTestCase.jar"".POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of deployment ""jpa_ManagementTestCase.jar""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:183)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.ClassFormatError: WFLYJPA0073: Transformation of class org/jboss/as/ejb3/SerializationProxyHackImplementation failed
	at org.jboss.modules.ModuleClassLoader.defineClassInternal(ModuleClassLoader.java:460)
	at org.jboss.modules.ModuleClassLoader.defineClassInternal(ModuleClassLoader.java:480)
	at org.jboss.modules.ClassDefiner.defineClass(ClassDefiner.java:144)
	at org.jboss.as.server.deployment.ModuleClassFactory.defineClass(ModuleClassFactory.java:56)
	at org.jboss.classfilewriter.ClassFile.defineInternal(ClassFile.java:299)
	at org.jboss.classfilewriter.ClassFile.define(ClassFile.java:282)
	at org.jboss.as.ejb3.iiop.handle.SerializationHackProxy.proxy(SerializationHackProxy.java:70)
	at org.jboss.as.ejb3.iiop.handle.HandleDelegateImpl.<init>(HandleDelegateImpl.java:58)
	at org.jboss.as.ejb3.deployment.processors.IIOPJndiBindingProcessor.bindService(IIOPJndiBindingProcessor.java:108)
	at org.jboss.as.ejb3.deployment.processors.IIOPJndiBindingProcessor.deploy(IIOPJndiBindingProcessor.java:83)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:176)
	... 8 more
Caused by: java.lang.IllegalStateException: WFLYJPA0073: Transformation of class org/jboss/as/ejb3/SerializationProxyHackImplementation failed
	at org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:68)
	at org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:49)
	at org.jboss.as.server.deployment.module.DelegatingClassFileTransformer.transform(DelegatingClassFileTransformer.java:60)
	at org.jboss.modules.JLIClassTransformer.transform(JLIClassTransformer.java:55)
	at org.jboss.modules.ModuleClassLoader.defineClassInternal(ModuleClassLoader.java:458)
	... 18 more
Caused by: org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl$1: Error performing enhancement of org/jboss/as/ejb3/SerializationProxyHackImplementation
	at org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl.transform(EnhancingClassTransformerImpl.java:47)
	at org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:66)
	... 22 more
Caused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class org/jboss/as/ejb3/SerializationProxyHackImplementation
	at org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.enhance(EnhancerImpl.java:142)
	at org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl.transform(EnhancingClassTransformerImpl.java:44)
	... 23 more
Caused by: java.lang.IllegalStateException: Cannot resolve type description for org.jboss.as.ejb3.SerializationProxyHackImplementation
	at net.bytebuddy.pool.TypePool$Resolution$Illegal.resolve(TypePool.java:159)
	at net.bytebuddy.pool.TypePool$Default$WithLazyResolution$LazyTypeDescription.delegate(TypePool.java:1407)
	at net.bytebuddy.description.type.TypeDescription$AbstractBase$OfSimpleType$WithDelegation.getModifiers(TypeDescription.java:8115)
	at net.bytebuddy.dynamic.scaffold.InstrumentedType$Factory$Default$1.represent(InstrumentedType.java:359)
	at net.bytebuddy.ByteBuddy.redefine(ByteBuddy.java:731)
	at org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.lambda$enhance$0(EnhancerImpl.java:137)
	at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.rewrite(ByteBuddyState.java:149)
	at org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.enhance(EnhancerImpl.java:136)
	... 24 more

[0m[31m13:03:02,997 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""add"") failed - address: ([(""deployment"" => ""jpa_ManagementTestCase.jar"")]) - failure description: {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""jpa_ManagementTestCase.jar\"".POST_MODULE"" => ""WFLYSRV0153: Failed to process phase POST_MODULE of deployment \""jpa_ManagementTestCase.jar\""
    Caused by: java.lang.ClassFormatError: WFLYJPA0073: Transformation of class org/jboss/as/ejb3/SerializationProxyHackImplementation failed
    Caused by: java.lang.IllegalStateException: WFLYJPA0073: Transformation of class org/jboss/as/ejb3/SerializationProxyHackImplementation failed
    Caused by: org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl$1: Error performing enhancement of org/jboss/as/ejb3/SerializationProxyHackImplementation
    Caused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class org/jboss/as/ejb3/SerializationProxyHackImplementation
    Caused by: java.lang.IllegalStateException: Cannot resolve type description for org.jboss.as.ejb3.SerializationProxyHackImplementation""}}
[0m[31m13:03:02,998 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment ""jpa_ManagementTestCase.jar"" was rolled back with the following failure message: 
{""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""jpa_ManagementTestCase.jar\"".POST_MODULE"" => ""WFLYSRV0153: Failed to process phase POST_MODULE of deployment \""jpa_ManagementTestCase.jar\""
    Caused by: java.lang.ClassFormatError: WFLYJPA0073: Transformation of class org/jboss/as/ejb3/SerializationProxyHackImplementation failed
    Caused by: java.lang.IllegalStateException: WFLYJPA0073: Transformation of class org/jboss/as/ejb3/SerializationProxyHackImplementation failed
    Caused by: org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl$1: Error performing enhancement of org/jboss/as/ejb3/SerializationProxyHackImplementation
    Caused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class org/jboss/as/ejb3/SerializationProxyHackImplementation
    Caused by: java.lang.IllegalStateException: Cannot resolve type description for org.jboss.as.ejb3.SerializationProxyHackImplementation""}}
[0m[0m13:03:03,000 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 80) WFLYJPA0011: Stopping Persistence Unit (phase 1 of 2) Service 'jpa_ManagementTestCase.jar#mypc'
{code}","21/Mar/19 5:33 PM;smarlow;Attached javassist.log is from running ""mvn clean install -Dtest=org.jboss.as.test.integration.jpa.transaction.TransactionTestCase"" with ""./standalone.sh -Dhibernate.bytecode.provider=javassist"" and TRACE logging enabled for org.jboss.as.jpa, which will show the class names being enhanced.

I'll create bytebuddy.log that is from using the same test only with ByteBuddy.","21/Mar/19 5:37 PM;smarlow;I attached bytebuddy.log which wasn't that interesting as deployment fails while ByteBuddy is trying to load ""org.jboss.as.ejb3.SerializationProxyHackImplementation""","22/Mar/19 2:29 PM;smarlow;From our CI test output:

{code}
org.jboss.arquillian.container.spi.client.container.DeploymentException: Cannot deploy jpa_EntityListeners.jar: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".INSTALL"" => ""WFLYSRV0153: Failed to process phase INSTALL of deployment \""jpa_EntityListeners.jar\""
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component SFSBCMT
    Caused by: java.lang.ClassFormatError: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682 failed
    Caused by: java.lang.IllegalStateException: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682 failed
    Caused by: org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl$1: Error performing enhancement of org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682
    Caused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682
    Caused by: java.lang.IllegalStateException: Cannot resolve type description for org.jboss.as.test.integration.jpa.entitylistener.SFSBCMT$$$view682""},""WFLYCTL0412: Required services that are not installed:"" => [""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT"",""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".beanmanager"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT"",""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".WeldStartService"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT""],""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".batch.artifact.factory is missing [jboss.deployment.unit.\""jpa_EntityListeners.jar\"".beanmanager]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]"",""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".weld.weldClassIntrospector is missing [jboss.deployment.unit.\""jpa_EntityListeners.jar\"".beanmanager, jboss.deployment.unit.\""jpa_EntityListeners.jar\"".WeldStartService]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]""]}}}
org.jboss.arquillian.container.spi.client.container.DeploymentException: 
Cannot deploy jpa_EntityListeners.jar: {""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-1"" => {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".INSTALL"" => ""WFLYSRV0153: Failed to process phase INSTALL of deployment \""jpa_EntityListeners.jar\""
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component SFSBCMT
    Caused by: java.lang.ClassFormatError: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682 failed
    Caused by: java.lang.IllegalStateException: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682 failed
    Caused by: org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl$1: Error performing enhancement of org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682
    Caused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682
    Caused by: java.lang.IllegalStateException: Cannot resolve type description for org.jboss.as.test.integration.jpa.entitylistener.SFSBCMT$$$view682""},""WFLYCTL0412: Required services that are not installed:"" => [""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT"",""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".beanmanager"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT"",""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".WeldStartService"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT""],""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".batch.artifact.factory is missing [jboss.deployment.unit.\""jpa_EntityListeners.jar\"".beanmanager]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]"",""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".weld.weldClassIntrospector is missing [jboss.deployment.unit.\""jpa_EntityListeners.jar\"".beanmanager, jboss.deployment.unit.\""jpa_EntityListeners.jar\"".WeldStartService]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]""]}}}
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:184)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:162)
	at org.jboss.as.arquillian.container.ArchiveDeployer.deploy(ArchiveDeployer.java:91)
	at org.jboss.as.arquillian.container.CommonDeployableContainer.deploy(CommonDeployableContainer.java:244)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:161)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$3.call(ContainerDeployController.java:128)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.executeOperation(ContainerDeployController.java:271)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deploy(ContainerDeployController.java:127)
	at sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createDeploymentContext(ContainerDeploymentContextHandler.java:78)
	at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.container.impl.client.ContainerDeploymentContextHandler.createContainerContext(ContainerDeploymentContextHandler.java:57)
	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.container.impl.client.container.DeploymentExceptionHandler.verifyExpectedExceptionDuringDeploy(DeploymentExceptionHandler.java:50)
	at sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:95)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController$1.perform(ContainerDeployController.java:80)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachDeployment(ContainerDeployController.java:263)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.forEachManagedDeployment(ContainerDeployController.java:239)
	at org.jboss.arquillian.container.impl.client.container.ContainerDeployController.deployManaged(ContainerDeployController.java:79)
	at sun.reflect.GeneratedMethodAccessor38.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.execute(ContainerEventController.java:101)
	at sun.reflect.GeneratedMethodAccessor35.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:103)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:85)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:96)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:92)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:143)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:114)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.beforeClass(EventTestRunnerAdaptor.java:87)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:202)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:431)
	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:55)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:219)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:167)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)
------- Stdout: -------
&amp#27;[0m13:27:00,073 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0001: Content added at location /store/work/tc-work/bb15431f347cd651/testsuite/integration/basic/target/wildfly/standalone/data/content/5e/5bd384086d37d9adc07348cd38d220c1dea882/content
&amp#27;[0m&amp#27;[0m13:27:00,074 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of ""jpa_EntityListeners.jar"" (runtime-name: ""jpa_EntityListeners.jar"")
&amp#27;[0m&amp#27;[0m13:27:00,079 INFO  [org.jboss.as.jpa] (MSC service thread 1-7) WFLYJPA0002: Read persistence.xml for mypc
&amp#27;[0m&amp#27;[33m13:27:00,083 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-8) WFLYSRV0018: Deployment ""deployment.jpa_EntityListeners.jar"" is using a private module (""org.wildfly.security.manager"") which may be changed or removed in future versions without notice.
&amp#27;[0m&amp#27;[0m13:27:00,084 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 34) WFLYJPA0010: Starting Persistence Unit (phase 1 of 2) Service 'jpa_EntityListeners.jar#mypc'
&amp#27;[0m&amp#27;[0m13:27:00,084 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 34) HHH000204: Processing PersistenceUnitInfo [
	name: mypc
	...]
&amp#27;[0m&amp#27;[0m13:27:00,106 INFO  [org.hibernate.bytecode.enhance.spi.Enhancer] (MSC service thread 1-4) Enhancing [org.jboss.as.test.integration.jpa.entitylistener.Employee] as Entity
&amp#27;[0m&amp#27;[0m13:27:00,220 INFO  [org.jboss.weld.deployer] (MSC service thread 1-4) WFLYWELD0003: Processing weld deployment jpa_EntityListeners.jar
&amp#27;[0m&amp#27;[0m13:27:00,230 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-4) WFLYEJB0473: JNDI bindings for session bean named 'SFSBCMT' in deployment unit 'deployment ""jpa_EntityListeners.jar""' are as follows:

	java:global/jpa_EntityListeners/SFSBCMT!org.jboss.as.test.integration.jpa.entitylistener.SFSBCMT
	java:app/jpa_EntityListeners/SFSBCMT!org.jboss.as.test.integration.jpa.entitylistener.SFSBCMT
	java:module/SFSBCMT!org.jboss.as.test.integration.jpa.entitylistener.SFSBCMT
	ejb:/jpa_EntityListeners/SFSBCMT!org.jboss.as.test.integration.jpa.entitylistener.SFSBCMT?stateful
	java:global/jpa_EntityListeners/SFSBCMT
	java:app/jpa_EntityListeners/SFSBCMT
	java:module/SFSBCMT

&amp#27;[0m&amp#27;[0m13:27:00,231 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-4) WFLYEJB0473: JNDI bindings for session bean named 'SLSBCMT' in deployment unit 'deployment ""jpa_EntityListeners.jar""' are as follows:

	java:global/jpa_EntityListeners/SLSBCMT!org.jboss.as.test.integration.jpa.entitylistener.SLSBCMT
	java:app/jpa_EntityListeners/SLSBCMT!org.jboss.as.test.integration.jpa.entitylistener.SLSBCMT
	java:module/SLSBCMT!org.jboss.as.test.integration.jpa.entitylistener.SLSBCMT
	ejb:/jpa_EntityListeners/SLSBCMT!org.jboss.as.test.integration.jpa.entitylistener.SLSBCMT
	java:global/jpa_EntityListeners/SLSBCMT
	java:app/jpa_EntityListeners/SLSBCMT
	java:module/SLSBCMT

&amp#27;[0m&amp#27;[0m13:27:00,231 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-4) WFLYEJB0473: JNDI bindings for session bean named 'SLSBBMT' in deployment unit 'deployment ""jpa_EntityListeners.jar""' are as follows:

	java:global/jpa_EntityListeners/SLSBBMT!org.jboss.as.test.integration.jpa.entitylistener.SLSBBMT
	java:app/jpa_EntityListeners/SLSBBMT!org.jboss.as.test.integration.jpa.entitylistener.SLSBBMT
	java:module/SLSBBMT!org.jboss.as.test.integration.jpa.entitylistener.SLSBBMT
	ejb:/jpa_EntityListeners/SLSBBMT!org.jboss.as.test.integration.jpa.entitylistener.SLSBBMT
	java:global/jpa_EntityListeners/SLSBBMT
	java:app/jpa_EntityListeners/SLSBBMT
	java:module/SLSBBMT

&amp#27;[0m&amp#27;[0m13:27:00,231 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-4) WFLYEJB0473: JNDI bindings for session bean named 'SingletonBMT' in deployment unit 'deployment ""jpa_EntityListeners.jar""' are as follows:

	java:global/jpa_EntityListeners/SingletonBMT!org.jboss.as.test.integration.jpa.entitylistener.SingletonBMT
	java:app/jpa_EntityListeners/SingletonBMT!org.jboss.as.test.integration.jpa.entitylistener.SingletonBMT
	java:module/SingletonBMT!org.jboss.as.test.integration.jpa.entitylistener.SingletonBMT
	ejb:/jpa_EntityListeners/SingletonBMT!org.jboss.as.test.integration.jpa.entitylistener.SingletonBMT
	java:global/jpa_EntityListeners/SingletonBMT
	java:app/jpa_EntityListeners/SingletonBMT
	java:module/SingletonBMT

&amp#27;[0m&amp#27;[0m13:27:00,231 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-4) WFLYEJB0473: JNDI bindings for session bean named 'SingletonCMT' in deployment unit 'deployment ""jpa_EntityListeners.jar""' are as follows:

	java:global/jpa_EntityListeners/SingletonCMT!org.jboss.as.test.integration.jpa.entitylistener.SingletonCMT
	java:app/jpa_EntityListeners/SingletonCMT!org.jboss.as.test.integration.jpa.entitylistener.SingletonCMT
	java:module/SingletonCMT!org.jboss.as.test.integration.jpa.entitylistener.SingletonCMT
	ejb:/jpa_EntityListeners/SingletonCMT!org.jboss.as.test.integration.jpa.entitylistener.SingletonCMT
	java:global/jpa_EntityListeners/SingletonCMT
	java:app/jpa_EntityListeners/SingletonCMT
	java:module/SingletonCMT

&amp#27;[0m&amp#27;[0m13:27:00,231 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-4) WFLYEJB0473: JNDI bindings for session bean named 'SFSBBMT' in deployment unit 'deployment ""jpa_EntityListeners.jar""' are as follows:

	java:global/jpa_EntityListeners/SFSBBMT!org.jboss.as.test.integration.jpa.entitylistener.SFSBBMT
	java:app/jpa_EntityListeners/SFSBBMT!org.jboss.as.test.integration.jpa.entitylistener.SFSBBMT
	java:module/SFSBBMT!org.jboss.as.test.integration.jpa.entitylistener.SFSBBMT
	ejb:/jpa_EntityListeners/SFSBBMT!org.jboss.as.test.integration.jpa.entitylistener.SFSBBMT?stateful
	java:global/jpa_EntityListeners/SFSBBMT
	java:app/jpa_EntityListeners/SFSBBMT
	java:module/SFSBBMT

&amp#27;[0m&amp#27;[31m13:27:00,243 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit.""jpa_EntityListeners.jar"".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit.""jpa_EntityListeners.jar"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment ""jpa_EntityListeners.jar""
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:183)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
	at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component SFSBCMT
	at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:106)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:176)
	... 8 more
Caused by: java.lang.ClassFormatError: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682 failed
	at org.jboss.modules.ModuleClassLoader.defineClassInternal(ModuleClassLoader.java:460)
	at org.jboss.modules.ModuleClassLoader.defineClassInternal(ModuleClassLoader.java:480)
	at org.jboss.modules.ClassDefiner.defineClass(ClassDefiner.java:144)
	at org.jboss.as.server.deployment.ModuleClassFactory.defineClass(ModuleClassFactory.java:56)
	at org.jboss.classfilewriter.ClassFile.defineInternal(ClassFile.java:299)
	at org.jboss.classfilewriter.ClassFile.define(ClassFile.java:286)
	at org.jboss.invocation.proxy.AbstractClassFactory.defineClass(AbstractClassFactory.java:202)
	at org.jboss.invocation.proxy.AbstractProxyFactory.getCachedMethods(AbstractProxyFactory.java:162)
	at org.jboss.as.ee.component.ViewConfiguration.addViewInterceptor(ViewConfiguration.java:119)
	at org.jboss.as.ee.component.NamespaceViewConfigurator.configure(NamespaceViewConfigurator.java:34)
	at org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:91)
	at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:92)
	... 9 more
Caused by: java.lang.IllegalStateException: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682 failed
	at org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:68)
	at org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:49)
	at org.jboss.as.server.deployment.module.DelegatingClassFileTransformer.transform(DelegatingClassFileTransformer.java:60)
	at org.jboss.modules.JLIClassTransformer.transform(JLIClassTransformer.java:55)
	at org.jboss.modules.ModuleClassLoader.defineClassInternal(ModuleClassLoader.java:458)
	... 20 more
Caused by: org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl$1: Error performing enhancement of org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682
	at org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl.transform(EnhancingClassTransformerImpl.java:47)
	at org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:66)
	... 24 more
Caused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682
	at org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.enhance(EnhancerImpl.java:142)
	at org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl.transform(EnhancingClassTransformerImpl.java:44)
	... 25 more
Caused by: java.lang.IllegalStateException: Cannot resolve type description for org.jboss.as.test.integration.jpa.entitylistener.SFSBCMT$$$view682
	at net.bytebuddy.pool.TypePool$Resolution$Illegal.resolve(TypePool.java:159)
	at net.bytebuddy.pool.TypePool$Default$WithLazyResolution$LazyTypeDescription.delegate(TypePool.java:1407)
	at net.bytebuddy.description.type.TypeDescription$AbstractBase$OfSimpleType$WithDelegation.getModifiers(TypeDescription.java:8115)
	at net.bytebuddy.dynamic.scaffold.InstrumentedType$Factory$Default$1.represent(InstrumentedType.java:359)
	at net.bytebuddy.ByteBuddy.redefine(ByteBuddy.java:731)
	at org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.lambda$enhance$0(EnhancerImpl.java:137)
	at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.rewrite(ByteBuddyState.java:149)
	at org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.enhance(EnhancerImpl.java:136)
	... 26 more

&amp#27;[0m&amp#27;[31m13:27:00,251 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (""add"") failed - address: ([(""deployment"" => ""jpa_EntityListeners.jar"")]) - failure description: {
    ""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".INSTALL"" => ""WFLYSRV0153: Failed to process phase INSTALL of deployment \""jpa_EntityListeners.jar\""
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component SFSBCMT
    Caused by: java.lang.ClassFormatError: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682 failed
    Caused by: java.lang.IllegalStateException: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682 failed
    Caused by: org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl$1: Error performing enhancement of org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682
    Caused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682
    Caused by: java.lang.IllegalStateException: Cannot resolve type description for org.jboss.as.test.integration.jpa.entitylistener.SFSBCMT$$$view682""},
    ""WFLYCTL0412: Required services that are not installed:"" => [
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT"",
        ""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".beanmanager"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT"",
        ""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".WeldStartService"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT""
    ],
    ""WFLYCTL0180: Services with missing/unavailable dependencies"" => [
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",
        ""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".batch.artifact.factory is missing [jboss.deployment.unit.\""jpa_EntityListeners.jar\"".beanmanager]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBBMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonCMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.InAppClientContainer is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]"",
        ""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".weld.weldClassIntrospector is missing [jboss.deployment.unit.\""jpa_EntityListeners.jar\"".beanmanager, jboss.deployment.unit.\""jpa_EntityListeners.jar\"".WeldStartService]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SingletonBMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT.Validator is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBCMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT.ValidatorFactory is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SLSBBMT]"",
        ""jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT.InstanceName is missing [jboss.naming.context.java.comp.jpa_EntityListeners.jpa_EntityListeners.SFSBCMT]""
    ]
}
&amp#27;[0m&amp#27;[31m13:27:00,251 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment ""jpa_EntityListeners.jar"" was rolled back with the following failure message: 
{
    ""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""jpa_EntityListeners.jar\"".INSTALL"" => ""WFLYSRV0153: Failed to process phase INSTALL of deployment \""jpa_EntityListeners.jar\""
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component SFSBCMT
    Caused by: java.lang.ClassFormatError: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682 failed
    Caused by: java.lang.IllegalStateException: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682 failed
    Caused by: org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl$1: Error performing enhancement of org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682
    Caused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class org/jboss/as/test/integration/jpa/entitylistener/SFSBCMT$$$view682
    Caused by: java.lang.IllegalStateException: Cannot resolve type description for org.jboss.as.test.integration.jpa.entitylistener.SFSBCMT$$$view682""},

{code}

","26/Mar/19 11:03 AM;smarlow;I captured a bit more of the relevant call stack + exception for the failure during EJB view class generation:

Below call stack shows EJB container about to generate view class via ClassFileWriter.
{quote}
10:43:45,828 ERROR [stderr] (MSC service thread 1-3) java.lang.Exception: Stack trace
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at java.lang.Thread.dumpStack(Thread.java:1336)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.classfilewriter.ClassFile.defineInternal(ClassFile.java:298)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.classfilewriter.ClassFile.define(ClassFile.java:286)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.invocation.proxy.AbstractClassFactory.defineClass(AbstractClassFactory.java:202)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.invocation.proxy.AbstractProxyFactory.getCachedMethods(AbstractProxyFactory.java:162)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.ViewConfiguration.addViewInterceptor(ViewConfiguration.java:119)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.NamespaceViewConfigurator.configure(NamespaceViewConfigurator.java:34)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:91)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:92)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:176)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
10:43:45,831 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
10:43:45,831 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
10:43:45,831 ERROR [stderr] (MSC service thread 1-3)    at java.lang.Thread.run(Thread.java:748)
{quote}

But, ByteBuddy fails defining the class.
{quote}
then exception is thrown:

10:43:45,828 ERROR [stderr] (MSC service thread 1-3) java.lang.Exception: Stack trace
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at java.lang.Thread.dumpStack(Thread.java:1336)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.classfilewriter.ClassFile.defineInternal(ClassFile.java:298)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.classfilewriter.ClassFile.define(ClassFile.java:286)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.invocation.proxy.AbstractClassFactory.defineClass(AbstractClassFactory.java:202)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.invocation.proxy.AbstractProxyFactory.getCachedMethods(AbstractProxyFactory.java:162)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.ViewConfiguration.addViewInterceptor(ViewConfiguration.java:119)
10:43:45,829 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.NamespaceViewConfigurator.configure(NamespaceViewConfigurator.java:34)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:91)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:92)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:176)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
10:43:45,830 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
10:43:45,831 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
10:43:45,831 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
10:43:45,831 ERROR [stderr] (MSC service thread 1-3)    at java.lang.Thread.run(Thread.java:748)
10:45:23,663 ERROR [stderr] (MSC service thread 1-3) java.lang.ClassFormatError: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/transaction/SFSBXPC$$$view3 failed
10:45:23,663 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.modules.ModuleClassLoader.defineClassInternal(ModuleClassLoader.java:460)
10:45:23,663 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.modules.ModuleClassLoader.defineClassInternal(ModuleClassLoader.java:480)
10:45:23,663 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.modules.ClassDefiner.defineClass(ClassDefiner.java:144)
10:45:23,663 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.server.deployment.ModuleClassFactory.defineClass(ModuleClassFactory.java:56)
10:45:23,663 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.classfilewriter.ClassFile.defineInternal(ClassFile.java:299)
10:45:23,664 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.classfilewriter.ClassFile.define(ClassFile.java:286)
10:45:23,664 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.invocation.proxy.AbstractClassFactory.defineClass(AbstractClassFactory.java:202)
10:45:23,664 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.invocation.proxy.AbstractProxyFactory.getCachedMethods(AbstractProxyFactory.java:162)
10:45:23,664 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.ViewConfiguration.addViewInterceptor(ViewConfiguration.java:119)
10:45:23,664 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.NamespaceViewConfigurator.configure(NamespaceViewConfigurator.java:34)
10:45:23,664 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:91)
10:45:23,664 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:92)
10:45:23,664 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:176)
10:45:23,664 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1738)
10:45:23,665 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1700)
10:45:23,665 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1558)
10:45:23,665 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
10:45:23,665 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)
10:45:23,665 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
10:45:23,665 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
10:45:23,665 ERROR [stderr] (MSC service thread 1-3)    at java.lang.Thread.run(Thread.java:748)
10:45:23,666 ERROR [stderr] (MSC service thread 1-3) Caused by: java.lang.IllegalStateException: WFLYJPA0073: Transformation of class org/jboss/as/test/integration/jpa/transaction/SFSBXPC$$$view3 failed
10:45:23,666 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:68)
10:45:23,666 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:49)
10:45:23,666 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.server.deployment.module.DelegatingClassFileTransformer.transform(DelegatingClassFileTransformer.java:60)
10:45:23,666 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.modules.JLIClassTransformer.transform(JLIClassTransformer.java:55)
10:45:23,666 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.modules.ModuleClassLoader.defineClassInternal(ModuleClassLoader.java:458)
10:45:23,666 ERROR [stderr] (MSC service thread 1-3)    ... 20 more
10:45:23,666 ERROR [stderr] (MSC service thread 1-3) Caused by: org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl$1: Error performing enhancement of org/jboss/as/test/integration/jpa/transaction/SFSBXPC$$$view3
10:45:23,667 ERROR [stderr] (MSC service thread 1-3)    at org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl.transform(EnhancingClassTransformerImpl.java:47)
10:45:23,667 ERROR [stderr] (MSC service thread 1-3)    at org.jboss.as.jpa.classloader.JPADelegatingClassFileTransformer.transform(JPADelegatingClassFileTransformer.java:66)
10:45:23,667 ERROR [stderr] (MSC service thread 1-3)    ... 24 more
10:45:23,667 ERROR [stderr] (MSC service thread 1-3) Caused by: org.hibernate.bytecode.enhance.spi.EnhancementException: Failed to enhance class org/jboss/as/test/integration/jpa/transaction/SFSBXPC$$$view3
10:45:23,667 ERROR [stderr] (MSC service thread 1-3)    at org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.enhance(EnhancerImpl.java:142)
10:45:23,667 ERROR [stderr] (MSC service thread 1-3)    at org.hibernate.jpa.internal.enhance.EnhancingClassTransformerImpl.transform(EnhancingClassTransformerImpl.java:44)
10:45:23,667 ERROR [stderr] (MSC service thread 1-3)    ... 25 more
10:45:23,668 ERROR [stderr] (MSC service thread 1-3) Caused by: java.lang.IllegalStateException: Cannot resolve type description for org.jboss.as.test.integration.jpa.transaction.SFSBXPC$$$view3
10:45:23,668 ERROR [stderr] (MSC service thread 1-3)    at net.bytebuddy.pool.TypePool$Resolution$Illegal.resolve(TypePool.java:159)
10:45:23,668 ERROR [stderr] (MSC service thread 1-3)    at net.bytebuddy.pool.TypePool$Default$WithLazyResolution$LazyTypeDescription.delegate(TypePool.java:1407)
10:45:23,668 ERROR [stderr] (MSC service thread 1-3)    at net.bytebuddy.description.type.TypeDescription$AbstractBase$OfSimpleType$WithDelegation.getModifiers(TypeDescription.java:8115)
10:45:23,668 ERROR [stderr] (MSC service thread 1-3)    at net.bytebuddy.dynamic.scaffold.InstrumentedType$Factory$Default$1.represent(InstrumentedType.java:359)
10:45:23,668 ERROR [stderr] (MSC service thread 1-3)    at net.bytebuddy.ByteBuddy.redefine(ByteBuddy.java:731)
10:45:23,668 ERROR [stderr] (MSC service thread 1-3)    at org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.lambda$enhance$0(EnhancerImpl.java:137)
10:45:23,668 ERROR [stderr] (MSC service thread 1-3)    at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.rewrite(ByteBuddyState.java:149)
10:45:23,668 ERROR [stderr] (MSC service thread 1-3)    at org.hibernate.bytecode.enhance.internal.bytebuddy.EnhancerImpl.enhance(EnhancerImpl.java:136)
10:45:23,669 ERROR [stderr] (MSC service thread 1-3)    ... 26 more

{quote}","28/Mar/19 9:33 AM;smarlow;[~tomekadamski] Thanks for volunteering to look at this, at this point, I think its best for the Hibernate team try to solve first ([~gbadner] has been working on it).","28/Mar/19 3:35 PM;gbadner;Test failures will be fixed by https://hibernate.atlassian.net/browse/HHH-13343.","10/Jun/19 7:53 AM;brian.stansberry;Reopening so I can manipulate issue state.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Subsystem namespace versions are out of date in appclient.xml,WFLY-11908,12799089,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,dsteigne,brian.stansberry,25/Mar/19 9:36 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,18/May/19 12:55 PM,16.0.0.Final,,,,,17.0.0.Beta1,17.0.0.Final,,Application Client,,,,,,,,,,,0,downstream_dependency,,,,"The default Datasources namespace version for the other configurations (standalone.xml, domain.xml) is 5, but is set to version 2 in the appclient.xml 

Same problem applies to other subsystems.",,,,,,,,,,,,,JBEAP-16553,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:40.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12302,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04984:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Mixed domain testsuite should remove unneeded expanded dists as it goes,WFLY-12021,12804684,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,brian.stansberry,brian.stansberry,brian.stansberry,26/Apr/19 6:33 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,01/May/19 10:09 PM,,,,,,17.0.0.Alpha1,17.0.0.Final,,Management,Test Suite,,,,,,,,,,0,,,,,"OldVersionCopier unzips the legacy AS zip for the version requested. But there is no subsequent cleanup.

Simplest is to have the method that unzips check for all the other versions besides the one being tested and remove any it finds. The tests execute grouped by version so when work on a new version begins the expanded dist for the previous version is not needed.

That will leave one behind, but that's ok. The problem here is the overall disk utilization during CI jobs and getting this down to just one is ok. And after the last version runs, the CI jobs complete anyway.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z054t0:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error trying to build the Quickstart README.html Files,WFLY-11812,12795749,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,emmartins,mayerw01,mayerw01,06/Mar/19 4:07 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,26/Mar/19 11:29 PM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Quickstarts,,,,,,,,,,,0,,,,,"When executing the command

 

     mvn clean generate-resources -Pdocs

 

Quickstart: app-client - ear  failes:

 

INFO] Quickstart: messaging-clustering ................... SKIPPED

[INFO] ------------------------------------------------------------------------

[INFO] BUILD FAILURE

[INFO] ------------------------------------------------------------------------

[INFO] Total time:  01:07 min

[INFO] Finished at: 2019-03-02T10:59:42+01:00

[INFO] ------------------------------------------------------------------------

[ERROR] Failed to execute goal on project app-client-ear: Could not resolve dependencies for project org.wildfly.quickstarts:app-client-ear:ear:16.0.0.Final: The following artifacts could not be resolved: org.wildfly.quickstarts:app-client-client-simple:jar:16.0.0.Final, org.wildfly.quickstarts:app-client-ejb:jar:16.0.0.Final: Failure to find org.wildfly.quickstarts:app-client-client-simple:jar:16.0.0.Final in https://maven.repository.redhat.com/ga/ was cached in the local repository, resolution will not be reattempted until the update interval of jboss-enterprise-maven-repository has elapsed or updates are forced -> [Help 1]

[ERROR]

[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.

[ERROR] Re-run Maven using the -X switch to enable full debug logging.

 

mvn -v

Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T20:41:47+02:00)

Maven home: /apps/apache-maven-3.6.0

Java version: 11.0.2, vendor: Oracle Corporation, runtime: /usr/java/jdk-11.0.2

Default locale: de_DE, platform encoding: UTF-8

OS name: ""linux"", version: ""4.12.14-lp150.12.48-default"", arch: ""amd64"", family: ""unix""

Either maven build or docs should be fixed. 
Recommended workaround: ""please use ""mvn clean install -Pdocs"".
(see also: https://developer.jboss.org/message/988269?et=watches.email.thread#988269)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-03-22 05:13:11.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z03r50:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"26/Mar/19 11:29 PM;emmartins;README.html files should be built using command ""mvn clean package -Pdocs""","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ClientClusterNodeSelectorTestCase leaks CustomClusterNodeSelector to other tests,WFLY-12127,12808963,,Task,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,rhusar,rhusar,rhusar,24/May/19 11:10 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,28/May/19 5:50 AM,13.0.0.Final,,,,,17.0.0.Final,,,Clustering,Test Suite,,,,,,,,,,0,,,,,"{noformat}
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.824 s <<< FAILURE! - in org.jboss.as.test.clustering.cluster.ejb.remote.ClientRemoteStatelessEJBFailoverTestCase
[ERROR] test(org.jboss.as.test.clustering.cluster.ejb.remote.ClientRemoteStatelessEJBFailoverTestCase) Time elapsed: 5.809 s <<< ERROR!
java.lang.IllegalStateException: EJBCLIENT000076: Configured selector ""org.jboss.as.test.clustering.cluster.ejb.remote.ClientClusterNodeSelectorTestCase$CustomClusterNodeSelector@59532566"" returned unknown node ""node-3""
{noformat}

Introduced in f3577724aabac8f3104b35e696f0c9d16b6797ca",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:37.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12318,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z05sxg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove use of deprecated ServiceBuilder.addAliases(...) within Infinispan subsystem,WFLY-12169,12811060,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,pferraro,pferraro,pferraro,04/Jun/19 5:48 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Jun/19 10:05 PM,17.0.0.Final,,,,,17.0.0.Final,,,Clustering,,,,,,,,,,,0,,,,,"JBoss MSC 1.4.6.Final deprecates ServiceBuilder.addAliases(...).
The Infinispan subsystem currently uses this method to support cache-container aliases.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:34.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z064sc:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
WildFly registers multiple distinct drivers for current MySQL driver jar,WFLY-11352,12779447,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Done,gaol,stephen.fikes,stephen.fikes,14/Nov/18 4:29 PM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,14/Apr/19 2:40 PM,14.0.1.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,JCA,,,,,,,,,,,0,,,,,"When MySQL drivers are deployed as jars (rather than [modules|https://issues.jboss.org/browse/WFLY-3218]), multiple named drivers:

... INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-3) WFLYJCA0005: Deploying non-JDBC-compliant driver class com.mysql.jdbc.Driver (version 5.1)
... INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-3) WFLYJCA0005: Deploying non-JDBC-compliant driver class com.mysql.fabric.jdbc.FabricMySQLDriver (version 5.1)
... INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = mysql-connector-java-5.1.44-bin.jar_com.mysql.jdbc.Driver_5_1
... INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = mysql-connector-java-5.1.44-bin.jar_com.mysql.fabric.jdbc.FabricMySQLDriver_5_1

Consequently, references to the driver by name (such as the below) fail to resolve

{code}
                <datasource jndi-name=""java:jboss/datasources/mysql"" pool-name=""MySQL"" enabled=""true"">
                    ...
                    <driver>mysql-connector-java-5.1.44-bin.jar</driver>
                    ...
                </datasource>
{code}

This issue was [already resolved|https://issues.jboss.org/browse/WFLY-3218] for the case where a module was used to deploy the driver.",,,,,,,,,,,,,,,,,,,,,,,,WFLY-3218,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-01-12 22:34:58.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/11997,https://github.com/wildfly/wildfly/pull/12153,https://github.com/wildfly/wildfly/pull/12160,,,,,,,,,,,,,,0.0,6.0,,,,,,,,,,"1|z01ae8:",9223372036854775807,,0.0,,,,,"# Copy the MySql driver jar (any version later tahn 5.1.29) to {{<JBOSS_HOME>/standalone/deployments}}
# Reference the driver jar by name in a datasource definition",,,,,,,,,,,"14/Nov/18 4:32 PM;stephen.fikes;Workarounds are:

# Run once then use the name reported at startup to reference the driver in the datasource (e.g. {{mysql-connector-java-5.1.44-bin.jar_com.mysql.jdbc.Driver_5_1}})
# Edit the MySQL driver's {{META-INF/services/java.sql.Driver}} file and remove the second entry (i.e. the entry for {{com.mysql.fabric.jdbc.FabricMySQLDriver}})
# Deploy the driver as a module","03/Dec/18 6:43 PM;stephen.fikes;It would be helpful to create the *first* driver just as if there were only one (without adding any suffix to the name) and create the second driver using the current strategy (I think appending _<fqc> to the driver jar name>? In this way, things would work out of the box (without anything unusual needing to be done) for the majority of users and those using the second driver would find it works just as it does now (they'd need to figure out the name and add it). This would represent a behavior change (though, likely a reasonable one) for anyone who has already worked around the issue using the suffixed driver name (the first workaround) instead of using one of the other workarounds mentioned above.

People are starting to use more recent MySQL drivers so problems are likely to become more common moving forward.","12/Jan/19 10:34 PM;gaol;PR: https://github.com/wildfly/wildfly/pull/11997 was fired with consideration of above comment:

* create the first driver just as if there were only one
* create other drivers using current strategy.","20/Mar/19 3:39 PM;jamezp;I'm reopening this as https://github.com/wildfly/wildfly/pull/12160 is still open and we may want that in.","25/Mar/19 5:32 AM;gaol;I have rebased the PR, so update the status","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLI not able to read backslash character correctly,WFLY-11981,12802224,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Rejected,michpetrov,sshriram09,sshriram09,12/Apr/19 3:10 AM,02/May/19 4:35 AM,28/Dec/19 1:29 PM,02/May/19 4:35 AM,14.0.0.Final,,,,,,,,CLI,,,,,,,,,,,0,,,,," The output for CLI read-attribute operation is confusing and not able to read/interpret backslash characters properly.

Whereas standalone.xml include the changes properly 

{code:java}
<subsystem xmlns=""urn:jboss:domain:mail:3.0"">
            <mail-session name=""default"" jndi-name=""java:jboss/mail/Default"">
                <smtp-server outbound-socket-binding-ref=""mail-smtp"" username=""auth\SampleUser""/>
            </mail-session>
........
{code}
",,,,,,,,,,,,,,,,,,,,,,,,JBEAP-16726,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-04-17 12:34:48.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z04qp8:",9223372036854775807,,0.0,,,,,"* Start CLI and execute 

{code:java}
/subsystem=mail/mail-session=default/server=smtp:write-attribute(name=username,value=""auth\\SampleUser"")
{code}

* /subsystem=mail/mail-session=default/server=smtp:read-attribute(name=username)

{code:java}
{
    ""outcome"" => ""success"",
    ""result"" => ""auth\\SampleUser""
}
{code}",,,,,,,,,,,"17/Apr/19 12:34 PM;michpetrov;[~sshriram09] from what I'm seeing this is deliberate, the DMR formatter is set to escape backslashes and double quotes. CLI has no control over this.","02/May/19 4:35 AM;jdenise;That is the way the DMR strings are displayed. We don't plan to make changes to this formatting.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Object, instead of a simple boolean should be returned by stop operation on mod_cluster",WFLY-11135,12773293,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Minor,Rejected,rhusar,jkasik,jkasik,08/Oct/18 6:36 AM,09/Oct/18 12:00 PM,28/Dec/19 1:29 PM,09/Oct/18 8:47 AM,14.0.0.Final,,,,,,,,mod_cluster,,,,,,,,,,,0,,,,,"When calling {{stop}} operation, object should be returned:
{code}
[standalone@127.0.0.1:9990 /] /subsystem=modcluster/proxy=default:stop()
{
    ""outcome"" => ""success"",
    ""result"" => {""session-draining-complete"" => true}
}
{code}

Instead, just boolean is returned:
{code}
[standalone@127.0.0.1:9990 /] /subsystem=modcluster/proxy=default:stop()
{
    ""outcome"" => ""success"",
    ""result"" => true
}
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-08 18:30:07.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,2.0,,,,,,,,,,"1|z00c4g:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"08/Oct/18 6:30 PM;rhusar;Actually, the legacy operation (with a fix for WFLY-11117) outputs the legacy format as expected:

{code}
[standalone@localhost:9990 /] /subsystem=modcluster:stop()
{
    ""outcome"" => ""success"",
    ""response-headers"" => {""warnings"" => [{
        ""warning"" => ""WFLYCTL0449: Operation stop against the resource at address /subsystem=modcluster is deprecated, and it might be removed in future version. See the the output of the read-operation-description operation to learn more about the deprecation."",
        ""level"" => ""WARNING"",
        ""operation"" => {
            ""address"" => [(""subsystem"" => ""modcluster"")],
            ""operation"" => ""stop""
        }
    }]},
    ""result"" => {""session-draining-complete"" => true}
}
{code}

The new format is intentional, the extra wrapping  ""result"" => \{""session-draining-complete"" => ... is not necessary and more inline with other operation results.
","09/Oct/18 8:47 AM;pferraro;Rejecting.  This is a new operation, which has no requirement to conform to the output format of its legacy equivalent, so long as compatibility is preserved (which is the case).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SimpleLoadProviderResourceDefinition - identical code in different branches,WFLY-12238,12815214,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Optional,Done,rhusar,rsvoboda,rsvoboda,25/Jun/19 4:00 AM,14/Oct/19 12:29 PM,28/Dec/19 1:29 PM,11/Jul/19 6:52 AM,,,,,,18.0.0.Beta1,18.0.0.Final,,mod_cluster,,,,,,,,,,,0,,,,,"SimpleLoadProviderResourceDefinition - identical code in different branches

https://github.com/wildfly/wildfly/blob/master/mod_cluster/extension/src/main/java/org/wildfly/extension/mod_cluster/SimpleLoadProviderResourceDefinition.java#L93

{{parent.addChildResource(PATH)}} in both branches of {{ResourceTransformationDescriptionBuilder builder = ModClusterModel.VERSION_6_0_0.requiresTransformation(version) ? parent.addChildResource(PATH) : parent.addChildResource(PATH);}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:29:05.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12410,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06qto:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:29 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
OpenTracing tests are in legacy org.jboss.as package in widlfly-ts-integ-basic,WFLY-11270,12777371,,Bug,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Optional,Done,mjurc,mjurc,mjurc,02/Nov/18 4:28 AM,14/Oct/19 12:28 PM,28/Dec/19 1:29 PM,21/Aug/19 6:57 PM,14.0.0.Final,,,,,18.0.0.Beta1,18.0.0.Final,,Test Suite,,,,,,,,,,,0,,,,,"Currently, all the OpenTracing integration tests are in {{org.jboss.as.test.integration.microprofile.opentracing}} package. They should be moved to {{org.wildfly.test.integration.microprofile.opentracing}} package.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-14 12:28:43.0,,,,,,,,,,,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z00ymg:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"14/Oct/19 12:28 PM;brian.stansberry;Bulk closing issues resolved as Done with Fix Version 18.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"mod_cluster reports ""Starting to drain 1 active sessions from (...) in 0 seconds."" even when it waits indefinitely",WFLY-11154,12773697,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Optional,Done,rhusar,jkasik,jkasik,10/Oct/18 8:43 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,14/May/19 5:14 AM,14.0.0.Final,15.0.0.Beta1,16.0.0.Final,,,17.0.0.Alpha1,17.0.0.Final,,mod_cluster,,,,,,,,,,,0,,,,,"When {{stop}} operation with {{waittime=0}} is called on a mod_cluster node, it wait indefinitely until all sessions time out. However, following line appears in log:
{code}
INFO  [org.jboss.modcluster] (management-handler-thread - 1) MODCLUSTER000046: Starting to drain 1 active sessions from default-host:/karel in 0 seconds.
{code}
This could confuse someone looking into the log -- they would then think,that this operation killed sessions even when it didn't.

Suggestion: Replace this message with more accurate one.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2018-10-10 15:36:44.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12275,,,,,,,,,,,,,,,,0.0,3.0,,,,,,,,,,"1|z00efc:",9223372036854775807,,0.0,,,,,,,,,,,,jkasik,,,,"10/Oct/18 3:36 PM;rhusar;This is logged with the mod_cluster core logger, opened MODCLUSTER-663.","15/Oct/18 5:26 AM;rhusar;The issue will be resolved with the component upgrade, WFLY-11159.","02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove redundant subString endIndex .length() calls,WFLY-12152,12810413,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Optional,Done,brian.stansberry,williamcollishaw,williamcollishaw,01/Jun/19 11:04 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Jun/19 6:15 AM,,,,,,17.0.0.Final,,,,,,,,,,,,,,0,,,,,"Remove all instances of redundant .length() calls in the String substring calls.
Both the following samples produce the same output:
{code:java}
str2 = str1.substring(beginIndex, str1.length());
str2 = str1.substring(beginIndex);
{code}
This minor enhancement removes unnecessary String length() calls.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:49.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12334,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z0612s:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace redundant StringBuilder append String.subString with append CharSequence,WFLY-12153,12810414,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Optional,Done,brian.stansberry,williamcollishaw,williamcollishaw,01/Jun/19 11:20 AM,02/Oct/19 6:37 PM,28/Dec/19 1:29 PM,04/Jun/19 6:15 AM,,,,,,17.0.0.Final,,,,,,,,,,,,,,0,,,,,"Replace all instances of redundant StringBuilder append String.subString with append CharSequence 
Both the following samples produce the same output:

{code:java}
buffer.append(str.substring(startIndex, endIndex));
buffer.append(str, startIndex, endIndex);
{code}


This minor enhancement removes an intermediate String construction during append

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:37:32.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12335,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z06130:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:37 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prefer HTTPS over plain-text HTTP in default welcome-content,WFLY-11993,12802728,,Enhancement,Closed,WFLY,WildFly,software,brian.stansberry,"<h3>WildFly Application Server</h3>
For more information about the WildFly project, please see <a href=""http://wildfly.org/about/"">the project ""About"" page</a>.",http://wildfly.org,Trivial,Done,brian.stansberry,jstourac,jstourac,15/Apr/19 12:55 PM,02/Oct/19 6:38 PM,28/Dec/19 1:29 PM,16/Apr/19 7:51 AM,16.0.0.Final,,,,,17.0.0.Alpha1,17.0.0.Final,,Server,Web (Undertow),,,,,,,,,,0,,,,,We probably want to prefer HTTPS over simple HTTP when redirecting users to external links or resources in our default welcome-content stuff.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2019-10-02 18:38:01.0,,,,,,,,,,https://github.com/wildfly/wildfly/pull/12229,,,,,,,,,,,,,,,,0.0,1.0,,,,,,,,,,"1|z04tlo:",9223372036854775807,,0.0,,,,,,,,,,,,,,,,"02/Oct/19 6:38 PM;brian.stansberry;Bulk closing issues resolved as done with Fix Version 17.0.0.Final.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
